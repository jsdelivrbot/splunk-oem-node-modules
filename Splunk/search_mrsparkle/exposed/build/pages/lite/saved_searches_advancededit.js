webpackJsonp([62],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("routers/SavedSearchesAdvancededit"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(SavedSearchesAdvancededitRouter,router_utils){new SavedSearchesAdvancededitRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/SavedSearchesAdvancededit":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("collections/services/authentication/Users"),__webpack_require__("models/services/saved/Search"),__webpack_require__("models/Base"),__webpack_require__("models/classicurl"),__webpack_require__("views/saved_searches_advancededit/Master"),__webpack_require__("routers/Base"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,UsersCollection,SearchModel,SplunkModel,classicurlModel,EditView,BaseRouter,route,splunkUtil,splunkd_utils){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.fetchAppLocals=!0,this.enableAppBar=!1,this.model.editModel=new SearchModel,this.model.state=new SplunkModel,this.queryOptions={},this.paramList=["ns","pwnr","search","count"],this.backToListUrl=""},startListening:function(){this.listenTo(this.model.state,"BackToList",function(){this.backToListUrl&&(window.location.href=this.backToListUrl)})},getUrlParaArray:function(){var options={},paraArray=[this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),[this.model.application.get("page"),"searches"]];return this.paramList.forEach(function(param){classicurlModel.get(param)&&(this.queryOptions[param]=classicurlModel.get(param))},this),_.isEmpty(this.queryOptions)||(options={data:this.queryOptions}),_.isEmpty(options)||paraArray.push(options),paraArray},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),classicurlModel.fetch({success:function(){var editModelDeferred=$.Deferred(),idAttribute=this.model.editModel.idAttribute;if(this.backToListUrl=route.manager.apply(void 0,this.getUrlParaArray()),this.model.editModel.set(idAttribute,classicurlModel.get("s")),this.model.editModel.get(idAttribute))this.model.editModel.fetch({success:function(model,response){editModelDeferred.resolve()}.bind(this),error:function(model,response){editModelDeferred.resolve()}});else{var noSearchIdError=splunkd_utils.createSplunkDMessage(splunkd_utils.FATAL,_("No search was specified.").t());this.model.editModel.trigger("error",this.model.editModel,noSearchIdError),editModelDeferred.resolve()}$.when(this.deferreds.pageViewRendered,editModelDeferred).then(function(){this.editView=new EditView({model:{editModel:this.model.editModel,state:this.model.state},backToListUrl:this.backToListUrl}),this.startListening(),this.setPageTitle(this.model.editModel.entry.get("name")||_("Saved Search").t()),this.pageView.$(".main-section-body").html(this.editView.render().el),$(".preload").replaceWith(this.pageView.el)}.bind(this))}.bind(this)})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/saved_searches_advancededit/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/saved_searches_advancededit/ButtonHeader"),__webpack_require__("views/saved_searches_advancededit/Settings"),__webpack_require__("views/shared/delegates/Dock"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("util/splunkd_utils"),__webpack_require__("views/saved_searches_advancededit/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,module,Base,FlashMessagesView,FlashMessagesLegacyView,SearchInput,ButtonHeader,SettingsView,Dock,FlashMessagesCollection,splunkd_utils,css){return Base.extend({moduleId:module.id,initialize:function(){if(Base.prototype.initialize.apply(this,arguments),this.errorTypes=[splunkd_utils.FATAL,splunkd_utils.ERROR,splunkd_utils.NOT_FOUND],this.isError=splunkd_utils.messagesContainsOneOfTypes(this.model.editModel.error.get("messages"),this.errorTypes),this.children.flashMessage=new FlashMessagesView({model:this.model.editModel}),!this.isError){var editable=this.model.editModel.entry.acl.canWrite();this.children.searchInput=new SearchInput({model:this.model.state,modelAttribute:"filter",canClear:!0,style:"search",placeholder:_("filter").t(),updateOnKeyUp:!0}),this.children.settings=new SettingsView({model:{state:this.model.state,editModel:this.model.editModel},editable:editable}),this.children.buttonHeader=new ButtonHeader({model:{state:this.model.state,editModel:this.model.editModel},editable:editable}),this.children.noAttributesMessage=new FlashMessagesLegacyView({collection:new FlashMessagesCollection([{type:"error",html:_("No attributes found.").t()}])})}this.activate()},startListening:function(){this.listenTo(this.model.state,"showMessage",function(flag){this.children.noAttributesMessage&&this.children.noAttributesMessage.$el[flag?"show":"hide"]()})},render:function(){this.$el.html(this.compiledTemplate({name:this.model.editModel.entry.get("name"),url:this.options.backToListUrl}));var $header=this.$(".section-header"),$control=this.$(".control-wrapper"),$editForm=this.$(".edit-form-wrapper");return this.isError?(this.children.flashMessage.render().appendTo($header),$editForm.hide()):(this.children.buttonHeader.render().appendTo($control),this.children.searchInput.render().appendTo($control),this.children.flashMessage.render().appendTo($control),this.children.noAttributesMessage.render().appendTo($editForm),this.children.settings.render().appendTo($editForm)),setTimeout(this.bindScrolltoWindow.bind(this),0),this},bindScrolltoWindow:function(){var $header=this.$(".section-header"),offset=0,titleHeight=parseInt($header.find(".section-title").css("height"),10),breadcrumbHeight=parseInt($header.find(".breadcrumb").css("height"),10),headerTopPadding=parseInt($header.css("padding-top"),10);offset=headerTopPadding+titleHeight+breadcrumbHeight,this.children.dock=new Dock({el:this.el,offset:-offset,affix:".control-wrapper",affixTopClassName:"fix-position"})},template:'\t            <div class="section-padded section-header"> \t                <% if(name) { %> \t                    <h2 class="section-title"><%- _("Advanced Edit").t() %>: <%- name %></h2> \t                    <div class="breadcrumb"><a href="<%- url%>">Searches, reports, and alerts</a> Â» <%- name%></div> \t                    <div class="control-wrapper clearfix"></div> \t                <% } %> \t            </div>\t            <div class="edit-form-wrapper"> \t            </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/saved_searches_advancededit/ButtonHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,module,Base){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments)},events:{"click .btn.save-button":function(e){e.preventDefault(),this.options.editable&&this.model.editModel.save({},{success:function(){this.model.state.trigger("BackToList")}.bind(this)})},"click .btn.cancel-button":function(e){e.preventDefault(),this.model.state.trigger("BackToList")}},render:function(){return this.$el.html(this.compiledTemplate({editable:this.options.editable})),this},template:'\t                <div class="header-buttons">\t                    <a href="#" class="btn btn-secondary cancel-button"><%- _("Cancel").t() %></a>\t                    <% if (editable) { %>\t                        <a href="#" class="btn btn-primary save-button"><%- _("Save").t() %></a>\t                    <% } %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/saved_searches_advancededit/Settings":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,ControlGroup,generalUtils){return BaseView.extend({moduleId:module.id,className:"controls-placeholder form form-horizontal",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.options.editable?this.whiteList=this.model.editModel.filterInputToSaveableFields(this.model.editModel.entry.content.attributes):this.whiteList={},this.activate()},startListening:function(){this.listenTo(this.model.state,"change:filter",this.debouncedRender)},createSetting:function(attribute,enabled){if(enabled)return new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:attribute,model:this.model.editModel.entry.content,canClear:!0},label:attribute});var value=this.model.editModel.entry.content.get(attribute);return new ControlGroup({controlType:"Label",controlOptions:{defaultValue:void 0==value?"-":value},label:attribute})},isEditable:function(field){return field in this.whiteList},render:function(){var patt=generalUtils.generateFilterRegex((this.model.state.get("filter")||"").trim()),noAttributesFlag=!0;return _(this.model.editModel.entry.content.keys()).each(function(key){var value=this.model.editModel.entry.content.get(key);_(this.children).has(key)||(this.children[key]=this.createSetting(key,this.isEditable(key)),this.children[key].render().appendTo(this.$el),this.children[key].hide()),patt.test(key)||patt.test(value)?(this.children[key].show(),noAttributesFlag=!1):this.children[key].hide()},this),this.model.state.trigger("showMessage",noAttributesFlag),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/saved_searches_advancededit/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1127);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1127:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".savedsearchesadvancededit .section-header{min-height:102px;padding-bottom:0}.savedsearchesadvancededit .section-header .breadcrumb{margin-top:5px;font-size:13px}.savedsearchesadvancededit .control-wrapper{width:100%;padding-top:15px}.savedsearchesadvancededit .control-wrapper .savedsearchesadvancededit-buttonheader{position:absolute;right:20px}.savedsearchesadvancededit .control-wrapper form{margin-bottom:0;display:inline-block}.savedsearchesadvancededit .control-wrapper .alert{margin-bottom:0}.savedsearchesadvancededit .control-wrapper .header-buttons a{margin-right:10px}.savedsearchesadvancededit .control-wrapper .shared-controls-textcontrol{display:inline}.savedsearchesadvancededit .control-wrapper.fix-position{position:fixed;top:0;bottom:inherit;min-height:41px;margin-left:-20px;padding:15px 0 0 20px;border-bottom:1px solid #ccc;z-index:1;background-color:#f3f3f3}.savedsearchesadvancededit .control-wrapper.fix-position .savedsearchesadvancededit-buttonheader{right:40px}.savedsearchesadvancededit .edit-form-wrapper{min-height:393px;background-color:#fff;border-top:1px solid #ccc;padding-bottom:50px}.savedsearchesadvancededit .edit-form-wrapper .alerts{padding:20px}.savedsearchesadvancededit .edit-form-wrapper .controls-placeholder.form-horizontal{margin-top:20px}.savedsearchesadvancededit .edit-form-wrapper .controls-placeholder.form-horizontal .shared-controls-controlgroup .control-label{width:40%;margin-right:30px}.savedsearchesadvancededit .edit-form-wrapper .controls-placeholder.form-horizontal .shared-controls-controlgroup .controls{margin-left:40%;width:465px}.savedsearchesadvancededit .edit-form-wrapper .controls-placeholder.form-horizontal .shared-controls-controlgroup .controls input,.savedsearchesadvancededit .edit-form-wrapper .controls-placeholder.form-horizontal .shared-controls-controlgroup .controls span.input-label{width:382px}.savedsearchesadvancededit .edit-form-wrapper .controls-placeholder.form-horizontal .shared-controls-controlgroup .controls .shared-controls-textcontrol .control-clear{right:25px}",""])}});