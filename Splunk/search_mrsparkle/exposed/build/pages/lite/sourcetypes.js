webpackJsonp([70],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("routers/Sourcetypes"),__webpack_require__("models/indexes/cloud/Index"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,SourcetypesRouter,IndexModel,router_utils){var createRouter=function(isSingleInstanceCloud){new SourcetypesRouter({isSingleInstanceCloud:isSingleInstanceCloud});try{router_utils.start_backbone_history()}catch(e){window.location="./"}};(new IndexModel).fetch().then(function(){createRouter(!1)}).fail(function(error){createRouter(!0)})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Sourcetypes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("routers/Base"),__webpack_require__("views/sourcetypes/PageController")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseRouter,PageController){return BaseRouter.extend({initialize:function(options){BaseRouter.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.fetchAppLocals=!0,this.fetchServerInfo=!0,this.isSingleInstanceCloud=!!_.isObject(options)&&!!options.isSingleInstanceCloud,this.model.controller=new Backbone.Model},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),this.setPageTitle(_("Source Types").t()),$.when(this.deferreds.pageViewRendered).done(_(function(){$(".preload").replaceWith(this.pageView.el),this.pageController&&this.pageController.detach(),this.pageController=new PageController({model:this.model,collection:this.collection,isSingleInstanceCloud:this.isSingleInstanceCloud}),this.pageView.$(".main-section-body").append(this.pageController.render().el)}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/sourcetypes/PageController":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("controllers/BaseManagerPageController"),__webpack_require__("collections/knowledgeobjects/Sourcetypes"),__webpack_require__("models/knowledgeobjects/SourcetypeFetchData"),__webpack_require__("models/knowledgeobjects/Sourcetype"),__webpack_require__("views/sourcetypes/EditDialog"),__webpack_require__("views/sourcetypes/GridRow"),__webpack_require__("views/sourcetypes/Filters"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/shared/pcss/basemanager.pcss"),__webpack_require__("views/sourcetypes/PageController.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseController,SourcetypesCollection,EAIFilterFetchData,SourcetypeModel,AddEditDialog,GridRow,Filters,splunkUtils,cssShared,css){return BaseController.extend({moduleId:module.id,initialize:function(options){this.collection=this.collection||{},this.model=this.model||{},this.deferreds=this.deferreds||{},this.model.controller=new Backbone.Model,this.model.metadata=new EAIFilterFetchData({sortKey:"name",sortDirection:"asc",count:"20",offset:0,ownerSearch:"*",visible:!1,pulldown:1}),this.collection.sourcetypesCategories=new SourcetypesCollection,this.collection.sourcetypesCategories.fetchData.set({count:1e3}),this.deferreds.sourcetypesCategories=this.collection.sourcetypesCategories.fetch({search:"pulldown_type=1",app:"-",owner:"-"}),options.entitiesPlural=_("Source Types").t(),options.entitySingular=_("Source Type").t(),options.header={pageDesc:_("Source types are used to assign configurations like timestamp recognition, event breaking, and field extractions to data indexed by Splunk. ").t(),learnMoreLink:"learnmore.adddata.sourcetypes"},options.model=this.model,options.collection=this.collection,options.deferreds=[this.deferreds.sourcetypesCategories],options.entitiesCollectionClass=SourcetypesCollection,options.entityModelClass=SourcetypeModel,options.customViews={AddEditDialog:AddEditDialog,GridRow:GridRow,Filters:Filters},options.grid={showOwnerFilter:!1,showSharingColumn:!1,showStatusColumn:!1},this.model.serverInfo&&this.model.serverInfo.isCloud()&&!options.isSingleInstanceCloud&&(options.showRollingRestartWarning=!0),BaseController.prototype.initialize.call(this,options)},entityDeleteConfirmation:function(entityToDelete){return splunkUtils.sprintf(_("Deleting a source type can result in data being indexed incorrectly. Configurations that the source type used, such as field extractions and index-time filtering, will be irretrievably lost.  Once you perform this action, it cannot be undone.<br><br>Are you sure you want to delete source type %s?").t(),"<em>"+_.escape(entityToDelete.entry.get("name"))+"</em>")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/knowledgeobjects/SourcetypeFetchData":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/shared/EAIFilterFetchData")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,EAIFilterFetchData){return EAIFilterFetchData.extend({getCalculatedSearch:function(){var searchString=EAIFilterFetchData.prototype.getCalculatedSearch.apply(this,arguments);this.get("pulldown")&&(_.isEmpty(searchString)||(searchString+=" AND "),searchString+="pulldown_type=1");var category=this.get("category");category&&(searchString+=' AND category="'+category+'"');var searchFilter=this.get("searchFilter");return _.isEmpty(searchFilter)||(searchString+=" AND name=*"+searchFilter+"*",searchString+=" OR description=*"+searchFilter+"*"),searchString},toJSON:function(options){var json=EAIFilterFetchData.prototype.toJSON.apply(this,arguments);return delete json.pulldown,delete json.category,delete json.searchFilter,json}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/sourcetypes/EditDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/datapreview/settings/SettingsPanels")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,FlashMessages,Modal,ControlGroup,SettingsPanels){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" edit-dialog-modal modal-wide",events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){var saveOptions={};if(this.model.entity.isNew()||this.options.isClone){var app=this.canUseApps?this.model.entity.entry.acl.get("app"):"search";saveOptions.data={app:app,owner:"nobody"},this.model.entity.entry.content.set("pulldown_type",1)}_.isUndefined(this.model.entity.entry.get("name"))&&this.model.entity.entry.set({name:""},{silent:!0}),this.model.entity.set("name",this.model.entity.entry.get("name")),this.options.isClone&&this.model.entity.set("id",void 0);var saveDfd=this.model.entity.save({},saveOptions);saveDfd&&saveDfd.done(function(){this.trigger("entitySaved",this.model.entity.get("name")),this.hide()}.bind(this)).fail(function(){this.$el.find(".modal-body").animate({scrollTop:0},"fast")}.bind(this))}}),initialize:function(options){Modal.prototype.initialize.apply(this,arguments),options=options||{},_(options).defaults({isNew:!0}),this.renderDfd=new $.Deferred,this.deferreds=options.deferreds,this.canUseApps=this.model.user.canUseApps(),this.children.flashMessagesView=new FlashMessages({model:this.model.entity,helperOptions:{removeServerPrefix:!0}}),this.children.entityName=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"name",model:this.model.entity.entry},controlClass:"controls-block",label:_("Name").t()}),this.children.entityDesc=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"description",model:this.model.entity.entry.content,placeholder:_("optional").t()},controlClass:"controls-block",label:_("Description").t(),required:!1}),this.children.appSelect=new ControlGroup({label:_("Destination app").t(),controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{model:this.model.entity.entry.acl,modelAttribute:"app",items:[],className:"fieldAppSelect",toggleClassName:"btn",popdownOptions:{detachDialog:!0},save:!1}}),this.children.categorySelect=new ControlGroup({label:_("Category").t(),controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{model:this.model.entity.entry.content,modelAttribute:"category",items:[],className:"fieldCategorySelect",toggleClassName:"btn",popdownOptions:{detachDialog:!0},save:!1}}),this.children.indexedExtractions=new ControlGroup({label:_("Indexed Extractions").t(),controlType:"SyntheticSelect",controlClass:"controls-block",tooltip:_("Use this setting only for structured data files whose type matches an entry in this list. Choose 'none' for other types of data.").t(),controlOptions:{model:this.model.entity.entry.content,modelAttribute:"INDEXED_EXTRACTIONS",items:[{value:"",label:"none"},{value:"json"},{value:"csv"},{value:"tsv"},{value:"psv"},{value:"w3c"}],className:"fieldIndexedExtractionsSelect",toggleClassName:"btn",popdownOptions:{attachDialogTo:"body"},save:!1}}),this.children.settingsPanels=new SettingsPanels({collection:this.collection,model:{sourcetypeModel:this.model.entity,application:this.model.application},enableAccordion:!1,advancedToggle:!0,updateSilent:!1}),$.when(this.deferreds.entity).done(function(){this.setIndexedExtractions(),this.setEnabledState()}.bind(this)),this.canUseApps&&$.when(this.deferreds.entity,this.deferreds.appLocals).done(function(){this.setAppItems()}.bind(this)),$.when(this.deferreds.entity,this.deferreds.entities,this.deferreds.sourcetypesCategories).done(function(){this.setCategoryItems()}.bind(this))},setEnabledState:function(){this.renderDfd.done(function(){setTimeout(function(){this.model.entity.isNew()||this.options.isClone?(this.children.appSelect.childList[0].enable(),this.children.entityName.childList[0].enable()):(this.children.appSelect.childList[0].disable(),this.children.entityName.childList[0].disable())}.bind(this),0)}.bind(this))},setIndexedExtractions:function(){this.children.indexedExtractions.childList[0].setValue(this.model.entity.entry.content.get("INDEXED_EXTRACTIONS"))},setCategoryItems:function(){var items=this.collection.sourcetypesCategories.getCategories();this.children.categorySelect.childList[0].setItems(items),this.children.categorySelect.childList[0].setValue(this.model.entity.entry.content.get("category")||_("Custom").t())},setAppItems:function(){var items=this.buildAppItems();this.children.appSelect.childList[0].setItems(items),this.children.appSelect.childList[0].setValue(this.model.entity.entry.acl.get("app")||"search")},buildAppItems:function(){var items=[];return this.collection.appLocals.each(function(app){items.push({value:app.entry.get("name"),label:app.entry.content.get("label")})}),items.push({value:"system",label:"system"}),_.sortBy(items,function(item){return(item.label||"").toLowerCase()})},render:function(){this.$el.html(Modal.TEMPLATE);var title=this.options.isNew||this.options.isClone?_("Create Source Type").t():_("Edit Source Type: ").t()+" "+_.escape(this.model.entity.entry.get("name"));return this.$(Modal.HEADER_TITLE_SELECTOR).html(title),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).html(_(this.dialogFormBodyTemplate).template({})),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-view-placeholder")),(this.options.isNew||this.options.isClone)&&this.children.entityName.render().appendTo(this.$(".name-placeholder")),this.children.entityDesc.render().appendTo(this.$(".desc-placeholder")),this.canUseApps&&this.children.appSelect.render().appendTo(this.$(".appselect-placeholder")),this.children.categorySelect.render().appendTo(this.$(".category-placeholder")),this.children.indexedExtractions.render().appendTo(this.$(".extractions-placeholder")),this.children.settingsPanels.render().appendTo(this.$(".settings-placeholder")),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this.$(".accordion-group").addClass("active").find(".accordion-inner").show(),this.$(".icon-accordion-toggle").addClass("icon-triangle-down-small"),this.$(".accordion-group").last().find(".accordion-inner").hide(),this.$(".icon-accordion-toggle").last().removeClass("icon-triangle-down-small"),this.$(".copyToClipboardDialog textarea").removeProp("readonly"),this.renderDfd.resolve(),this},dialogFormBodyTemplate:'\t                <div class="flash-messages-view-placeholder"></div>\t                <div class="name-placeholder"></div>\t                <div class="desc-placeholder"></div>\t                <div class="appselect-placeholder"></div>\t                <div class="category-placeholder"></div>\t                <div class="extractions-placeholder"></div>\t                <div class="settings-placeholder"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/sourcetypes/GridRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"list-item",events:{"click .delete-action":function(e){this.model.controller.trigger("deleteEntity",this.model.entity),e.preventDefault()},"click .clone-action":function(e){e.preventDefault(),this.model.controller.trigger("cloneEntity",this.model.entity)},"click .edit-action":function(e){this.model.controller.trigger("editEntity",this.model.entity),e.preventDefault()},"click .entity-edit-link":function(e){this.model.controller.trigger("editEntity",this.model.entity),e.preventDefault()}},initialize:function(options){BaseView.prototype.initialize.call(this,options)},render:function(){var html=this.compiledTemplate({model:this.model.entity,canDeleteSourcetype:this.model.entity.entry.links.has("remove"),canUseApps:this.model.user.canUseApps(),description:this.model.entity.entry.content.get("description"),isCloud:this.model.serverInfo.isCloud()});return this.$el.html(html),this},template:'\t            <td class="cell-name">\t                <a href="#" class="model-title entity-edit-link"><%- model.entry.get("name") %></a>\t                <div class="model-description"><%- _(description||"").t() %></div>\t            </td>\t            <td class="cell-actions">\t                <a href="#" class="entity-action edit-action"><%= _("Edit").t() %></a>\t                <a href="#" class="entity-action clone-action"><%= _("Clone").t() %></a>\t                <% if(canDeleteSourcetype) { %>\t                <a href="#" class="entity-action delete-action"><%= _("Delete").t() %></a>\t                <% } %>\t            </td>\t            \t            <td class="cell-category"><%- _(model.entry.content.get("category")||"").t() %></td>\t            <% if(canUseApps) { %>\t            <td class="cell-app"><%- model.entry.acl.get("app") %></td>\t            <% } %>\t            '},{columns:[{id:"name",title:_("Name").t(),sorts:!0},{id:"category",title:_("Category").t(),sorts:!0},{id:"app",title:_("App").t(),sorts:!0,visible:function(){return this.model.user.canUseApps()}}]})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/sourcetypes/Filters":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,SyntheticSelectControl,SyntheticCheckboxControl){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.categorySelect=new SyntheticSelectControl({label:_("Category").t()+": ",model:this.model.metadata,modelAttribute:"category",toggleClassName:"btn-pill",menuWidth:"wide",items:[],popdownOptions:{detachDialog:!0}}),this.children.pulldownToggle=new SyntheticCheckboxControl({label:_("Show only popular").t(),model:this.model.metadata,modelAttribute:"pulldown",additionalClassNames:"pulldown-toggle"}),this.setCategoryItems()},setCategoryItems:function(){var items=[[{label:"All",value:""}],this.collection.sourcetypesCategories.getCategories()];this.children.categorySelect.setItems(items)},render:function(){return this.children.pulldownToggle.render().appendTo(this.$el),this.children.categorySelect.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/sourcetypes/PageController.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1140);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1140:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".accordion-toggle{background:none!important}.accordion .accordion-group:first-child .accordion-toggle{border-top:1px solid #ccc}.accordion .accordion-heading .accordion-toggle{font-size:12px;font-weight:700}.accordion .accordion-inner{padding:0;padding-top:15px}.copyToClipboardDialog textarea{width:85%;height:200px}.datapreview-settings-advanced{margin-left:20px}.btn.applySettings,.copyToClipboard{display:none}.copyToClipboardDialog{top:110px!important}.copyToClipboardDialog textarea{cursor:default}.pulldown-toggle{display:inline-block;vertical-align:middle;padding-bottom:4px;padding-left:10px}",""])},"models/indexes/cloud/Index":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("models/services/data/Indexes"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseModel,BaseIndexesModel,splunkdutils){var Index=BaseIndexesModel.extend({url:"cluster_blaster_indexes/sh_indexes_manager",initialize:function(){BaseIndexesModel.prototype.initialize.apply(this,arguments)},_onerror:function(model,response,options){var text,message;response&&response.hasOwnProperty("fetchXhr")&&response.fetchXhr&&response.fetchXhr.hasOwnProperty("status")&&404==response.fetchXhr.status&&response.fetchXhr.hasOwnProperty("responseJSON")&&"object"==typeof response.fetchXhr.responseJSON&&response.fetchXhr.responseJSON.messages.length&&response.fetchXhr.responseJSON.messages[0].hasOwnProperty("text")&&(text=response.fetchXhr.responseJSON.messages[0].text,message=splunkdutils.createMessageObject("error",text)),message?(this.trigger("serverValidated",!1,this,[message]),model.error.set("message",message)):BaseModel.prototype._onerror.call(this,model,response,options)}});return Index}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});