webpackJsonp([17],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("routers/Bulkreassign"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,ReassignRouter,router_utils){new ReassignRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},570:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".modal-with-static-warning .form-horizontal .control-label{width:100px}.modal-with-static-warning .form-horizontal .controls{margin-left:120px}.modal-with-static-warning .security-warning{padding-left:15px}.bulk-progress{margin-top:3em}",""])},"views/bulkreassign/PageController":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("controllers/BaseManagerPageController"),__webpack_require__("collections/services/admin/Directories"),__webpack_require__("models/services/admin/Directory"),__webpack_require__("models/services/admin/DirectoryFetchData"),__webpack_require__("views/bulkreassign/GridRow"),__webpack_require__("views/bulkreassign/CustomFilters"),__webpack_require__("views/bulkreassign/ReassignDialog"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/shared/pcss/basemanager.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseController,DirectoriesCollection,DirectoryModel,DirectoryFetchData,GridRow,CustomFiltersView,ReassignDialog,splunk_utils,cssShared){return BaseController.extend({moduleId:module.id,initialize:function(options){this.collection=this.collection||{},this.model=this.model||{},this.deferreds=this.deferreds||{},this.learnMoreTag="learnmore.reassign.object",this.model.controller=new Backbone.Model,this.model.metadata=new DirectoryFetchData(this.getFetchData()),this.collection.entities=new DirectoriesCollection(null,{fetchData:this.model.metadata}),this.deferreds.entities=this.collection.entities.fetch(),options.hideNewButton=!0,options.entitiesPlural=_("Knowledge Objects").t(),options.entitySingular=_("Knowledge Object").t(),options.header={pageTitle:_("Reassign Knowledge Objects").t(),pageDesc:_("Select knowledge objects and reassign them to another user. ").t(),learnMoreLink:this.learnMoreTag},options.model=this.model,options.collection=this.collection,options.entitiesCollectionClass=DirectoriesCollection,options.entityModelClass=DirectoryModel,options.entityFetchDataClass=DirectoryFetchData,options.customViews={GridRow:GridRow,Filters:CustomFiltersView},options.grid={showOwnerFilter:!0,appFilterModelAttribute:"app",showSharingColumn:!1,showStatusColumn:!0,statusColumnSortKey:"disabled",showAllApps:!0},options.bulkedit={enable:!0,actions:[{label:_("Reassign").t(),fires:"reassignSelected"}]},BaseController.prototype.initialize.call(this,options),this.listenTo(this.model.metadata,"change",this.saveToUrl),this.listenTo(this.model.controller,"bulkReassignOwner",this.onBulkReassignOwner),this.listenTo(this.model.controller,"reassignEntity",this.onReassignSingleEntity)},saveToUrl:function(model,options){var params={};params.app=model.get("app"),params.count=model.get("count"),params.offset=model.get("offset"),params.sortKey=model.get("sortKey"),params.sortDirection=model.get("sortDirection"),params.orphaned=splunk_utils.normalizeBoolean(model.get("orphaned")),params.configType=model.get("configType"),params.appOnly=splunk_utils.normalizeBoolean(model.get("appOnly")),params.owner=model.get("ownerSearch"),params.search=model.get("nameFilter"),this.model.classicurl.save(params,{replaceState:!0})},getFetchData:function(){var defaults={sort_mode:"natural",sortKey:void 0,sortDirection:void 0,app:this.model.application.get("app"),owner:"-",ownerSearch:void 0,orphaned:!1,configType:"All",appOnly:!1,count:10,offset:0},urlOwner=this.model.classicurl.get("owner"),classicurlData={sortKey:this.model.classicurl.get("sortKey"),sortDirection:this.model.classicurl.get("sortDirection"),count:this.model.classicurl.get("count"),offset:this.model.classicurl.get("offset"),app:this.model.classicurl.get("app"),orphaned:splunk_utils.normalizeBoolean(this.model.classicurl.get("orphaned")),ownerSearch:"-"===urlOwner?void 0:urlOwner,nameFilter:this.model.classicurl.get("search"),configType:this.model.classicurl.get("configType"),appOnly:splunk_utils.normalizeBoolean(this.model.classicurl.get("appOnly"))};return $.extend(!0,{},defaults,classicurlData)},onReassignSingleEntity:function(entity){var collection=new DirectoriesCollection;collection.add(entity),this.onReassignSelectedClick("reassignSingleEntity",collection,"singleEntity")},onReassignSelectedClick:function(action,collection,mode){mode=mode||"multipleEntities",collection=collection||this.collection.selectedEntities,this.children.reassignDialog&&this.stopListening(this.children.reassignDialog),this.children.reassignDialog=new ReassignDialog({model:this.model,collection:{selectedEntities:collection,users:this.collection.users,usersSearch:this.collection.usersSearch.clone()},mode:mode,learnMoreTag:this.learnMoreTag}),$("body").append(this.children.reassignDialog.render().el),this.children.reassignDialog.show(),this.listenToOnce(this.children.reassignDialog,"resetBulkSelection",_.bind(function(){this.resetBulkSelection()},this))},onBulkReassignOwner:function(newOwner,collection,mode){return mode=mode||"multipleEntities",collection.trigger("bulkreassign:start"),collection.reassign(newOwner).done(_.bind(function(){collection.trigger("bulkreassign:complete"),"singleEntity"===mode&&(this.children.reassignDialog.hide(),this.children.reassignDialog.remove())},this)).fail(_.bind(function(){collection.trigger("bulkreassign:complete")},this)).always(_.bind(function(){this.fetchEntitiesCollection()},this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/admin/DirectoryFetchData":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/shared/EAIFilterFetchData")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,splunk_utils,BaseFetchData){return BaseFetchData.extend({getCalculatedSearch:function(){var appOnly=this.get("appOnly"),app=this.get("app");"-"!==app&&appOnly===!0?this.set("appSearch",app,{silent:!0}):this.unset("appSearch",{silent:!0});var searchString=BaseFetchData.prototype.getCalculatedSearch.apply(this,arguments),isOrphaned=splunk_utils.normalizeBoolean(this.get("orphaned"));isOrphaned===!0&&(_.isEmpty(searchString)||(searchString+=" AND "),searchString+="(eai:orphaned="+ +isOrphaned+")");var configType=this.get("configType");return _.isEmpty(configType)||"All"===configType||(_.isEmpty(searchString)||(searchString+=" AND "),searchString+="(eai:type="+configType+")"),searchString},toJSON:function(){var json=BaseFetchData.prototype.toJSON.apply(this,arguments);return""===json.search&&delete json.search,delete json.appOnly,delete json.orphaned,delete json.configType,json}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/admin/Directories":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/services/admin/Directory"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,DirectoryModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"admin/directory",model:DirectoryModel,initialize:function(models,options){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)},whenAll:function(promises){var $bulkPromise=$.Deferred(),total=promises.length,pending=total,resolved=0,promiseSuccess=function(){resolved++,0===--pending&&(resolved===total?$bulkPromise.resolve():$bulkPromise.reject())},promiseFailure=function(error){0===--pending&&$bulkPromise.reject()};return _.each(promises,function(p,i){p.done(promiseSuccess).fail(promiseFailure)}),$bulkPromise},reassign:function(newOwner){if(!_.isString(newOwner))throw new Error("newOwner needs to be a string value");var executeOnEachModel=function(model){return model.reassign(newOwner)};return this.whenAll(this.map(executeOnEachModel))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/admin/Directory":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/EAIBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,EAIBaseModel){return EAIBaseModel.extend({url:"admin/directory",sharingLabels:{user:_("Private").t(),app:_("App").t(),global:_("Global").t(),system:_("Global").t()},initialize:function(options){EAIBaseModel.prototype.initialize.apply(this,arguments)},getName:function(){return this.entry.get("name")||""},getType:function(){return this.entry.content.get("eai:type")||""},getOwner:function(){return this.entry.acl.get("owner")||""},getApp:function(){return this.entry.acl.get("app")||""},getSharing:function(){return this.entry.acl.get("sharing")||""},getSharingLabel:function(){return this.sharingLabels[this.getSharing()]||""},reassign:function(newOwner){if(!_.isString(newOwner))throw new Error("newOwner needs to be a string value");var data={};return data.owner=newOwner,_.isUndefined(data.sharing)&&(data.sharing=this.entry.acl.get("sharing")),"savedsearch"===this.getType()&&_.isUndefined(data.app)&&(data.app=this.entry.acl.get("app")),this.trigger("reassign:start",this.id),this.acl.save({},{data:data,success:_.bind(function(model,resp,options){this.setFromSplunkD(resp,{skipClone:!0}),this.trigger("reassign:successful",this.id)},this),error:_.bind(function(model,resp,options){this.trigger.call(this,"error",this,resp,options),this.trigger("reassign:error",this.id)},this)})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Bulkreassign":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("routers/Base"),__webpack_require__("collections/services/authentication/Users"),__webpack_require__("collections/services/authorization/Roles"),__webpack_require__("views/bulkreassign/PageController")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseRouter,UsersCollection,RolesCollection,PageController){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.fetchAppLocals=!0,this.fetchServerInfo=!0,this.model.controller=new Backbone.Model,this.collection.usersSearch=new UsersCollection,this.collection.users=new UsersCollection,this.deferreds.users=this.collection.users.fetch({data:{count:5,search:"roles=*"}}),this.collection.rolesCollection=new RolesCollection,this.deferreds.roles=this.collection.rolesCollection.fetch(),this.deferreds.classicurl=this.model.classicurl.fetch()},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),this.setPageTitle(_("Reassign Knowledge Objects").t()),$.when(this.deferreds.pageViewRendered,this.deferreds.classicurl,this.deferreds.users,this.deferreds.roles).done(_(function(){$(".preload").replaceWith(this.pageView.el),this.pageController&&this.pageController.detach(),this.pageController=new PageController({model:this.model,collection:this.collection}),this.pageView.$(".main-section-body").append(this.pageController.render().el)}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/bulkreassign/CustomFilters":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticRadioControl"),__webpack_require__("views/shared/controls/SyntheticSelectControl")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Base,SyntheticRadioControl,SyntheticSelectControl){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.call(this,options),this.children.orphanedFilter=new SyntheticRadioControl({model:this.model.metadata,modelAttribute:"orphaned",items:[{label:_("All").t(),value:!1},{label:_("Orphaned").t(),value:!0}]}),this.children.configType=new SyntheticSelectControl({label:_("Object type").t()+": ",model:this.model.metadata,modelAttribute:"configType",toggleClassName:"btn-pill",items:this.getConfigItems(),popdownOptions:{detachDialog:!0}}),this.children.appOnly=new SyntheticSelectControl({model:this.model.metadata,modelAttribute:"appOnly",toggleClassName:"btn-pill",items:this.getAppOnlyItems(),popdownOptions:{detachDialog:!0}}),this.listenTo(this.model.metadata,"change:app",this.updateAppOnly)},updateAppOnly:function(model,value,options){""===value?(this.model.metadata.set("appOnly",!1),this.children.appOnly.disable()):this.children.appOnly.enable()},getAppOnlyItems:function(){return[{value:!1,label:_("All Objects").t()},{value:!0,label:_("Objects created in the app").t()}]},getConfigItems:function(){var items=["All","collections-conf","commands","conf-times","eventtypes","fieldaliases","fvtags","macros","modalerts","nav","panels","props-extract","props-lookup","savedsearch","sourcetype-rename","transforms-extract","transforms-lookup","views","workflow-actions"];return _.map(items,function(type){return{value:type,label:type}})},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.children.orphanedFilter.render().appendTo(this.$(".orphaned-filter")),this.children.configType.render().appendTo(this.$(".config-type-filter")),this.children.appOnly.render().appendTo(this.$(".app-only-filter")),this.updateAppOnly(this.model.metadata,this.model.metadata.get("app")),this},template:'<span class="orphaned-filter"></span><span class="config-type-filter"></span><span class="app-only-filter"></span>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/bulkreassign/ReassignDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/basemanager/SearchableDropdown/Master"),__webpack_require__("views/bulkreassign/BulkProgressSummary"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route"),__webpack_require__("views/bulkreassign/ReassignDialog.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseModel,FlashMessagesView,WaitSpinner,ControlGroup,SearchableDropdown,BulkProgressSummary,Modal,route){var ValidUserModel=BaseModel.extend({validation:{owner:function(value,attr,computedState){if(_.isEmpty(value))return _("Please select the new owner.").t()}}}),STATES={REASSIGN_NOT_STARTED:-1,REASSIGN_IN_PROGRESS:0,REASSIGN_COMPLETE:1};return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" modal-with-spinner modal-with-static-warning",events:$.extend({},Modal.prototype.events,{"click .modal-btn-primary.save":"handleSave",hide:function(e){return this.processingState===STATES.REASSIGN_IN_PROGRESS?void e.preventDefault():(this.processingState===STATES.REASSIGN_COMPLETE&&this.trigger("resetBulkSelection"),void(e.target===e.currentTarget&&this.trigger("hide")))}}),initialize:function(options){if(options=_.defaults(options,{keyboard:!1,backdrop:"static",onHiddenRemove:!0,learnMoreTag:""}),Modal.prototype.initialize.call(this,options),!this.collection.selectedEntities)throw new Error("this.collection.selectedEntities is required");this.processingState=STATES.REASSIGN_NOT_STARTED,this.model._inmem=new ValidUserModel,this.isSingleEntity="singleEntity"===this.options.mode,this.isSingleEntity?(this.model.entity=this.collection.selectedEntities.at(0),this.title=_("Reassign Entity").t(),this.children.flashMessages=new FlashMessagesView({model:[this.model._inmem,this.model.entity]}),this.children.entityTitle=new ControlGroup({label:_("Name").t(),controlType:"Label",controlOptions:{model:this.model.entity.entry,modelAttribute:"name"}}),this.children.entityType=new ControlGroup({label:_("Type").t(),controlType:"Label",controlOptions:{model:this.model.entity.entry.content,modelAttribute:"eai:type"}}),this.children.entityOwner=new ControlGroup({label:_("Owner").t(),controlType:"Label",controlOptions:{model:this.model.entity.entry.acl,modelAttribute:"owner"}})):(this.title=_("Reassign Selected Entities").t(),this.children.flashMessages=new FlashMessagesView({model:[this.model._inmem]}),this.children.bulkProgress=new BulkProgressSummary({model:this.model,collection:this.collection.selectedEntities})),this.children.newOwner=new SearchableDropdown({prompt:_("Select an owner").t(),searchPrompt:_("Lookup an owner").t(),multiSelect:!1,model:this.model._inmem,modelAttribute:"owner",staticOptions:[{label:_("Nobody").t(),value:"nobody"}],collection:{search:this.collection.usersSearch,listing:this.collection.users},popdownOptions:{detachDialog:!0}}),this.children.ownerSelector=new ControlGroup({label:_("New Owner").t(),controlType:"Label",controlOptions:{className:"newOwnerPlaceholder",model:this.model._inmem,modelAttribute:"owner"}}),this.children.spinner=new WaitSpinner,this.listenTo(this.collection.selectedEntities,"bulkreassign:start",this.enableProcessingMode),this.listenTo(this.collection.selectedEntities,"bulkreassign:complete",this.disableProcessingMode),this.listenTo(this.collection.selectedEntities,"add remove reset",this.handleNoEntity)},handleNoEntity:function(){0===this.collection.selectedEntities.length&&this.$(Modal.FOOTER_SELECTOR+" .modal-btn-primary").addClass("disabled")},enableProcessingMode:function(){this.processingState=STATES.REASSIGN_IN_PROGRESS,this.children.ownerSelector.disable(),this.$(Modal.FOOTER_SELECTOR+" .btn").remove(),this.children.spinner.start()},disableProcessingMode:function(){this.processingState=STATES.REASSIGN_COMPLETE,this.children.spinner.stop(),this.children.spinner.$el.hide(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE)},getCombinedOwnerName:function(){return 0===this.collection.selectedEntities.length?"":this.collection.selectedEntities.map(function(entity){return entity.getOwner()}).reduce(function(prev,curr){return prev===curr?prev:"<multiple owners>"})},handleSave:function(){0!==this.collection.selectedEntities.length&&this.model._inmem.isValid(!0)&&(this.children.spinner.start(),this.children.spinner.$el.show(),this.model.controller.trigger("bulkReassignOwner",this.model._inmem.get("owner"),this.collection.selectedEntities,this.options.mode))},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(this.title);var learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),this.options.learnMoreTag),compiledBodyTemplate=_.template(this.bodyTemplate),bodyHTML=compiledBodyTemplate({learnMoreLink:learnMoreLink});this.$(Modal.BODY_SELECTOR).html(bodyHTML),this.children.flashMessages&&this.$(".flash-message-placeholder").append(this.children.flashMessages.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this.$(Modal.FOOTER_SELECTOR+" .modal-btn-primary").addClass("save"),this.$(Modal.FOOTER_SELECTOR).append(this.children.spinner.render().el),this.children.spinner.$el.hide();var $form=this.$(".owner-form");return this.children.entityTitle&&$form.append(this.children.entityTitle.render().el),this.children.entityType&&$form.append(this.children.entityType.render().el),this.children.entityOwner&&$form.append(this.children.entityOwner.render().el),$form.append(this.children.ownerSelector.render().el),$form.find(".newOwnerPlaceholder").replaceWith(this.children.newOwner.render().el),this.children.bulkProgress&&this.$(".bulk-progress").append(this.children.bulkProgress.render().el),this.isSingleEntity||this.$el.addClass("modal-wide"),this.$(".alert-warning .message").append(this.securtiyWarningMessage),this},securtiyWarningMessage:_("Knowledge object ownership changes can have side effects such as giving saved searches access to previously inaccessible data or making previously available knowledge objects unavailable. Review your knowledge objects before you reassign them.").t(),bodyTemplate:'<div class="security-warning"><div class="alert alert-warning"><i class="icon-alert"></i><span class="message"></span> <a href="<%- learnMoreLink %>" target="_blank" class="external"><%= _("Learn more").t() %></a></div></div></div><div class="flash-message-placeholder"></div><div class="owner-form form-horizontal"></div><div class="bulk-progress"></div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/bulkreassign/BulkProgressSummary":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("views/bulkreassign/BulkProgressSummaryRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Base,WaitSpinner,Row){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.call(this,options);var defaults={entitySingular:_("entity").t(),entityPlural:_("entities").t()};if(this.options=this.options||{},_.defaults(this.options,defaults),_.isUndefined(this.model)||_.isUndefined(this.model.controller))throw new Error("Need this.model.controller to be passed in");if(!this.collection)throw new Error("Need this.collection to be passed in");this.children.rows=[],this.listenTo(this.collection,"add remove reset",this.debouncedRender)},events:{"click .removeEntityFromSelection":"triggerRemoveItem"},triggerRemoveItem:function(e){e.preventDefault();var $target=$(e.currentTarget),id=$target.data("id"),model=this.collection.get(id);model&&this.model.controller.trigger("removeSelectedEntity",model)},render:function(){_.each(this.children.rows,function(row){row.remove()}),this.children.rows=this.collection.map(function(model){return new Row({model:model})});var html=this.compiledTemplate({collection:this.collection,entitySingular:this.options.entitySingular,entityPlural:this.options.entityPlural}),$html=$(html);if(this.collection.length>0){var tbody=$html.find("tbody");_.each(this.children.rows,function(row){tbody.append(row.render().el)})}return this.$el.html($html),this.initializeTooltipOnce(),this},initializeTooltipOnce:function(){this.isTooltipInitialized||(this.$el.tooltip({selector:'[data-toggle="tooltip"]'}).on("show",function(e){e.stopPropagation()}).on("hide",function(e){e.stopPropagation()}).on("hidden",function(e){e.stopPropagation()}),this.isTooltipInitialized=!0)},remove:function(){this.$el.tooltip("destroy"),_.each(this.children.rows,function(row){row.remove()}),Base.prototype.remove.apply(this,arguments)},template:'\t        <% if (collection.length < 1) { %>\t            <p>No items selected</p>\t        <% } else { %>\t            <table class="table table-striped table-hover">\t                <thead><tr>\t                    <th><%- _("Name").t() %></th>\t                    <th><%- _("Type").t() %></th>\t                    <th><%- _("Owner").t() %></th>\t                    <th><%- _("App").t() %></th>\t                    <th><%- _("Sharing").t() %></th>\t                    <th><%- _("Action").t() %></th>\t                </tr></thead>\t                <tbody></tbody>\t            </table>\t        <% } %>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/bulkreassign/BulkProgressSummaryRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,WaitSpinner,Base){return Base.extend({moduleId:module.id,tagName:"tr",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.status="initial",this.children.spinner=new WaitSpinner,this.listenTo(this.model,"reassign:start",this.showUpdating),this.listenTo(this.model,"reassign:successful",this.showSuccessful),this.listenTo(this.model,"reassign:error",this.showError)},showUpdating:function(){this.status="updating",this.render()},showSuccessful:function(){this.status="success",this.render()},showError:function(){this.status="error",this.render()},render:function(){var html=this.compiledTemplate({model:this.model}),$html=$(html);switch($html.find(".updating").append(this.children.spinner.render().el),this.status){case"initial":$html.find(".initial").show();break;case"updating":$html.find(".updating").show();break;case"success":$html.find(".success").show();break;case"error":$html.find(".error").show();var msgs=this.model.error.get("messages");if(_.isArray(msgs)&&msgs.length>0){var msg=msgs[0].message;$html.find('.error [data-toggle="tooltip"]').attr("title",msg)}}return this.$el.html($html),this},template:'\t        <td><%- model.getName() %></td>\t        <td><%- model.getType() %></td>\t        <td><%- model.getOwner() %></td>\t        <td><%- model.getApp() %></td>\t        <td><%- model.getSharingLabel() %></td>\t        <td class="status">\t            <div class="progress-status initial hide">\t                <a href="#" class="removeEntityFromSelection" data-toggle="tooltip" title="Remove from selection" data-id="<%- model.id %>"><i class="icon-x-circle"></i></a>\t            </div>\t            <div class="progress-status updating hide">\t            </div>\t            <div class="progress-status success hide">\t                <a href="#" data-toggle="tooltip" title="Successfully reassigned"><i class="icon-check"></i></a></div>\t            <div class="progress-status error alert-error hide">\t                <a href="#" data-toggle="tooltip" title=""><i class="icon-alert"></i></a>\t            </div>\t        </td>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/bulkreassign/ReassignDialog.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(570);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/bulkreassign/GridRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/basemanager/GridRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,GridRowBaseView){return GridRowBaseView.extend({moduleId:module.id,events:_.extend({},GridRowBaseView.prototype.events,{"click .entity-reassign-action":function(e){this.model.controller.trigger("reassignEntity",this.model.entity),e.preventDefault()}}),prepareTemplate:function(){var parentArgs=GridRowBaseView.prototype.prepareTemplate.apply(this,arguments);return $.extend(!0,{},parentArgs,{model:this.model.entity,canUseApps:this.model.user.canUseApps(),description:this.model.entity.entry.content.get("description")||""})},template:'\t        <% if (enableBulkEdit) { %>\t            <td class="entity-select"></td>\t        <% } %>\t        <td class="cell-name">\t            <%- model.getName() %>\t            <% if (description) { %>\t                <div class="model-description"><%- description %></div>\t            <% } %>\t        </td>\t        <td class="cell-actions">\t            <a href="#" class="entity-action entity-reassign-action"><%= _("Reassign").t() %></a>\t        </td>\t        \t        <td class="cell-config-type"><%- model.getType() %></td>\t        <td class="cell-owner"><%- model.getOwner() %></td>\t        <% if(canUseApps) { %>\t        <td class="cell-app"><%- model.getApp() %></td>\t        <% } %>\t        <td class="cell-sharing"><%- model.getSharingLabel() %></td>\t        <td class="cell-status"></td>\t        '},{columns:[{id:"name",title:_("Name").t(),sorts:!0},{id:"eai:type",title:_("Object type").t(),sorts:!0},{id:"eai:acl.owner",title:_("Owner").t(),sorts:!0},{id:"eai:acl.app",title:_("App").t(),sorts:!0,visible:function(){return this.model.user.canUseApps()}},{id:"eai:acl.sharing",title:_("Sharing").t(),sorts:!0}]})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}
});