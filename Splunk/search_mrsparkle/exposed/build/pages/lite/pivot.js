webpackJsonp([54],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("routers/PivotRouter"),__webpack_require__("util/router_utils"),__webpack_require__("pages/pivot.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(PivotRouter,routerUtils){new PivotRouter;routerUtils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1112:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".pivot-datatablefieldlist table.field-list>tbody>tr{background-color:transparent}.pivot-datatablefieldlist table.field-list td,.pivot-datatablefieldlist table.field-list th{border:none;padding-left:0}.pivot-datatablefieldlist table.field-list td.group-name{width:80px;color:#999}.pivot-datatablefieldlist .type-icon{color:#666;width:10px;display:inline-block}",""])},1113:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".pivot-pivotelementsdisplay{position:relative}.pivot-pivotelementsdisplay .config-table{border-radius:0;table-layout:fixed;margin-bottom:0}.pivot-pivotelementsdisplay .config-table td,.pivot-pivotelementsdisplay .config-table th{border-top:none}.pivot-pivotelementsdisplay .config-table td:first-child,.pivot-pivotelementsdisplay .config-table th:first-child{padding-left:20px;border-left:0}.pivot-pivotelementsdisplay .config-table tr:last-child td{padding-bottom:5px}.pivot-pivotelementsdisplay .config-table tr+tr td h6{margin-top:0}.pivot-pivotelementsdisplay .element-list{min-height:50px;min-width:200px}.pivot-pivotelementsdisplay .element-list.ui-sortable-drop-acceptor .list-header{color:#65a637}.pivot-pivotelementsdisplay .element{float:left;width:160px;margin:0 5px 5px 0}.pivot-pivotelementsdisplay .element .element-label{width:106px;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.pivot-pivotelementsdisplay .element .btn{padding-left:15px}.pivot-pivotelementsdisplay .element .inspect-button{padding:0;width:24px;line-height:24px;height:24px;font-size:14px}.pivot-pivotelementsdisplay .list-header{margin:5px 0;font-size:12px;font-weight:400}.pivot-pivotelementsdisplay .timerange-picker-wrapper{display:inline-block}.pivot-pivotelementsdisplay .timerange-picker-wrapper a:hover{text-decoration:none}.pivot-pivotelementsdisplay .add-button{position:relative;font-size:15px;float:left;padding:0;width:24px;height:24px;line-height:24px}.pivot-pivotelementsdisplay .table-help-link{position:absolute;top:5px;right:20px}.draggable-element{float:left;width:160px;margin:0 5px 5px 0}.draggable-element .element-label{width:106px;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.draggable-element .btn{padding-left:15px}.draggable-element .inspect-button{padding:0;width:24px;line-height:24px;height:24px;font-size:14px}.draggable-element .element-label{cursor:move}.draggable-element.ui-sortable-drop-to-remove>.btn{border-color:#c0877c;color:#d6563c}",""])},1114:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.pivot-pivotview .pivot-visualizationtypemenu{position:absolute;left:0;bottom:0;top:0;width:80px;background-color:#000;margin:0;overflow-y:auto;padding-top:15px}.pivot-pivotview .pivot-visualizationtypemenu li{font-size:30px;line-height:50px;list-style:none;text-align:center;margin:2px 0}.pivot-pivotview .pivot-visualizationtypemenu li [class*=" icon-"]{display:inline-block;width:1.25em;text-align:center}.pivot-pivotview .pivot-visualizationtypemenu li a{display:block;color:#555;text-decoration:none}.pivot-pivotview .pivot-visualizationtypemenu li a:hover{color:#fff;background-color:#333}.pivot-pivotview .pivot-visualizationtypemenu li a.disabled{color:#222;background-color:#000;cursor:default}.pivot-pivotview .pivot-visualizationtypemenu li.active a{color:#fff;background-color:transparent}.pivot-pivotview .pivot-documentactionbar{min-width:860px;position:absolute;left:80px;right:0;height:54px;padding-left:20px;border-bottom:1px solid #ccc}.pivot-pivotview .pivot-documentactionbar .report-name{font-weight:200;font-size:26px;margin:0;line-height:55px;display:inline}.pivot-pivotview .pivot-documentactionbar .report-name i{margin-right:10px}.pivot-pivotview .pivot-documentactionbar .action-bar{position:absolute;bottom:13px}.pivot-pivotview .pivot-documentactionbar .action-bar .data-source-button,.pivot-pivotview .pivot-documentactionbar .action-bar .report-action-buttons{margin-left:15px}.pivot-pivotview .pivot-documentactionbar .action-bar .create-drop-down{display:inline}.pivot-pivotview .pivot-jobactionbar{min-width:880px;position:absolute;left:80px;right:0;top:55px;height:31px;padding:5px 0 0}.pivot-pivotview .pivot-jobactionbar .jobstatus-wrapper{margin-right:161px}.pivot-pivotview .pivot-jobactionbar .jobstatus-wrapper.with-inspect-button{margin-right:186px}.pivot-pivotview .pivot-jobactionbar .jobstatus-wrapper .alert{top:-5px}.pivot-pivotview .pivot-jobactionbar .action-bar{padding-right:20px}.pivot-pivotview .pivot-jobactionbar .shared-jobstatus{position:static;clear:none;margin-top:0}.pivot-pivotview .pivot-jobactionbar .initializing-message{float:left;line-height:26px;padding-left:20px}.pivot-pivotview .pivot-jobactionbar .shared-jobstatus-count{padding-top:5px}.pivot-pivotview .pivot-jobactionbar .icon-export,.pivot-pivotview .pivot-jobactionbar .icon-print,.pivot-pivotview .pivot-jobactionbar .icon-search,.pivot-pivotview .pivot-jobactionbar .icon-share{font-size:15px}.pivot-pivotview .alert{margin-bottom:0;background-color:transparent}.pivot-pivotview .viz-content-full-width>.alerts>.alert,.pivot-pivotview .viz-content-with-menu>.alerts>.alert{border-radius:0;border-left:none;border-right:none;border-top:none}.pivot-pivotview .data-display-alert,.pivot-pivotview .lazy-results-table.loading .alert,.pivot-pivotview .viz-container .loading .alert,.pivot-pivotview .viz-container .visualization-message .alert{margin-top:10px;margin-left:20px;margin-right:20px}.pivot-pivotview .viz-builder-wrapper{position:absolute;left:80px;right:0;bottom:0;top:92px;overflow:hidden}.pivot-pivotview .concertina-group-body{padding-right:20px}.pivot-pivotview .pivot-pivotcontent.viz-content-with-menu{background-color:#fff}.pivot-pivotview .pivot-pivotcontent .alerts{padding:0 20px}.pivot-pivotview .pivot-pivotcontent .viz-container{position:absolute;left:0;right:0}.pivot-pivotview .pivot-visualizationconfigmenu{background-color:#f3f3f3;position:absolute;top:0;left:0;width:379px;bottom:0;border-right:1px solid #ccc;border-top:1px solid #ccc;overflow:hidden}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal{margin-bottom:10px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal .alert-viz-control{margin-left:12px;margin-bottom:0;border-bottom:none;padding-right:0;margin-top:-10px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group{margin-bottom:10px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .control-label{width:110px;overflow:hidden;text-overflow:ellipsis}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .controls{margin-left:120px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .controls .btn{width:auto}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.form-actions{padding-left:120px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal .btn-pill:hover{background-color:#ccc}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal .divider{padding-bottom:15px;width:380px}.pivot-pivotview .pivot-customcontrols-axislabelcontrolgroup input{width:115px}.pivot-pivotview .input-pivot-label{width:187px}.pivot-pivotview .pivot-addsubpaneldropdownmenu{padding-left:120px;margin-bottom:16px}.pivot-pivotview .pivot-field-picker-group .dropdown-toggle .link-label{max-width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block;margin-bottom:-4px}.pivot-pivotview .pivot-visualizationconfigpanel .alert{border:none;border-bottom:1px dotted #ccc;background:none;border-radius:0;margin:0;padding-left:27px;margin:0 20px}.pivot-pivotview .pivot-visualizationconfigpanel .alert:first-child{margin-top:-5px}.pivot-pivotview .pivot-visualizationconfigpanel .alert:last-child{margin-bottom:10px}.pivot-pivotview .pivot-visualizationconfigpanel .alert .icon-alert{left:0}.pivot-pivotview .pivot-visualizationconfigpanel .panel-section-divider{font-size:11px;border-top:1px dotted #ccc;font-weight:700;margin:10px 20px}.pivot-pivotview .pivot-visualizationconfigpanel .remove-button{font-size:14px;cursor:pointer;margin-left:10px;text-decoration:none}.pivot-pivotview .pivot-visualizationconfigpanel .input-append .dropdown-toggle:first-child{border-top-right-radius:2px;border-bottom-right-radius:2px}.pivot-pivotview .viz-content-full-width,.pivot-pivotview .viz-content-with-menu{position:absolute;top:0;bottom:0;right:0;overflow:hidden}.pivot-pivotview .viz-content-full-width{min-width:880px;left:0}.pivot-pivotview .viz-content-with-menu{min-width:500px;left:380px;border-top:1px solid #ccc}.pivot-pivotview .shared-jschart{background-color:#fff}.pivot-pivotview .header-table-wrapper{border-bottom:none}.pivot-pivotview .shared-singlevalue{width:100%}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups{background-color:inherit}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .tab-pane{background-color:transparent}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups input[type=text]{width:50px}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .swatch-hex input{width:44px}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .shared-vizcontrols-components-color-ranges label{width:170px!important;margin-left:-120px}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .shared-vizcontrols-components-color-ranges .controls{margin-left:55px!important}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .add-color-range{float:left}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .remove-range{position:relative;font-size:16px;line-height:16px;top:2px;left:5px}.pivot-field-picker-dropdown .link-label{white-space:pre}.pivot-datasourcemenu dl,.pivot-datasourcemenu h4{font-size:12px;padding:5px 10px;margin:0}.pivot-datasourcemenu dl{padding-top:0}.pivot-datasourcemenu dt{width:60px}.pivot-datasourcemenu dd{margin-left:65px}.pivot-datasourcemenu .property-label{width:75px;display:inline-block}.pivot-datasourcemenu .property-value{display:inline-block}@media print{body .pivot-pivotelementsdisplay,body .pivot-visualizationconfigmenu,body .pivot-visualizationtypemenu{display:none!important}body .pivot-documentactionbar,body .pivot-jobactionbar{border:none!important}body .pivot-documentactionbar,body .pivot-jobactionbar,body .pivot-pivotcontent{background:none!important;position:static!important;left:auto!important;right:auto!important;top:auto!important;bottom:auto!important}}body.print .pivot-pivotelementsdisplay,body.print .pivot-visualizationconfigmenu,body.print .pivot-visualizationtypemenu{display:none!important}body.print .pivot-documentactionbar,body.print .pivot-jobactionbar{border:none!important}body.print .pivot-documentactionbar,body.print .pivot-jobactionbar,body.print .pivot-pivotcontent{background:none!important;position:static!important;left:auto!important;right:auto!important;top:auto!important;bottom:auto!important}',""])},1115:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".pivot-configpopups-timerangeinspector{width:640px}.pivot-configpopups-timerangeinspector h4{font-size:12px;margin-top:0}.pivot-configpopups-timerangeinspector .pivot-config-content{background-color:#fff;border-left:1px solid #ccc;border-top-right-radius:0;padding:10px 20px;overflow:auto}.pivot-configpopups-timerangeinspector .field-picker-wrapper .pivot-config-content{background-color:#fff;border:none;border-radius:0}.pivot-configpopups-timerangeinspector .shared-datamodel-objectfieldlist{padding:10px;margin:-10px;border-top-right-radius:0;border-bottom-right-radius:0}.pivot-configpopups-timerangeinspector .pivot-configpopups-addelementpane .buttons-wrapper,.pivot-configpopups-timerangeinspector .pivot-configpopups-inspectelementpane .buttons-wrapper{text-align:right;padding-top:5px}.pivot-configpopups-timerangeinspector .pivot-configpopups-addelementpane .popdown-dialog-footer,.pivot-configpopups-timerangeinspector .pivot-configpopups-inspectelementpane .popdown-dialog-footer{padding-left:0}.pivot-configpopups-timerangeinspector .pivot-configpopups-addelementpane .cancel-button,.pivot-configpopups-timerangeinspector .pivot-configpopups-inspectelementpane .cancel-button{float:left}.pivot-configpopups-timerangeinspector .field-list{margin-bottom:2px}.pivot-configpopups-timerangeinspector .type-icon{margin-right:3px;text-align:center}.pivot-configpopups-pivotconfigwizard{width:440px;overflow:hidden}.pivot-configpopups-pivotconfigwizard h4{font-size:12px;margin-top:0}.pivot-configpopups-pivotconfigwizard .pivot-config-content{background-color:#fff;border-left:1px solid #ccc;border-top-right-radius:0;padding:10px 20px;overflow:auto}.pivot-configpopups-pivotconfigwizard .field-picker-wrapper .pivot-config-content{background-color:#fff;border:none;border-radius:0}.pivot-configpopups-pivotconfigwizard .shared-datamodel-objectfieldlist{padding:10px;margin:-10px;border-top-right-radius:0;border-bottom-right-radius:0}.pivot-configpopups-pivotconfigwizard .pivot-configpopups-addelementpane .buttons-wrapper,.pivot-configpopups-pivotconfigwizard .pivot-configpopups-inspectelementpane .buttons-wrapper{text-align:right;padding-top:5px}.pivot-configpopups-pivotconfigwizard .pivot-configpopups-addelementpane .popdown-dialog-footer,.pivot-configpopups-pivotconfigwizard .pivot-configpopups-inspectelementpane .popdown-dialog-footer{padding-left:0}.pivot-configpopups-pivotconfigwizard .pivot-configpopups-addelementpane .cancel-button,.pivot-configpopups-pivotconfigwizard .pivot-configpopups-inspectelementpane .cancel-button{float:left}.pivot-configpopups-pivotconfigwizard .field-list{margin-bottom:2px}.pivot-configpopups-pivotconfigwizard .type-icon{margin-right:3px;text-align:center}.pivot-configpopups-pivotconfigwizard .field-picker-wrapper{width:440px;float:left;margin-right:20px}.pivot-configpopups-pivotconfigwizard .field-picker-wrapper .pivot-config-content{max-height:300px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper{float:left;width:440px;margin-right:-460px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .back-button-column{position:relative;float:left}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .back-button-column .back-button{position:absolute;width:0;text-align:center;padding-left:8px;padding-right:16px;left:3px;top:3px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .preview-pane-wrapper{float:left;margin-left:33px;width:407px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .sub-pane-divider{border-top:1px solid #eee;margin-top:5px;margin-bottom:10px}.pivot-configpopups-pivotconfigwizard .remove-button{float:left;margin-right:5px}.pivot-configforms-allsplitsform.form-horizontal,.pivot-element-form.form-horizontal{margin:0}.pivot-configforms-allsplitsform h5,.pivot-element-form h5{margin-top:5px;margin-bottom:5px}.pivot-configforms-allsplitsform .control-group,.pivot-element-form .control-group{margin-bottom:10px}.pivot-configforms-allsplitsform .control-label,.pivot-element-form .control-label{width:85px;text-align:left;overflow:hidden;text-overflow:ellipsis}.pivot-configforms-allsplitsform .controls,.pivot-element-form .controls{margin-left:85px}.pivot-configforms-allsplitsform .inline-control,.pivot-element-form .inline-control{display:inline}.pivot-configforms-allsplitsform .inline-control input[type=text],.pivot-element-form .inline-control input[type=text]{width:100px;margin-bottom:5px}.pivot-configforms-allsplitsform .pivot-inspector-help-text,.pivot-element-form .pivot-inspector-help-text{font-size:11px;margin-top:5px}.pivot-configforms-allsplitsform .pivot-inspector-help-text .help-tooltip,.pivot-element-form .pivot-inspector-help-text .help-tooltip{color:#0095cf;top:-.5em;position:relative;line-height:0;font-size:9px;vertical-align:baseline;padding:2px;cursor:default}.pivot-configforms-filters-numberfilterform .control-label,.pivot-configforms-filters-stringfilterform .control-label{width:75px}.pivot-configforms-filters-numberfilterform input[type=text].limit-amount-input,.pivot-configforms-filters-stringfilterform input[type=text].limit-amount-input{margin-left:10px;width:30px}.pivot-configforms-filters-numberfilterform .limit-by-select>ul,.pivot-configforms-filters-stringfilterform .limit-by-select>ul{max-height:250px}.pivot-configforms-allsplitsform.number-split .control-label,.pivot-configforms-columns-numbercolumnform .control-label,.pivot-configforms-rows-numberrowform .control-label{width:105px}.pivot-configforms-allsplitsform.number-split .pivot-inspector-help-text,.pivot-configforms-allsplitsform.number-split input[type=text]+.placeholder,.pivot-configforms-columns-numbercolumnform .pivot-inspector-help-text,.pivot-configforms-columns-numbercolumnform input[type=text]+.placeholder,.pivot-configforms-rows-numberrowform .pivot-inspector-help-text,.pivot-configforms-rows-numberrowform input[type=text]+.placeholder{margin-left:20px}.pivot-configforms-columns-booleancolumnform .control-label,.pivot-configforms-rows-booleanrowform .control-label{width:75px}.sample-values-menu ul{max-height:275px}.sample-value-limit{position:relative;border-top:1px solid #ccc;padding:5px 10px;white-space:normal;display:block;text-decoration:none;font-size:11px;color:#999}",""])},1116:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".shared-responsiveheaderpage header{position:absolute;right:0;left:0}.shared-responsiveheaderpage header .expand-collapse-control i.icon-menu{color:hsla(0,0%,100%,.8);position:relative;top:2px}.shared-responsiveheaderpage .expand-collapse-control{position:absolute;left:0;right:0;bottom:0;height:6px;background-color:gray}.shared-responsiveheaderpage .expand-collapse-control:hover{cursor:pointer}.shared-responsiveheaderpage .expand-collapse-control .tab{background-color:inherit;position:absolute;top:0;right:10px;height:25px;line-height:25px;width:30px;text-align:center;font-size:20px;border-radius:0 0 3px 3px}.shared-responsiveheaderpage .expand-collapse-control .tab:focus>i{color:#fff}.expanded-nav-screen{background:#000;opacity:.3;filter:alpha(opacity=30)!important;position:absolute;top:0;right:0;bottom:0;left:0;z-index:407}.shared-responsiveheaderpage header{top:auto;bottom:calc(100% - 6px)}.shared-responsiveheaderpage header .expand-collapse-control{display:block}@media only screen and (min-height:800px){.shared-responsiveheaderpage header{top:0;bottom:auto}.shared-responsiveheaderpage header .expand-collapse-control{display:none}}.shared-responsiveheaderpage .expand-collapse-control{background:#333!important}",""])},1117:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".nested-0{padding-left:8px!important}.nested-1{padding-left:48px!important}.nested-2{padding-left:88px!important}.nested-3{padding-left:128px!important}.nested-4{padding-left:168px!important}.nested-5{padding-left:208px!important}.nested-6{padding-left:248px!important}.nested-7{padding-left:288px!important}.nested-8{padding-left:328px!important}.datamodelexplorer-objectgrid .shared-datamodel-objectfieldlist{margin-top:15px}.datamodelexplorer-objectgrid .unselectable-object{font-size:14px;height:20px;color:#7c7c7c}.datamodelexplorer-objectgrid .no-objects-message{margin:50px 20px}",""])},"helpers/pivot/FilterElementModelFactory":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("models/pivot/elements/filters/StringFilter"),__webpack_require__("models/pivot/elements/filters/NumberFilter"),__webpack_require__("models/pivot/elements/filters/BooleanFilter"),__webpack_require__("models/pivot/elements/filters/TimestampFilter")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement,StringFilter,NumberFilter,BooleanFilter,TimestampFilter){var FilterElementModelFactory=function(attributes,options){switch(attributes.type){case"string":case"ipv4":return new StringFilter(attributes,options);case"number":return new NumberFilter(attributes,options);case"boolean":return new BooleanFilter(attributes,options);case"timestamp":return new TimestampFilter(attributes,options);default:throw"Model type "+attributes.type+" not supported for Filter Elements"}};return $.extend(FilterElementModelFactory.prototype,{idAttribute:BaseElement.prototype.idAttribute}),FilterElementModelFactory}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/BaseElement":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Base){return Base.extend({defaults:{label:""},getDefaultLabel:function(){return this.computeDefaultLabel(this.attributes)},computeDefaultLabel:function(attributes){return attributes.displayName||attributes.fieldName},getComputedLabel:function(){return this.get("label")||this.getDefaultLabel()},refreshLabel:function(options){this.get("label")===this.getDefaultLabel()&&this.set({label:""},options)},parse:function(response){return this.parseLabel(response)},parseLabel:function(response){return response.label===this.computeDefaultLabel(response)?$.extend({},response,{label:""}):response},toJSON:function(){return{fieldName:this.get("fieldName")||"",type:this.get("type"),owner:this.get("owner")}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/filters/StringFilter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"filter",filterType:"match",ruleComparator:"is",ruleCompareTo:"*",limitType:"highest",limitAmount:10,limitStatsFn:"count"}),validation:{limitAmount:{pattern:"digits",min:1,required:!0,msg:_("Limit Amount must be an integer greater than 1.").t()},ruleCompareTo:{required:!0,msg:_("Match is a required field.").t()}},initialize:function(){BaseElement.prototype.initialize.call(this),this.has("limitBy")&&this.get("limitBy")!==this.get("fieldName")||this.set({limitBy:this.get("fieldName"),limitByDataType:this.get("type")})},computeDefaultLabel:function(attributes){return"match"===attributes.filterType?formElementUtils.getMatchFilterLabel(attributes.displayName,attributes.ruleComparator,attributes.ruleCompareTo):attributes.limitBy!==attributes.fieldName?formElementUtils.getLimitFilterLabel(attributes.displayName,attributes.limitType,attributes.limitAmount,attributes.limitByDisplayName):formElementUtils.getLimitFilterLabel(attributes.displayName,attributes.limitType,attributes.limitAmount)},parse:function(response){return response=$.extend(!0,{},response),response.rule?(response.filterType="match",response.ruleComparator=response.rule.comparator,response.rule.compareTo&&(response.ruleCompareTo=response.rule.compareTo),delete response.rule):response.limit&&(response.filterType="limit",response.limitBy=response.limit.attributeName,response.limitByOwner=response.limit.attributeOwner,response.limitType=response.limit.limitType,response.limitAmount=response.limit.limitAmount,response.limitStatsFn=response.limit.statsFn),response},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);if("match"===this.get("filterType")){var ruleComparator=this.get("ruleComparator");return ruleComparator in{isNull:!0,isNotNull:!0}?$.extend(json,{rule:{comparator:ruleComparator}}):$.extend(json,{rule:{comparator:ruleComparator,compareTo:this.get("ruleCompareTo")}})}return $.extend(json,{limit:{attributeName:this.get("limitBy"),attributeOwner:this.get("limitByOwner"),limitType:this.get("limitType"),limitAmount:this.get("limitAmount"),statsFn:this.get("limitStatsFn")}})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/filters/NumberFilter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"filter",filterType:"match",ruleComparator:"=",ruleCompareTo:"*",limitType:"highest",limitAmount:10,limitStatsFn:"count"}),validation:{limitAmount:{pattern:"digits",min:1,required:!0,msg:_("Limit Amount must be an integer greater than 1.").t()},ruleCompareTo:[{required:!0,msg:_("Match is a required field.").t()},{fn:"validateRuleCompareTo"}]},initialize:function(){BaseElement.prototype.initialize.call(this),this.has("limitBy")||this.set({limitBy:this.get("fieldName"),limitByDataType:this.get("type")})},computeDefaultLabel:function(attributes){return"match"===attributes.filterType?formElementUtils.getMatchFilterLabel(attributes.displayName,attributes.ruleComparator,attributes.ruleCompareTo):attributes.limitBy!==attributes.fieldName?formElementUtils.getLimitFilterLabel(attributes.displayName,attributes.limitType,attributes.limitAmount,attributes.limitByDisplayName):formElementUtils.getLimitFilterLabel(attributes.displayName,attributes.limitType,attributes.limitAmount)},parse:function(response){return response=$.extend(!0,{},response),response.rule?(response.filterType="match",response.ruleComparator=response.rule.comparator,response.rule.compareTo&&(response.ruleCompareTo=response.rule.compareTo),delete response.rule):response.limit&&(response.filterType="limit",response.limitBy=response.limit.attributeName,response.limitByOwner=response.limit.attributeOwner,response.limitType=response.limit.limitType,response.limitAmount=response.limit.limitAmount,response.limitStatsFn=response.limit.statsFn),response},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);if("match"===this.get("filterType")){var ruleComparator=this.get("ruleComparator");return ruleComparator in{isNull:!0,isNotNull:!0}?$.extend(json,{rule:{comparator:ruleComparator}}):$.extend(json,{rule:{comparator:ruleComparator,compareTo:this.get("ruleCompareTo")}})}return $.extend(json,{limit:{attributeName:this.get("limitBy"),attributeOwner:this.get("limitByOwner"),limitType:this.get("limitType"),limitAmount:this.get("limitAmount"),statsFn:this.get("limitStatsFn")}})},validateRuleCompareTo:function(value,attr,computedState){if(computedState.ruleComparator in{"<":!0,">":!0,"<=":!0,">=":!0}&&_.isNaN(parseFloat(value)))return"Match must be a valid number."}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/filters/BooleanFilter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"filter",ruleCompareTo:"true",filterType:"match"}),computeDefaultLabel:function(attributes){return formElementUtils.getMatchFilterLabel(attributes.displayName,attributes.ruleCompareTo)},parse:function(response){return response=$.extend(!0,{},response),response.rule&&(response.ruleCompareTo=response.rule.compareTo||response.rule.comparator,delete response.rule),response},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this),compareTo=this.get("ruleCompareTo");return compareTo in{isNull:!0,isNotNull:!0}?$.extend(json,{rule:{comparator:compareTo}}):$.extend(json,{rule:{comparator:"=",compareTo:compareTo}})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/filters/TimestampFilter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"filter",label:"All Time"}),toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel(),earliestTime:this.get("earliestTime"),latestTime:this.get("latestTime")})},setTimeRange:function(timeRangeModel,timePresets){this.timePresets=timePresets,this.timeRange=timeRangeModel.clone(),this.populateFromTimeRange(),this.timeRange.on("change:earliest change:latest",this.populateFromTimeRange,this);
},clone:function(){var clone=BaseElement.prototype.clone.apply(this,arguments);return this.timeRange&&clone.setTimeRange(this.timeRange,this.timePresets),clone},populateFromTimeRange:function(){this.set({earliestTime:this.timeRange.get("earliest"),latestTime:this.timeRange.get("latest")||"",label:this.timeRange.generateLabel(this.timePresets)})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/pivot/elements/CellElements":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("collections/pivot/elements/ElementsBase"),__webpack_require__("helpers/pivot/CellElementModelFactory")],__WEBPACK_AMD_DEFINE_RESULT__=function(ElementsBase,CellElementModelFactory){return ElementsBase.extend({model:CellElementModelFactory})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"helpers/pivot/CellElementModelFactory":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("models/pivot/elements/cells/StringCell"),__webpack_require__("models/pivot/elements/cells/NumberCell"),__webpack_require__("models/pivot/elements/cells/TimestampCell"),__webpack_require__("models/pivot/elements/cells/ObjectCountCell"),__webpack_require__("models/pivot/elements/cells/ChildCountCell")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement,StringCell,NumberCell,TimestampCell,ObjectCountCell,ChildCountCell){var CellElementModelFactory=function(attributes,options){switch(attributes.type){case"string":case"ipv4":return new StringCell(attributes,options);case"number":return new NumberCell(attributes,options);case"timestamp":return new TimestampCell(attributes,options);case"objectCount":return new ObjectCountCell(attributes,options);case"childCount":return new ChildCountCell(attributes,options);default:throw"Model type "+attributes.type+" not supported for Cell Elements"}};return $.extend(CellElementModelFactory.prototype,{idAttribute:BaseElement.prototype.idAttribute}),CellElementModelFactory}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/cells/StringCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkUtils,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"cell",value:"dc",sparkline:"false"}),computeDefaultLabel:function(attributes){return formElementUtils.getCellValueLabel(attributes.displayName,attributes.value)},parse:function(response){return response=$.extend(!0,{},response),response.sparkline=response.sparkline?response.sparkline.toString():"false",this.parseLabel(response)},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel(),value:this.get("value"),sparkline:splunkUtils.normalizeBoolean(this.get("sparkline"))})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/cells/NumberCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkUtils,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"cell",value:"sum",sparkline:"false"}),computeDefaultLabel:function(attributes){return formElementUtils.getCellValueLabel(attributes.displayName,attributes.value)},parse:function(response){return response=$.extend(!0,{},response),response.sparkline=response.sparkline?response.sparkline.toString():"false",this.parseLabel(response)},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel(),value:this.get("value"),sparkline:splunkUtils.normalizeBoolean(this.get("sparkline"))})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/cells/TimestampCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"cell",value:"duration"}),computeDefaultLabel:function(attributes){return"earliest"===attributes.value?"earliest_time":"latest"===attributes.value?"latest_time":formElementUtils.getCellValueLabel(attributes.displayName,attributes.value)},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel(),value:this.get("value")})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/cells/ObjectCountCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkUtils,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"cell",sparkline:"false"}),computeDefaultLabel:function(attributes){return attributes.displayName},parse:function(response){return response=$.extend(!0,{},response),response.sparkline=response.sparkline?response.sparkline.toString():"false",delete response.value,this.parseLabel(response)},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel(),value:"count",sparkline:splunkUtils.normalizeBoolean(this.get("sparkline"))})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/cells/ChildCountCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkUtils,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"cell",sparkline:"false"}),computeDefaultLabel:function(attributes){return formElementUtils.getCellValueLabel(attributes.displayName,"count")},parse:function(response){return response=$.extend(!0,{},response),response.sparkline=response.sparkline?response.sparkline.toString():"false",delete response.value,this.parseLabel(response)},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel(),value:"count",sparkline:splunkUtils.normalizeBoolean(this.get("sparkline"))})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/pivot/elements/ColumnElements":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("collections/pivot/elements/ElementsBase"),__webpack_require__("helpers/pivot/ColumnElementModelFactory")],__WEBPACK_AMD_DEFINE_RESULT__=function(ElementsBase,ColumnElementModelFactory){return ElementsBase.extend({model:ColumnElementModelFactory})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"helpers/pivot/ColumnElementModelFactory":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("models/pivot/elements/columns/StringColumn"),__webpack_require__("models/pivot/elements/columns/NumberColumn"),__webpack_require__("models/pivot/elements/columns/BooleanColumn"),__webpack_require__("models/pivot/elements/columns/TimestampColumn")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement,StringColumn,NumberColumn,BooleanColumn,TimestampColumn){var ColumnElementModelFactory=function(attributes,options){switch(attributes.type){case"string":case"ipv4":return new StringColumn(attributes,options);case"number":return new NumberColumn(attributes,options);case"boolean":return new BooleanColumn(attributes,options);case"timestamp":return new TimestampColumn(attributes,options);default:throw"Model type "+attributes.type+" not supported for Column Elements"}};return $.extend(ColumnElementModelFactory.prototype,{idAttribute:BaseElement.prototype.idAttribute}),ColumnElementModelFactory}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/columns/StringColumn":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,splunkUtils,BaseElement){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"column"})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/columns/NumberColumn":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,splunkUtils,BaseElement){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"column",display:"ranges"}),validation:{maxNumRanges:{pattern:"digits",min:2,required:!1,msg:_("Max # of Ranges must be an integer greater than 1.").t()},rangeSize:{pattern:"number",min:Number.MIN_VALUE,required:!1,msg:_("Range Size must be a positive number.").t()},rangeStart:{pattern:"number",required:!1,msg:_("Range Start must be a number.").t()},rangeEnd:{pattern:"number",required:!1,msg:_("Range End must be a number.").t()}},parse:function(response){response=$.extend(!0,{},response);var ranges=response.ranges;return response.ranges&&(response.maxNumRanges=ranges.hasOwnProperty("maxNumberOf")?ranges.maxNumberOf.toString():void 0,response.rangeSize=ranges.hasOwnProperty("size")?ranges.size.toString():void 0,response.rangeStart=ranges.hasOwnProperty("start")?ranges.start.toString():void 0,response.rangeEnd=ranges.hasOwnProperty("end")?ranges.end.toString():void 0,delete response.ranges),response},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return json.display=this.get("display"),"ranges"===json.display&&(json.ranges={maxNumberOf:this.has("maxNumRanges")&&""!==this.get("maxNumRanges")?this.get("maxNumRanges"):void 0,size:this.has("rangeSize")&&""!==this.get("rangeSize")?this.get("rangeSize"):void 0,start:this.has("rangeStart")&&""!==this.get("rangeStart")?this.get("rangeStart"):void 0,end:this.has("rangeEnd")&&""!==this.get("rangeEnd")?this.get("rangeEnd"):void 0}),json}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/columns/BooleanColumn":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkUtils,BaseElement,formElementUtils){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"column",trueLabel:"",falseLabel:""}),computeDefaultTrueLabel:function(attributes){return formElementUtils.booleanFieldNameLabel(attributes.displayName||attributes.fieldName,!0)},computeDefaultFalseLabel:function(attributes){return formElementUtils.booleanFieldNameLabel(attributes.displayName||attributes.fieldName,!1)},refreshLabel:function(options){BaseElement.prototype.refreshLabel.apply(this,arguments);var setObject={};this.get("trueLabel")===this.computeDefaultTrueLabel(this.attributes)&&(setObject.trueLabel=""),this.get("falseLabel")===this.computeDefaultFalseLabel(this.attributes)&&(setObject.falseLabel=""),this.set(setObject,options)},parse:function(response){return response=$.extend(!0,{},response),response.trueLabel===this.computeDefaultTrueLabel(response)&&(response.trueLabel=""),response.falseLabel===this.computeDefaultFalseLabel(response)&&(response.falseLabel=""),response},toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{trueLabel:this.get("trueLabel")||this.computeDefaultTrueLabel(this.attributes),falseLabel:this.get("falseLabel")||this.computeDefaultFalseLabel(this.attributes)})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/columns/TimestampColumn":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/pivot/elements/BaseElement")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkUtils,BaseElement){return BaseElement.extend({defaults:$.extend({},BaseElement.prototype.defaults,{elementType:"column",period:"auto",showSummary:"false"}),toJSON:function(){var json=BaseElement.prototype.toJSON.call(this);return $.extend(json,{period:this.get("period")})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/pivot/elements/RowElements":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("collections/pivot/elements/ElementsBase"),__webpack_require__("helpers/pivot/RowElementModelFactory")],__WEBPACK_AMD_DEFINE_RESULT__=function(ElementsBase,RowElementModelFactory){return ElementsBase.extend({model:RowElementModelFactory})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"helpers/pivot/RowElementModelFactory":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("models/pivot/elements/rows/StringRow"),__webpack_require__("models/pivot/elements/rows/NumberRow"),__webpack_require__("models/pivot/elements/rows/BooleanRow"),__webpack_require__("models/pivot/elements/rows/TimestampRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseElement,StringRow,NumberRow,BooleanRow,TimestampRow){var RowElementModelFactory=function(attributes,options){switch(attributes.type){case"string":case"ipv4":return new StringRow(attributes,options);case"number":return new NumberRow(attributes,options);case"boolean":return new BooleanRow(attributes,options);case"timestamp":return new TimestampRow(attributes,options);default:throw"Model type "+attributes.type+" not supported for Row Elements"}};return $.extend(RowElementModelFactory.prototype,{idAttribute:BaseElement.prototype.idAttribute}),RowElementModelFactory}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/rows/StringRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/pivot/elements/rows/column_to_row_converter"),__webpack_require__("models/pivot/elements/columns/StringColumn")],__WEBPACK_AMD_DEFINE_RESULT__=function(columnToRowConverter,StringColumn){return columnToRowConverter.convert(StringColumn)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/rows/column_to_row_converter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery")],__WEBPACK_AMD_DEFINE_RESULT__=function($){return{convert:function(columnModel){return columnModel.extend({defaults:$.extend({},columnModel.prototype.defaults,{elementType:"row"}),parse:function(response){return response=columnModel.prototype.parse.call(this,response),this.parseLabel(response)},toJSON:function(){var json=columnModel.prototype.toJSON.call(this);return $.extend(json,{label:this.getComputedLabel()})}})}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/rows/NumberRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/pivot/elements/rows/column_to_row_converter"),__webpack_require__("models/pivot/elements/columns/NumberColumn")],__WEBPACK_AMD_DEFINE_RESULT__=function(columnToRowConverter,NumberColumn){return columnToRowConverter.convert(NumberColumn)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/rows/BooleanRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/pivot/elements/rows/column_to_row_converter"),__webpack_require__("models/pivot/elements/columns/BooleanColumn")],__WEBPACK_AMD_DEFINE_RESULT__=function(columnToRowConverter,BooleanColumn){return columnToRowConverter.convert(BooleanColumn)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/elements/rows/TimestampRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/pivot/elements/rows/column_to_row_converter"),__webpack_require__("models/pivot/elements/columns/TimestampColumn")],__WEBPACK_AMD_DEFINE_RESULT__=function(columnToRowConverter,TimestampColumn){return columnToRowConverter.convert(TimestampColumn)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"helpers/pivot/PivotVisualizationManager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/pivot/custom_controls/TimeRangeControlGroup"),__webpack_require__("views/pivot/custom_controls/FilterTypeControlGroup"),__webpack_require__("views/pivot/custom_controls/FilterMatchControlGroup"),__webpack_require__("views/pivot/custom_controls/FilterLimitByControlGroup"),__webpack_require__("views/pivot/custom_controls/FilterLimitControlGroup"),__webpack_require__("views/pivot/custom_controls/LabelControlGroup"),__webpack_require__("views/pivot/custom_controls/AxisLabelControlGroup"),__webpack_require__("views/pivot/custom_controls/TimePeriodControlGroup"),__webpack_require__("views/pivot/custom_controls/CreateRangesControlGroup"),__webpack_require__("views/pivot/custom_controls/SplitSortControlGroup"),__webpack_require__("views/pivot/custom_controls/SplitLimitControlGroup"),__webpack_require__("views/pivot/custom_controls/MaxRangesControlGroup"),__webpack_require__("views/pivot/custom_controls/RangeSizeControlGroup"),__webpack_require__("views/pivot/custom_controls/RangeStartControlGroup"),__webpack_require__("views/pivot/custom_controls/RangeEndControlGroup"),__webpack_require__("views/pivot/custom_controls/TrueLabelControlGroup"),__webpack_require__("views/pivot/custom_controls/FalseLabelControlGroup"),__webpack_require__("views/pivot/custom_controls/CellValueControlGroup"),__webpack_require__("constants/pivot"),__webpack_require__("helpers/VisualizationRegistry"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,TimeRangeControlGroup,FilterTypeControlGroup,FilterMatchControlGroup,FilterLimitByControlGroup,FilterLimitControlGroup,LabelControlGroup,AxisLabelControlGroup,TimePeriodControlGroup,CreateRangesControlGroup,SplitSortControlGroup,SplitLimitControlGroup,MaxRangesControlGroup,RangeSizeControlGroup,RangeStartControlGroup,RangeEndControlGroup,TrueLabelControlGroup,FalseLabelControlGroup,CellValueControlGroup,pivotConstants,VisualizationRegistry,splunkUtils){var generateSchema=function(){return _(VisualizationRegistry.getAllVisualizations()).chain().filter(function(vizConfig){return"statistics"===vizConfig.matchConfig["display.general.type"]||!!vizConfig.pivotSchema}).sortBy(function(vizConfig){return"statistics"===vizConfig.matchConfig["display.general.type"]?0:1}).map(convertFromVizConfig).value()},convertFromVizConfig=function(vizConfig){var converted=_(vizConfig).pick("id","icon","label"),pivotSchema=vizConfig.pivotSchema,editorSchema=vizConfig.editorSchema;return editorSchema=_(editorSchema).reject(function(panel){return _(EXCLUDE_IDS).contains(panel.id)}),"statistics"!==vizConfig.matchConfig["display.general.type"]&&(converted.reportLevelAttributes=_.extend({showRowSummary:"false",showColSummary:"false"},pivotSchema?pivotSchema.reportLevelAttributes:{})),pivotSchema&&(converted.configMenuPanels=generateConfigMenuPanels(pivotSchema,editorSchema),converted.requiresIndexTime=_(pivotSchema.panels).any(function(panel){return panel.required&&_.isEqual(panel.dataTypes,[pivotConstants.TIMESTAMP])})),converted},generateConfigMenuPanels=function(pivotSchema,editorSchema){var panels=_(pivotSchema.panels).map(function(panel){var generated=_(panel).pick("title","description","required","dataTypes","excludeFromEditor","labelElement","limitLabel","maxLength");return panel.elementType===pivotConstants.ROW_SPLIT?generated=_.extend({},ROW_SPLIT_PANEL,generated):panel.elementType===pivotConstants.SECONDARY_ROW_SPLIT?generated=_.extend({},SECONDARY_ROW_SPLIT_PANEL,generated):panel.elementType===pivotConstants.NUMERIC_CELL_VALUE?generated=_.extend({},NUMERIC_CELL_VALUE_PANEL,generated):panel.elementType===pivotConstants.CELL_VALUE?generated=_.extend({},CELL_VALUE_PANEL,generated):panel.elementType===pivotConstants.COLUMN_SPLIT&&(generated=_.extend({},COLUMN_SPLIT_PANEL,generated)),panel.importFromEditor&&(generated.formElements=_(editorSchema).findWhere({id:panel.importFromEditor}).formElements,generated=processPanelFormElements(generated),generated.formElements=generated.formElements.concat(panel.appendToEditor||[])),generated}),rowSplitPanels=_(panels).where({elementType:pivotConstants.ROW_SPLIT});rowSplitPanels.length>1&&_(rowSplitPanels).each(function(panel,i){panel.elementsSelector=function(matches){return matches.length>i?[matches[i]]:[]},panel.newElementHandler=function(){return{at:i}},i>0&&(panel.isEnabledForAdd=function(matches){if(matches.length<i)return splunkUtils.sprintf(_("Select %s before adding %s.").t(),rowSplitPanels[i-1].title,panel.title)})});var cellValuePanels=_(panels).where({elementType:pivotConstants.CELL_VALUE});cellValuePanels.length>1&&_(cellValuePanels).each(function(panel,i){panel.elementsSelector=function(matches){return matches.length>i?[matches[i]]:[]},panel.newElementHandler=function(){return{at:i}},i>0&&(panel.isEnabledForAdd=function(matches){if(matches.length<i)return splunkUtils.sprintf(_("Select %s before adding %s.").t(),cellValuePanels[i-1].title,panel.title)})});var editorOnlyPanels=_(editorSchema).reject(function(schemaEntry){return!!_(pivotSchema.panels).findWhere({importFromEditor:schemaEntry.id})||_(pivotSchema.excludeFromEditor||[]).contains(schemaEntry.id)});return editorOnlyPanels=_(editorOnlyPanels).map(processPanelFormElements),[TIME_RANGE_PANEL,FILTER_PANEL].concat(panels,editorOnlyPanels)},processPanelFormElements=function(panel){var processed=_.extend({},panel,{formElements:_(panel.formElements).reject(function(formElement){return _(panel.excludeFromEditor||[]).contains(formElement.name)})});return panel.hasOwnProperty("labelElement")&&(processed=_.extend({},processed,{pivotFormElements:_(processed.pivotFormElements).map(function(formElement){return formElement.group===LabelControlGroup?panel.labelElement:formElement})})),processed.pivotFormElements=_(processed.pivotFormElements).compact(),panel.limitLabel&&(processed=_.extend({},processed,{pivotFormElements:_(processed.pivotFormElements).map(function(formElement){return formElement.group===SplitLimitControlGroup?_.extend({},formElement,{groupOptions:_.extend({},formElement.groupOptions,{label:panel.limitLabel})}):formElement})})),processed},VIZ_TYPES={STATISTICS_TABLE:"statistics",BAR_CHART:"bar",COLUMN_CHART:"column",AREA_CHART:"area",LINE_CHART:"line",PIE_CHART:"pie",SCATTER_CHART:"scatter",BUBBLE_CHART:"bubble",SINGLE_VALUE:"singlevalue",RADIAL_GAUGE:"radialGauge",MARKER_GAUGE:"markerGauge",FILLER_GAUGE:"fillerGauge"};VIZ_TYPES.SIMPLE_CARTESIAN_TYPES=[VIZ_TYPES.BAR_CHART,VIZ_TYPES.COLUMN_CHART,VIZ_TYPES.LINE_CHART,VIZ_TYPES.AREA_CHART],VIZ_TYPES.BAR_COLUMN_TYPES=[VIZ_TYPES.BAR_CHART,VIZ_TYPES.COLUMN_CHART],VIZ_TYPES.LINE_AREA_TYPES=[VIZ_TYPES.LINE_CHART,VIZ_TYPES.AREA_CHART],VIZ_TYPES.GAUGE_TYPES=[VIZ_TYPES.RADIAL_GAUGE,VIZ_TYPES.MARKER_GAUGE,VIZ_TYPES.FILLER_GAUGE];var CONTROL_TYPES={REPORT_CONTROL:"reportControl",VISUALIZATION_CONTROL:"vizControl"},AGGREGATION_OUTPUT_TYPES={METRIC:"metric",DIMENSION:"dimension"},TIME_RANGE_PANEL={title:_("Time Range").t(),elementType:pivotConstants.FILTER,dataTypes:[pivotConstants.TIMESTAMP],maxLength:1,required:!0,pivotFormElements:[{group:TimeRangeControlGroup}]},FILTER_FORM_ELEMENTS=[{id:"filter-type",group:FilterTypeControlGroup,visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER]}},{id:"filter-match",group:FilterMatchControlGroup,visibleWhen:{filterType:"match"}},{id:"filter-limit-by",group:FilterLimitByControlGroup,visibleWhen:{filterType:"limit"}},{id:"filter-limit",group:FilterLimitControlGroup,visibleWhen:{filterType:"limit"}}],FILTER_PANEL={title:_("Filter").t(),elementType:pivotConstants.FILTER,dataTypes:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN],pivotFormElements:FILTER_FORM_ELEMENTS},ROW_SPLIT_FORM_ELEMENTS=[{id:"split-label",group:LabelControlGroup,visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN]}},{id:"split-sort",type:CONTROL_TYPES.REPORT_CONTROL,group:SplitSortControlGroup,visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN]}},{id:"split-limit-string",splitLimitGroup:!0,type:CONTROL_TYPES.REPORT_CONTROL,group:SplitLimitControlGroup,groupOptions:{elementType:"row"},visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4]}},{id:"create-ranges",group:CreateRangesControlGroup,visibleWhen:{type:pivotConstants.NUMBER}},{id:"split-limit-number",type:CONTROL_TYPES.REPORT_CONTROL,group:SplitLimitControlGroup,groupOptions:{elementType:"row"},visibleWhen:{type:pivotConstants.NUMBER,display:"all"}},{id:"max-ranges",group:MaxRangesControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"range-size",group:RangeSizeControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"range-start",group:RangeStartControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"range-end",group:RangeEndControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"true-label",group:TrueLabelControlGroup,visibleWhen:{type:pivotConstants.BOOLEAN}},{id:"false-label",group:FalseLabelControlGroup,visibleWhen:{type:pivotConstants.BOOLEAN}},{id:"time-period",group:TimePeriodControlGroup,groupOptions:{menuWidth:"narrow"},visibleWhen:{type:pivotConstants.TIMESTAMP}}],ROW_SPLIT_PANEL={elementType:pivotConstants.ROW_SPLIT,dataTypes:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN,pivotConstants.TIMESTAMP],maxLength:1,pivotFormElements:ROW_SPLIT_FORM_ELEMENTS},SECONDARY_ROW_SPLIT_PANEL={elementType:pivotConstants.ROW_SPLIT,dataTypes:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN,pivotConstants.TIMESTAMP],maxLength:1,pivotFormElements:_(ROW_SPLIT_FORM_ELEMENTS).reject(function(element){return"split-sort"===element.id||"split-limit-number"===element.id||"split-limit-string"===element.id})},COLUMN_SPLIT_FORM_ELEMENTS=[{id:"split-limit-string",type:CONTROL_TYPES.REPORT_CONTROL,group:SplitLimitControlGroup,groupOptions:{elementType:"column"},visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4]}},{id:"create-ranges",group:CreateRangesControlGroup,visibleWhen:{type:pivotConstants.NUMBER}},{id:"split-limit-number",type:CONTROL_TYPES.REPORT_CONTROL,group:SplitLimitControlGroup,groupOptions:{elementType:"column"},visibleWhen:{type:pivotConstants.NUMBER,display:"all"}},{id:"max-ranges",group:MaxRangesControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"range-size",group:RangeSizeControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"range-start",group:RangeStartControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"range-end",group:RangeEndControlGroup,visibleWhen:{type:pivotConstants.NUMBER,display:"ranges"}},{id:"true-label",group:TrueLabelControlGroup,visibleWhen:{type:pivotConstants.BOOLEAN}},{id:"false-label",group:FalseLabelControlGroup,visibleWhen:{type:pivotConstants.BOOLEAN}},{id:"time-period",group:TimePeriodControlGroup,groupOptions:{menuWidth:"narrow"},visibleWhen:{type:pivotConstants.TIMESTAMP}}],COLUMN_SPLIT_PANEL={elementType:pivotConstants.COLUMN_SPLIT,dataTypes:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN,pivotConstants.TIMESTAMP],
maxLength:1,pivotFormElements:COLUMN_SPLIT_FORM_ELEMENTS},CELL_VALUE_FORM_ELEMENTS=[{id:"cell-label",group:LabelControlGroup,visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN,pivotConstants.OBJECT_COUNT,pivotConstants.CHILD_COUNT]}},{id:"cell-stats-fn",group:CellValueControlGroup,visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.BOOLEAN,pivotConstants.TIMESTAMP]}}],NUMERIC_CELL_VALUE_PANEL={elementType:pivotConstants.CELL_VALUE,dataTypes:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.OBJECT_COUNT,pivotConstants.CHILD_COUNT],outputType:AGGREGATION_OUTPUT_TYPES.METRIC,maxLength:1,pivotFormElements:[{id:"cell-label",group:LabelControlGroup},{id:"cell-stats-fn",group:CellValueControlGroup,groupOptions:{outputType:AGGREGATION_OUTPUT_TYPES.METRIC},visibleWhen:{type:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER]}}]},CELL_VALUE_PANEL={elementType:pivotConstants.CELL_VALUE,dataTypes:[pivotConstants.STRING,pivotConstants.IPV4,pivotConstants.NUMBER,pivotConstants.OBJECT_COUNT,pivotConstants.CHILD_COUNT],maxLength:1,pivotFormElements:CELL_VALUE_FORM_ELEMENTS},EXCLUDE_IDS=["layout"],PivotVizManager=function(){$.extend(this,VIZ_TYPES,CONTROL_TYPES,pivotConstants,AGGREGATION_OUTPUT_TYPES,{FILTER_FORM_ELEMENTS:FILTER_FORM_ELEMENTS,ROW_SPLIT_FORM_ELEMENTS:ROW_SPLIT_FORM_ELEMENTS,COLUMN_SPLIT_FORM_ELEMENTS:COLUMN_SPLIT_FORM_ELEMENTS,CELL_VALUE_FORM_ELEMENTS:CELL_VALUE_FORM_ELEMENTS})};return $.extend(PivotVizManager.prototype,{generateSchema:function(){this.schema=generateSchema()},getSchema:function(){return this.schema||this.generateSchema(),this.schema},getConfigByVizType:function(vizType){return _(this.getSchema()).find(function(configObject){return configObject.id===vizType})}}),new PivotVizManager}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/SplitLimitControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup,Control){return ControlGroup.extend({moduleId:module.id,initialize:function(options){var showGroupOthersControl="column"===options.elementType&&!(options.dataType in{boolean:!0,timestamp:!0});this.options.label=options.label||_("Limit").t(),this.options.helpClass="pivot-inspector-help-text",this.options.help=" ",this.options.controlClass=showGroupOthersControl?"controls-fill":"",this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"row"===options.elementType?"rowLimitAmount":"colLimitAmount",inputClassName:showGroupOthersControl?"input-small":"input-medium"}}],showGroupOthersControl&&(this.options.controls[0].options.className=Control.prototype.className+" input-append",this.options.controls.push({type:"SyntheticSelect",options:{className:Control.prototype.className+" input-append",model:this.model,modelAttribute:"showOtherCol",toggleClassName:"btn",menuWidth:"narrow",items:[{label:_("Group Others").t(),value:"true"},{label:_("Hide Others").t(),value:"false"}],popdownOptions:{detachDialog:!0}}})),ControlGroup.prototype.initialize.call(this,this.options)},disable:function(message){this.$(".pivot-inspector-help-text").text(message).css("display","block"),ControlGroup.prototype.disable.apply(this,arguments)},enable:function(){this.$(".pivot-inspector-help-text").text("").css("display","none"),ControlGroup.prototype.enable.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/TimeRangeControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/TimeRange"),__webpack_require__("views/shared/controls/Control"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/timerangepicker/dialog/Master"),__webpack_require__("views/shared/delegates/Popdown")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,TimeRange,Control,ControlGroup,DialogMaster,Popdown){var TimeRangeControl=Control.extend({initialize:function(){this.options.modelAttribute="label",Control.prototype.initialize.call(this,this.options),this.children.timeRangeDialog=new DialogMaster({model:{timeRange:this.model.timeRange,application:this.options.application,appLocal:this.options.appLocal,user:this.options.user},collection:this.model.timePresets}),this.children.popdown=new Popdown({el:this.el,mode:"dialog",detachDialog:!0,minMargin:120,ignoreClasses:["ui-datepicker","ui-datepicker-header","dropdown-menu"]}),this.listenTo(this.children.popdown,"shown",function(){this.children.timeRangeDialog.onShown()}),this.listenTo(this.model.timeRange,"applied",function(){this.children.popdown.hide()})},render:function(){this.el.innerHTML?(this.$(".link-label").text(this.model.get("label")),this.children.popdown.hide()):(this.$el.html(this.compiledTemplate({model:this.model,options:this.options})),this.$popdownWrapper=this.$(".popdown-dialog"),this.$popdownWrapper.append(this.children.timeRangeDialog.render().el),this.$popdownWrapper.width(640))},template:'\t            <a href="#" class="popdown-toggle <%- options.toggleClassName %>">\t                <span class="link-label"><%- model.get("label") %></span><span class="caret"></span>\t            </a>\t            <div class="popdown-dialog">\t                <div class="arrow"></div>\t            </div>\t        '});return ControlGroup.extend({moduleId:module.id,initialize:function(){var control=new TimeRangeControl({model:this.model,collection:this.collection,application:this.options.application,appLocal:this.options.appLocal,user:this.options.user,toggleClassName:"btn"});this.options.controls=[control],this.options.label=_("Range").t(),ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/FilterTypeControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Filter Type").t(),this.options.controls=[{type:"SyntheticRadio",options:{model:this.model,modelAttribute:"filterType",items:[{label:_("Match").t(),value:"match"},{label:_("Limit").t(),value:"limit"}]}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/FilterMatchControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/Control"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("util/pivot/config_form_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ControlGroup,Control,TextControl,Popdown,configFormUtils,splunkUtil){var COMPARATOR_ITEMS={string:[{value:"is",label:configFormUtils.filterRuleToDisplay("is")},{value:"contains",label:configFormUtils.filterRuleToDisplay("contains")},{value:"isNot",label:configFormUtils.filterRuleToDisplay("isNot")},{value:"doesNotContain",label:configFormUtils.filterRuleToDisplay("doesNotContain")},{value:"startsWith",label:configFormUtils.filterRuleToDisplay("startsWith")},{value:"endsWith",label:configFormUtils.filterRuleToDisplay("endsWith")},{value:"isNull",label:configFormUtils.filterRuleToDisplay("isNull")},{value:"isNotNull",label:configFormUtils.filterRuleToDisplay("isNotNull")},{value:"in",label:configFormUtils.filterRuleToDisplay("in")}],ipv4:[{value:"is",label:configFormUtils.filterRuleToDisplay("is")},{value:"contains",label:configFormUtils.filterRuleToDisplay("contains")},{value:"isNot",label:configFormUtils.filterRuleToDisplay("isNot")},{value:"doesNotContain",label:configFormUtils.filterRuleToDisplay("doesNotContain")},{value:"startsWith",label:configFormUtils.filterRuleToDisplay("startsWith")},{value:"isNull",label:configFormUtils.filterRuleToDisplay("isNull")},{value:"isNotNull",label:configFormUtils.filterRuleToDisplay("isNotNull")},{value:"in",label:configFormUtils.filterRuleToDisplay("in")}],number:[{value:"=",label:configFormUtils.filterRuleToDisplay("=")},{value:"!=",label:configFormUtils.filterRuleToDisplay("!=")},{value:"<=",label:configFormUtils.filterRuleToDisplay("<=")},{value:"<",label:configFormUtils.filterRuleToDisplay("<")},{value:">=",label:configFormUtils.filterRuleToDisplay(">=")},{value:">",label:configFormUtils.filterRuleToDisplay(">")},{value:"isNull",label:configFormUtils.filterRuleToDisplay("isNull")},{value:"isNotNull",label:configFormUtils.filterRuleToDisplay("isNotNull")}]},BOOLEAN_COMPARE_TO_ITEMS=[{value:"true",label:configFormUtils.filterRuleToDisplay("true")},{value:"false",label:configFormUtils.filterRuleToDisplay("false")},{value:"isNull",label:configFormUtils.filterRuleToDisplay("isNull")},{value:"isNotNull",label:configFormUtils.filterRuleToDisplay("isNotNull")}],CompareToTextControl=TextControl.extend({initialize:function(options){this.options.append=this.sampleValuesToggleTemplate,TextControl.prototype.initialize.call(this,this.options),this.children.sampleValues=new Popdown({el:this.el,detachDialog:!0}),this.children.sampleValues.on("show",this.onSampleValuesMenuShow,this),this.children.sampleValues.on("hide",this.onSampleValuesMenuHide,this)},render:function(){return TextControl.prototype.render.apply(this,arguments),this.$el.append(this.sampleValuesMenuTemplate),this.$sampleValuesMenu=this.$(".sample-values-menu"),this},onSampleValuesMenuShow:function(){var dispatchData={app:this.options.application.get("app"),owner:this.options.application.get("owner"),earliest_time:this.options.report.entry.content.get("dispatch.earliest_time")||0,provenance:"UI:Pivot"};this.options.report.entry.content.get("dispatch.latest_time")&&(dispatchData.latest_time=this.options.report.entry.content.get("dispatch.latest_time"));var sampleValues=this.options.dataTable.getSampleValuesModel(this.model.get("fieldName"),{data:dispatchData});sampleValues.has("values")?this.renderSampleValues(sampleValues):(this.$sampleValuesMenu.find(":not(.arrow)").remove(),this.$sampleValuesMenu.append(_(this.loadingSampleValuesTemplate).template({})),sampleValues.once("change:values",this.renderSampleValues,this));var that=this;this.$sampleValuesMenu.on("click",".sample-value",function(e){e.preventDefault();var value=$(e.currentTarget).attr("data-value");that.setValue(value,!0)})},onSampleValuesMenuHide:function(){this.$sampleValuesMenu.off()},renderSampleValues:function(sampleValues){this.$sampleValuesMenu.find(":not(.arrow)").remove(),this.$sampleValuesMenu.append(_(this.sampleValuesContentTemplate).template({limit:sampleValues.get("limit"),values:sampleValues.get("values")}))},sampleValuesToggleTemplate:'\t            <a href="#" class="add-on btn dropdown-toggle">\t                <i class="icon-triangle-down-small"></i>\t            </a>\t        ',sampleValuesMenuTemplate:'\t            <div class="sample-values-menu dropdown-menu">\t                <div class="arrow"></div>\t            </div>\t        ',loadingSampleValuesTemplate:'\t            <ul>\t                <li><a href="#" class="disabled"><%- _("Loading...").t() %></a></li>\t            </ul>\t        ',sampleValuesContentTemplate:'\t            <ul>\t                <% if(values.length > 0) { %>\t                    <% _(values).each(function(value) { %>\t                        <li class="sample-value" data-value="<%- value %>">\t                            <a href="#"><%- value %></a>\t                        </li>\t                    <% }); %>\t                    <% if(values.length == limit) { %>\t                        <li class="sample-value-limit">\t                            Displaying top <%- limit %> values\t                        </li>\t                    <% } %>\t                <% } else { %>\t                    <ul>\t                        <li><a href="#" class="disabled"><%- _("No Sample Values found.").t() %></a></li>\t                    </ul>\t                <% } %>\t            </ul>\t        '}),CompareToListTextControl=TextControl.extend({setValueFromModel:function(render){var rawValues=this.model.get(this.getModelAttribute());return rawValues=_(rawValues).isArray()?rawValues:[rawValues],this._setValue(splunkUtil.fieldListToString(rawValues),render),this},getUpdatedModelAttributes:function(){var updateAttrs=TextControl.prototype.getUpdatedModelAttributes.apply(this,arguments),rawValue=updateAttrs[this.getModelAttribute()];return updateAttrs[this.getModelAttribute()]=splunkUtil.stringToFieldList(rawValue),updateAttrs}}),DEFAULT_COMPARE_TO="*";return ControlGroup.extend({moduleId:module.id,initialize:function(){var controls=[],dataType=this.model.get("type");"string"!==dataType&&"ipv4"!==dataType&&"number"!==dataType||controls.push({type:"SyntheticSelect",options:{className:Control.prototype.className+" input-prepend",model:this.model,modelAttribute:"ruleComparator",toggleClassName:"btn",menuWidth:"narrow",items:COMPARATOR_ITEMS[dataType],popdownOptions:{detachDialog:!0}}}),"boolean"===dataType?controls.push({type:"SyntheticSelect",options:{model:this.model,modelAttribute:"ruleCompareTo",toggleClassName:"btn",menuWidth:"narrow",items:BOOLEAN_COMPARE_TO_ITEMS,popdownOptions:{detachDialog:!0}}}):(controls.push(new CompareToTextControl({className:Control.prototype.className+" input-prepend",model:this.model,modelAttribute:"ruleCompareTo",inputClassName:"input-small",report:this.options.report,dataTable:this.options.dataTable,application:this.options.application})),"string"!==dataType&&"ipv4"!==dataType||controls.push(new CompareToListTextControl({className:Control.prototype.className+" input-prepend",model:this.model,modelAttribute:"ruleCompareTo",inputClassName:"input-medium"}))),this.options.label=_("Match").t(),this.options.controls=controls,ControlGroup.prototype.initialize.call(this,this.options),this.ruleComparatorControl=this.childList[0],this.childList.length>1&&(this.ruleCompareToControl=this.childList[1]),this.childList.length>2&&(this.ruleCompareToListControl=this.childList[2]),this.model.on("change:ruleComparator",this.handleComparatorChange,this),this.model.on("change:ruleCompareTo",this.handleCompareToChange,this)},render:function(){return ControlGroup.prototype.render.apply(this,arguments),this.handleComparatorChange(),this},handleComparatorChange:function(){var newComparator=this.model.get("ruleComparator"),oldComparator=this.model.previous("ruleComparator");this.model.hasChanged("ruleComparator")&&("in"===oldComparator?(this.previousListCompareTo=this.model.get("ruleCompareTo"),this.model.set({ruleCompareTo:1===this.previousListCompareTo.length?this.previousListCompareTo[0]:DEFAULT_COMPARE_TO})):"in"===newComparator&&this.model.set({ruleCompareTo:this.previousListCompareTo||[this.model.get("ruleCompareTo")]})),this.ruleCompareToControl&&(newComparator in{isNull:!0,isNotNull:!0}?(this.ruleCompareToControl.detach(),this.ruleCompareToListControl&&this.ruleCompareToListControl.detach(),this.ruleComparatorControl.$el.removeClass("input-prepend"),this.setHelpText("")):"in"===newComparator?(this.ruleCompareToControl.detach(),this.ruleCompareToListControl.insertAfter(this.ruleComparatorControl.el),this.ruleComparatorControl.$el.addClass("input-prepend"),this.setHelpText(this.matchListComparatorHelpText)):(this.ruleCompareToListControl&&this.ruleCompareToListControl.detach(),this.ruleCompareToControl.insertAfter(this.ruleComparatorControl.el),this.ruleComparatorControl.$el.addClass("input-prepend"),this.setHelpText("")))},handleCompareToChange:function(){"in"===this.model.get("ruleComparator")||this.model.hasChanged("ruleComparator")||(this.previousListCompareTo=null)},matchListComparatorHelpText:"\t            Enter a comma-separated list of allowed values. Wildcards are permitted.\t            <br />\t            Example:  warning, error-*\t        "})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/FilterLimitByControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/pivot/custom_controls/FieldPickerControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,SyntheticSelectControl,FieldPickerControlGroup){var FieldPickerControl=FieldPickerControlGroup.prototype.control;return FieldPickerControlGroup.extend({moduleId:module.id,control:FieldPickerControl.extend({moduleId:module.id,initialize:function(){this.options.modelAttribute="limitBy",this.options.popdownOptions={detachDialog:!0},FieldPickerControl.prototype.initialize.call(this,this.options)},updateModel:function(options){return SyntheticSelectControl.prototype.updateModel.call(this,options)},getUpdatedModelAttributes:function(){var that=this,item=_(this.options.items).find(function(item){return item.value===that._value});return{limitBy:this._value,limitByOwner:item.owner,limitByDataType:item.type,limitByDisplayName:item.label}}}),initialize:function(){this.options.label=_("Limit By").t(),this.options.dataTypes=["string","ipv4","number","objectCount","childCount"],this.options.showRemoveButton=!1,FieldPickerControlGroup.prototype.initialize.call(this,this.options)},generateMenuItems:function(){var items=FieldPickerControlGroup.prototype.generateMenuItems.call(this),thisItem=_(items).find(function(item){return item.fieldName===this.model.get("fieldName")},this);return thisItem&&(thisItem.label=_("This field").t(),thisItem.icon="none",items=_.union([thisItem],_(items).without(thisItem))),items}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/FieldPickerControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("util/datamodel/field_icon_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ControlGroup,SyntheticSelectControl,fieldIconUtils){var FieldPickerControl=SyntheticSelectControl.extend({initialize:function(){this.options=$.extend({modelAttribute:"fieldName",toggleClassName:"btn",menuClassName:"pivot-field-picker-dropdown",popdownOptions:{detachDialog:!0}},this.options),_(this.options.items).each(this.prepareItem,this),SyntheticSelectControl.prototype.initialize.call(this,this.options)},updateModel:function(options){var that=this,item=_(this.options.items).find(function(item){return item.value===that._value}),attrs=this.options.dataTable.getFieldByName(item.fieldName);return this.model.trigger("hotSwap",attrs),!0},prepareItem:function(item){item.icon=fieldIconUtils.fieldIconClassByType(item.type),item.value=item.fieldName,item.label=item.label||item.displayName}});return ControlGroup.extend({moduleId:module.id,control:FieldPickerControl,events:$.extend({},ControlGroup.prototype.events,{"click .remove-button":function(e){e.preventDefault(),this.model.trigger("removeField")}}),initialize:function(){this.dataTable=this.options.dataTable,this.options.controls=[new this.control({items:this.generateMenuItems(),model:this.model,dataTable:this.dataTable})],this.options.label||(this.options.label=_("Field").t()),this.$el.addClass("pivot-field-picker-group"),ControlGroup.prototype.initialize.call(this,this.options)},generateMenuItems:function(){var groupedReportFields=this.dataTable.getGroupedFieldList(),orderedReportFields=_.union(groupedReportFields.objectCount||[],groupedReportFields.timestamp||[],groupedReportFields.other);this.options.hasOwnProperty("dataTypes")&&(orderedReportFields=_(orderedReportFields).filter(function(field){return _(this.options.dataTypes).contains(field.type)},this));var elementType=this.model.get("elementType");if(elementType in{row:!0,column:!0}){var existingFieldNames=this.options.report.getElementCollectionByType(elementType).pluck("fieldName");orderedReportFields=_(orderedReportFields).filter(function(field){return field.fieldName===this.model.get("fieldName")||!_(existingFieldNames).contains(field.fieldName)},this)}return orderedReportFields},render:function(){return ControlGroup.prototype.render.call(this),this.options.showRemoveButton!==!1&&this.$(".dropdown-toggle").after('<a class="remove-button" href="#"><i class="icon-x-circle icon-large"></i></a>'),this.$(".dropdown-toggle").tooltip({animation:!1,container:"body",title:function(){return $(this).text().trim()},placement:function(tooltip){return $(tooltip).addClass("tooltip-full-width"),"top"}}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/datamodel/field_icon_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(_){var fieldIconClassByType=function(type){switch(type){case"string":case"ipv4":return"string";case"number":case"objectCount":case"childCount":return"number";case"boolean":return"boolean";case"timestamp":return"clock";default:return!1}},fieldIconByType=function(type){var iconClass=fieldIconClassByType(type);return iconClass?'<i class="icon-'+iconClass+'"></i>':"<i>&nbsp;</i>"},fieldHiddenIcon=function(hidden){if(hidden){var hiddenTitle=_("Hidden").t();return'<i class="icon-hidden" title="'+hiddenTitle+'"></i>'}var visibleTitle=_("Visible").t();return'<i class="icon-visible" title="'+visibleTitle+'"></i>'},fieldRequiredIcon=function(required){if(required){var requiredTitle=_("Required").t();return'<i class="icon-alert-circle" title="'+requiredTitle+'"></i>'}var optionalTitle=_("Optional").t();return'<i class="icon-circle" title="'+optionalTitle+'"></i>'};return{fieldIconByType:fieldIconByType,fieldIconClassByType:fieldIconClassByType,fieldHiddenIcon:fieldHiddenIcon,fieldRequiredIcon:fieldRequiredIcon}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/FilterLimitControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("require/underscore"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/controls/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,_,ControlGroup,SyntheticSelectControl,TextControl,Control){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Limit").t(),this.stringStatsFnControl=new SyntheticSelectControl({model:this.model,modelAttribute:"limitStatsFn",className:Control.prototype.className+" input-append",toggleClassName:"btn",menuWidth:"narrow",popdownOptions:{detachDialog:!0},items:[{value:"count",label:_("counts").t()},{value:"dc",label:_("distinct counts").t()}]}),this.numberStatsFnControl=new SyntheticSelectControl({model:this.model,modelAttribute:"limitStatsFn",className:Control.prototype.className+" input-append",toggleClassName:"btn",menuWidth:"narrow",popdownOptions:{detachDialog:!0},items:[{value:"count",label:_("counts").t()},{value:"dc",label:_("distinct counts").t()},{value:"sum",label:_("sums").t()},{value:"avg",label:_("averages").t()}]}),this.limitAmountControl=new TextControl({model:this.model,modelAttribute:"limitAmount",className:Control.prototype.className+" input-prepend",inputClassName:this.options.inputClassName||"input-very-small"}),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"limitType",className:Control.prototype.className+" input-prepend",toggleClassName:"btn",menuWidth:"narrow",popdownOptions:{detachDialog:!0},items:[{value:"highest",label:_("Highest").t()},{value:"lowest",label:_("Lowest").t()}]}},this.limitAmountControl,this.stringStatsFnControl,this.numberStatsFnControl],this.model.on("change:limitByDataType",this.handleLimitByDataTypeChange,this),ControlGroup.prototype.initialize.call(this,this.options)},handleLimitByDataTypeChange:function(){var limitByDataType=this.model.get("limitByDataType");if("string"===limitByDataType||"ipv4"===limitByDataType)this.limitAmountControl.$el.addClass("input-append"),this.stringStatsFnControl.wake().$el.css({display:"inline-block"}),this.numberStatsFnControl.sleep().$el.hide(),this.model.get("limitStatsFn")in{count:!0,dc:!0}||this.model.set({limitStatsFn:"count"});else if("number"===limitByDataType)this.limitAmountControl.$el.addClass("input-append"),this.stringStatsFnControl.sleep().$el.hide(),this.numberStatsFnControl.wake().$el.css({display:"inline-block"});else{this.limitAmountControl.$el.removeClass("input-append"),this.stringStatsFnControl.sleep().$el.hide(),this.numberStatsFnControl.sleep().$el.hide();var isObjectCount="objectCount"===limitByDataType||"childCount"===limitByDataType;isObjectCount&&"count"!==this.model.get("limitStatsFn")&&this.model.set({limitStatsFn:"count"})}},render:function(){return ControlGroup.prototype.render.call(this),this.handleLimitByDataTypeChange(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/LabelControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Label").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"label",placeholder:_("optional").t(),inputClassName:"input-pivot-label"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/TimePeriodControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup,configFormUtils){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Periods").t(),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"period",toggleClassName:"btn",menuWidth:this.options.menuWidth,popdownOptions:{detachDialog:!0},items:[{value:"auto",label:configFormUtils.splitTimePeriodToDisplay("auto",this.options.showSamples)},{value:"year",label:configFormUtils.splitTimePeriodToDisplay("year",this.options.showSamples)},{value:"month",label:configFormUtils.splitTimePeriodToDisplay("month",this.options.showSamples)},{value:"day",label:configFormUtils.splitTimePeriodToDisplay("day",this.options.showSamples)},{value:"hour",label:configFormUtils.splitTimePeriodToDisplay("hour",this.options.showSamples)},{value:"minute",label:configFormUtils.splitTimePeriodToDisplay("minute",this.options.showSamples)},{value:"second",label:configFormUtils.splitTimePeriodToDisplay("second",this.options.showSamples)}]}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/CreateRangesControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Create Ranges").t(),this.options.controls=[{type:"SyntheticRadio",options:{model:this.model,modelAttribute:"display",items:[{label:_("Yes").t(),value:"ranges"},{label:_("No").t(),value:"all"}]}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/SplitSortControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("util/pivot/config_form_utils"),__webpack_require__("util/keyboard"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup,configFormUtils,keyboardUtils,splunkUtils){return ControlGroup.extend({moduleId:module.id,events:{"click .help-tooltip":function(e){e.preventDefault()},"keypress .help-tooltip":function(e){e.which===keyboardUtils.KEYS.ENTER&&e.preventDefault()}},initialize:function(options){if(this.options.label=_("Sort").t(),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"rowLimitType",toggleClassName:"btn",menuWidth:"narrow",items:[{value:"default",label:_("Default").t()},{value:"descending",label:_("Descending").t()},{value:"ascending",label:_("Ascending").t()}],popdownOptions:{detachDialog:!0}}}],options.showHelpText){var limitByField=options.report.entry.content.cells.find(function(cell){return cell.get("value")in{count:!0,dc:!0,sum:!0,avg:!0}||cell.get("type")in{objectCount:!0,childCount:!0}}),limitByDisplayName=limitByField?limitByField.getComputedLabel():configFormUtils.getCellValueLabel(options.report.getPivotObjectName(),"count");this.options.help=_(this.helpTextTemplate).template({helpMessage:splunkUtils.sprintf(_("(By %s)").t(),limitByDisplayName),helpTooltip:_("When sorting by Ascending or Descending, the first compatible Column Value is used. If none are defined, Count of rows will be used.").t()
}),this.options.helpClass="pivot-inspector-help-text",this.model.on("change:rowLimitType",this.handleLimitType,this)}ControlGroup.prototype.initialize.call(this,this.options)},render:function(){return ControlGroup.prototype.render.apply(this,arguments),this.$(".help-tooltip").tooltip({animation:!1}),this.handleLimitType(),this},handleLimitType:function(){"default"===this.model.get("rowLimitType")?this.$(".pivot-inspector-help-text").css("display","none"):this.$(".pivot-inspector-help-text").css("display","block")},helpTextTemplate:'\t            <span><%- helpMessage %></span>\t            <a href="#" class="help-tooltip" title="<%- helpTooltip %>">?</a>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/MaxRangesControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Max # of Ranges").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"maxNumRanges",placeholder:_("optional").t(),inputClassName:"input-medium"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/RangeSizeControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Range Size").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"rangeSize",placeholder:_("optional").t(),inputClassName:"input-medium"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/RangeStartControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Range Start").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"rangeStart",placeholder:_("optional").t(),inputClassName:"input-medium"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/RangeEndControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Range End").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"rangeEnd",placeholder:_("optional").t(),inputClassName:"input-medium"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/TrueLabelControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("True Label").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"trueLabel",placeholder:_("optional").t(),inputClassName:"input-medium"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/FalseLabelControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("False Label").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"falseLabel",placeholder:_("optional").t(),inputClassName:"input-medium"}}],ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/CellValueControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup,configFormUtils){var STRING_ITEMS=[{value:"values",label:configFormUtils.cellValueToDisplay("values")},{value:"earliest",label:configFormUtils.cellValueToDisplay("earliest")},{value:"latest",label:configFormUtils.cellValueToDisplay("latest")},{value:"count",label:configFormUtils.cellValueToDisplay("count")},{value:"dc",label:configFormUtils.cellValueToDisplay("dc")}],NUMBER_ITEMS=[{value:"sum",label:configFormUtils.cellValueToDisplay("sum")},{value:"count",label:configFormUtils.cellValueToDisplay("count")},{value:"avg",label:configFormUtils.cellValueToDisplay("avg")},{value:"max",label:configFormUtils.cellValueToDisplay("max")},{value:"min",label:configFormUtils.cellValueToDisplay("min")},{value:"stdev",label:configFormUtils.cellValueToDisplay("stdev")},{value:"median",label:configFormUtils.cellValueToDisplay("median")},{value:"values",label:configFormUtils.cellValueToDisplay("values")}],TIMESTAMP_ITEMS=[{value:"duration",label:configFormUtils.cellValueToDisplay("duration")},{value:"earliest",label:configFormUtils.cellValueToDisplay("earliest")},{value:"latest",label:configFormUtils.cellValueToDisplay("latest")}];return ControlGroup.extend({moduleId:module.id,initialize:function(){this.options.label=_("Value").t();var selectItems=this.determineSelectItems(this.model.get("type"));this.options.hasOwnProperty("outputType")&&(selectItems=_(selectItems).filter(function(item){return configFormUtils.cellValueToOutputType(item.value)===this.options.outputType},this)),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"value",toggleClassName:"btn",menuWidth:"narrow",items:selectItems,popdownOptions:{detachDialog:!0}}}],ControlGroup.prototype.initialize.call(this,this.options)},determineSelectItems:function(dataType){switch(dataType){case"string":case"ipv4":return STRING_ITEMS;case"number":return NUMBER_ITEMS;case"timestamp":return TIMESTAMP_ITEMS;default:return[]}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/extensions/DeclarativeDependencies":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone){return function(Target){return Target.extend({initialize:function(){if(this.options.apiResources){if(this.model instanceof Backbone.Model)throw new Error("Declarative Dependency views only accept dictionaries as their `model` constructor option");if(this.collection instanceof Backbone.Collection)throw new Error("Declarative Dependency views only accept dictionaries as their `collection` constructor option");this.apiResources=this.options.apiResources,this.deferreds=this.options.apiResources.deferreds,this.model=this.model||{},this.collection=this.collection||{},_(this.apiResources).each(function(resource,name){if(resource instanceof Backbone.Model){if(this.model[name])throw new Error("Api Resource "+name+" collides with a model constructor option");this.model[name]=resource}if(resource instanceof Backbone.Collection){if(this.collection[name])throw new Error("Api Resource "+name+" collides with a collection constructor option");this.collection[name]=resource}},this)}Target.prototype.initialize.call(this,this.options)}},{apiDependencies:Target.apiDependencies||{}})}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/datatable/PivotableDataTable":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("collections/Base"),__webpack_require__("constants/pivot"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseCollection,pivotConstants,BaseModel){var FieldModel=BaseModel.extend({idAttribute:"fieldName",defaults:{type:pivotConstants.STRING}}),FieldCollection=BaseCollection.extend({model:FieldModel,comparator:function(field){var displayNameLower=(field.get("displayName")||"").toLowerCase();return field.type===pivotConstants.OBJECT_COUNT?"a"+displayNameLower:field.type===pivotConstants.CHILD_COUNT?"b"+displayNameLower:"c"+displayNameLower}}),PivotableDataTable=BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments),this.fields=this.associated.fields=new FieldCollection},getFieldList:function(){return this.fields.invoke("toJSON")},getGroupedFieldList:function(){var groups=_(this.getFieldList()).groupBy(function(field){return field.type===pivotConstants.TIMESTAMP?"timestamp":field.type===pivotConstants.OBJECT_COUNT||field.type===pivotConstants.CHILD_COUNT?"objectCount":"other"});return groups.objectCount=groups.objectCount||[],groups.timestamp=groups.timestamp||[],groups.other=groups.other||[],groups},getIndexTimeField:function(){return this.fields.findWhere({fieldName:"_time",type:pivotConstants.TIMESTAMP})},hasIndexTimeField:function(){return!!this.getIndexTimeField()},getFieldByName:function(fieldName){var field=this.fields.get(fieldName);return field?field.toJSON():null},isAccelerated:function(){return!!this.get("accelerationNamespace")},convertToFullyQualifiedName:function(fieldName){return this.getFieldByName(fieldName).fullyQualifiedName},getSampleValuesModel:function(fieldName,fetchOptions){throw new Error("Implementation required!")},hasParentDataModel:function(){return!1},getDataModelName:function(){throw new Error("This data table is not associated with a data model.")},getDataModelId:function(){throw new Error("This data table is not associated with a data model.")}},{createFromDataModelObject:function(dataModelObject,dataModel){return PivotableTableFromDataModelObject.create(dataModelObject,dataModel)},createFromDataset:function(dataset,dataSetNameObject){return PivotableTableFromDataset.create(dataset,dataSetNameObject)}}),PivotableTableFromDataModelObject=PivotableDataTable.extend({initialize:function(attributes,options){if(PivotableDataTable.prototype.initialize.apply(this,arguments),options=options||{},this.dataModelObject=options.dataModelObject,!this.dataModelObject)throw new Error("dataModelObject is a required option");this.dataModel=options.dataModel||null},getSampleValuesModel:function(fieldName,fetchOptions){var dataModelObjectField=this.dataModelObject.getFieldByName(fieldName);return this.dataModelObject.getSampleValuesModel(dataModelObjectField.fieldName,dataModelObjectField.owner,fetchOptions)},hasParentDataModel:function(){return!!this.dataModel||PivotableDataTable.prototype.hasParentDataModel.apply(this,arguments)},getDataModelName:function(){return this.dataModel?this.dataModel.entry.content.get("displayName"):PivotableDataTable.prototype.getDataModelName.apply(this,arguments)},getDataModelId:function(){return this.dataModel?this.dataModel.id:PivotableDataTable.prototype.getDataModelId.apply(this,arguments)}},{create:function(dataModelObject,dataModel){var dataTable=new PivotableTableFromDataModelObject({accelerationNamespace:dataModelObject.get("tsidxNamespace"),displayName:dataModelObject.get("displayName"),baseSearch:dataModelObject.get("objectSearch"),id:dataModelObject.get("objectName")},{dataModelObject:dataModelObject,dataModel:dataModel}),dataTableFields=_(dataModelObject.getReportFields()).map(function(field){var dataTableField=_(field).pick("fieldName","displayName","type","owner");return dataTableField.fullyQualifiedName=dataModelObject.addLineagePrefix(field.fieldName,field.owner),dataTableField});return dataModel&&dataTable.set({fullyQualifiedId:dataModel.id}),dataTable.fields.set(dataTableFields),dataTable}}),PivotableTableFromDataset=PivotableTableFromDataModelObject.extend({},{create:function(dataModelObject,dataSetNameObject){var dataTable=PivotableTableFromDataModelObject.create(dataModelObject);return dataTable.set({fullyQualifiedId:dataSetNameObject.fullyQualifiedId,displayName:dataSetNameObject.displayName}),dataTable}});return PivotableDataTable}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/DocumentActionBar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/search/Job"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotJob"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("models/services/summarization/TStatsSummarization"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/DataSourceMenu"),__webpack_require__("views/shared/DropDownMenu"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Application,User,Job,DataModel,PivotReport,PivotJob,PivotableDataTable,TStatsSummarization,DeclarativeDependencies,Base,DataSourceMenu,DropDownMenu,Popdown,route){var POLLING_DELAY=2e3,DocumentActionBar=Base.extend({moduleId:module.id,events:{"click .clear-button":function(e){e.preventDefault(),this.model.report.trigger("clear")},"click .save-button":function(e){e.preventDefault(),$(e.target).hasClass("disabled")||this.model.report.trigger("save")}},initialize:function(){Base.prototype.initialize.apply(this,arguments),this.children.createDropDown=new DropDownMenu({label:_("Save As...").t(),className:"btn-combo create-drop-down",dropdownClassName:"dropdown-menu-narrow",popdownOptions:{attachDialogTo:"body"},items:[{label:_("Report").t(),value:"report"},{label:_("Dashboard Panel").t(),value:"panel"}]}),this.children.createDropDown.on("itemClicked",function(type){"report"===type?this.model.report.trigger("saveAsReport"):"panel"===type&&this.model.report.trigger("saveAsDashboardPanel")},this),this.children.popdown=new Popdown({el:this.el,toggle:".data-source-button",dialog:".data-source-menu",attachDialogTo:"body"}),this.children.popdown.on("show",this.onDataSourceShow,this),this.children.popdown.on("shown",this.onDataSourceShown,this),this.children.popdown.on("hidden",this.onDataSourceHidden,this),this.initDataSourceMenu(),this.model.searchJob.isNew()&&this.listenToOnce(this.model.searchJob,"change:id",function(){this.initDataSourceMenu(),this.children.dataSourceMenu.render().appendTo(this.$(".action-bar"))}),this.model.report.entry.on("change:name",this.updateReportName,this),this.model.report.on("change:id",function(){this.model.report.isNew()?this.$(".save-button").hide():this.$(".save-button").show()},this)},render:function(){var tableIsEditable=this.computeIsEditable(),editDatasetHref=tableIsEditable?this.computeEditDatasetHref():null;return this.$el.html(this.compiledTemplate({dataTableName:this.model.dataTable.get("displayName"),tempDataModel:this.model.dataModel.isTemporary(),canSave:this.model.report.canWrite(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),tableIsEditable:tableIsEditable,editDatasetHref:editDatasetHref})),this.model.report.isNew()&&this.$(".save-button").hide(),this.updateReportName(),this.children.createDropDown.render().replaceAll(this.$(".save-as-dropdown-placeholder")),this.children.dataSourceMenu.render().appendTo(this.$(".action-bar")),this},remove:function(){return this.onDataSourceHidden(),Base.prototype.remove.apply(this,arguments)},computeIsEditable:function(){var tableHasRealDataModel=this.model.dataTable.hasParentDataModel();if(tableHasRealDataModel)return this.model.dataModel.entry.acl.canWrite();var canTable=this.model.user.canAccessSplunkDatasetExtensions(),datasetId=this.model.dataTable.get("fullyQualifiedId");return canTable&&!!datasetId},computeEditDatasetHref:function(){var root=this.model.application.get("root"),app=this.model.application.get("app"),locale=this.model.application.get("locale"),tableHasRealDataModel=this.model.dataTable.hasParentDataModel();return tableHasRealDataModel?route.data_model_editor(root,locale,app,{data:{model:this.model.dataTable.getDataModelId()}}):route.table(root,locale,app,{data:{t:this.model.dataTable.get("fullyQualifiedId")}})},initDataSourceMenu:function(){var accelerationType=this.model.searchJob.getAccelerationType();if(accelerationType===PivotJob.ADHOC_ACCELERATION)this.model.collectJob=new Job({id:this.model.searchJob.getCollectId()},{delay:POLLING_DELAY});else if(accelerationType===PivotJob.MANAGED_ACCELERATION){var tstatsNamespace="tstats:DM_"+this.model.dataModel.entry.acl.get("app")+"_"+this.model.dataModel.entry.content.get("modelName"),tStatsId=this.model.dataModel.id.replace("datamodel/model","admin/summarization").replace(this.model.dataModel.entry.content.get("modelName"),tstatsNamespace);this.model.tstatsSummarization=new TStatsSummarization({id:tStatsId})}this.children.dataSourceMenu&&this.children.dataSourceMenu.remove(),this.children.dataSourceMenu=new DataSourceMenu({apiResources:this.apiResources.dataSourceMenu,model:{collectJob:this.model.collectJob,tstatsSummarization:this.model.tstatsSummarization,user:this.model.user}})},updateReportName:function(){var $nameHolder=this.$(".report-name"),isNew=this.model.report.isNew(),reportName=isNew?_("New Pivot").t():this.model.report.entry.get("name");$nameHolder.empty().text(reportName),isNew?$nameHolder.prepend('<i class="icon-pivot"></i>'):$nameHolder.prepend('<i class="icon-report-pivot"></i>')},onDataSourceShow:function(){this.model.collectJob?this.model.collectJob.startPolling():this.model.tstatsSummarization&&this.model.tstatsSummarization.startPolling({delay:POLLING_DELAY,condition:function(model){var complete=model.entry.content.get("summary.complete");return!complete||complete<1}})},onDataSourceShown:function(){this.children.dataSourceMenu.$("a").first().focus()},onDataSourceHidden:function(){this.model.collectJob?this.model.collectJob.stopPolling():this.model.tstatsSummarization&&this.model.tstatsSummarization.stopPolling()},template:'\t            <h2 class="report-name section-title"></h2>\t            <div class="action-bar pull-right">\t                <a href="#" class="save-button btn btn-primary <%- canSave ? "" : "disabled" %>">\t                    <%- _("Save").t() %>\t                </a>\t                <div class="report-action-buttons btn-group">\t                    <span class="save-as-dropdown-placeholder"></span>\t                    <a href="#" class="clear-button btn"><%- _("Clear").t() %></a>\t                </div>\t                <% if (tableIsEditable && !tempDataModel) { %>\t                    <a href="<%- editDatasetHref %>" class="edit-dataset-button btn">\t                        <%- _("Edit Dataset").t() %>\t                    </a>\t                <% } %>\t                <a href="#" class="data-source-button btn">\t                    <%- tempDataModel ? _("Acceleration").t() : dataTableName %>\t                    <span class="caret"></span>\t                </a>\t            </div>\t        '},{apiDependencies:{report:PivotReport,dataModel:DataModel,dataTable:PivotableDataTable,searchJob:PivotJob,user:User,application:Application,dataSourceMenu:DataSourceMenu}});return DeclarativeDependencies(DocumentActionBar)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/PivotJob":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/search/Job"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/time")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Job,splunkUtils,splunkdUtils,timeUtils){var syncCreate=function(model,options){options=$.extend(!0,{data:{status_buckets:0,preview:!0}},options);var optionsData=options.data;return optionsData.search=optionsData.tsidxNamespace?optionsData.tstatsSearch:optionsData.search,delete optionsData.tsidxNamespace,delete optionsData.tstatsSearch,Job.prototype.sync.call(model,"create",model,options)},dispatchReportJob=function(model,options){var oldReportJob=model.reportJob,dispatchOptions=$.extend(!0,{},options,{data:{status_buckets:0}});return model.reportJob=new Job,model.reportJob.save({},dispatchOptions).always(function(){model.isDeleted||oldReportJob.destroy()})},syncCreateAccelerated=function(model,options){options=$.extend(!0,{},options);var optionsData=options.data;optionsData.search=optionsData.tstatsSearch,delete optionsData.tstatsSearch,delete optionsData.sid;var reportDispatchOptions={data:$.extend({preview:!0},optionsData)};model.dispatchData=_(optionsData).pick("search","earliest_time","latest_time","provenance");var collectFetchOptions={data:_(optionsData).pick("app","owner","sharing")},dfd=$.when(model.collectJob.fetch(collectFetchOptions),dispatchReportJob(model,reportDispatchOptions)).then(function(){if(model.set(model.idAttribute,model.reportJob.get(model.reportJob.idAttribute)),model.collectJob.entry.content.get("isFailed"))return options.error({}),$.Deferred().reject();if(model.reportJob.entry.content.get("isFailed"))return options.error({}),$.Deferred().reject();var response=model.parseReportJob(model.reportJob);return options.success(response),$.Deferred().resolve()},function(){return model.set(model.idAttribute,model.reportJob.get(model.reportJob.idAttribute)),options.error({}),this});return model.trigger("request",model,dfd,options),dfd},syncReadAccelerated=function(model,options){options=options||{};var fetchPromise,optionsData=options.data,collectIsDone=model.collectJob.isDone(),collectFetchOptions={data:_(optionsData||{}).pick("app","owner","sharing")};if(model.reportJob.isNew()||model.reportJob.isDone()){var reportDispatchOptions={data:$.extend({preview:!1,exec_mode:"blocking"},model.dispatchData,optionsData)};fetchPromise=$.when(collectIsDone||model.collectJob.fetch(collectFetchOptions),dispatchReportJob(model,reportDispatchOptions))}else{var reportFetchOptions={data:$.extend({},optionsData)};fetchPromise=$.when(collectIsDone||model.collectJob.fetch(collectFetchOptions),model.reportJob.fetch(reportFetchOptions))}var dfd=fetchPromise.then(function(){if(model.set(model.idAttribute,model.reportJob.get(model.reportJob.idAttribute)),model.collectJob.entry.content.get("isFailed"))return options.error({}),$.Deferred().reject();if(model.reportJob.entry.content.get("isFailed"))return options.error({}),$.Deferred().reject();var response=model.parseReportJob(model.reportJob);return options.success(response),$.Deferred().resolve()},function(){return model.set(model.idAttribute,model.reportJob.get(model.reportJob.idAttribute)),options.error({}),this});return model.trigger("request",model,dfd,options),dfd},PivotJob=Job.extend({initialize:function(){Job.prototype.initialize.apply(this,arguments),this.isPaused=!1,this.isFinalized=!1,this.isDeleted=!1,this.on("error",function(){this.entry.content.set({isFailed:!0})},this)},_onerror:function(model,response,options){if(this.getAccelerationType()===PivotJob.ADHOC_ACCELERATION){model.error.clear();var messages=_.union(model.collectJob.error.get("messages")||[],model.reportJob.error.get("messages")||[]);this.trigger("serverValidated",!1,this,messages),model.error.set("messages",messages)}else Job.prototype._onerror.apply(this,arguments)},sync:function(method,model,options){options=options||{};var optionsData=options.data||{};switch(method){case"create":return!optionsData.tsidxNamespace&&!optionsData.sid||timeUtils.isRealtime(optionsData.earliest_time)?(delete optionsData.tsidxNamespace,delete optionsData.sid,syncCreate(model,options)):optionsData.sid?(this.collectJob=new Job,this.collectJob.set(this.collectJob.idAttribute,options.data.sid),this.reportJob=new Job,syncCreateAccelerated(this,options)):(this.tsidxNamespace=optionsData.tsidxNamespace,syncCreate(model,options));case"read":var accType=this.getAccelerationType();return accType===PivotJob.ADHOC_ACCELERATION?this.isPaused||this.isFinalized?(this.isPaused&&this.collectJob.touch(),this.simulateSyncSuccess(options,[this.parseReportJob(this.reportJob)])):syncReadAccelerated(this,options):Job.prototype.sync.call(this,method,model,options);case"delete":return model.isDeleted=!0,Job.prototype.sync.call(this,method,model,options);default:throw new Error("invalid method: "+method)}},clear:function(){return this.collectJob&&(this.collectJob.fetchAbort(),delete this.collectJob),this.reportJob&&(this.reportJob.fetchAbort(),delete this.reportJob),Job.prototype.clear.apply(this,arguments)},pause:function(options){return this.shouldFakeControlActions()?(this.isPaused=!0,this.trigger("fakeControlAction","pause"),this.simulateSyncSuccess(options,[{}])):Job.prototype.pause.call(this,options)},unpause:function(options){return this.shouldFakeControlActions()?(this.isPaused=!1,this.trigger("fakeControlAction","unpause"),this.simulateSyncSuccess(options,[{}])):Job.prototype.unpause.call(this,options)},finalize:function(options){return this.shouldFakeControlActions()?(this.isFinalized=!0,this.isPaused=!1,this.trigger("fakeControlAction","finalize"),this.simulateSyncSuccess(options,[{}])):Job.prototype.finalize.call(this,options)},shouldFakeControlActions:function(){var accType=this.getAccelerationType();return accType===PivotJob.ADHOC_ACCELERATION},simulateSyncSuccess:function(options,successArgs){var dfd=$.Deferred().resolve().promise();return this.trigger("request",this,dfd,options),options&&_(options.success).isFunction()&&options.success.apply(null,successArgs),dfd},parseReportJob:function(reportJob){var reportJobJson=reportJob.toSplunkD(),reportJobContent=reportJobJson.entry[0].content,collectJobJson=this.collectJob.toSplunkD(),collectJobContent=collectJobJson.entry[0].content,dispatchState=this.determineDispatchState(reportJob),doneProgress=this.calculateDoneProgress(reportJob),reportTimeRangeIsCovered=1===doneProgress&&!!reportJobContent.isDone,collectIsDone=collectJobContent.isDone||reportTimeRangeIsCovered,collectJustFinished=collectIsDone&&!this.collectWasDone;return collectIsDone&&(this.collectWasDone=!0),collectJustFinished||dispatchState!==Job.DONE&&!reportTimeRangeIsCovered?dispatchState===Job.DONE&&(dispatchState=Job.RUNNING):dispatchState=Job.DONE,$.extend(reportJobContent,{isPreviewEnabled:!0,dispatchState:dispatchState,doneProgress:doneProgress,isDone:!this.isPaused&&dispatchState===Job.DONE,isFailed:dispatchState===Job.FAILED,isPaused:this.isPaused,isFinalized:this.isFinalized,scanCount:reportJobContent.scanCount||collectJobContent.scanCount,eventCount:reportJobContent.eventCount||collectJobContent.eventCount}),reportJobJson},determineDispatchState:function(reportJob){if(this.isFinalized)return Job.DONE;var collectState=this.collectJob.entry.content.get("dispatchState");return collectState===Job.FAILED||reportJob.entry.content.get("isFailed")?Job.FAILED:this.collectJob.isPreparing()?collectState:collectState===Job.DONE&&reportJob.isDone()?Job.DONE:Job.RUNNING},calculateDoneProgress:function(reportJob){var collectContent=this.collectJob.entry.content;if(reportJob.isOverAllTime())return collectContent.get("doneProgress");var reportContent=reportJob.entry.content,earliestIso=reportContent.get("earliestTime"),earliestEpoch=earliestIso?parseFloat(splunkUtils.getEpochTimeFromISO(earliestIso)):0,latestIso=reportJob.latestTimeSafe(),latestEpoch=latestIso?parseFloat(splunkUtils.getEpochTimeFromISO(latestIso)):0,cursorIso=collectContent.get("cursorTime"),cursorEpoch=cursorIso?parseFloat(splunkUtils.getEpochTimeFromISO(cursorIso)):0,rawDoneProgress=(latestEpoch-cursorEpoch)/(latestEpoch-earliestEpoch);return Math.max(Math.min(rawDoneProgress,1),0)},getAccelerationType:function(){return this.collectJob?PivotJob.ADHOC_ACCELERATION:this.tsidxNamespace?PivotJob.MANAGED_ACCELERATION:PivotJob.NO_ACCELERATION},isAccelerated:function(){return this.getAccelerationType()!==PivotJob.NO_ACCELERATION},getCollectId:function(){return this.collectJob.get(this.collectJob.idAttribute)},getTsidxNamespace:function(){return this.tsidxNamespace}},{NO_ACCELERATION:"no-acceleration",ADHOC_ACCELERATION:"adhoc-acceleration",MANAGED_ACCELERATION:"managed-acceleration"});return PivotJob}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/summarization/TStatsSummarization":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,SplunkDBaseModel){return SplunkDBaseModel.extend({url:"admin/summarization",fetch:function(options){return options=$.extend(!0,{data:{time_format:"iso8601"}},options),SplunkDBaseModel.prototype.fetch.call(this,options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/DataSourceMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/search/Job"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("uri/route"),__webpack_require__("util/datamodel/acceleration_utils"),__webpack_require__("models/classicurl")],
__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Application,Job,DataModel,PivotReport,PivotableDataTable,DeclarativeDependencies,Base,route,accelerationUtils,classicUrl){var LOADING_MESSAGE=_("Loading").t(),DataSourceMenu=Base.extend({moduleId:module.id,className:"data-source-menu dropdown-menu",events:{"click .rebuild-button":function(e){this.model.searchJob.trigger("rebuildAcceleration"),e.preventDefault()},"click .inspect-acceleration-button":function(e){this.model.searchJob.trigger("inspectAcceleration"),e.preventDefault()}},initialize:function(){Base.prototype.initialize.apply(this,arguments),this.model.user.canAccelerateReport()&&(this.model.collectJob?this.model.collectJob.on("sync",this.updateAdhocAcceleration,this):this.model.tstatsSummarization&&this.model.tstatsSummarization.on("sync",this.updateManagedAcceleration,this))},render:function(){var root=this.model.application.get("root"),app=this.model.application.get("app"),locale=this.model.application.get("locale"),tableHasRealDataModel=this.model.dataTable.hasParentDataModel(),dataModelId=tableHasRealDataModel?this.model.dataTable.getDataModelId():null,dataModelName=tableHasRealDataModel?this.model.dataTable.getDataModelName():null,tableName=this.model.dataTable.get("displayName"),tableIsTemporary=this.model.dataModel.isTemporary(),viewDataModelHref=tableHasRealDataModel?route.pivot(root,locale,app,{data:{model:dataModelId}}):null,selectNewDatasetHref=route.datasets(root,locale,app),canAccelerateReport=this.model.user.canAccelerateReport();return this.$el.html(this.compiledTemplate({tableHasRealDataModel:tableHasRealDataModel,dataModelName:dataModelName,tableName:tableName,tableIsTemporary:tableIsTemporary,viewDataModelHref:viewDataModelHref,selectNewDatasetHref:selectNewDatasetHref})),this.model.collectJob&&canAccelerateReport?this.updateAdhocAcceleration():this.model.tstatsSummarization&&canAccelerateReport?this.updateManagedAcceleration():this.$(".acceleration-status-container").remove(),this.$("a.view-data-model-button").click(function(e){e.preventDefault(),classicUrl.clear().save({model:dataModelId},{trigger:!0})}),this},updateAdhocAcceleration:function(){var entry=this.model.collectJob.entry,content=entry.content,latestTime=this.model.collectJob.latestTimeSafe();this.$(".acceleration-status-container").html(_(this.adhocAccelerationTemplate).template({progressMessage:accelerationUtils.formatProgressMessage(content.get("doneProgress"),latestTime)||LOADING_MESSAGE,startedTimestamp:accelerationUtils.formatTimestamp(entry.get("published"))||LOADING_MESSAGE,earliestTimestamp:accelerationUtils.formatTimestamp(content.get("earliestTime"))||LOADING_MESSAGE}))},updateManagedAcceleration:function(){var content=this.model.tstatsSummarization.entry.content;this.$(".acceleration-status-container").html(_(this.managedAccelerationTemplate).template({statusMessage:accelerationUtils.formatProgressMessage(content.get("summary.complete"))||LOADING_MESSAGE,range:accelerationUtils.formatRange(content.get("summary.time_range"))||LOADING_MESSAGE,earliestTimestamp:accelerationUtils.formatTimestamp(content.get("summary.earliest_time"))||LOADING_MESSAGE}))},template:'\t            <div class="arrow"></div>\t            <% if (!tableIsTemporary) { %>\t                <% if (tableHasRealDataModel) { %>\t                    <ul>\t                        <li>\t                            <h4><%- dataModelName %></h4>\t                        </li>\t                        <li>\t                            <a class="view-data-model-button" href="<%- viewDataModelHref %>"><%- _("View Data Model").t() %></a>\t                        </li>\t                    </ul>\t                <% } %>\t                <ul>\t                    <li>\t                        <h4><%- tableName %></h4>\t                    </li>\t                    <li>\t                        <a href="<%- selectNewDatasetHref %>"><%- _("Select another Dataset").t() %></a>\t                    </li>\t                </ul>\t            <% } %>\t            <ul class="acceleration-status-container"></ul>\t        ',adhocAccelerationTemplate:'\t            <li>\t                <h4><%- _("Acceleration").t() %></h4>\t                <dl class="list-dotted">\t                    <dt><%- _("Progress").t() %></dt>\t                    <dd class="status-value"><%- progressMessage %></dd>\t                    <dt><%- _("Started").t() %></dt>\t                    <dd class="started-timestamp"><%- startedTimestamp %></dd>\t                    <dt><%- _("Earliest").t() %></dt>\t                    <dd class="latest-timestamp"><%- earliestTimestamp %></dd>\t                </dl>\t            </li>\t            <li><a href="#" class="rebuild-button"><%- _("Rebuild Acceleration").t() %></a></li>\t            <li><a href="#" class="inspect-acceleration-button"><%- _("Inspect Acceleration Job").t() %></a></li>\t        ',managedAccelerationTemplate:'\t            <li>\t                <h4><%- _("Acceleration").t() %></h4>\t                <dl class="list-dotted">\t                    <dt><%- _("Status").t() %></dt>\t                    <dd class="progress-value"><%- statusMessage %></dd>\t                    <dt><%- _("Range").t() %></dt>\t                    <dd class="range-value"><%- range %></dd>\t                    <dt><%- _("Earliest").t() %></dt>\t                    <dd class="latest-timestamp"><%- earliestTimestamp %></dd>\t                </dl>\t            </li>\t        '},{apiDependencies:{report:PivotReport,dataModel:DataModel,dataTable:PivotableDataTable,application:Application,searchJob:Job}});return DeclarativeDependencies(DataSourceMenu)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/datamodel/acceleration_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("util/moment"),__webpack_require__("util/time"),__webpack_require__("stubs/i18n"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,moment,timeUtils,i18n,splunkUtils){var DATE_FORMAT="YYYY MM dd,",TIME_FORMAT="medium",formatTimestamp=function(isoTime){if(!isoTime)return"";var epoch=splunkUtils.getEpochTimeFromISO(isoTime);if("0"===epoch)return _("None").t();var date=timeUtils.isoToDateObject(isoTime);return i18n.format_datetime(date,DATE_FORMAT,TIME_FORMAT)},formatProgressMessage=function(progress,lastUpdated){if(!progress&&0!==progress)return"";if(_.isString(progress)&&(progress=parseFloat(progress)),progress<1)return splunkUtils.sprintf(_("%s Complete").t(),i18n.format_percent(progress));if(!lastUpdated)return _("Completed").t();var lastUpdatedMessage=moment(timeUtils.isoToDateObject(lastUpdated)).fromNow();return splunkUtils.sprintf(_("Completed (Updated %s)").t(),lastUpdatedMessage)},formatRange=function(range){return range||0===range?(_.isString(range)&&(range=parseInt(range,10)),moment.duration(range,"seconds").humanize()):""};return{formatTimestamp:formatTimestamp,formatProgressMessage:formatProgressMessage,formatRange:formatRange}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/PivotRouter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("collections/services/datamodel/DataModels"),__webpack_require__("models/Base"),__webpack_require__("models/classicurl"),__webpack_require__("models/config"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/search/Job"),__webpack_require__("routers/DependencyAggregationBase"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/pivot/PivotJob"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("models/services/AppLocal"),__webpack_require__("models/shared/User"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("models/shared/TimeRange"),__webpack_require__("models/shared/Application"),__webpack_require__("collections/services/data/ui/Times"),__webpack_require__("collections/services/configs/Visualizations"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/ResponsiveHeaderPage"),__webpack_require__("views/data_model_explorer/DataModelExplorer"),__webpack_require__("views/pivot/PivotView"),__webpack_require__("views/pivot/dialogs/PermissionMismatchDialog"),__webpack_require__("views/pivot/dialogs/CreateReportDialog"),__webpack_require__("views/pivot/dialogs/CreateDashboardPanelDialog"),__webpack_require__("views/pivot/dialogs/SaveDataModelDialog"),__webpack_require__("views/shared/reportcontrols/dialogs/savereport/Master"),__webpack_require__("views/shared/jobstatus/buttons/ExportResultsDialog"),__webpack_require__("views/pivot/dialogs/SharePivotDialog"),__webpack_require__("views/pivot/errors/ErrorDisplay"),__webpack_require__("views/pivot/errors/ErrorPayload"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("helpers/pivot/ReportHistoryManager"),__webpack_require__("helpers/pivot/PivotVisualizationManager"),__webpack_require__("helpers/Printer"),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/general_utils"),__webpack_require__("util/drilldown"),__webpack_require__("util/time"),__webpack_require__("util/console"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/splunk.window")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,DataModelCollection,BaseModel,classicurl,configModel,DataModel,Job,DependencyAggregationBase,PivotReport,PivotSearch,PivotJob,PivotableDataTable,AppLocal,User,ServerInfo,TimeRange,Application,Times,Visualizations,DeclarativeDependencies,ResponsiveHeaderPage,DataModelExplorer,PivotView,PermissionMismatchDialog,CreateReportDialog,CreateDashboardPanelDialog,SaveDataModelDialog,SavereportMaster,ExportResultsDialog,SharePivotDialog,ErrorDisplay,ErrorPayload,FlashMessages,ReportHistoryManager,pivotVizManager,Printer,route,splunkdUtils,generalUtils,drilldownUtil,timeUtils,console,splunkUtils,splunkWindow){SavereportMaster=DeclarativeDependencies(SavereportMaster).extend({},{apiDependencies:{report:PivotReport,reportPristine:{resourceType:PivotReport,flags:["pristine"]},application:Application,user:User,searchJob:Job}}),ExportResultsDialog=DeclarativeDependencies(ExportResultsDialog).extend({},{apiDependencies:{searchJob:Job,application:Application}});var NormalizedDatasetInfo=BaseModel.extend({}),SELECT_DATA_MODEL_STEP="select-data-model-step",SELECT_OBJECT_STEP="select-object-step",PIVOT_STEP="pivot-step",ALL_TIME_ADHOC_ACCELERATION="all-time-adhoc-acceleration",ELASTIC_ADHOC_ACCELERATION="elastic-adhoc-acceleration",NO_ADHOC_ACCELERATION="no-adhoc-acceleration",FLASH_MESSAGES_WHITELIST=[splunkdUtils.FATAL,splunkdUtils.ERROR,splunkdUtils.WARNING],SKIP_DATA_MODEL_SELECTION="skip-data-model-selection",getAdhocAccelerationMode=function(){if(!splunkUtils.normalizeBoolean(configModel.get("ENABLE_PIVOT_ADHOC_ACCELERATION")))return NO_ADHOC_ACCELERATION;var configMode=configModel.get("PIVOT_ADHOC_ACCELERATION_MODE")||"";switch(configMode.toLowerCase()){case"alltime":return ALL_TIME_ADHOC_ACCELERATION;case"none":return NO_ADHOC_ACCELERATION;default:return ELASTIC_ADHOC_ACCELERATION}},PivotRouter=DependencyAggregationBase.extend({initialize:function(){DependencyAggregationBase.prototype.initialize.apply(this,arguments),this.elasticMode=PivotRouter.ADHOC_ACCELERATION_MODE===PivotRouter.ELASTIC_ADHOC_ACCELERATION,this.noAccelerationMode=PivotRouter.ADHOC_ACCELERATION_MODE===PivotRouter.NO_ADHOC_ACCELERATION,this.classicurl=classicurl,this.reportHistoryManager=new ReportHistoryManager,this.flashMessages=new FlashMessages,this.flashMessagesHelper=this.flashMessages.flashMsgHelper,this.application=this.model.application,this.fetchVisualizations=!0,this.fetchVisualizationFormatters=!1,this._bodyView=null,this._createPageView=_.once(this._createPageView),this.dataModel=new DataModel,this.report=new PivotReport,this.timeRange=new TimeRange,this.collectJob=new Job,this.pivotJob=new PivotJob({},{delay:500,processKeepAlive:!0}),splunkUtils.trackEvent({type:"pivot.load",data:this.formatEventData({eventCategory:"PivotEditor",eventAction:"init",eventLabel:"Pivot - Page"})})},page:function(locale,app,page){this.enablePageView=!1,DependencyAggregationBase.prototype.page.apply(this,arguments),this._tearDownEventBindings(),this._generateDependencyContext().done(function(context){if(!context){var hideChrome=splunkUtils.normalizeBoolean(this.model.classicurl.get("hideChrome"));return void route.redirectTo(route.datasets(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),hideChrome?{data:{hideChrome:!0}}:void 0))}this.handlerContext=context;var dependencyDescriptor={pageView:ResponsiveHeaderPage,bodyView:context.bodyViewConstructor,router:PivotRouter};this.aggregator.fetchAll(dependencyDescriptor,context).then(function(resources){this._readRouterResources(resources.router,context),this._pageView=this._createPageView(resources.pageView),this._pageView.replaceAll($(".preload")),this._bodyView&&this._bodyView.remove(),this._bodyView=new context.bodyViewConstructor({apiResources:resources.bodyView,flashMessages:this.flashMessages}),this._bodyView.render().appendTo($(".main-section-body")),this.setPageTitle(context.pageTitle),splunkUtils.trackEvent({type:"pivot.load",data:this.formatEventData({eventCategory:"PivotEditor",eventAction:"load",eventLabel:"Pivot - Page"})})}.bind(this)).fail(this._onDependencyLoadError.bind(this))}.bind(this))},_readRouterResources:function(resources,context){this.seedJob=resources.seedJob,this.dataModelObject=resources.dataModelObject,this.pivotSearch=resources.pivotSearch,this.dataTable=resources.dataTable,this.datasetInfo=resources.datasetInfo,this.dialogResources=_(resources).pick("saveNewDialog","dashboardDialog","saveDataModelDialog","saveDialog","exportDialog","shareDialog","permissionMismatchDialog"),context.flowStep===PIVOT_STEP&&this._setupEventBindings()},_setupEventBindings:function(){if(this.report){var reportContent=this.report.entry.content;this.listenTo(this.report,"change:id",function(){this._populateUrlFromReport(this.report,{trigger:!0})}),this.listenTo(this.report,"reportConfigChange",function(object,value){this._bodyView.clearData(),this._bodyView.renderContainer({disabled:!0}),this._decorateReportElements(this.report,this.dataTable,{silent:!0}),this._bodyView.showInitializingMessage(),this._redispatchReport().then(function(){splunkUtils.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorReportConfig",eventAction:"change",eventLabel:"Pivot - Report Config",eventValue:value})})}.bind(this))}),this.listenTo(this.report,"visualizationTypeChange",this._handleVizTypeChange.bind(this)),this.listenTo(reportContent,"change",function(object,value){if(!this.report.hasChanged("id")&&!this.report.vizTypeChanging){var changed=reportContent.filterChangedByWildcards(PivotReport.REPORT_FORMAT_FILTER,{allowEmpty:!0});delete changed["display.visualizations.show"],delete changed["display.statistics.show"],delete changed["display.visualizations.type"],delete changed["display.visualizations.charting.chart"],_.isEmpty(changed)||this._populateUrlFromReport(this.report,{replaceState:!0}),splunkUtils.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorReportContent",eventAction:"change",eventLabel:"Pivot - Report Content",eventValue:value})})}}.bind(this)),this.listenTo(this.report,"clear",this._clearReport),this.listenTo(this.report,"drilldown",this._handleDrilldown),this.listenTo(this.report,"saveAsReport",this._saveNewReport),this.listenTo(this.report,"saveAsDashboardPanel",this._saveNewDashboardPanel),this.listenTo(this.report,"save",this._saveReport)}this.pivotJob&&(this.listenTo(this.pivotJob,"rebuildAcceleration",function(){this.classicurl.unset("accSid"),this.classicurl.unset("windowedEarliest"),this.classicurl.unset("windowedLatest"),this.classicurl.save({},{trigger:!0})}),this.listenTo(this.pivotJob,"inspectAcceleration",function(){this._inspectJob(this.collectJob)}),this.listenTo(this.pivotJob,"inspect",function(){this._inspectJob(this.pivotJob)}),this.listenTo(this.pivotJob,"print",function(){Printer.printPage()}),this.listenTo(this.pivotJob,"export",this._exportJob),this.listenTo(this.pivotJob,"share",this._shareJob),this.listenTo(this.pivotJob,"reload",function(){this._populateUrlFromReport(this.report,{trigger:!0,reload:!0})}),this.flashMessagesHelper.register(this.pivotJob,FLASH_MESSAGES_WHITELIST),this.elasticMode&&!this.dataTable.isAccelerated()&&(this.collectJob.entry.content.get("isTimeCursored")&&this.listenTo(this.pivotJob.entry.content,"change:isDone",function(){this.pivotJob.isDone()&&this.collectJob.pause()}),this.listenTo(this.pivotJob,"fakeControlAction",function(action){action in{pause:!0,finalize:!0}?this.collectJob.pause():"unpause"===action&&this.collectJob.unpause()}))),this.dataModel&&this.listenTo(this.dataModel,"save",this._saveDataModel),this.collectJob&&this.flashMessagesHelper.register(this.collectJob,FLASH_MESSAGES_WHITELIST),this.seedJob&&this.flashMessagesHelper.register(this.seedJob,FLASH_MESSAGES_WHITELIST),this.pivotSearch&&this.flashMessagesHelper.register(this.pivotSearch,FLASH_MESSAGES_WHITELIST)},_tearDownEventBindings:function(){this.stopListening(),this.report&&this.reportHistoryManager.unregister(this.report),this.collectJob&&this.flashMessagesHelper.unregister(this.collectJob),this.seedJob&&this.flashMessagesHelper.unregister(this.seedJob),this.pivotSearch&&this.flashMessagesHelper.unregister(this.pivotSearch),this.pivotJob&&this.flashMessagesHelper.unregister(this.pivotJob)},_handleVizTypeChange:function(object,value){var contentToConfig=function(content){return{reportLevelAttributes:content.filterByWildcards(PivotReport.PIVOT_CONTENT_FILTER),cells:content.cells.toJSON(),rows:content.rows.toJSON(),columns:content.columns.toJSON()}},reportContent=this.report.entry.content,oldConfig=contentToConfig(reportContent);this._bodyView.clearData(),this.reportHistoryManager.applyConfigUpdates(this.report,this.dataTable.getFieldList(),{silent:!0}),this.reportHistoryManager.applyVisualizationUpdates(this.report),_.isEqual(contentToConfig(reportContent),oldConfig)?(this._bodyView.renderContainer(),this._bodyView.renderData(),this._populateUrlFromReport(this.report,{replaceState:!0}),splunkUtils.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorVizType",eventAction:"change",eventLabel:"Pivot - Visualizations",eventValue:value})})):(this._bodyView.renderContainer({disabled:!0}),this.pivotJob.stopPolling(),this._bodyView.showInitializingMessage(),this._redispatchReport().then(function(){splunkUtils.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorVizType",eventAction:"change",eventLabel:"Pivot - Visualizations",eventValue:value})})}.bind(this)))},_redispatchReport:function(){this.pivotSearch.clear();var reportContent=this.report.entry.content,pivotJson=this.report.getPivotJSON(),indexTimeFilter=_(pivotJson.filters).findWhere({fieldName:"_time",type:"timestamp"});if(indexTimeFilter){var previousTimeRange=reportContent.pick("dispatch.earliest_time","dispatch.latest_time");reportContent.set({"dispatch.earliest_time":indexTimeFilter.earliestTime},{silent:!0}),indexTimeFilter.latestTime?reportContent.set({"dispatch.latest_time":indexTimeFilter.latestTime},{silent:!0}):reportContent.unset("dispatch.latest_time",{silent:!0}),pivotJson.filters=_(pivotJson.filters).without(indexTimeFilter);var newTimeRange=reportContent.pick("dispatch.earliest_time","dispatch.latest_time");!_.isEqual(previousTimeRange,newTimeRange)&&this.classicurl.has("windowedEarliest")&&(this.classicurl.unset("windowedEarliest"),this.classicurl.unset("windowedLatest"),this.classicurl.unset("accSid"))}var dfd=$.Deferred();return this.pivotSearch.set({pivotJson:JSON.stringify(pivotJson)}),this.pivotSearch.fetch({data:this._generatePivotSearchFetchData(this.dataModel)}).done(function(){reportContent.set({search:this.pivotSearch.get("pivotSearch")},{silent:!0}),this._populateUrlFromReport(this.report,{trigger:!0,reload:!0}),dfd.resolve()}.bind(this)).fail(function(){this._bodyView.renderErrors(),this._bodyView.renderContainer({disabled:!1}),dfd.reject()}.bind(this)),dfd},_clearReport:function(){this.reportHistoryManager.clearHistory();var urlArgs=this.classicurl.pick("accSid","windowedEarliest","windowedLatest");this.dataModel.isTemporary()?_.extend(urlArgs,this.classicurl.pick("seedSid","fields","field_coverage")):this.datasetInfo.has("dataset")?(urlArgs.dataset=splunkUtils.searchUnescape(this.datasetInfo.get("dataset")),urlArgs.type=this.datasetInfo.get("type")):(urlArgs.model=this.dataModel.id,urlArgs.object=this.dataModelObject.get("objectName")),this.classicurl.clear(),this.classicurl.save(urlArgs,{trigger:!0})},_saveNewReport:function(){this._prepareReportForSave(),this.saveNewDialog=new CreateReportDialog({apiResources:this.dialogResources.saveNewDialog,onHiddenRemove:!0,preventSidReuse:!0}),this.saveNewDialog.render().appendTo($("body")),this.saveNewDialog.show(),this.listenToOnce(this.saveNewDialog,"action:flowExited",this._onDialogFlowExited)},_saveNewDashboardPanel:function(){this.dashboardDialog=new CreateDashboardPanelDialog({apiResources:this.dialogResources.dashboardDialog,onHiddenRemove:!0}),this.dashboardDialog.render().appendTo($("body")),this.dashboardDialog.show(),this.listenToOnce(this.dashboardDialog,"action:flowExited",this._onDialogFlowExited)},_saveReport:function(){var reportVisibility=this.report.entry.acl.get("sharing"),dataModelVisibility=this.dataModel.entry.acl.get("sharing");"user"===dataModelVisibility&&"user"!==reportVisibility?(this.permissionMismatchDialog=new PermissionMismatchDialog({apiResources:this.dialogResources.permissionMismatchDialog,onHiddenRemove:!0}),this.permissionMismatchDialog.render().appendTo($("body")),this.permissionMismatchDialog.show()):(this._prepareReportForSave(),this.saveDialog=new SavereportMaster({apiResources:this.dialogResources.saveDialog,onHiddenRemove:!0,chooseVisualizationType:!1,preventSidReuse:!0}),this.saveDialog.render().appendTo($("body")),this.saveDialog.show())},_prepareReportForSave:function(){var reportContent=this.report.entry.content,generalType=reportContent.get("display.general.type");"visualizations"===generalType?reportContent.set({"display.visualizations.show":"1","display.statistics.show":"0"}):"statistics"===generalType&&reportContent.set({"display.visualizations.show":"0","display.statistics.show":"1"})},_saveDataModel:function(){this.saveDataModelDialog=new SaveDataModelDialog({apiResources:this.dialogResources.saveDataModelDialog,onHiddenRemove:!0}),this.saveDataModelDialog.render().appendTo($("body")).show(),this.listenToOnce(this.saveDataModelDialog,"action:flowExited",this._onDialogFlowExited)},_onDialogFlowExited:function(dataModelNeedsUpdate,newPivotSearch){this.report.entry.content.set({search:newPivotSearch}),dataModelNeedsUpdate&&(this.classicurl.set({q:newPivotSearch}),this._clearTemporaryDataModelFromUrl(),this.classicurl.save({},{trigger:!0}))},_inspectJob:function(job){var root=this.application.get("root"),locale=this.application.get("locale"),app=this.application.get("app");splunkWindow.open(route.jobInspector(root,locale,app,job.id),"splunk_job_inspector",{width:870,height:560,menubar:!1})},_exportJob:function(){this.exportDialog=new ExportResultsDialog({apiResources:this.dialogResources.exportDialog}),this.exportDialog.render().appendTo($("body")),this.exportDialog.show()},_shareJob:function(){var shareLink=route.pivot(this.application.get("root"),this.application.get("locale"),this.application.get("app"),{data:this.classicurl.toJSON(),absolute:!0});this.shareDialog=new SharePivotDialog({apiResources:this.dialogResources.shareDialog,shareLink:shareLink}),this.shareDialog.render().appendTo($("body")),this.shareDialog.show()},_handleDrilldown:function(clickInfo,options){var delimiter=":::",allValue="ALL",otherValue="OTHER",reportContent=this.report.entry.content,fields=[],values=[],postFields=[],postValues=[],rowContext=clickInfo.rowContext||{},rowSplits=reportContent.rows.toArray(),type=clickInfo.type,applicationModel=this.application;"row"===type&&0===rowSplits.length?(fields=[null],values=[null]):"column"!==type&&(fields=_(rowSplits).chain().invoke("getComputedLabel").filter(function(field){return"_time"!==field&&rowContext.hasOwnProperty("row."+field)}).value(),values=_(fields).map(function(field){return rowContext["row."+field]}));var name2RowContext=rowContext["row."+clickInfo.name2];if("cell"===type&&_.isArray(name2RowContext)&&name2RowContext.length>1){var cellValueLabel=_(clickInfo.name2.split(delimiter)).last(),cells=reportContent.cells,cellValue=1===cells.length?cells.at(0):cells.find(function(cellModel){return cellModel.getComputedLabel()===cellValueLabel});cellValue&&(postFields.push(this.dataTable.convertToFullyQualifiedName(cellValue.get("fieldName"))),postValues.push(clickInfo.value2))}if(("cell"===type||"column"===type)&&clickInfo.hasOwnProperty("name2")){var columnSplits="column"===type?reportContent.columns.slice(0,1):reportContent.columns.toArray(),columnSplitValues=columnSplits.length>1||reportContent.cells.length>1?_(clickInfo.name2.split(delimiter)).map($.trim):[$.trim(clickInfo.name2)],isAllColumn=columnSplitValues[0]===allValue,isOtherColumn=columnSplitValues[0]===otherValue;isOtherColumn?"cell"===type&&(fields.push(otherValue),values.push(clickInfo.value2)):_(columnSplits).each(function(columnSplit,i){isAllColumn?(fields.push(this.dataTable.convertToFullyQualifiedName(columnSplit.get("fieldName"))),values.push(allValue)):columnSplitValues.length>i&&(fields.push(this.dataTable.convertToFullyQualifiedName(columnSplit.get("fieldName"))),values.push(columnSplitValues[i]))},this)}values=_(values).map(function(value){return value===allValue?"*":value});var fieldMetadata=this.pivotJob.entry.content.get("fieldMetadataResults"),query={search:this.pivotSearch.get("drilldownSearch"),earliest:reportContent.get("dispatch.earliest_time"),latest:reportContent.get("dispatch.latest_time")};options=_.extend({fields:fields,values:values},options),route.redirectTo(drilldownUtil.applyDrilldownIntention(clickInfo,query,fieldMetadata,applicationModel,options).then(function(drilldownInfo){return postFields.length>0&&(drilldownInfo.q+=" | search",_(postFields).each(function(field,i){drilldownInfo.q+=' "'+field.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'" = "'+postValues[i].replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'})),route.search(applicationModel.get("root"),applicationModel.get("locale"),applicationModel.get("app"),{data:drilldownInfo})}),drilldownUtil.shouldDrilldownInNewTab(clickInfo,options))},_generateDependencyContext:function(){return this.classicurl.fetch({silentClear:!0}).then(function(){var flowStep,bodyViewConstructor,pageTitle;if(this.classicurl.get("q")||this.classicurl.get("s")||this.classicurl.get("seedSid")||this.classicurl.get("model")&&this.classicurl.get("object")||this.classicurl.get("dataset"))flowStep=PIVOT_STEP,bodyViewConstructor=PivotView,pageTitle=_("Pivot").t();else{if(!this.classicurl.get("model"))return null;flowStep=SELECT_OBJECT_STEP,bodyViewConstructor=DataModelExplorer,pageTitle=_("Select a Dataset").t()}var timeWindow=null;return this.classicurl.has("windowedEarliest")&&this.classicurl.has("windowedLatest")&&(timeWindow={earliest_time:this.classicurl.get("windowedEarliest"),latest_time:this.classicurl.get("windowedLatest")}),{urlArgs:this.classicurl.toJSON(),flowStep:flowStep,bodyViewConstructor:bodyViewConstructor,pageTitle:pageTitle,appOwner:this.application.pick("app","owner"),elasticMode:this.elasticMode,noAccelerationMode:this.noAccelerationMode,timeWindow:timeWindow}}.bind(this))},_createPageView:function(resources){var pageViewRenderedDfd=$.Deferred(),pageView=new ResponsiveHeaderPage({splunkBar:this.enableSplunkBar,showAppsList:this.showAppsList,showAppNav:this.enableAppBar,footer:!1,section:"pivot",apiResources:resources,deferreds:{pageViewRendered:pageViewRenderedDfd}});return pageView.render(),pageViewRenderedDfd.resolve(),pageView},_onDependencyLoadError:function(errorPayload){errorPayload||(errorPayload=_("An error occurred loading the page.").t()),_.isString(errorPayload)?errorPayload=ErrorPayload.fromString(errorPayload):errorPayload instanceof ErrorPayload||(errorPayload=ErrorPayload.fromRawResponse(errorPayload));var errorDisplay=new ErrorDisplay({model:{application:this.application},errorPayload:errorPayload});this.aggregator.fetchAll({pageView:ResponsiveHeaderPage}).done(function(resources){var pageView=this._createPageView(resources.pageView);pageView.replaceAll($(".preload")),errorDisplay.render().appendTo($(".main-section-body"))}.bind(this)).fail(function(){errorDisplay.render().replaceAll($(".preload"))}).always(function(){this._generateDependencyContext().done(function(context){this.setPageTitle(context.pageTitle)}.bind(this))}.bind(this))},_addDependencyHandlers:function(aggregator){DependencyAggregationBase.prototype._addDependencyHandlers.apply(this,arguments),aggregator.addHandler(DataModelCollection,_.once(function(){var dataModels=new DataModelCollection;dataModels.fetchData.set({sortKey:"displayName",sortDirection:"asc",count:20,concise:!0},{silent:!0});var dfd=dataModels.fetch({data:this.handlerContext.appOwner}).then(function(){if(1===dataModels.length&&this.handlerContext.flowStep===SELECT_DATA_MODEL_STEP&&!dataModels.models[0].isEmpty()&&!this.classicurl.get("noredirect")){var firstModel=dataModels.models[0];return $.Deferred().reject(SKIP_DATA_MODEL_SELECTION,{modelId:firstModel.get("id")})}}.bind(this));return{resource:dataModels,deferred:dfd}}.bind(this))),aggregator.addHandler(Times,_.once(function(){var times=new Times;return{resource:times,deferred:times.fetch({data:_.extend({count:-1},this.handlerContext.appOwner)})}}.bind(this))),aggregator.addHandler(PivotReport,["pristine"],function(){return new PivotReport}),aggregator.addHandler(PivotReport,["raw"],function(previous){var reportId=this.handlerContext.urlArgs.s;if(previous&&previous.get("id")===reportId)return previous;var report=new PivotReport;if(reportId&&report.set({id:reportId}),previous){var persistentAttrs=previous.entry.content.filterByWildcards(PivotReport.PIVOT_CONTENT_FILTER,{allowEmpty:!0});report.entry.content.set(persistentAttrs)}return report.fetch({data:this.handlerContext.appOwner}).then(function(){return report},function(){return new ErrorPayload(ErrorPayload.TYPES.REPORT,{report:report})})}.bind(this)),aggregator.addHandler(PivotReport,["preliminary"],function(previous,aggregator){var dfd=$.when(aggregator.waitFor(PivotReport,["raw"]),aggregator.waitFor(Visualizations)).then(function(rawReport){this.report.clear({silent:!0}),this.report.setFromSplunkD(rawReport.toSplunkD(),{silent:!0}),this.report.isNew()&&(this.report.entry.content.set({"display.prefs.statistics.count":"20"},{silent:!0}),this.report.setVisualizationType(pivotVizManager.STATISTICS_TABLE,{silent:!0})),this._populateReportFromUrl(this.report,{silent:!0})}.bind(this));return{resource:this.report,deferred:dfd}}.bind(this)),aggregator.addHandler(TimeRange,function(previous,aggregator){var timeRange=this.timeRange,initialSettingsPromise=function(){return this.handlerContext.urlArgs.earliest?{earliest:this.handlerContext.urlArgs.earliest,latest:this.handlerContext.urlArgs.latest}:aggregator.waitFor(PivotReport,["preliminary"]).then(function(report){
var reportContent=report.entry.content;return{earliest:reportContent.get("dispatch.earliest_time"),latest:reportContent.get("dispatch.latest_time")}})}.bind(this);return $.when(initialSettingsPromise()).then(function(initialSettings){return timeRange.set(initialSettings,{silent:!0}),timeRange.save().then(function(){return timeRange},function(){return timeRange.restoreDefaults(),timeRange.set({earliest:0}),timeRange.unset("latest"),timeRange.save().then(function(){return timeRange})})}.bind(this))}.bind(this)),aggregator.addHandler(NormalizedDatasetInfo,function(previous,aggregator){var parseDatasetInfoFromSearch=function(search){var modelAndObject=PivotReport.parseModelAndObjectFromSearch(search);if(!modelAndObject||modelAndObject.length<3)return aggregator.waitFor(PivotReport,["preliminary"]).then(function(report){return $.Deferred().reject(new ErrorPayload(ErrorPayload.TYPES.PIVOT_SEARCH,{report:report}))});var shortModelName=modelAndObject[1];if(shortModelName.indexOf(":")>-1){var typeAndDataset=shortModelName.split(":");return normalizeFromDatasetAndType(typeAndDataset[1],typeAndDataset[0])}return new NormalizedDatasetInfo({model:this._constructFullyQualifiedModelName(encodeURIComponent(modelAndObject[1])),object:modelAndObject[2]})}.bind(this),normalizeFromDatasetAndType=function(dataset,type){if("datamodel"===type){var modelAndObject=dataset.split(".");return new NormalizedDatasetInfo({model:this._constructFullyQualifiedModelName(modelAndObject[0]),object:modelAndObject[1]})}var typedDatasetName=type+":"+dataset;return new NormalizedDatasetInfo({dataset:dataset,type:type,model:this._constructFullyQualifiedModelName(encodeURIComponent(typedDatasetName))})}.bind(this),urlArgs=this.handlerContext.urlArgs;if(urlArgs.model)return new NormalizedDatasetInfo({model:this._constructFullyQualifiedModelName(urlArgs.model),object:urlArgs.object});if(urlArgs.dataset){var escapedDatasetName=splunkUtils.searchEscape(urlArgs.dataset);return normalizeFromDatasetAndType(escapedDatasetName,urlArgs.type)}return urlArgs.seedSid?new NormalizedDatasetInfo(_(urlArgs).pick("seedSid","fields","field_coverage")):urlArgs.q?parseDatasetInfoFromSearch(urlArgs.q):urlArgs.s?aggregator.waitFor(PivotReport,["raw"]).then(function(report){return parseDatasetInfoFromSearch(report.entry.content.get("search"))}):$.Deferred().reject(_('Missing required URL arguments: one of "q", "model", "seedSid", "s", "dataset"').t())}.bind(this)),aggregator.addHandler(DataModel,function(previous,aggregator){return aggregator.waitFor(NormalizedDatasetInfo).then(function(datasetInfo){if(this.handlerContext.flowStep===PIVOT_STEP&&datasetInfo.has("seedSid"))return aggregator.waitFor(DataModel,["from sid"]);if(this.handlerContext.flowStep===PIVOT_STEP&&datasetInfo.has("dataset"))return aggregator.waitFor(DataModel,["from dataset"]);var normalizedModelId=datasetInfo.get("model");if(previous&&previous.get("id")===normalizedModelId)return previous;var dataModel=this.dataModel;return dataModel.clear({silent:!0}),dataModel.set({id:normalizedModelId},{silent:!0}),dataModel.fetch({data:this.handlerContext.appOwner}).then(function(){return dataModel},function(){return new ErrorPayload(ErrorPayload.TYPES.DATA_MODEL,{dataModel:dataModel})})}.bind(this))}.bind(this)),aggregator.addHandler(DataModel,["from sid"],function(previous){if(previous&&previous.get("sid")===this.handlerContext.urlArgs.seedSid)return previous;var dataModel=this.dataModel,fetchData=_.extend({sid:this.handlerContext.urlArgs.seedSid},this.handlerContext.appOwner,_(this.handlerContext.urlArgs).pick("fields","field_coverage"));return dataModel.fetch({data:fetchData}).then(function(){return dataModel},function(){return new ErrorPayload(ErrorPayload.TYPES.SEED_SID,{seedSid:this.handlerContext.urlArgs.seedSid})}.bind(this))}.bind(this)),aggregator.addHandler(DataModel,["from dataset"],function(previous){if(previous&&previous.get("dataset")===this.handlerContext.urlArgs.dataset)return previous;var dataModel=this.dataModel;return aggregator.waitFor(NormalizedDatasetInfo).then(function(datasetInfo){var fetchData=_.extend(datasetInfo.pick("dataset","type"),this.handlerContext.appOwner);return dataModel.fetch({data:fetchData}).then(function(){return dataModel},function(){return new ErrorPayload(ErrorPayload.TYPES.DATASET,{datasetName:datasetInfo.get("dataset")})})}.bind(this))}.bind(this)),aggregator.addHandler(DataModel.Object,function(previous,aggregator){var dfd=$.when(aggregator.waitFor(DataModel),aggregator.waitFor(NormalizedDatasetInfo));return dfd.then(function(dataModel,datasetInfo){if(datasetInfo.has("seedSid"))return 0===dataModel.entry.content.objects.length?$.Deferred().reject(new ErrorPayload(ErrorPayload.TYPES.SEED_SID,{seedSid:datasetInfo.get("seedSid")})):dataModel.entry.content.objects.at(0);if(datasetInfo.has("dataset"))return 0===dataModel.entry.content.objects.length?(console.error("The dataset generated an empty data model."),$.Deferred().reject(new ErrorPayload(ErrorPayload.TYPES.DATASET,{datasetName:datasetInfo.get("dataset")}))):dataModel.entry.content.objects.at(0);if(0===dataModel.entry.content.objects.length)return $.Deferred().reject(_("The data model does not contain any objects.").t());var objectName=datasetInfo.get("object"),object=objectName?dataModel.objectByName(objectName):dataModel.entry.content.objects.at(0);return object?object:$.Deferred().reject(new ErrorPayload(ErrorPayload.TYPES.OBJECT,{objectName:objectName,dataModel:dataModel}))}.bind(this))}.bind(this)),aggregator.addHandler(PivotableDataTable,function(previous,aggregator){var dfd=$.when(aggregator.waitFor(DataModel),aggregator.waitFor(DataModel.Object),aggregator.waitFor(NormalizedDatasetInfo));return dfd.then(function(dataModel,dataModelObject,datasetInfo){return datasetInfo.has("dataset")?PivotableDataTable.createFromDataset(dataModelObject,{fullyQualifiedId:null,displayName:datasetInfo.get("dataset")}):dataModel.entry.content.get("dataset.type")===DataModel.DOCUMENT_TYPES.TABLE?PivotableDataTable.createFromDataset(dataModelObject,{fullyQualifiedId:dataModel.id,displayName:dataModel.entry.content.get("displayName")}):PivotableDataTable.createFromDataModelObject(dataModelObject,dataModel)}.bind(this))}.bind(this)),aggregator.addHandler(PivotReport,["query guaranteed"],function(previous,aggregator){if(this.handlerContext.urlArgs.q||this.handlerContext.urlArgs.s)return aggregator.waitFor(PivotReport,["preliminary"]);var dfd=$.when(aggregator.waitFor(PivotReport,["preliminary"]),aggregator.waitFor(PivotableDataTable));return dfd.then(function(report,dataTable){return report.entry.content.set({baseClass:dataTable.get("id")},{silent:!0}),this.handlerContext.urlArgs.cells?report.addElement("cell",dataTable.getFieldByName(this.handlerContext.urlArgs.cells),{silent:!0}):report.addElement("cell",dataTable.getFieldByName(dataTable.get("id")),{silent:!0}),this.handlerContext.urlArgs.rows&&("_time"!==this.handlerContext.urlArgs.rows&&report.entry.content.set({rowLimitType:"descending"},{silent:!0}),report.addElement("row",dataTable.getFieldByName(this.handlerContext.urlArgs.rows),{silent:!0})),this.handlerContext.urlArgs.columns&&report.addElement("column",dataTable.getFieldByName(this.handlerContext.urlArgs.columns),{silent:!0}),report}.bind(this))}.bind(this)),aggregator.addHandler(PivotSearch,function(previous,aggregator){var dataModelPromise=aggregator.waitFor(DataModel),fullQueryReportPromise=aggregator.waitFor(PivotReport,["query guaranteed"]),fetchDataPromise=aggregator.waitFor(NormalizedDatasetInfo).then(function(datasetInfo){return datasetInfo.has("seedSid")?dataModelPromise.then(this._generatePivotSearchFetchData.bind(this)):this._generatePivotSearchFetchDataFromModelId(datasetInfo.get("model"))}.bind(this)),pivotSearch=new PivotSearch,fetchPivotSearch=function(fetchData){return pivotSearch.fetch({data:fetchData}).then(function(){return pivotSearch},function(){var dfd=$.when(aggregator.waitFor(PivotReport,["preliminary"]),aggregator.waitFor(NormalizedDatasetInfo));return dfd.then(function(report,datasetInfo){return $.Deferred().reject(new ErrorPayload(ErrorPayload.TYPES.PIVOT_SEARCH,{report:report,dataModelId:datasetInfo.get("model")}))})})},dfd=$.when(fetchDataPromise,aggregator.waitFor(PivotReport,["preliminary"]),aggregator.waitFor(NormalizedDatasetInfo));return dfd.then(function(fetchData,report,datasetInfo){var reportSearchString=report.entry.content.get("search");return reportSearchString?(pivotSearch.set({pivotSearch:reportSearchString}),fetchPivotSearch(fetchData)):fullQueryReportPromise.then(function(report){var pivotJson=report.getPivotJSON();return pivotJson.dataModel||datasetInfo.has("model")?(pivotJson.dataModel=pivotJson.dataModel||_(datasetInfo.get("model").split("/")).last(),pivotSearch.set({pivotJson:JSON.stringify(pivotJson)}),fetchPivotSearch(fetchData)):dataModelPromise.then(function(dataModel){return pivotJson.dataModel=_(dataModel.get("id").split("/")).last(),pivotSearch.set({pivotJson:JSON.stringify(pivotJson)}),fetchPivotSearch(fetchData)})}.bind(this))}.bind(this))}.bind(this)),aggregator.addHandler(PivotReport,function(previous,aggregator){var timePresetsPromise=aggregator.waitFor(Times),dfd=$.when(aggregator.waitFor(PivotReport,["query guaranteed"]),aggregator.waitFor(PivotableDataTable),aggregator.waitFor(PivotSearch),aggregator.waitFor(TimeRange));return dfd=dfd.then(function(report,dataTable,pivotSearch,timeRange){var reportContent=report.entry.content;reportContent.set({search:pivotSearch.get("pivotSearch"),"dispatch.earliest_time":timeRange.get("earliest")},{silent:!0}),timeRange.has("latest")?reportContent.set({"dispatch.latest_time":timeRange.get("latest")},{silent:!0}):reportContent.unset("dispatch.latest_time",{silent:!0}),report.setFromPivotJSON(pivotSearch.get("pivotJson"),{silent:!0}),this._decorateReportElements(report,dataTable,{silent:!0});var indexTimeField=dataTable.getIndexTimeField();return indexTimeField?timePresetsPromise.then(function(timePresets){return report.addElement("filter",indexTimeField.toJSON(),{at:0,silent:!0}),reportContent.filters.at(0).setTimeRange(timeRange,timePresets),report}):report}.bind(this)),dfd=dfd.done(function(report){this.reportHistoryManager.register(report),this.reportHistoryManager.applyVisualizationUpdates(report),this._populateUrlFromReport(report,{replaceState:!0})}.bind(this))}.bind(this)),aggregator.addHandler(Job,["seed job"],function(){var seedJob=new Job({},{delay:Job.DEFAULT_LONG_POLLING_INTERVAL,processKeepAlive:!0});return this.handlerContext.urlArgs.seedSid&&(seedJob.set({id:this.handlerContext.urlArgs.seedSid}),seedJob.fetch({data:this.handlerContext.appOwner}).done(function(){seedJob.isDone()||(seedJob.startPolling(),seedJob.stopKeepAlive())})),seedJob}.bind(this)),aggregator.addHandler(Job,["collect job"],function(previous,aggregator){var collectJob=this.collectJob;if(this.handlerContext.noAccelerationMode)return this._disposeOfCollectJob(collectJob);var collectReattachPromise;this.handlerContext.urlArgs.accSid?(collectJob.set({id:this.handlerContext.urlArgs.accSid},{silent:!0}),collectReattachPromise=collectJob.fetch({data:this.handlerContext.appOwner})):collectReattachPromise=$.Deferred().reject();var timeRangePromise=aggregator.waitFor(TimeRange);return $.when(aggregator.waitFor(PivotableDataTable),aggregator.waitFor(PivotReport,["preliminary"])).then(function(dataTable,preliminaryReport){if(dataTable.isAccelerated())return this._disposeOfCollectJob(collectJob);var reportContent=preliminaryReport.entry.content,baseSearch=dataTable.get("baseSearch"),dataTableCollectSearch=this._constructCollectSearch(baseSearch);return collectReattachPromise.then(function(){var requestSearch=collectJob.entry.content.request.get("search");if(this.handlerContext.timeWindow){var timeWindow=this.handlerContext.timeWindow;return dataTableCollectSearch!==requestSearch?this._dispatchNewCollectJob(collectJob,baseSearch,_.extend({destroyExisting:!0},timeWindow)):collectJob}return this.handlerContext.elasticMode?timeUtils.isRealtime(reportContent.get("dispatch.earliest_time"))?this._disposeOfCollectJob(collectJob,{destroy:!0}):timeRangePromise.then(function(timeRange){return dataTableCollectSearch!==requestSearch||this._shouldHandleCollectTimeRangeMismatch(collectJob,timeRange)?this._dispatchNewElasticCollectJob(collectJob,baseSearch,timeRange,{destroyExisting:!0}).then(function(){return this._waitForRunningCollect(collectJob,timeRange,baseSearch).then(function(){return this._ensureCollectRunningState(collectJob,timeRange)}.bind(this))}.bind(this)):this._waitForRunningCollect(collectJob,timeRange,baseSearch).then(function(){return this._ensureCollectRunningState(collectJob,timeRange)}.bind(this))}.bind(this)):dataTableCollectSearch!==requestSearch?this._dispatchNewCollectJob(collectJob,baseSearch,{destroyExisting:!0}):collectJob}.bind(this),function(){return this._disposeOfCollectJob(collectJob),this.handlerContext.timeWindow?this._dispatchNewCollectJob(collectJob,baseSearch,this.handlerContext.timeWindow):this.handlerContext.elasticMode?timeUtils.isRealtime(reportContent.get("dispatch.earliest_time"))?$.Deferred().resolve(collectJob):timeRangePromise.then(function(timeRange){return this._dispatchNewElasticCollectJob(collectJob,baseSearch,timeRange).then(function(){return this._waitForRunningCollect(collectJob,timeRange,baseSearch).then(function(){return this._ensureCollectRunningState(collectJob,timeRange)}.bind(this))}.bind(this))}.bind(this)):this._dispatchNewCollectJob(collectJob,baseSearch)}.bind(this))}.bind(this))}.bind(this)),aggregator.addHandler(PivotJob,function(previous,aggregator){var pivotJob=this.pivotJob,oldPivotJob=this.pivotJob.clone(),dataTablePromise=aggregator.waitFor(PivotableDataTable),collectJobPromise=aggregator.waitFor(Job,["collect job"]),dispatchDataPromise=$.when(aggregator.waitFor(PivotSearch),aggregator.waitFor(PivotReport,["preliminary"]));return dispatchDataPromise=dispatchDataPromise.then(function(pivotSearch,report){var reportContent=report.entry.content,dispatchData=_.extend(this.handlerContext.appOwner,{search:pivotSearch.get("search"),earliest_time:reportContent.get("dispatch.earliest_time")||0});return reportContent.get("dispatch.latest_time")&&(dispatchData.latest_time=reportContent.get("dispatch.latest_time")),this.handlerContext.timeWindow&&_.extend(dispatchData,this.handlerContext.timeWindow),this.handlerContext.noAccelerationMode?dispatchData:dataTablePromise.then(function(dataTable){return dataTable.isAccelerated()?(dispatchData.tsidxNamespace=dataTable.get("accelerationNamespace"),dispatchData.tstatsSearch=pivotSearch.get("tstatsSearch").replace(new RegExp(PivotRouter.TSIDX_NAMESPACE_TOKEN,"g"),dataTable.get("accelerationNamespace")),dispatchData):this.handlerContext.elasticMode&&timeUtils.isRealtime(dispatchData.earliest_time)?dispatchData:collectJobPromise.then(function(collectJob){return dispatchData.sid=collectJob.get("id"),dispatchData.tstatsSearch=pivotSearch.get("tstatsSearch").replace(new RegExp(PivotRouter.TSIDX_NAMESPACE_TOKEN,"g"),"sid="+collectJob.get("id")),dispatchData})}.bind(this))}.bind(this)),dispatchDataPromise.done(function(dispatchData){oldPivotJob.destroy(),dispatchData.provenance="UI:Pivot",pivotJob.stopPolling(),pivotJob.clear(),pivotJob.save({},{data:dispatchData}).done(function(){pivotJob.startPolling()})}),pivotJob}.bind(this)),aggregator.addHandler(Job,function(previous,aggregator){return aggregator.waitFor(PivotJob)})},_populateReportFromUrl:function(report){var reportContent=report.entry.content,uriAttrs=_(this.classicurl.toJSON()).omit("model");uriAttrs.q&&generalUtils.transferKey(uriAttrs,"q","search"),uriAttrs.hasOwnProperty("earliest")?generalUtils.transferKey(uriAttrs,"earliest","dispatch.earliest_time"):reportContent.get("dispatch.earliest_time")||(uriAttrs["dispatch.earliest_time"]=0),generalUtils.transferKey(uriAttrs,"latest","dispatch.latest_time"),report.entry.content.set(uriAttrs)},_decorateReportElements:function(report,dataTable,options){var reportContent=report.entry.content,elementCollections=[reportContent.filters,reportContent.columns,reportContent.rows,reportContent.cells];_(elementCollections).each(function(collection){collection.each(function(element){var field=dataTable.getFieldByName(element.get("fieldName")),setObject={displayName:field.displayName};if(collection===reportContent.filters&&"limit"===element.get("filterType")){var limitByField=dataTable.getFieldByName(element.get("limitBy"));setObject.limitByDisplayName=limitByField.displayName,setObject.limitByDataType=limitByField.type}element.set(setObject,options)},this)},this),_(elementCollections).each(function(collection){collection.invoke("refreshLabel",options)})},_populateUrlFromReport:function(report,options){options=options||{};var reportContent=report.entry.content,customAttrs={},reportAttrs=reportContent.filterChangedByWildcards(PivotReport.REPORT_FORMAT_FILTER,{allowEmpty:!0}),shouldUpdateVizType=report.getVisualizationType()!==pivotVizManager.STATISTICS_TABLE||this.classicurl.has("display.visualizations.show");delete reportAttrs["display.statistics.sortColumn"],delete reportAttrs["display.statistics.sortDirection"],shouldUpdateVizType&&(reportAttrs["display.general.type"]=reportContent.get("display.general.type"),reportAttrs["display.visualizations.show"]=reportContent.get("display.visualizations.show"),reportAttrs["display.statistics.show"]=reportContent.get("display.statistics.show"),reportAttrs["display.visualizations.type"]=reportContent.get("display.visualizations.type"),reportAttrs["display.visualizations.charting.chart"]=reportContent.get("display.visualizations.charting.chart")),_(["model","object","type","dataset","cells","rows","columns","reload"]).each(function(key){this.classicurl.unset(key)},this),options.reload&&(customAttrs.reload=!0),reportAttrs.q=reportContent.get("search"),report.isNew()?this.classicurl.unset("s"):(this._clearTemporaryDataModelFromUrl(),customAttrs.s=report.get("id")),customAttrs.earliest=reportContent.get("dispatch.earliest_time"),reportContent.get("dispatch.latest_time")?customAttrs.latest=reportContent.get("dispatch.latest_time"):this.classicurl.unset("latest"),this.classicurl.save($.extend(customAttrs,reportAttrs),options)},_clearTemporaryDataModelFromUrl:function(){this.classicurl.unset("seedSid"),this.classicurl.unset("fields"),this.classicurl.unset("field_coverage")},_constructFullyQualifiedModelName:function(modelName){if(!modelName)return null;var app=this.application.get("app"),owner=this.application.get("owner"),shortName=modelName.indexOf("/")>-1?_(modelName.split("/")).last():modelName;return"/servicesNS/"+encodeURIComponent(owner)+"/"+encodeURIComponent(app)+"/"+DataModel.prototype.url+"/"+shortName},_constructCollectSearch:function(baseSearch){return/\| tscollect \| stats count$/.test(baseSearch)?baseSearch:baseSearch+" | tscollect | stats count"},_disposeOfCollectJob:function(collectJob,options){return options=options||{},this.classicurl.unset("accSid"),this.classicurl.save({},{replaceState:!0}),options.destroy&&collectJob.destroy(),collectJob.clear({silent:!0}),collectJob},_dispatchNewCollectJob:function(collectJob,baseSearch,options){options=options||{};var dispatchParams=_.extend(this.application.pick("app","owner"),_(options).pick("earliest_time","latest_time"),{search:this._constructCollectSearch(baseSearch),status_buckets:0,auto_cancel:100,provenance:"UI:Pivot"});return this._disposeOfCollectJob(collectJob,{destroy:!!options.destroyExisting}),collectJob.save({},{data:dispatchParams}).then(function(){return this.classicurl.save({accSid:collectJob.get("id")},{replaceState:!0}),collectJob}.bind(this))},_dispatchNewElasticCollectJob:function(collectJob,baseSearch,timeRange,options){options=_.extend({},options);var reportLatest=timeRange.get("latest");this.elasticMode&&reportLatest&&"now"!==reportLatest&&(options.latest_time=reportLatest);var cursoredMode=collectJob.isNew()||collectJob.entry.content.get("isTimeCursored");return this.elasticMode&&!cursoredMode&&(options.earliest_time=timeRange.get("earliest")||0),this._dispatchNewCollectJob(collectJob,baseSearch,options)},_shouldHandleCollectTimeRangeMismatch:function(collectJob,timeRange){var reportLatest=timeRange.get("latest")||"now",collectRequest=collectJob.entry.content.request,collectLatest=collectRequest.get("latest_time")||"now";if(reportLatest!==collectLatest)return!0;var cursoredMode=collectJob.entry.content.get("isTimeCursored"),reportEarliest=timeRange.get("earliest")||0,collectEarliest=collectRequest.get("earliest_time")||0;return!cursoredMode&&reportEarliest!==collectEarliest},_ensureCollectRunningState:function(collectJob,timeRange){var collectContent=collectJob.entry.content;if(collectContent.get("isDone"))return collectJob;var cursorTimeIso=collectContent.get("cursorTime"),cursorTimeEpoch=cursorTimeIso?parseFloat(splunkUtils.getEpochTimeFromISO(cursorTimeIso)):0,reportEarliestEpoch=timeRange.get("earliest_epoch");return 0===cursorTimeEpoch&&(cursorTimeEpoch=1/0),cursorTimeEpoch<reportEarliestEpoch?$.when(collectContent.get("isPaused")||collectJob.pause()).then(function(){return collectJob}):$.when(!collectContent.get("isPaused")||collectJob.unpause()).then(function(){return collectJob})},_waitForRunningCollect:function(collectJob,timeRange,baseSearch){if(!collectJob.isPreparing())return this._shouldHandleCollectTimeRangeMismatch(collectJob,timeRange)?this._dispatchNewElasticCollectJob(collectJob,baseSearch,timeRange,{destroyExisting:!0}):$.Deferred().resolve(collectJob);var dfd=$.Deferred();return collectJob.startPolling(),this.listenToOnce(collectJob,"prepared",function(){return collectJob.stopPolling(),this._shouldHandleCollectTimeRangeMismatch(collectJob,timeRange)?void this._dispatchNewElasticCollectJob(collectJob,baseSearch,timeRange,{destroyExisting:!0}).done(function(){dfd.resolve(collectJob)}):void dfd.resolve(collectJob)},this),dfd},_generatePivotSearchFetchData:function(dataModel){if(!dataModel.isTemporary())return this._generatePivotSearchFetchDataFromModelId(this._constructFullyQualifiedModelName(dataModel.get("id")));var fetchData=this._generatePivotSearchFetchDataFromModelId(null);return fetchData.modelJson=dataModel.toSplunkD().entry[0].content.description,fetchData},_generatePivotSearchFetchDataFromModelId:function(dataModelId){var fetchData=_.extend({namespace:PivotRouter.TSIDX_NAMESPACE_TOKEN},this.application.pick("app","owner"));return dataModelId&&(fetchData.dataModel=dataModelId),fetchData},formatEventData:function(options){options=options||{};var data={};if(data.eventCategory=_.has(options,"eventCategory")?options.eventCategory:void 0,data.eventAction=_.has(options,"eventAction")?options.eventAction:void 0,data.eventLabel=_.has(options,"eventLabel")?options.eventLabel:void 0,data.eventValue=_.has(options,"eventValue")?options.eventValue:void 0,data.context="pivot",this.report&&(data.numAggregations=this.report.getNumCells(),data.numColumnSplits=this.report.getNumColumns(),data.numCustomFilters=this.report.getNumFilters(!1),data.numRowSplits=this.report.getNumRows(),this.model&&this.model.classicUrl)){var classicUrlMap=this.model.classicUrl.toJSON(),props=_.pick(this.report.entry.content.toJSON(),_.keys(classicUrlMap));props=$.extend(props,_.pick(classicUrlMap,["earliest","latest"])),props=_.omit(props,"accSid","seedSid"),props=$.extend(props,options.props),data.reportProps=props}return data}},{apiDependencies:function(context){return context.flowStep!==PIVOT_STEP?{}:{report:PivotReport,pivotJob:Job,collectJob:{resourceType:Job,flags:["collect job"]},seedJob:{resourceType:Job,flags:["seed job"]},dataModel:DataModel,dataModelObject:DataModel.Object,dataTable:PivotableDataTable,pivotSearch:PivotSearch,datasetInfo:NormalizedDatasetInfo,saveNewDialog:CreateReportDialog,dashboardDialog:CreateDashboardPanelDialog,saveDataModelDialog:SaveDataModelDialog,saveDialog:SavereportMaster,exportDialog:ExportResultsDialog,shareDialog:SharePivotDialog,permissionMismatchDialog:PermissionMismatchDialog}},TSIDX_NAMESPACE_TOKEN:"__NAMESPACE_TOKEN__",ALL_TIME_ADHOC_ACCELERATION:ALL_TIME_ADHOC_ACCELERATION,ELASTIC_ADHOC_ACCELERATION:ELASTIC_ADHOC_ACCELERATION,NO_ADHOC_ACCELERATION:NO_ADHOC_ACCELERATION,ADHOC_ACCELERATION_MODE:getAdhocAccelerationMode()});return PivotRouter}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/VisualizationConfigPanel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("models/Base"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("views/pivot/VisualizationConfigSubpanel"),__webpack_require__("views/pivot/AddSubpanelDropDownMenu"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("helpers/pivot/PivotVisualizationManager"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,DeclarativeDependencies,Base,BaseModel,PivotReport,PivotableDataTable,VisualizationConfigSubpanel,AddSubpanelDropDownMenu,FlashMessages,pivotVizManager,splunkUtils){var VisualizationConfigPanel=Base.extend({moduleId:module.id,className:"config-panel-group concertina-group",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.chartingAttributeWhitelist=_(this.options.panel.formElements||[]).pluck("name"),this.model.chartMessageMediator=new BaseModel,this.chartingAttributeWhitelist.length>0&&this.model.visualization.on("validated",function(isValid,model,errors){if(isValid)this.model.chartMessageMediator.trigger("validated",isValid,model,errors);else{var mediatedErrors=_(errors).pick(this.chartingAttributeWhitelist);_(mediatedErrors).isEmpty()?this.model.chartMessageMediator.trigger("validated",!0,model,mediatedErrors):this.model.chartMessageMediator.trigger("validated",!1,model,mediatedErrors)}},this);var elementType=this.options.panel.elementType;this.reportAttributeWhitelist=[],elementType===pivotVizManager.ROW_SPLIT?this.reportAttributeWhitelist.push("rowLimitAmount"):elementType===pivotVizManager.COLUMN_SPLIT&&this.reportAttributeWhitelist.push("colLimitAmount"),this.model.reportMessageMediator=new BaseModel,this.model.report.entry.content.on("validated",function(isValid,model,errors){if(isValid)this.model.reportMessageMediator.trigger("validated",isValid,model,errors);else{var mediatedErrors=_(errors).pick(this.reportAttributeWhitelist);_(mediatedErrors).isEmpty()?this.model.reportMessageMediator.trigger("validated",!0,model,mediatedErrors):this.model.reportMessageMediator.trigger("validated",!1,model,mediatedErrors)}},this),this.children.flashMessages=new FlashMessages({model:{chartMessageMediator:this.model.chartMessageMediator,reportMessageMediator:this.model.reportMessageMediator},helperOptions:{removeDuplicates:!0}}),_(this.options.elements||[]).each(function(element){element.on("removeField",function(){this.model.report.removeElement(element.get("elementType"),element)},this),element.on("hotSwap",function(newAttrs){this.model.report.hotSwapElement(element.get("elementType"),element,newAttrs)},this),this.children.flashMessages.flashMsgHelper.register(element)},this),this.children.flashMessages.flashMsgCollection.on("add remove reset",function(){this.handleValidation(0===this.children.flashMessages.flashMsgCollection.length)},this)},stopListening:function(){_(this.options.elements||[]).each(function(element){element.off(null,null,this)},this),this.children.flashMessages.flashMsgCollection.off(null,null,this),Base.prototype.stopListening.apply(this,arguments)},render:function(){_(this.children).each(function(child,childName){child!==this.children.flashMessages&&(child.remove(),delete this.children[childName])},this);var panelOptions=this.options.panel,templateData={panelOptions:panelOptions,headingMessage:null,headingClassName:null},useElements=this.options.hasOwnProperty("elements");if(useElements&&panelOptions.required&&0===this.options.elements.length){templateData.headingClassName="warning";var headingMessage=_("Required").t();templateData.headingMessage=headingMessage}this.$el.html(this.compiledTemplate(templateData)),this.$el.attr("data-group-name",panelOptions.title.replace(/\W/g,"").toLowerCase()),this.children.flashMessages.replaceAll(this.$(".flash-messages-placeholder"));var $panelBody=this.$(".panel-body");return useElements?(this.insertMultiElementSubpanel($panelBody,panelOptions,this.options.elements),$panelBody.children().not(this.children.flashMessages.el).slice(0,-1).after(this.sectionDividerTemplate)):this.insertSimpleSubpanel($panelBody,panelOptions),this},insertMultiElementSubpanel:function($container,panelOptions,elements){_(elements).each(function(element){this.insertSimpleSubpanel($container,panelOptions,element)},this),this.options.prerequisiteToAdd?this.insertMessage($container,this.options.prerequisiteToAdd):(!panelOptions.hasOwnProperty("maxLength")||elements.length<panelOptions.maxLength)&&this.insertAddNewButton($container,panelOptions.title)},insertMessage:function($container,message){$container.append("<div class='concertina-message'>"+message+"</div>")},insertSimpleSubpanel:function($container,panelOptions,element){var child=this.children["subpanel_"+_(this.children).size()]=new VisualizationConfigSubpanel({apiResources:this.apiResources.subpanel,panel:panelOptions,hideFieldPicker:this.options.hideFieldPicker,model:{element:element,visualization:this.model.visualization}});child.render().appendTo($container)},insertAddNewButton:function($container,panelTitle){var possibleFields=this.model.dataTable.getFieldList(),panelOptions=this.options.panel,elementType=panelOptions.elementType;if(panelOptions.hasOwnProperty("dataTypes")&&(possibleFields=_(possibleFields).filter(function(field){return _(panelOptions.dataTypes).contains(field.type)},this)),elementType in{row:!0,column:!0}){var existingFieldNames=this.model.report.getElementCollectionByType(elementType).pluck("fieldName");possibleFields=_(possibleFields).filter(function(field){return!_(existingFieldNames).contains(field.fieldName)},this)}this.children.addSubpanelMenu&&this.children.addSubpanelMenu.remove(),this.children.addSubpanelMenu=new AddSubpanelDropDownMenu({items:possibleFields,label:splunkUtils.sprintf(_("Add %s").t(),panelTitle)}),this.children.addSubpanelMenu.render().appendTo($container),this.children.addSubpanelMenu.on("itemClicked",function(fieldName,field){this.addSubpanel(fieldName,field,this.model.dataTable)},this)},addSubpanel:function(fieldName,field,dataTable){var panelOptions=this.options.panel,elementType=panelOptions.elementType,newAttrs=dataTable.getFieldByName(field.fieldName);if($.extend(newAttrs,panelOptions.setAttributes),panelOptions.hasOwnProperty("newElementHandler")){var newElement=this.model.report.createNewElement(elementType,newAttrs),addOptions=panelOptions.newElementHandler(newElement);this.model.report.addElement(elementType,newElement,addOptions)}else this.model.report.addElement(elementType,newAttrs)},handleValidation:function(isValid){var $headingMessage=this.$(".heading-message");isValid?(this.$(".concertina-heading").removeClass("error"),$headingMessage.text($headingMessage.attr("data-valid-text")||"")):(this.$(".concertina-heading").addClass("error"),$headingMessage.text(_("Error").t()))},template:'\t            <div class="concertina-heading <%- headingClassName || \'\' %>">\t                <a href="#" class="concertina-toggle">\t                    <!--i class="icon-circle"></i-->\t                    <%- panelOptions.description || panelOptions.title %>\t                    <span class="heading-message" data-valid-text="<%- headingMessage %>"><%- headingMessage || \'\' %></span>\t                </a>\t            </div>\t            <div class="concertina-group-body panel-body">\t                <div class="flash-messages-placeholder"></div>\t            </div>\t        ',
sectionDividerTemplate:'<div class="panel-section-divider"></div>'},{apiDependencies:{dataTable:PivotableDataTable,subpanel:VisualizationConfigSubpanel}});return DeclarativeDependencies(VisualizationConfigPanel)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/VisualizationConfigSubpanel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("collections/services/data/ui/Times"),__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/services/AppLocal"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/pivot/custom_controls/FieldPickerControlGroup"),__webpack_require__("views/shared/vizcontrols/components/Form"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("helpers/pivot/PivotVisualizationManager")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,Times,Application,User,PivotReport,AppLocal,PivotableDataTable,DeclarativeDependencies,FieldPickerControlGroup,Form,ControlGroup,pivotVizManager){var VisualizationConfigSubpanel=Form.extend({moduleId:module.id,className:"form form-horizontal",initialize:function(){this.model.visualization=this.model.visualization||new BaseModel,this.model.element&&!this.options.hideFieldPicker&&(this.children.fieldPicker=new FieldPickerControlGroup({model:this.model.element,report:this.model.report,dataTable:this.model.dataTable,dataTypes:this.options.panel.dataTypes,showRemoveButton:!this.options.panel.required})),_(this.options.panel.pivotFormElements).each(function(formElement){this.children[formElement.id]=new formElement.group($.extend({},formElement.groupOptions,{model:formElement.type===pivotVizManager.REPORT_CONTROL?this.model.report.entry.content:this.model.element,report:this.model.report,dataTable:this.model.dataTable,collection:this.collection?this.collection.timePresets:void 0,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,visualization:this.model.visualization}))},this),this.dynamicallyVisiblePivotElements=_(this.options.panel.pivotFormElements).filter(_.property("visibleWhen")),this.dynamicallyVisiblePivotElements.length>0&&this.listenTo(this.model.element,"change",this._refreshPivotGroupsVisibleState),this.options.formElements=this.options.panel.formElements,Form.prototype.initialize.call(this,this.options)},render:function(){return this.children.fieldPicker&&this.children.fieldPicker.render().appendTo(this.el),_(this.options.panel.pivotFormElements).each(function(formElement){this.children[formElement.id].render().appendTo(this.el)},this),Form.prototype.render.call(this),this._refreshPivotGroupsVisibleState(),this},_refreshPivotGroupsVisibleState:function(){_(this.dynamicallyVisiblePivotElements).each(function(formElement){this._modelPassesPredicate(this.model.element,formElement.visibleWhen)?this.children[formElement.id].$el.show():this.children[formElement.id].$el.hide()},this)}},{apiDependencies:{report:PivotReport,dataTable:PivotableDataTable,application:Application,appLocal:AppLocal,user:User,timePresets:Times}});return DeclarativeDependencies(VisualizationConfigSubpanel)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/AddSubpanelDropDownMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/DropDownMenu"),__webpack_require__("util/datamodel/field_icon_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,DropDownMenu,fieldIconUtils){return DropDownMenu.extend({moduleId:module.id,initialize:function(){this.options.labelIcon="plus-circle icon-no-underline",this.options.className="dropdown",this.options.anchorClassName="",this.options.popdownOptions={detachDialog:!0},_(this.options.items).each(function(item){item.icon=fieldIconUtils.fieldIconClassByType(item.type),item.label=item.displayName},this),DropDownMenu.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/PivotContent":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/search/Job"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/shared/ReportVisualizer"),__webpack_require__("views/shared/statscontrols/StatsControlsMaster"),__webpack_require__("views/pivot/PivotElementsDisplay"),__webpack_require__("util/splunkd_utils"),__webpack_require__("helpers/Printer"),__webpack_require__("shim/jquery.resize")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Application,Job,PivotReport,DeclarativeDependencies,Base,ReportVisualizer,StatsControlsMaster,PivotElementsDisplay,splunkdUtils,Printer,jquery_resize){var GAUGE_MAX_HEIGHT=500,SINGLE_VALUE_MAX_HEIGHT=200,PivotContent=Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments),this.flashMessages=this.options.flashMessages,this.$el.on("elementResize",function(e){this.invalidateReflow()}.bind(this)),this.flashMessages.$el.on("elementResize",function(e){this.invalidateReflow()}.bind(this)),this.listenTo(Printer,Printer.PRINT_START,this.invalidateReflow),this.listenTo(Printer,Printer.PRINT_END,this.invalidateReflow),this.model.job.entry.content.on("change",this.updateData,this),this.flashMessagesHelper=this.flashMessages.flashMsgHelper,this.model.report.entry.content.get("display.general.type")===ReportVisualizer.GENERAL_TYPES.STATISTICS&&(this.children.tableFormatBar=new StatsControlsMaster({model:{report:this.model.report,job:this.model.job,application:this.model.application,user:this.model.user}}),this.children.elementsDisplay=new PivotElementsDisplay({apiResources:this.apiResources.elementsDisplay})),this.children.reportVisualizer=new ReportVisualizer({model:{config:this.model.report.entry.content,application:this.model.application},allowResize:!1,ignoreConfigHeight:!0,enableTableDock:!1,enableStaticHeader:!0,enableEditing:!0,numRowSplits:this.model.report.getNumRows()}),this.$visualizerContainer=$('<div class="viz-container"/>');var vizMaxHeight=this._computeVizMaxHeight();_.isFinite(vizMaxHeight)&&this.$visualizerContainer.css({"max-height":vizMaxHeight}),this.model.report.isComplete()&&(this.primaryDataSource=this.children.reportVisualizer.getPrimaryDataSource(),this.model.searchData=this.primaryDataSource.searchResults,this.model.searchDataParams=this.primaryDataSource.fetchParams,this.model.searchData.fetchData.set(this.model.searchDataParams.attributes,{silent:!0}),Job.registerArtifactModel(this.model.searchData,this.model.job,Job.RESULTS_PREVIEW),this.flashMessagesHelper.register(this.model.searchData,[splunkdUtils.FATAL,splunkdUtils.ERROR,splunkdUtils.WARNING]),this.listenTo(this.model.searchDataParams,"change",function(){this.model.searchData.fetchData.set(this.model.searchDataParams.attributes)}),this.listenTo(this.model.searchData,"change",function(){this.model.searchData.set({meta:{done:this.model.job.isDone()}},{silent:!0})})),this.listenTo(this.children.reportVisualizer,"drilldown",function(clickInfo,options){this.model.report.trigger("drilldown",clickInfo,options)})},render:function(){return this.$el.empty(),this.renderContainer(),this.renderData(),this.updateData(),this},renderContainer:function(){this.flashMessages&&this.flashMessages.render().prependTo(this.$el),this.children.elementsDisplay&&this.children.elementsDisplay.render().appendTo(this.$el),this.$visualizerContainer.appendTo(this.$el),this.children.tableFormatBar&&this.children.tableFormatBar.render().appendTo(this.$el)},updateData:function(){this.$(".data-display-alert").remove();var hasResults=!this.model.job.isPreparing()&&this.model.job.resultCountSafe()>0,jobContent=this.model.job.entry.content;if(hasResults)this.showDataDisplay();else if(jobContent.get("isFailed")||jobContent.get("isDone"))this.hideDataDisplay(),this.renderMessage("error",_("Your search returned no results.").t());else{if(this.hideDataDisplay(),_.isEmpty(jobContent.toJSON()))return;this.model.job.isQueued()?this.renderMessage("info",_("Waiting for queued job to start.").t()):this.model.job.isParsing()?this.renderMessage("info",_("Parsing search.").t()):this.model.job.isFinalizing()?this.renderMessage("info",_("Finalizing results.").t()):this.model.job.isRealtime()?this.renderMessage("info",_("No results yet found.").t()):this.renderMessage("info",_("Waiting for results...").t())}this.trigger("updateData")},renderData:function(){this.children.reportVisualizer.load().activate().render(),this.children.reportVisualizer.appendTo(this.$visualizerContainer),this.invalidateReflow()},clearData:function(){this.children.reportVisualizer.remove()},showDataDisplay:function(){this.children.reportVisualizer.wake().$el.show()},hideDataDisplay:function(){this.children.reportVisualizer.sleep().$el.hide()},renderMessage:function(type,text){var messageHtml=_(this.messageTemplate).template({type:type,text:text});this.children.elementsDisplay?this.children.elementsDisplay.$el.after(messageHtml):$(messageHtml).appendTo(this.$el)},disable:function(){this.children.elementsDisplay&&this.children.elementsDisplay.disable()},reflow:function(){var vizTop=this.flashMessages?this.flashMessages.$el.outerHeight():0,vizBottom=0;this.children.elementsDisplay&&(vizTop+=this.children.elementsDisplay.$el.outerHeight()),this.children.tableFormatBar&&(vizBottom+=this.children.tableFormatBar.$el.outerHeight()),this.$visualizerContainer.css({bottom:vizBottom,top:vizTop})},_computeVizMaxHeight:function(){var vizType=this.model.report.getVisualizationType();return"radialGauge"===vizType||"markerGauge"===vizType||"fillerGauge"===vizType?GAUGE_MAX_HEIGHT:"singlevalue"===vizType?SINGLE_VALUE_MAX_HEIGHT:1/0},remove:function(){return this.model.searchData&&(Job.unregisterArtifactModel(this.model.searchData,this.model.job),this.flashMessagesHelper.unregister(this.model.searchData)),$(this.$el).off("elementResize"),this.flashMessages.$el.off("elementResize"),Base.prototype.remove.apply(this,arguments)},messageTemplate:'\t            <div class="alert alert-<%- type %> data-display-alert">\t                <i class="icon-alert"></i>\t                <%- text %>\t            </div>\t        '},{apiDependencies:{report:PivotReport,job:Job,application:Application,elementsDisplay:PivotElementsDisplay}});return DeclarativeDependencies(PivotContent)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/statscontrols/StatsControlsMaster":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),module,__webpack_require__("models/search/Job"),__webpack_require__("views/Base"),__webpack_require__("views/shared/statscontrols/StatsFormattingControls"),__webpack_require__("views/shared/SearchResultsPaginator")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,module,Job,BaseView,FormattingControls,Paginator){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.formattingControls=new FormattingControls({model:{report:this.model.report,application:this.model.application,user:this.model.user},leftOffset:this.options.leftOffset||0}),this.children.paginator=new Paginator({mode:"results_preview",model:{state:this.model.report.entry.content,searchJob:this.model.job},countKey:"display.prefs.statistics.count",offsetKey:"display.prefs.statistics.offset"})},render:function(){return this.$el.append(this.children.formattingControls.render().el),this.$el.append(this.children.paginator.render().el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/statscontrols/StatsFormattingControls":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/vizcontrols/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,SyntheticSelectControl,FormattingControls){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.count=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:"10",label:_("10 per page").t()},{value:"20",label:_("20 per page").t()},{value:"50",label:_("50 per page").t()}],model:this.model.report.entry.content,modelAttribute:"display.prefs.statistics.count",toggleClassName:"btn-pill",popdownOptions:{attachDialogTo:"body"}}),this.children.formattingControls=new FormattingControls({vizTypes:["statistics"],bindToChangeOfSearch:!1,excludeAttributes:["display.prefs.statistics.count"],model:{report:this.model.report,application:this.model.application,user:this.model.user}}),this.children.formattingControls.$el.addClass("popdown pull-left")},render:function(){return this.children.count.render().appendTo(this.el),this.children.formattingControls.render().appendTo(this.el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/PivotElementsDisplay":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/config_popups/PivotConfigWizard"),__webpack_require__("views/pivot/config_popups/TimeRangeInspector"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("uri/route"),__webpack_require__("helpers/user_agent"),__webpack_require__("views/pivot/PivotElementsDisplay.pcss"),__webpack_require__("shim/jquery.ui.sortable"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Application,PivotReport,DeclarativeDependencies,BaseView,PivotConfigWizard,TimeRangeInspector,Popdown,route,userAgent,css){var USE_BOOTSTRAP_TOOLTIPS=!userAgent.isIE7(),REPORT_LEVEL_ATTR_FILTER=["^showRowSummary$","^rowLimitType$","^rowLimitAmount$","^showColSummary$","^colLimitAmount$","^showOtherCol$"],PivotElementsDisplay=BaseView.extend({DROP_TO_REMOVE_CLASS:"ui-sortable-drop-to-remove",ACCEPT_DROP_CLASS:"ui-sortable-drop-acceptor",ELEMENT_WIDTH:170,ELEMENT_OFFSET:100,moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.inspectorPopdown=new Popdown({el:this.el,toggle:".inspect-button, .clickable-label",dialog:".inspector-dialog",mode:"dialog",attachDialogTo:"body",ignoreClasses:["dropdown-menu","ui-datepicker"]}),this.inspectorPopdown.on("show",function($target){var id=this.resolveElementId($target[0]),type=this.resolveElementType($target[0]);this.onInspectorShow(type,id)},this),this.inspectorPopdown.on("shown",function(){this.children.inspectorView.onShown()},this),this.creatorPopdown=new Popdown({el:this.el,toggle:".add-button",dialog:".creator-dialog",mode:"dialog",attachDialogTo:"body",scrollContainer:!1,ignoreClasses:["dropdown-menu","ui-datepicker"]}),this.creatorPopdown.on("show",function($target){var type=this.resolveElementType($target[0]);this.onCreatorShow(type)},this),this.creatorPopdown.on("shown",function(){this.children.creatorView.onShown()},this)},remove:function(){var $filterList=this.$('.element-list[data-elem-type="filter"]'),$rowList=this.$('.element-list[data-elem-type="row"]'),$columnList=this.$('.element-list[data-elem-type="column"]'),$cellList=this.$('.element-list[data-elem-type="cell"]');return $filterList.sortable("destroy"),$cellList.sortable("destroy"),$rowList.sortable("destroy"),$columnList.sortable("destroy"),this.removeTooltips(this.$el),this.inspectorPopdown.off(null,null,this),this.creatorPopdown.off(null,null,this),BaseView.prototype.remove.call(this)},disable:function(){this.$disabledScreen=$('<div class="disabled-screen"></div>'),this.$el.append(this.$disabledScreen)},render:function(){var html=_(this.rootTemplate).template({model:this.model.report,tableHelpHref:route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.pivot.about")});return this.$el.html(html),this.$creatorDialogEl=this.$(".creator-dialog"),this.$inspectorDialogEl=this.$(".inspector-dialog"),this.renderFilters(),this.renderCells(),this.renderRows(),this.renderColumns(),this.configureSortable(),this},renderFilters:function(){if(this.awake){var container=this.$('.element-list[data-elem-type="filter"]'),filterList=this.model.report.getFilterList(),timestampFilter=_(filterList).findWhere({type:"timestamp"});if(timestampFilter){var timestampFilterHtml=_(this.nonDraggableElementTemplate).template({element:timestampFilter});container.find(".list-header").after(timestampFilterHtml)}this.updateElementList(container,_(filterList).without(timestampFilter))}},renderCells:function(){if(this.awake){var container=this.$('.element-list[data-elem-type="cell"]');this.updateElementList(container,this.model.report.getCellList())}},renderRows:function(){if(this.awake){var rowList=this.model.report.getRowList(),$container=this.$('.element-list[data-elem-type="row"]');this.updateElementList($container,rowList)}},renderColumns:function(){if(this.awake){var columnList=this.model.report.getColumnList(),$container=this.$('.element-list[data-elem-type="column"]');this.updateElementList($container,columnList)}},onInspectorShow:function(type,id){var elementModel=this.model.report.getElement(type,id),elementClone=elementModel.clone(),reportClone=this.cloneReportLevelAttributes(this.model.report);this.children.inspectorView&&(this.children.inspectorView.off(),this.children.inspectorView.remove()),"filter"===type&&"timestamp"===elementModel.get("type")?(this.children.inspectorView=new TimeRangeInspector({apiResources:this.apiResources.timeRangeInspector,model:{element:elementClone}}),this.listenToOnce(elementClone.timeRange,"applied",function(){this.inspectorPopdown.hide()})):this.children.inspectorView=new PivotConfigWizard({apiResources:this.apiResources.configWizard,model:{existingElement:elementClone,report:reportClone},elementType:type,elementIndex:this.model.report.getElementCollectionByType(type).indexOf(elementModel)}),this.children.inspectorView.render().$el.appendTo(this.$inspectorDialogEl),this.children.inspectorView.on("action:update",function(type,updatedModel){return updatedModel.isValid(!0)&&reportClone.isValid(!0)&&this.elementIsCompatible(updatedModel)?(_.isEqual(elementModel.attributes,updatedModel.attributes)?this.updateReportLevelAttributes(reportClone):(this.updateReportLevelAttributes(reportClone,{silent:!0}),this.model.report.hotSwapElement(type,elementModel,updatedModel.attributes)),void this.inspectorPopdown.hide()):void this.inspectorPopdown.adjustPosition()},this),this.children.inspectorView.on("action:removeElement",function(){this.model.report.removeElement(type,elementModel),this.inspectorPopdown.hide()},this),this.children.inspectorView.on("changeContents",function(){this.inspectorPopdown.adjustPosition()},this),this.children.inspectorView.on("hide",function(){this.inspectorPopdown.hide()},this)},onCreatorShow:function(type){var reportClone=this.cloneReportLevelAttributes(this.model.report);this.children.creatorView&&(this.children.creatorView.off(),this.children.creatorView.remove()),this.children.creatorView=new PivotConfigWizard({apiResources:this.apiResources.configWizard,model:{report:reportClone},elementType:type,elementIndex:this.model.report.getElementCollectionByType(type).length}),this.children.creatorView.render().$el.appendTo(this.$creatorDialogEl),this.children.creatorView.on("action:addElement",function(type,model){return model.isValid(!0)&&reportClone.isValid(!0)&&this.elementIsCompatible(model)?(this.updateReportLevelAttributes(reportClone,{silent:!0}),this.model.report.addElement(type,model),void this.creatorPopdown.hide()):void this.creatorPopdown.adjustPosition()},this),this.children.creatorView.on("hide",function(){this.creatorPopdown.hide()},this)},cloneReportLevelAttributes:function(report){var clone=new report.constructor;return clone.setFromPivotJSON(report.getPivotJSON()),clone.entry.content.set(report.entry.content.filterByWildcards(REPORT_LEVEL_ATTR_FILTER,{allowEmpty:!0})),clone},updateReportLevelAttributes:function(clone,options){var setObject=clone.entry.content.filterByWildcards(REPORT_LEVEL_ATTR_FILTER,{allowEmpty:!0});this.model.report.entry.content.set(setObject,options)},elementIsCompatible:function(element){var elementType=element.get("elementType"),labelAlreadyExists=function(collection,element){return collection.any(function(model){return!(model.get("fieldName")===element.get("fieldName")&&model.get("elementType")===element.get("elementType"))&&model.getComputedLabel()===element.getComputedLabel()})};if(elementType in{row:!0,cell:!0}&&(labelAlreadyExists(this.model.report.getElementCollectionByType("row"),element)||labelAlreadyExists(this.model.report.getElementCollectionByType("cell"),element))){var errorMessage=_("Each Row Split and Column Value label must be unique.").t();return _.defer(function(){element.trigger("validated",!1,element,{label:errorMessage})}),!1}return!0},updateElementList:function($container,elementList){var elem,$elem,byIdMap={},$addButton=$container.find(".add-button");this.removeTooltips($container),_($container.find(".draggable-element")).each(function(elem){var id=this.resolveElementId(elem);$(elem).detach(),byIdMap[id]=elem},this),_(elementList).each(function(element){if(byIdMap[element.id])elem=byIdMap[element.id],$elem=$(elem),$addButton.before(elem),$elem.find(".element-label").text(element.label).attr("title",element.label),byIdMap[element.id]=null;else{var html=_(this.elementTemplate).template({element:element});$addButton.before($(html))}},this),_(byIdMap).each(function(elem){_(elem).isElement()&&$(elem).remove()}),USE_BOOTSTRAP_TOOLTIPS&&$container.find(".element-label").tooltip({animation:!1,container:"body",placement:function(tooltip){return $(tooltip).addClass("tooltip-full-width"),"top"}})},removeTooltips:function($container){USE_BOOTSTRAP_TOOLTIPS&&$container.find(".element-label").each(function(){$(this).tooltip("destroy")})},configureSortable:function(){var containerTop,containerBottom,that=this,$filterList=this.$('.element-list[data-elem-type="filter"]'),$rowList=this.$('.element-list[data-elem-type="row"]'),$columnList=this.$('.element-list[data-elem-type="column"]'),$cellList=this.$('.element-list[data-elem-type="cell"]'),$container=this.$(".config-table"),sortableOptions={tolerance:"pointer",items:".draggable-element",scroll:!1,delay:5,helper:"clone",appendTo:"body",start:function(event,ui){containerTop=$container.offset().top,containerBottom=containerTop+$container.height(),that.onSortStart(ui.placeholder[0])},sort:function(event,ui){var itemElem=ui.helper[0],originalElem=ui.item[0],itemOffset=ui.helper.offset(),containerBounds={top:containerTop,bottom:containerBottom};that.onSortDrag(itemElem,itemOffset,containerBounds,originalElem)},stop:function(event,ui){var itemElem=ui.item[0],receiverElem=this;that.onSortStop(itemElem,receiverElem)}},connectedSortableOptions=$.extend({},sortableOptions,{connectWith:".connected-list",receive:function(event,ui){var itemElem=ui.item[0],senderElem=ui.sender[0],receiverElem=this,removeOriginal=!event.altKey;that.onSortTransferReceive(itemElem,senderElem,receiverElem,removeOriginal)},activate:function(event,ui){var itemElem=ui.item[0],receiverElem=this;that.onSortReceiverActivate(receiverElem,itemElem)},deactivate:function(event,ui){var recieverElem=this;that.onSortReceiverDeactivate(recieverElem)}});$filterList.sortable(sortableOptions),$cellList.sortable(connectedSortableOptions),$rowList.sortable(connectedSortableOptions),$columnList.sortable(connectedSortableOptions)},onSortStart:function(placeHolderElem){$(placeHolderElem).text("&nbsp;")},onSortDrag:function(itemElem,itemOffset,containerBounds,originalElem){var $item=$(itemElem),$original=$(originalElem),itemTop=itemOffset.top,itemBottom=itemTop+$item.height();itemBottom<containerBounds.top||itemTop>containerBounds.bottom?($item.addClass(this.DROP_TO_REMOVE_CLASS),$original.addClass(this.DROP_TO_REMOVE_CLASS)):($item.removeClass(this.DROP_TO_REMOVE_CLASS),$original.removeClass(this.DROP_TO_REMOVE_CLASS))},onSortStop:function(itemElem,receiverElem){var type,$item=$(itemElem);if($item.hasClass(this.DROP_TO_REMOVE_CLASS)){type=this.resolveElementType(itemElem);var id=this.resolveElementId(itemElem);this.model.report.removeElement(type,id)}else{type=this.resolveElementType(receiverElem);var newOrder=_($(".element",$(receiverElem))).map(function(elem){return this.resolveElementId(elem)},this);this.model.report.reSortElements(type,newOrder)}},onSortTransferReceive:function(itemElem,senderElem,receiverElem,removeOriginal){var $itemElem=$(itemElem),$senderElem=$(senderElem),sourceType=this.resolveElementType(senderElem),elementId=this.resolveElementId(itemElem);if($itemElem.hasClass(this.DROP_TO_REMOVE_CLASS))return this.model.report.removeElement(sourceType,elementId),$itemElem.removeClass(this.DROP_TO_REMOVE_CLASS),void $senderElem.sortable("cancel");var destinationType=this.resolveElementType(receiverElem),fieldType=this.resolveFieldType(itemElem);if(fieldType in{objectCount:!0,childCount:!0}&&destinationType in{row:!0,column:!0})return void $senderElem.sortable("cancel");var insertIndex=_($(receiverElem).find(".element")).chain().map(function(elem){return this.resolveElementId(elem)},this).indexOf(elementId).value();$senderElem.sortable("cancel"),this.model.report.transferElement(sourceType,destinationType,elementId,{at:insertIndex,removeOriginal:!!removeOriginal})},onSortReceiverActivate:function(receiverElem,itemElem){var destinationType=this.resolveElementType(receiverElem),sourceFieldType=this.resolveFieldType(itemElem);"objectCount"===sourceFieldType&&destinationType in{row:!0,column:!0}||$(receiverElem).addClass(this.ACCEPT_DROP_CLASS)},onSortReceiverDeactivate:function(receiverElem){$(receiverElem).removeClass(this.ACCEPT_DROP_CLASS)},resolveElementType:function(elem){return $(elem).closest(".element-list").attr("data-elem-type")},resolveFieldType:function(elem){return $(elem).closest(".element").attr("data-field-type")},resolveElementId:function(elem){return $(elem).closest(".element").attr("data-elem-id")},rootTemplate:'\t            \t            <a class="table-help-link" href="<%- tableHelpHref %>" target="_blank"><span><%- _("Documentation").t() %></span><i class="icon-external icon-no-underline"></i></a>\t            <table class="table table-bordered config-table">\t                <thead>\t                    <tr>\t                        <td>\t                            <div class="element-list" data-elem-type="filter">\t                                <h6 class="list-header"><%- _("Filters").t() %></h6>\t                                <a href="#" class="btn add-button">+</a>\t                            </div>\t                        </td>\t                        <td>\t                            <div class="element-list connected-list" data-elem-type="column">\t                                <h6 class="list-header"><%- _("Split Columns").t() %></h6>\t                                <a href="#" class="btn add-button">+</a>\t                            </div>\t                        </td>\t                    </tr>\t                    <tr>\t                        <td>\t                            <div class="element-list connected-list" data-elem-type="row">\t                                <h6 class="list-header"><%- _("Split Rows").t() %></h6>\t                                <a href="#" class="btn add-button">+</a>\t                            </div>\t                        </td>\t                        <td>\t                            <div class="element-list connected-list" data-elem-type="cell">\t                                <h6 class="list-header"><%- _("Column Values").t() %></h6>\t                                <a href="#" class="btn add-button">+</a>\t                            </div>\t                        </td>\t                    </tr>\t                </thead>\t            </table>\t            <div class="popdown-dialog inspector-dialog">\t                <div class="arrow"></div>\t            </div>\t            <div class="popdown-dialog creator-dialog">\t                <div class="arrow"></div>\t            </div>\t        ',elementTemplate:'\t            <div class="btn-combo element draggable-element" \t            data-elem-id="<%= element.id %>" data-field-type="<%= element.type %>">\t                <div class="btn btn-draggable element-label" title="<%- element.label %>"><%- element.label %></div>\t                <a href="#" class="btn inspect-button"><i class="icon-pencil"></i></a>\t            </div>\t        ',nonDraggableElementTemplate:'\t            <div class="btn-combo element" \t            data-elem-id="<%= element.id %>" data-field-type="<%= element.type %>">\t                <div class="btn element-label clickable-label" title="<%- element.label %>"><%- element.label %></div>\t                <a href="#" class="btn inspect-button"><i class="icon-pencil"></i></a>\t            </div>\t        '},{apiDependencies:{report:PivotReport,application:Application,configWizard:PivotConfigWizard,timeRangeInspector:TimeRangeInspector}});return DeclarativeDependencies(PivotElementsDisplay)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_popups/TimeRangeInspector":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("collections/services/data/ui/Times"),__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/services/AppLocal"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/config_popups/InspectTimeFilterPane")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,Times,Application,User,AppLocal,DeclarativeDependencies,BaseView,InspectTimeFilterPane){var TimeRangeInspector=BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),options=options||{},this.elementType=options.elementType},render:function(){return this.children.previewPane&&this.children.previewPane.remove(),
this.children.previewPane=new InspectTimeFilterPane({model:{element:this.model.element,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:{timePresets:this.collection.timePresets}}),this.$el.append(this.children.previewPane.render().el),this.children.previewPane.on("action:update",function(){this.trigger("action:update","filter",this.model.element)},this),this},onShown:function(){this.children.previewPane.onShown()}},{apiDependencies:{appLocal:AppLocal,user:User,application:Application,timePresets:Times}});return DeclarativeDependencies(TimeRangeInspector)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_popups/InspectTimeFilterPane":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/pivot/config_forms/filters/TimestampFilterForm")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone,module,BaseView,TimestampFilterForm){return BaseView.extend({moduleId:module.id,render:function(){this.children.formView&&this.children.formView.remove(),this.children.formView=new TimestampFilterForm({model:{element:this.model.element,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:{timePresets:this.collection&&this.collection.timePresets||new Backbone.Collection}});var html=_(this.template).template({model:this.model.element});return this.$el.html(html),this.$(".form-view-placeholder").replaceWith(this.children.formView.render().el),this.children.formView.on("action:timeRangeSelected",function(){this.trigger("action:update")},this),this},remove:function(){return this.children.formView&&this.children.formView.remove(),BaseView.prototype.remove.call(this),this},onShown:function(){this.children.formView.onShown()},template:'\t            <div class="form-view-placeholder"></div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_forms/filters/TimestampFilterForm":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/shared/TimeRange"),__webpack_require__("views/Base"),__webpack_require__("views/shared/timerangepicker/dialog/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone,module,TimeRange,BaseView,TimeRangeDialog){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.collection=this.collection||{},this.timeRangeDialog=new TimeRangeDialog({model:{timeRange:this.model.element.timeRange,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:this.model.element.timePresets}),this.model.element.on("change",function(){this.trigger("action:timeRangeSelected")},this)},render:function(){return this.$el.append(this.timeRangeDialog.render().el),this.model.element.timeRange.trigger("prepopulate"),this},remove:function(){this.model.element.timeRange.off(null,null,this)},onShown:function(){this.timeRangeDialog.onShown()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_popups/PivotConfigWizard":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/DataTableFieldList"),__webpack_require__("views/pivot/config_popups/AddElementPane"),__webpack_require__("views/pivot/config_popups/InspectElementPane")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Application,DataModel,PivotableDataTable,DeclarativeDependencies,BaseView,DataTableFieldList,AddElementPane,InspectElementPane){var PivotConfigWizard=BaseView.extend({SLIDE_ANIMATION_DISTANCE:460,SLIDE_ANIMATION_DURATION:200,elementModel:null,previewPane:null,moduleId:module.id,events:{"click .back-button":function(e){e.preventDefault(),this.showFieldPicker()}},initialize:function(options){BaseView.prototype.initialize.call(this,options),options=options||{},this.elementType=options.elementType,this.elementIndex=options.elementIndex,this.fieldPickerActive=!0;var fieldListOptions={model:this.model.dataTable,dataModelIsTemporary:this.model.dataModel.isTemporary()};"cell"===this.elementType?fieldListOptions.dataTypeBlacklist=["boolean"]:fieldListOptions.showEventFields=!1,"filter"===this.elementType&&(fieldListOptions.showTimestampFields=!1),this.elementType in{row:!0,column:!0}&&(fieldListOptions.hiddenFieldList=this.model.report.getElementCollectionByType(this.elementType).pluck("fieldName"),this.model.existingElement&&(fieldListOptions.hiddenFieldList=_(fieldListOptions.hiddenFieldList).without(this.model.existingElement.get("fieldName")))),this.children.objectFieldList=new DataTableFieldList(fieldListOptions),this.children.objectFieldList.on("action:selectField",function(name,owner){var selectedField=this.model.dataTable.getFieldByName(name);this.showPreviewPane(selectedField)},this),this.children.objectFieldList.on("action:saveDataModel",function(){this.trigger("hide"),this.model.dataModel.trigger("save")},this)},render:function(){var html=_(this.template).template({id:this.cid});return this.$el.html(html),this.$(".field-list-container").append(this.children.objectFieldList.render().el),this.$slideArea=this.$(".slide-area").eq(0),this.$pickerPaneWrapper=this.$(".field-picker-wrapper").eq(0),this.$elementEditorWrapper=this.$(".element-editor-wrapper").eq(0),this.$previewPaneWrapper=this.$(".preview-pane-wrapper").eq(0),this.model.existingElement?this.showPreviewPane($.extend({},this.model.existingElement.attributes),!0):this.$elementEditorWrapper.css("display","none"),this},showPreviewPane:function(elementAttrs,skipAnimation){this.elementModel&&this.elementModel.off(),this.elementModel=this.model.report.createNewElement(this.elementType,elementAttrs),this.model.existingElement?this.children.previewPane=new InspectElementPane({model:{element:this.elementModel,report:this.model.report,dataModel:this.model.dataModel,application:this.model.application,dataTable:this.model.dataTable},elementType:this.elementType,elementIndex:this.elementIndex}):this.children.previewPane=new AddElementPane({model:{element:this.elementModel,report:this.model.report,dataModel:this.model.dataModel,application:this.model.application,dataTable:this.model.dataTable},elementType:this.elementType,elementIndex:this.elementIndex}),this.$previewPaneWrapper.append(this.children.previewPane.render().el),skipAnimation?this.showPreviewPaneImmediate():this.showPreviewPaneAnimated(),this.children.previewPane.on("action:addElement",function(model){this.trigger("action:addElement",this.elementType,model)},this),this.children.previewPane.on("action:removeElement",function(model){this.trigger("action:removeElement",this.elementType,model)},this),this.children.previewPane.on("action:update",function(model){this.trigger("action:update",this.elementType,model)},this),this.children.previewPane.on("action:changeTab changeContents",function(){this.trigger("changeContents")},this)},showFieldPicker:function(){var that=this,$from=this.$elementEditorWrapper,$to=this.$pickerPaneWrapper;this.onBeforePaneAnimation($from,$to),this.$slideArea.animate({height:this.$pickerPaneWrapper.height()},{duration:this.SLIDE_ANIMATION_DURATION,complete:function(){that.onAfterPaneAnimation($from,$to),that.fieldPickerActive=!0,that.onFieldPickerShown(),that.children.previewPane.remove(),that.trigger("changeContents")}}),this.$pickerPaneWrapper.animate({marginLeft:0},{duration:this.SLIDE_ANIMATION_DURATION})},showPreviewPaneImmediate:function(){this.$pickerPaneWrapper.height(0).css({"margin-left":-this.SLIDE_ANIMATION_DISTANCE,display:"none"}),this.fieldPickerActive=!1},showPreviewPaneAnimated:function(){var that=this,$from=this.$pickerPaneWrapper,$to=this.$elementEditorWrapper;this.onBeforePaneAnimation($from,$to),this.$slideArea.animate({height:this.$elementEditorWrapper.height()},{duration:this.SLIDE_ANIMATION_DURATION,complete:function(){that.onAfterPaneAnimation($from,$to),that.fieldPickerActive=!1,that.onPreviewPaneShown(),that.trigger("changeContents")}}),this.$pickerPaneWrapper.animate({marginLeft:-this.SLIDE_ANIMATION_DISTANCE},{duration:this.SLIDE_ANIMATION_DURATION})},onBeforePaneAnimation:function($from,$to){this.$slideArea.css("height",$from.height()+"px"),$to.css({height:"",display:""}),$from.css({display:""})},onAfterPaneAnimation:function($from,$to){this.$slideArea.css("height",""),$from.css({height:"0",display:"none"})},onShown:function(){this.fieldPickerActive?this.onFieldPickerShown():this.onPreviewPaneShown()},onPreviewPaneShown:function(){this.adjustMaxHeight(this.$previewPaneWrapper.find(".pivot-config-content"));var $textInputs=this.$previewPaneWrapper.find('input[type="text"]');$textInputs.length>0?$textInputs.first().focus():this.$previewPaneWrapper.find("a").first().focus()},onFieldPickerShown:function(){this.adjustMaxHeight(this.$pickerPaneWrapper.find(".pivot-config-content")),this.$pickerPaneWrapper.find("a").first().focus()},adjustMaxHeight:function($flexElement){var buffer=5,$container=this.$el.parent(),heightDiff=$container.offset().top+$container.height()-$(window).height(),targetMaxHeight=$flexElement.height()-parseFloat($flexElement.css("padding-bottom"))-parseFloat($flexElement.css("border-bottom-width"))-heightDiff-buffer,existingMaxHeight=parseFloat($flexElement.css("max-height"));(!existingMaxHeight||targetMaxHeight<existingMaxHeight)&&$flexElement.css("max-height",targetMaxHeight+"px")},template:'\t            <div class="slide-area">\t                <div class="field-picker-wrapper">\t                    <div class="pivot-config-content">\t                        <div id="new-<%= id %>" class="field-list-container"></div>\t                    </div>\t                </div>\t                <div class="element-editor-wrapper">\t                    <div class="back-button-column">\t                        <a href="#" class="btn back-button"><i class="icon-arrow-left"></i></a>\t                    </div>\t                    <div class="preview-pane-wrapper"></div>\t                </div>\t            </div>\t        '},{apiDependencies:{dataModel:DataModel,application:Application,dataTable:PivotableDataTable}});return DeclarativeDependencies(PivotConfigWizard)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/DataTableFieldList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("util/datamodel/field_icon_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/pivot/DataTableFieldList.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,fieldIconUtils,splunkUtils,css){return BaseView.extend({showEventFields:!0,showTimestampFields:!0,moduleId:module.id,events:{"click .field-button":function(e){e.preventDefault();var $target=$(e.currentTarget),fieldName=$target.attr("data-field-name"),fieldOwner=$target.attr("data-field-owner");this.trigger("action:selectField",fieldName,fieldOwner)},"click .save-data-model-button":function(e){e.preventDefault(),this.trigger("action:saveDataModel")}},initialize:function(options){BaseView.prototype.initialize.call(this,options),options=options||{},options.hasOwnProperty("showEventFields")&&(this.showEventFields=!!options.showEventFields),options.hasOwnProperty("showTimestampFields")&&(this.showTimestampFields=!!options.showTimestampFields),_.isArray(options.hiddenFieldList)&&(this.hiddenFieldList=options.hiddenFieldList),_.isArray(options.dataTypeBlacklist)&&(this.dataTypeBlacklist=options.dataTypeBlacklist)},render:function(){var fieldGroups=this.model.getGroupedFieldList();this.showEventFields||(fieldGroups.objectCount=[]),this.showTimestampFields||(fieldGroups.timestamp=[]);var that=this;if(this.hiddenFieldList){var fieldIsNotHidden=function(field){return!_(that.hiddenFieldList).contains(field.fieldName)};_(fieldGroups).each(function(fieldList,groupName){fieldGroups[groupName]=_(fieldList).filter(fieldIsNotHidden)},this)}if(this.dataTypeBlacklist){var fieldIsAllowed=function(field){return!_(that.dataTypeBlacklist).contains(field.type)};_(fieldGroups).each(function(fieldList,groupName){fieldGroups[groupName]=_(fieldList).filter(fieldIsAllowed)},this)}var html=_(this.template).template({dataModelIsTemporary:this.options.dataModelIsTemporary,fieldGroups:fieldGroups,getIcon:fieldIconUtils.fieldIconByType,eventButtonClass:this.options.eventButtonClass||"",timestampButtonClass:this.options.timestampButtonClass||"",otherButtonClass:this.options.otherButtonClass||"",changeDataTypeMessage:splunkUtils.sprintf(_("To change a fields's data type, %s the data model.").t(),'<a href="#" class="save-data-model-button">'+_("save and edit").t()+"</a>")});return this.$el.html(html),this},template:'\t            <% if(fieldGroups["objectCount"].length || fieldGroups["timestamp"].length || fieldGroups["other"].length) { %>\t                <table class="table field-list">\t                    <% if(fieldGroups["objectCount"] && fieldGroups["objectCount"].length > 0) { %>\t                        <tr class="event-group">\t                            <td class="group-name"><%- _("Event").t() %></td>\t                            <td>\t                                <% _(fieldGroups["objectCount"]).each(function(field) { %>\t                                    <div data-group-name="event">\t                                        <a href="#" class="field-button <%- eventButtonClass %>" \t                                                data-field-name="<%- field.fieldName %>" data-field-owner="<%- field.owner %>">\t                                            <span class="type-icon"><%= getIcon(field.type) %></span><%- field.displayName %>\t                                        </a>\t                                    </div>\t                                <% }); %>\t                            </td>\t                        </tr>\t                    <% } %>\t                    <% if(fieldGroups["timestamp"] && fieldGroups["timestamp"].length > 0) { %>\t                        <tr class="time-group">\t                            <td class="group-name"><%- _("Time").t() %></td>\t                            <td>\t                                <% _(fieldGroups["timestamp"]).each(function(field) { %>\t                                    <div data-group-name="time">\t                                        <a href="#" class="field-button  <%- timestampButtonClass %>" \t                                                data-field-name="<%- field.fieldName %>" data-field-owner="<%- field.owner %>">\t                                            <span class="type-icon"><%= getIcon(field.type) %></span><%- field.displayName %>\t                                        </a>\t                                    </div>\t                                <% }); %>\t                            </td>\t                        </tr>\t                    <% } %>\t                    <% if(fieldGroups["other"] && fieldGroups["other"].length > 0) { %>\t                        <tr class="attribute-group">\t                            <td class="group-name"><%- _("Field").t() %></td>\t                            <td>\t                                <% _(fieldGroups["other"]).each(function(field) { %>\t                                    <div data-group-name="attribute">\t                                        <a href="#" class="field-button  <%- otherButtonClass %>" \t                                                data-field-name="<%- field.fieldName %>" data-field-owner="<%- field.owner %>">\t                                            <span class="type-icon"><%= getIcon(field.type) %></span><%- field.displayName %>\t                                        </a>\t                                    </div>\t                                <% }); %>\t                            </td>\t                        </tr>\t                    <% } %>\t                </table>\t                <% if(dataModelIsTemporary) { %>\t                    <hr>\t                    <%= changeDataTypeMessage %>\t                <% } %>\t            <% } else {%>\t            No more fields available.\t            <% } %>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/DataTableFieldList.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1112);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1120:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.disabled-screen{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#f3f3f3;opacity:.4;z-index:4}header{z-index:408}.main-section-body{position:absolute;left:0;right:0;bottom:0;top:0}.datamodelexplorer-datamodelexplorer,.datamodels-datamodels{position:relative;margin-top:6px}.edit-objects-button,.manage-models-button{position:absolute;top:10px;right:50px}.datamodels-datamodelgrid .expanded-info{margin-top:15px}.datamodels-datamodelgrid .edit-objects-link{margin-left:10px}.datamodels-datamodelgrid .no-models-message{margin:50px 20px}.datamodels-datamodelgrid .manage-models-link{margin-left:10px}.datamodelexplorer-objectgrid .field-button:hover{text-decoration:none}.datamodelexplorer-objectgrid .non-link{cursor:default;color:#000}.datamodelexplorer-objectgrid .edit-objects-link{margin-left:10px}.datamodelexplorer-objectgrid .field-list{background-color:transparent}.load-failure-messages{position:absolute;left:0;right:0;padding:25px 15px}.load-failure-messages .links-holder a{margin-left:15px}.share-pivot-dialog .control-label{width:100px;text-align:left}.share-pivot-dialog .controls{margin-left:100px}.shared-statscontrols-statscontrolsmaster .btn-group+.btn-pill{margin-left:5px}.modal-body .save-data-model-message{font-size:12px;color:#999;margin:0 10px 10px}.tooltip-full-width .tooltip-inner{max-width:none}.preview-pane-wrapper .input-append .dropdown-toggle:first-child{border-top-right-radius:2px;border-bottom-right-radius:2px}.pivot-pivotview .pivot-visualizationtypemenu li{font-size:30px;line-height:50px}@media only screen and (max-height:700px){.pivot-pivotview .pivot-visualizationtypemenu li{font-size:28px;line-height:40px}}.main-section-body{top:6px}.pivot-pivotview .pivot-documentactionbar .action-bar{right:50px}@media only screen and (min-height:800px){.main-section-body{top:65px}.pivot-pivotview .pivot-documentactionbar .action-bar{right:20px}}.non-responsive .main-section-body{top:65px}.creator-dialog:after,.inspector-dialog:after{content:"";font-size:0;display:inline;overflow:hidden}.lazy-results-table{overflow-y:auto;position:absolute;left:0;right:0;top:0;bottom:0;background-color:#fff}.lazy-results-table table,.results-table{border-top:none}.results-table{position:absolute;left:0;right:0;top:0;bottom:0}.results-table td.with-overlay{padding-right:20px}.pivot-pivotview .shared-resultstable-resultstablemaster{position:absolute;left:0;right:0;top:0;bottom:0}.shared-statscontrols-statscontrolsmaster{background-color:#fff;border-top:1px solid #999;height:30px;padding:5px 20px;position:absolute;bottom:0;left:0;right:0}@media print{body .action-bar,body .shared-jobcontrols,body .shared-statscontrols-statscontrolsmaster,body .tooltip,body header{display:none!important}body .shared-responsiveheaderpage{position:relative}body .jobstatus-wrapper,body .results-table,body .viz-builder-wrapper{background:none!important;position:static!important;left:auto!important;right:auto!important;top:auto!important;bottom:auto!important}body .viz-builder-wrapper,body .viz-content-with-menu{left:0}body .lazy-results-table,body .viz-container{position:static!important}body .main-section-body{bottom:auto}}body.print .action-bar,body.print .shared-jobcontrols,body.print .shared-statscontrols-statscontrolsmaster,body.print .tooltip,body.print header{display:none!important}body.print .shared-responsiveheaderpage{position:relative}body.print .jobstatus-wrapper,body.print .results-table,body.print .viz-builder-wrapper{background:none!important;position:static!important;left:auto!important;right:auto!important;top:auto!important;bottom:auto!important}body.print .viz-builder-wrapper,body.print .viz-content-with-menu{left:0}body.print .lazy-results-table,body.print .viz-container{position:static!important}body.print .main-section-body{bottom:auto}',""])},"views/pivot/config_popups/AddElementPane":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/pivot/config_popups/BasePreviewPane")],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BasePreviewPane){return BasePreviewPane.extend({moduleId:module.id,events:$.extend({},BasePreviewPane.prototype.events,{"click .submit-button":function(e){e.preventDefault(),this.trigger("action:addElement",this.model.element)}}),renderFormView:function(){BasePreviewPane.prototype.renderFormView.call(this),this.children.formView.on("action:enterKey",function(){this.trigger("action:addElement",this.model.element)},this)},buttonsTemplate:'\t            <a href="#" class="btn btn-primary submit-button"><%- _("Add To Table").t() %></a>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_popups/BasePreviewPane":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/config_forms/form_view_factory"),__webpack_require__("views/pivot/config_forms/AllSplitsForm"),__webpack_require__("views/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Base,formViewFactory,AllSplitsForm,FlashMessages){return Base.extend({initialize:function(options){Base.prototype.initialize.call(this,options),options=options||{},this.elementType=options.elementType,this.elementIndex=options.elementIndex,this.children.flashMessages=new FlashMessages({model:{element:this.model.element,report:this.model.report.entry.content}})},render:function(){var html=_(this.template).template({element:this.model.element});return this.$el.html(html),this.children.flashMessages.replaceAll(this.$(".flash-messages-placeholder")),this.renderFormView(),this.renderButtons(),this},renderButtons:function(){var html=_(this.buttonsTemplate).template({});this.$(".buttons-wrapper").html(html)},renderFormView:function(){var elementType=this.model.element.get("elementType");if(this.children.formView&&this.children.formView.remove(),this.children.formView=formViewFactory.create({model:{element:this.model.element,report:this.model.report,dataModel:this.model.dataModel,application:this.model.application,dataTable:this.model.dataTable}}),this.$(".element-form-placeholder").replaceWith(this.children.formView.render().el),elementType in{row:!0,column:!0}){this.children.allSplitsForm=new AllSplitsForm({model:{element:this.model.element,report:this.model.report},elementType:this.elementType,elementIndex:this.elementIndex});var $sharedFormPlaceholder=this.$(".shared-form-placeholder");$(_(this.allSplitsSubPaneHeader).template({elementType:this.elementType})).insertBefore($sharedFormPlaceholder),$sharedFormPlaceholder.replaceWith(this.children.allSplitsForm.render().el)}else this.$(".shared-form-placeholder").remove();this.children.formView.on("changeContents",function(){this.trigger("changeContents")},this)},buttonsTemplate:"",template:'\t            <div class="pivot-config-content">\t                <div class="flash-messages-placeholder"></div>\t                <h4>\t                    <%- element.get("displayName") %>\t                </h4>\t                <div class="element-form-placeholder"></div>\t                <div class="shared-form-placeholder"></div>\t            </div>\t            <div class="buttons-wrapper popdown-dialog-footer"></div>\t        ',allSplitsSubPaneHeader:'\t            <div class="sub-pane-divider"></div>\t            <h4>\t                <%- elementType === "row" ? _("All Rows").t() : _("All Columns").t() %>\t            </h4>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_forms/form_view_factory":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/pivot/elements/BaseElement"),__webpack_require__("views/pivot/config_forms/ConfigFormBase"),__webpack_require__("helpers/pivot/PivotVisualizationManager")],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseElementModel,ConfigFormBase,pivotVizManager){var VALIDATION_SCHEMA={filter:{string:!0,number:!0,boolean:!0,ipv4:!0},cell:{string:!0,number:!0,timestamp:!0,objectCount:!0,childCount:!0,ipv4:!0},row:{string:!0,number:!0,boolean:!0,timestamp:!0,ipv4:!0},column:{string:!0,number:!0,boolean:!0,timestamp:!0,ipv4:!0}};return{create:function(options){options=options||{};var elementModel=options.model.element;if(!(elementModel instanceof BaseElementModel))throw"options.model must an instance of models/pivot/elements/BaseElement";var elementType=elementModel.get("elementType");if(!VALIDATION_SCHEMA.hasOwnProperty(elementType))throw"un-supported element type "+elementType;var dataType=elementModel.get("type");if(!VALIDATION_SCHEMA[elementType].hasOwnProperty(dataType))throw"un-supported elementType - dataType combination "+elementType+", "+dataType;var pivotFormElements;return pivotFormElements=elementType===pivotVizManager.FILTER?pivotVizManager.FILTER_FORM_ELEMENTS:elementType===pivotVizManager.ROW_SPLIT?pivotVizManager.ROW_SPLIT_FORM_ELEMENTS:elementType===pivotVizManager.COLUMN_SPLIT?pivotVizManager.COLUMN_SPLIT_FORM_ELEMENTS:pivotVizManager.CELL_VALUE_FORM_ELEMENTS,options.panel={pivotFormElements:pivotFormElements},new ConfigFormBase(options)}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_forms/ConfigFormBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/pivot/VisualizationConfigSubpanel"),__webpack_require__("helpers/pivot/PivotVisualizationManager")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,VisualizationConfigSubpanel,pivotVizManager){var ENTER_KEY=13;return VisualizationConfigSubpanel.extend({events:$.extend({},VisualizationConfigSubpanel.prototype.events,{keypress:function(e){e.which===ENTER_KEY&&(e.preventDefault(),$(e.target).blur(),this.trigger("action:enterKey"))}}),initialize:function(){this.$el.addClass("pivot-element-form"),this.options.hideFieldPicker=!0,this.options.panel=_.extend({},this.options.panel,{pivotFormElements:_(this.options.panel.pivotFormElements).reject(function(pivotFormElement){return pivotFormElement.type===pivotVizManager.REPORT_CONTROL},this)}),VisualizationConfigSubpanel.prototype.initialize.call(this,this.options)},stopListening:function(){VisualizationConfigSubpanel.prototype.stopListening.call(this),this.children={}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_forms/AllSplitsForm":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/pivot/custom_controls/SplitSortControlGroup"),__webpack_require__("views/pivot/custom_controls/SplitLimitControlGroup"),__webpack_require__("views/pivot/custom_controls/SplitTotalsControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,SplitSortControlGroup,SplitLimitControlGroup,SplitTotalsControlGroup){return Base.extend({moduleId:module.id,tagName:"form",className:"form-horizontal",events:{submit:function(e){e.preventDefault()}},initialize:function(options){Base.prototype.initialize.call(this,options),options=options||{},this.elementType=options.elementType,this.elementIndex=options.elementIndex;var dataType=this.model.element.get("type");"number"===dataType&&(this.$el.addClass("number-split"),this.model.element.on("change:display",this.updateLimitEnabled,this)),"row"===this.elementType&&(this.children.sortControlGroup=new SplitSortControlGroup({model:this.model.report.entry.content,report:this.model.report,showHelpText:!0})),this.children.limitControlGroup=new SplitLimitControlGroup({model:this.model.report.entry.content,elementType:this.elementType,dataType:dataType,label:"row"===this.elementType?_("Max Rows").t():_("Max Columns").t()}),"column"===this.elementType&&(this.children.totalsControlGroup=new SplitTotalsControlGroup({model:this.model.report.entry.content,elementType:this.elementType}))},render:function(){return this.children.sortControlGroup&&this.children.sortControlGroup.render().appendTo(this.el),this.children.limitControlGroup.render().appendTo(this.el),this.children.totalsControlGroup&&this.children.totalsControlGroup.render().appendTo(this.el),this.updateLimitEnabled(),this},updateLimitEnabled:function(){var disabledMessage=this.model.report.validateLimitAmountEnabled(this.elementType,this.model.element,this.elementIndex);disabledMessage?this.children.limitControlGroup.disable(disabledMessage):this.children.limitControlGroup.enable()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/custom_controls/SplitTotalsControlGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ControlGroup){return ControlGroup.extend({moduleId:module.id,initialize:function(options){this.options.label=_("Totals").t(),this.options.controls=[{type:"SyntheticRadio",options:{model:this.model,modelAttribute:"row"===options.elementType?"showRowSummary":"showColSummary",items:[{label:_("Yes").t(),value:"true"},{label:_("No").t(),value:"false"}]}}],
ControlGroup.prototype.initialize.call(this,this.options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/config_popups/InspectElementPane":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/pivot/config_popups/BasePreviewPane")],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BasePreviewPane){return BasePreviewPane.extend({moduleId:module.id,events:$.extend({},BasePreviewPane.prototype.events,{"click .remove-button":function(e){e.preventDefault(),this.trigger("action:removeElement")},"click .update-button":function(e){e.preventDefault(),this.trigger("action:update",this.model.element)}}),renderFormView:function(){BasePreviewPane.prototype.renderFormView.call(this),this.children.formView.on("action:enterKey",function(){this.model.element.isValid(!0)&&this.trigger("action:update",this.model.element)},this)},buttonsTemplate:'\t            <a href="#" class="btn remove-button"><%- _("Remove").t() %></a>\t            <a href="#" class="btn btn-primary update-button"><%- _("Update").t() %></a>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/PivotElementsDisplay.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1113);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/pivot/PivotView":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/Base"),__webpack_require__("models/search/Job"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/VisualizationTypeMenu"),__webpack_require__("views/pivot/DocumentActionBar"),__webpack_require__("views/pivot/VisualizationConfigMenu"),__webpack_require__("views/pivot/PivotContent"),__webpack_require__("views/pivot/JobActionBar"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("helpers/FlashMessagesHelper"),__webpack_require__("helpers/pivot/PivotVisualizationManager"),__webpack_require__("views/pivot/PivotView.pcss"),__webpack_require__("views/pivot/PivotEditorForms.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseModel,Job,PivotReport,PivotableDataTable,FlashMessagesCollection,DeclarativeDependencies,Base,VisualizationTypeMenu,DocumentActionBar,VisualizationConfigMenu,PivotContent,JobActionBar,FlashMessagesView,FlashMessagesHelper,pivotVizManager,css,cssEditorForms){var PivotView=Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.call(this,options),this.vizConfigMenuOffset=0;var dataTableHasIndexTime=this.model.dataTable.hasIndexTimeField(),vizMenuItems=_(pivotVizManager.getSchema()).map(function(vizConfigObject){var item=_(vizConfigObject).pick("id","icon","label");return!dataTableHasIndexTime&&vizConfigObject.requiresIndexTime&&(item.disabled=!0),item});this.children.vizTypeMenu=new VisualizationTypeMenu({apiResources:this.apiResources.vizTypeMenu,items:vizMenuItems}),this.children.docStatusBar=new DocumentActionBar({apiResources:this.apiResources.docStatusBar}),this.children.jobStatusBar=new JobActionBar({apiResources:this.apiResources.jobStatusBar});var debouncedUpdateInitializingMessgae=_.bind(_.debounce(this.updateInitializingMessage,100),this);this.model.searchJob.on("change:id",function(){this.model.searchJob.isNew()||this.hideInitializingMessage(),debouncedUpdateInitializingMessgae()},this)},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.vizTypeMenu.render().replaceAll(this.$(".viz-type-menu-placeholder")),this.children.docStatusBar.render().replaceAll(this.$(".doc-status-bar-placeholder")),this.children.jobStatusBar.render().replaceAll(this.$(".job-status-bar-placeholder")),this.showVizConfigMenu="statistics"!==this.model.report.entry.content.get("display.general.type"),this.showVizConfigMenu&&(this.initVizConfigMenu(),this.children.vizConfigMenu.render().appendTo(this.$(".viz-builder-wrapper"))),this.initVizContent(),this.children.vizContent.render().appendTo(this.$(".viz-builder-wrapper")),this.updateInitializingMessage(),this},renderContainer:function(options){options=options||{},this.showVizConfigMenu="statistics"!==this.model.report.entry.content.get("display.general.type"),this.showVizConfigMenu?(this.initVizConfigMenu(),this.children.vizConfigMenu.render().appendTo(this.$(".viz-builder-wrapper")),options.disabled&&this.children.vizConfigMenu.disable()):this.removeVizConfigMenu(),this.initVizContent(),this.children.vizContent.appendTo(this.$(".viz-builder-wrapper")),this.children.vizContent.renderContainer(),options.disabled&&this.children.vizContent.disable()},renderData:function(){this.children.vizContent&&(this.children.vizContent.renderData(),this.children.vizContent.updateData()),this.children.jobStatusBar.render()},clearData:function(){_(this.children.jobStatusBar.children).invoke("detach"),this.children.jobStatusBar.$el.empty(),this.children.vizContent&&this.children.vizContent.clearData()},renderErrors:function(flashMessages){this.clearData(),flashMessages&&flashMessages.appendTo(this.children.jobStatusBar.el)},updateInitializingMessage:function(){this.model.searchJob.isNew()?this.showInitializingMessage():this.hideInitializingMessage()},showInitializingMessage:function(){this.$initializingMessage=$('<div class="initializing-message">'+_("Starting job...").t()+"</div>").prependTo(this.children.jobStatusBar.el),this.children.vizContent&&this.children.vizContent.renderMessage("info",_("Starting job...").t())},hideInitializingMessage:function(){this.$initializingMessage&&this.$initializingMessage.remove()},initVizConfigMenu:function(){this.removeVizConfigMenu(),this.children.vizConfigMenu=new VisualizationConfigMenu({apiResources:this.apiResources.vizConfigMenu,panels:this.getCurrentVizConfig().configMenuPanels,scrollOffset:this.vizConfigMenuOffset})},removeVizConfigMenu:function(){this.children.vizConfigMenu&&(this.vizConfigMenuOffset=this.children.vizConfigMenu.getScrollOffset(),this.children.vizConfigMenu.remove(),delete this.children.vizConfigMenu)},initVizContent:function(){this.children.vizContent&&(this.children.vizContent.remove(),this.children.vizContent.off(null,null,this),delete this.children.vizContent),this.children.vizContent=new PivotContent({apiResources:this.apiResources.vizContent,flashMessages:this.options.flashMessages}),this.children.vizContent.$el.addClass(this.showVizConfigMenu?"viz-content-with-menu":"viz-content-full-width")},getCurrentVizConfig:function(){return pivotVizManager.getConfigByVizType(this.model.report.getVisualizationType())},template:'\t            <div class="doc-status-bar-placeholder"></div>\t            <div class="viz-type-menu-placeholder"></div>\t            <div class="job-status-bar-placeholder"></div>\t            <div class="viz-builder-wrapper"></div>\t        '},{apiDependencies:{report:PivotReport,dataTable:PivotableDataTable,searchJob:Job,vizTypeMenu:VisualizationTypeMenu,docStatusBar:DocumentActionBar,jobStatusBar:JobActionBar,vizConfigMenu:VisualizationConfigMenu,vizContent:PivotContent}});return DeclarativeDependencies(PivotView)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/JobActionBar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/classicurl"),__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/pivot/PivotJob"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/services/AppLocal"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/shared/jobstatus/Master"),__webpack_require__("uri/route"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,classicurl,Application,User,PivotJob,PivotReport,PivotSearch,AppLocal,DataModel,DeclarativeDependencies,Base,JobstatusMaster,route){var JobActionBar=Base.extend({moduleId:module.id,events:{"click a.disabled":function(e){e.preventDefault()},"click .export-button:not(.disabled)":function(e){e.preventDefault(),this.model.searchJob.trigger("export")},"click .print-button:not(.disabled)":function(e){e.preventDefault(),this.model.searchJob.trigger("print")},"click .share-button:not(.disabled)":function(e){e.preventDefault(),this.model.searchJob.trigger("share")},"click .inspect-button:not(.disabled)":function(e){this.model.searchJob.trigger("inspect"),e.preventDefault()}},initialize:function(){Base.prototype.initialize.apply(this,arguments),this.showExportResultsButton=this.model.user.canExportResults(),this.children.jobstatus=new JobstatusMaster({enableSearchMode:!1,enableSamplingMode:!1,enableReload:this.model.searchJob.getAccelerationType()===PivotJob.MANAGED_ACCELERATION,showJobButtons:!1,showJobMenu:!1,model:{application:this.model.application,state:this.model.report.entry.content,searchJob:this.model.searchJob,appLocal:this.model.appLocal}}),this.model.report.entry.content.on("change",_.debounce(this.updateOpenInSearch,0),this),this.model.searchJob.entry.content.on("change",function(jobContent){(jobContent.get("isDone")||jobContent.get("isPaused"))&&this.children.jobstatus.children.progress.$el.hide(),jobContent.get("isDone")&&this.$(".export-button").removeClass("disabled")},this)},render:function(){return this.$el.html(this.compiledTemplate({showInspectButton:this.model.searchJob.getAccelerationType()===PivotJob.MANAGED_ACCELERATION,enableExport:this.model.searchJob.isDone(),showExportResultsButton:this.showExportResultsButton})),this.children.jobstatus.render().appendTo(this.$(".jobstatus-wrapper")),this.$("> .action-bar > a").tooltip({animation:!1,container:"body"}),this.updateOpenInSearch(),this},remove:function(){return this.$("> .action-bar > a").tooltip({animation:!1,container:"body"}),Base.prototype.remove.apply(this,arguments)},updateOpenInSearch:function(){var reportContent=this.model.report.entry.content;if(reportContent.has("search")){var $openInSearchButton=this.$(".open-in-search-button"),root=this.model.application.get("root"),locale=this.model.application.get("locale"),app=this.model.application.get("app"),urlAttrFilter=["^(q|earliest|latest)$"].concat(PivotReport.REPORT_FORMAT_FILTER),qsArgs=classicurl.filterByWildcards(urlAttrFilter);this.model.dataModel.isTemporary()&&(qsArgs.q=this.model.pivotSearch.get("openInSearch")),$openInSearchButton.attr("href",route.search(root,locale,app,{data:qsArgs})).removeClass("disabled")}},template:'\t            <div class="action-bar pull-right">\t                <% if(showInspectButton) { %>\t                    <a href="#" class="inspect-button btn-pill btn-square" title="<%- _(\'Inspect\').t() %>">\t                        <i class="icon-info"></i><span class="hide-text"><%- _("Inspect").t() %></span>\t                    </a>\t                <% } %>\t                <a href="#" class="share-button btn-pill btn-square" title="<%- _(\'Share\').t() %>">\t                    <i class="icon-share"></i><span class="hide-text"><%- _("Share").t() %></span>\t                </a>\t                <% if (showExportResultsButton) { %>\t                    <a href="#" class="export-button btn-pill btn-square <%= enableExport ? \'\' : \'disabled\' %>" title="<%- _(\'Export\').t() %>">\t                        <i class="icon-export"></i><span class="hide-text"><%- _("Export").t() %></span>\t                    </a>\t                <% } %>\t                <a href="#" class="print-button btn-pill btn-square" title="<%- _(\'Print\').t() %>">\t                    <i class="icon-print"></i><span class="hide-text"><%- _("Print").t() %></span>\t                </a>\t                <a href="#" class="open-in-search-button btn-pill btn-square disabled" title="<%- _(\'Open in Search\').t() %>">\t                    <i class="icon-search"></i><span class="hide-text"><%- _("Open in Search").t() %></span>\t                </a>\t            </div>\t            <div class="jobstatus-wrapper <%- showInspectButton ? \'with-inspect-button\' : \'\' %>"></div>\t        '},{apiDependencies:{searchJob:PivotJob,report:PivotReport,application:Application,appLocal:AppLocal,dataModel:DataModel,pivotSearch:PivotSearch,user:User}});return DeclarativeDependencies(JobActionBar)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/pivot/PivotSearch":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Base,splunkdUtils,generalUtils){var fetchCache={};return Base.extend({parse:function(response,options){var parsedContent=$.extend({},response.entry[0].content);return generalUtils.transferKey(parsedContent,"pivot_search","pivotSearch"),generalUtils.transferKey(parsedContent,"pivot_json","pivotJson"),generalUtils.transferKey(parsedContent,"tstats_search","tstatsSearch"),generalUtils.transferKey(parsedContent,"open_in_search","openInSearch"),generalUtils.transferKey(parsedContent,"drilldown_search","drilldownSearch"),this.memoizeContent(parsedContent,options),parsedContent},sync:function(method,model,options){if("read"!==method)throw new Error("Unsupported method: "+method);var optionsData=options.data||{};if(!optionsData.dataModel&&!optionsData.modelJson)throw new Error("The dataModel parameter or the modelJson parameter is required when fetching");optionsData.dataModel?(options.url=splunkdUtils.fullpath(optionsData.dataModel.replace(/datamodel\/(model|generate)/,"datamodel/pivot")),delete optionsData.dataModel,delete optionsData.app,delete optionsData.owner,optionsData.output_mode="json"):(options=splunkdUtils.prepareSyncOptions(options,"datamodel/pivot"),options.data.model_json=options.data.modelJson,delete options.data.modelJson,options.data.name="pivot_from_model_json",options.type="POST");var modelAttrs=model.toJSON();if(!modelAttrs.pivotSearch&&!modelAttrs.pivotJson)throw new Error("Either pivotSearch or pivotJson must be populated before fetching");$.extend(options.data,{pivot_search:modelAttrs.pivotSearch,pivot_json:modelAttrs.pivotJson});var memoizedContent=this.getMemoizedContent(options);return memoizedContent?this.generateResponse(memoizedContent,options):Base.prototype.sync.call(this,method,model,options)},memoizeContent:function(content,fetchOptions){var prefix=this.getMemoizationPrefix(fetchOptions);fetchCache[prefix+content.pivotSearch]=content,fetchCache[prefix+content.pivotJson]=content},getMemoizedContent:function(fetchOptions){var prefix=this.getMemoizationPrefix(fetchOptions),fetchData=fetchOptions.data;return fetchData.pivot_search?fetchCache[prefix+fetchData.pivot_search]:fetchCache[prefix+fetchData.pivot_json]},generateResponse:function(content,options){var fullPayload={entry:[{content:{pivot_search:content.pivotSearch,pivot_json:content.pivotJson,tstats_search:content.tstatsSearch,search:content.search,open_in_search:content.openInSearch,drilldown_search:content.drilldownSearch}}]},dfd=$.Deferred().resolve().promise();return this.trigger("request",this,dfd,options),options.success(fullPayload),dfd},getMemoizationPrefix:function(fetchOptions){var fetchData=fetchOptions.data||{},modelJson=fetchData.modelJson||fetchData.model_json;if(modelJson){var modelName="";try{modelName=JSON.parse(modelJson).modelName||""}catch(e){}return modelName+"-"+(fetchData.namespace||"")+"-"}return fetchOptions.url+"-"+(fetchData.namespace||"")+"-"}},{clearCache:function(){fetchCache={}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/PivotView.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1114);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/pivot/VisualizationTypeMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("models/pivot/PivotReport"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,PivotReport,DeclarativeDependencies,Base){var VisualizationTypeMenu=Base.extend({tagName:"ul",moduleId:module.id,events:{"click li > a":function(e){e.preventDefault();var $a=$(e.currentTarget);$a.is(".disabled")||this.model.report.setVisualizationType($a.attr("data-viz-type"))}},initialize:function(){Base.prototype.initialize.apply(this,arguments),this.model.report.on("visualizationTypeChange",this.debouncedRender,this)},render:function(){return this.removeTooltips(),this.$el.html(this.compiledTemplate({items:this.options.items,activeType:this.model.report.getVisualizationType()})),this.$("li > a:not(.disabled)").tooltip({animation:!1,placement:"right",container:"body",delay:{show:500,hide:0}}),this},remove:function(){return this.removeTooltips(),Base.prototype.remove.apply(this,arguments)},removeTooltips:function(){this.$("li > a:not(.disabled)").each(function(){$(this).trigger("mouseleave").tooltip("destroy")})},template:'\t            <% _(items).each(function(item) { %>\t                <li class="<%- item.id === activeType ? "active" : "" %>">\t                    <a href="#" class="<%- item.disabled ? \'disabled\' : \'\' %>" \t                                title="<%- item.disabled ? \'\' : item.label || \'\' %>" \t                                data-viz-type="<%- item.id %>">\t                        <% if (item.icon) { %>\t                            <span class="icon-<%- item.icon %>"></span>\t                        <% } else { %>\t                            <span class="icon"><%- item.label.slice(0, 2) %></span>\t                        <% } %>\t                    </a>\t                </li> \t            <% }); %>\t        '},{apiDependencies:{report:PivotReport}});return DeclarativeDependencies(VisualizationTypeMenu)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/PivotEditorForms.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1115);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/pivot/PivotReport":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("collections/pivot/elements/FilterElements"),__webpack_require__("collections/pivot/elements/CellElements"),__webpack_require__("collections/pivot/elements/ColumnElements"),__webpack_require__("collections/pivot/elements/RowElements"),__webpack_require__("models/search/Report"),__webpack_require__("models/shared/Visualization"),__webpack_require__("helpers/pivot/PivotVisualizationManager"),__webpack_require__("util/model_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("helpers/VisualizationRegistry")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,FilterElements,CellElements,ColumnElements,RowElements,Report,Visualization,pivotVizManager,modelUtils,splunkUtils,VisualizationRegistry){var CONTENT_DEFAULTS={showRowSummary:"false",rowLimitType:"default",rowLimitAmount:100,showColSummary:"false",colLimitAmount:100,showOtherCol:"true"},MAX_COLUMN_LIMIT=1e3,PivotReport=Report.extend({initialize:function(attrs){Report.prototype.initialize.call(this,attrs),_(["filters","cells","rows","columns"]).each(function(collectionName){var collection=this.entry.content[collectionName];collection.on("change",function(){this.trigger("reportConfigChange")},this)},this),this.entry.content.on("change",function(){var changed=this.entry.content.filterChangedByWildcards(PivotReport.PIVOT_CONTENT_FILTER,{allowEmpty:!0});_.isEmpty(changed)||this.trigger("reportConfigChange")},this)},getElementCollectionByType:function(type){var TYPE_TO_COLLECTION_NAME={filter:"filters",cell:"cells",row:"rows",column:"columns"},collectionName=TYPE_TO_COLLECTION_NAME[type];return this.entry.content[collectionName]},getElementDescription:function(element){return{id:element.cid,label:element.getComputedLabel(),type:element.get("type")}},getFilterList:function(){return this.getElementCollectionByType("filter").map(this.getElementDescription,this)},getCellList:function(){return this.getElementCollectionByType("cell").map(this.getElementDescription,this)},getColumnList:function(){return this.getElementCollectionByType("column").map(this.getElementDescription,this)},getRowList:function(){return this.getElementCollectionByType("row").map(this.getElementDescription,this)},getNumFilters:function(includeIndexTime){return includeIndexTime=includeIndexTime!==!1,includeIndexTime?this.getElementCollectionByType("filter").length:this.getElementCollectionByType("filter").filter(function(filter){return"_time"!==filter.get("fieldName")}).length},getNumCells:function(){return this.getElementCollectionByType("cell").length},getNumRows:function(){return this.getElementCollectionByType("row").length},getNumColumns:function(){return this.getElementCollectionByType("column").length},isComplete:function(){var vizConfig=pivotVizManager.getConfigByVizType(this.getVisualizationType()),requiredCountByElementType=function(elementType){var count=0,eligiblePanels=_(vizConfig.configMenuPanels).filter(function(panel){return panel.elementType===elementType});return _(eligiblePanels).each(function(panel){panel.required&&(count+=panel.maxLength)}),count};return this.getNumColumns()>=requiredCountByElementType(pivotVizManager.COLUMN_SPLIT)&&this.getNumRows()>=requiredCountByElementType(pivotVizManager.ROW_SPLIT)&&this.getNumCells()>=requiredCountByElementType(pivotVizManager.CELL_VALUE)},validateLimitAmountEnabled:function(splitType,prevalidateElement,prevalidateElementIndex){var splits=this.getElementCollectionByType(splitType).toArray();if(prevalidateElement&&(prevalidateElementIndex>=splits.length?splits.push(prevalidateElement):splits[prevalidateElementIndex]=prevalidateElement),1!==splits.length)return!1;var firstSplitType=splits[0].get("type");return"timestamp"===firstSplitType?_("Not applied to a single time split.").t():"boolean"===firstSplitType?_("Not applied to a single boolean split").t():"number"===firstSplitType&&"ranges"===splits[0].get("display")&&_("Not applied to a single range-based split.").t()},isValid:function(options){var content=this.entry.content;return Report.prototype.isValid.call(this,options)&&content.isValid(options)&&content.filters.isValid(options)&&content.columns.isValid(options)&&content.rows.isValid(options)&&content.cells.isValid(options)},addElement:function(type,attributesOrModel,options){var elemCollection=this.getElementCollectionByType(type);if(attributesOrModel instanceof Backbone.Model)attributesOrModel.has("owner")||attributesOrModel.set({owner:this.getPivotObjectName()}),elemCollection.add(attributesOrModel,options);else{var defaults={owner:this.getPivotObjectName()};elemCollection.add($.extend(defaults,attributesOrModel),options)}this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")},hotSwapElement:function(type,element,newAttrs){if(element.get("type")===newAttrs.type)element.restoreDefaults({silent:!0}),element.set(newAttrs);else{var collection=this.getElementCollectionByType(type),newElement=this.createNewElement(type,newAttrs),elementIndex=collection.indexOf(element);collection.remove(element),collection.add(newElement,{at:elementIndex}),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")}},transferElement:function(fromType,toType,id,options){options=options||{};var newAttrs,fromCollection=this.getElementCollectionByType(fromType),toCollection=this.getElementCollectionByType(toType),originalElement=fromCollection.get(id),removeOriginal=options.removeOriginal!==!1;"row"===fromType&&"column"===toType?(newAttrs=$.extend({},originalElement.attributes),delete newAttrs.label,delete newAttrs.limitAmount,delete newAttrs.elementType):"column"===fromType&&"row"===toType?(newAttrs=$.extend({},originalElement.attributes),delete newAttrs.elementType):newAttrs={fieldName:originalElement.get("fieldName"),type:originalElement.get("type"),owner:originalElement.get("owner"),displayName:originalElement.get("displayName")},toCollection.add(newAttrs,_(options).pick("at")),removeOriginal&&fromCollection.remove(id),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")},createNewElement:function(type,attributes){var defaults={owner:this.getPivotObjectName()};switch($.extend(defaults,attributes),type){case"filter":var filterCollection=this.getElementCollectionByType("filter");return new filterCollection.model(attributes);case"row":var rowCollection=this.getElementCollectionByType("row");return new rowCollection.model(attributes);case"column":var columnCollection=this.getElementCollectionByType("column");return new columnCollection.model(attributes);case"cell":var cellCollection=this.getElementCollectionByType("cell");return new cellCollection.model(attributes);default:throw"Can only create elements of type filter, row, column or cell"}},removeElement:function(type,element,options){var elemCollection=this.getElementCollectionByType(type);elemCollection.remove(element,options),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")},reSortElements:function(type,order,options){var elemCollection=this.getElementCollectionByType(type),existingOrder=elemCollection.map(function(model){return model.cid});if(!_.isEqual(order,existingOrder)){var sortedCollection=elemCollection.sortBy(function(item){return _(order).indexOf(item.cid)});elemCollection.reset(sortedCollection,options),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")}},getElement:function(type,id){var elemCollection=this.getElementCollectionByType(type);return elemCollection.get(id)},setVisualizationType:function(newType,options){var currentVizType=this.getVisualizationType();if(newType!==currentVizType){var newConfig=VisualizationRegistry.getVisualizationById(newType);this.vizTypeChanging=!0,this.entry.content.set(newConfig?newConfig.matchConfig:{},options),options&&options.silent||this.trigger("visualizationTypeChange",newType,currentVizType,this),this.vizTypeChanging=!1}},getVisualizationType:function(){var config=VisualizationRegistry.findVisualizationForConfig(this.entry.content.toJSON());return config?config.id:null},initializeAssociated:function(){Report.prototype.initializeAssociated.call(this);var Content=this.constructor.Entry.Content,content=this.entry.content;content.filters=content.associated.filters=content.filters||new Content.Filters,content.cells=content.associated.cells=content.cells||new Content.Cells,content.columns=content.associated.columns=content.columns||new Content.Columns,content.rows=content.associated.rows=content.rows||new Content.Rows},clone:function(){var originalContent=this.entry.content,clone=new this.constructor,cloneContent=clone.entry.content,splunkDPayload=this.toSplunkD();return clone.setFromSplunkD(splunkDPayload),cloneContent.filters.reset(originalContent.filters.deepClone().toArray()),cloneContent.columns.reset(originalContent.columns.deepClone().toArray()),cloneContent.rows.reset(originalContent.rows.deepClone().toArray()),cloneContent.cells.reset(originalContent.cells.deepClone().toArray()),clone},setFromPivotJSON:function(pivotJSON,options){"string"==typeof pivotJSON&&(pivotJSON=JSON.parse(pivotJSON));var contentModel=this.entry.content,setObject=_(pivotJSON).pick("baseClass","baseClassLineage"),rowFormat=pivotJSON.rowFormat,colFormat=pivotJSON.colFormat;rowFormat&&(setObject.showRowSummary=rowFormat.hasOwnProperty("showSummary")?rowFormat.showSummary.toString():CONTENT_DEFAULTS.showRowSummary,setObject.rowLimitType=rowFormat.limitType||CONTENT_DEFAULTS.rowLimitType,rowFormat.hasOwnProperty("limitAmount")&&(setObject.rowLimitAmount=rowFormat.limitAmount)),colFormat&&(setObject.showColSummary=colFormat.hasOwnProperty("showSummary")?colFormat.showSummary.toString():CONTENT_DEFAULTS.showColSummary,setObject.showOtherCol=colFormat.hasOwnProperty("showOther")?colFormat.showOther.toString():CONTENT_DEFAULTS.showOtherCol,colFormat.hasOwnProperty("limitAmount")&&(setObject.colLimitAmount=colFormat.limitAmount)),modelUtils.safeResetCollection(contentModel.filters,pivotJSON.filters,$.extend({parse:!0},options)),modelUtils.safeResetCollection(contentModel.cells,pivotJSON.cells,$.extend({parse:!0},options)),modelUtils.safeResetCollection(contentModel.columns,pivotJSON.columns,$.extend({parse:!0},options)),modelUtils.safeResetCollection(contentModel.rows,pivotJSON.rows,$.extend({parse:!0},options)),this.validateLimitAmountEnabled("row")&&(setObject.rowLimitAmount=CONTENT_DEFAULTS.rowLimitAmount),this.validateLimitAmountEnabled("column")&&(setObject.colLimitAmount=CONTENT_DEFAULTS.colLimitAmount),contentModel.set(setObject,options)},getPivotJSON:function(){var content=this.entry.content,pivotObjectName=this.getPivotObjectName(),pivotObjectLineage=content.get("baseClassLineage"),rowJSON=this.getElementCollectionByType("row").toJSON(),columnJSON=this.getElementCollectionByType("column").toJSON(),cellJSON=this.getElementCollectionByType("cell").toJSON(),limitType=content.get("rowLimitType"),pivotJSON={baseClass:pivotObjectName,baseClassLineage:pivotObjectLineage,filters:this.getElementCollectionByType("filter").toJSON(),cells:cellJSON,rows:rowJSON,columns:columnJSON};if(content.get("search")&&(pivotJSON.dataModel=PivotReport.parseModelAndObjectFromSearch(content.get("search"))[1]),rowJSON.length>0&&(pivotJSON.rowFormat={limitType:limitType,showSummary:splunkUtils.normalizeBoolean(content.get("showRowSummary")),limitFieldName:rowJSON[0].fieldName,limitFieldOwner:rowJSON[0].owner},this.validateLimitAmountEnabled("row")||(pivotJSON.rowFormat.limitAmount=content.get("rowLimitAmount")),"default"!==limitType)){var limitByObject=_(cellJSON).find(function(cellObject){return cellObject.value in{count:!0,dc:!0,sum:!0,avg:!0}||cellObject.type in{objectCount:!0,childCount:!0}});limitByObject=limitByObject||{fieldName:pivotObjectName,owner:pivotObjectLineage,value:"count"},$.extend(pivotJSON.rowFormat,{limitByAttributeName:limitByObject.fieldName,limitByAttributeOwner:limitByObject.owner,limitStatsFn:limitByObject.value||"count"})}return columnJSON.length>0&&(pivotJSON.colFormat={
showSummary:splunkUtils.normalizeBoolean(content.get("showColSummary")),showOther:splunkUtils.normalizeBoolean(content.get("showOtherCol"))},this.validateLimitAmountEnabled("column")?pivotJSON.colFormat.limitAmount=MAX_COLUMN_LIMIT:pivotJSON.colFormat.limitAmount=content.get("colLimitAmount")),pivotJSON},getPivotObjectName:function(){return this.entry.content.get("baseClass")},getIndexTimeFilter:function(){return this.entry.content.filters.find(function(filter){return"_time"===filter.get("fieldName")})}},{REPORT_FORMAT_FILTER:["^display.statistics..*","^display.prefs.statistics.count$","^display.visualizations..*","^display.general.type$"],PIVOT_CONTENT_FILTER:["^showRowSummary$","^rowLimitType$","^rowLimitAmount$","^showColSummary$","^colLimitAmount$","^showOtherCol$"],CONTENT_DEFAULTS:CONTENT_DEFAULTS,parseModelAndObjectFromSearch:function(searchString){return/^\s*\|\s*pivot\s+(\w+:"[^"]+")\s+(\w+)/.exec(searchString)||/^\s*\|\s*pivot\s+([\w.:-]+)\s+(\w+)/.exec(searchString)}});return PivotReport.Entry=Report.Entry.extend({}),PivotReport.Entry.Content=Visualization.extend({defaults:$.extend({},Visualization.prototype.defaults,CONTENT_DEFAULTS),validation:$.extend({},Visualization.prototype.validation,{rowLimitAmount:{pattern:"number",min:0,max:1e6,msg:_("Limit must be a number between 0 and 1,000,000.").t(),required:!0},colLimitAmount:{pattern:"number",min:0,max:1e3,msg:_("Limit must be a number between 0 and 1,000.").t(),required:!0}})},{Filters:FilterElements,Cells:CellElements,Columns:ColumnElements,Rows:RowElements}),PivotReport}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/DependencyAggregationBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("routers/Base"),__webpack_require__("helpers/ApiDependencyAggregator"),__webpack_require__("models/shared/Application"),__webpack_require__("models/config"),__webpack_require__("models/classicurl"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("models/services/data/ui/Nav"),__webpack_require__("models/services/data/UserPrefGeneral"),__webpack_require__("models/shared/User"),__webpack_require__("models/shared/ClassicURL"),__webpack_require__("models/services/data/ui/Tour"),__webpack_require__("models/services/AppLocal"),__webpack_require__("collections/services/data/ui/Tours"),__webpack_require__("collections/services/AppLocals"),__webpack_require__("collections/services/data/ui/Managers"),__webpack_require__("collections/services/configs/Visualizations")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseRouter,ApiDependencyAggregator,Application,config,classicurl,ServerInfo,Nav,UserPrefGeneral,User,ClassicURL,Tour,AppLocal,Tours,AppLocals,Managers,Visualizations){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.aggregator=new ApiDependencyAggregator,this._addDependencyHandlers(this.aggregator),this.fetchUser=!0,this.fetchAppLocals=!0,this.fetchAppLocal=!0,this.fetchUserPref=!0,this.fetchServerInfo=!0,this.fetchManagers=!0},page:function(locale,app,page){this.shouldRender=!this.history[window.location.pathname],this.model.application.set({locale:locale,app:app,page:page.split("?")[0]}),this.deferreds.application.resolve()},_addDependencyHandlers:function(aggregator){aggregator.addHandler(Application,_.once(function(){return this.deferreds.application.then(function(){return this.model.application}.bind(this))}.bind(this))),aggregator.addHandler(config.constructor,_.once(function(){return this.model.config}.bind(this))),aggregator.addHandler(ClassicURL,_.once(function(){return classicurl.fetch().then(function(){return classicurl})}.bind(this))),aggregator.addHandler(Nav,_.once(function(){return this.bootstrapAppNav(),this.deferreds.appNav.then(function(){return this.model.appNav}.bind(this))}.bind(this))),aggregator.addHandler(ServerInfo,_.once(function(){return this.bootstrapServerInfo(),this.deferreds.serverInfo.then(function(){return this.model.serverInfo}.bind(this))}.bind(this))),aggregator.addHandler(UserPrefGeneral,_.once(function(){return this.bootstrapUserPref(),this.deferreds.userPref.then(function(){return this.model.userPref}.bind(this))}.bind(this))),aggregator.addHandler(Tour,_.once(function(previous,aggregator){return $.when(aggregator.waitFor(Tours),this.deferreds.tour).then(function(){return this.model.tour}.bind(this))}.bind(this))),aggregator.addHandler(AppLocal,_.once(function(){return this.bootstrapAppLocal(),this.deferreds.appLocal.then(function(){return this.model.appLocal}.bind(this))}.bind(this))),aggregator.addHandler(AppLocals,_.once(function(){return this.bootstrapAppLocals(),this.deferreds.appLocals.then(function(){return this.collection.appLocals}.bind(this))}.bind(this))),aggregator.addHandler(User,_.once(function(previous,aggregator){return this.bootstrapUser(),$.when(this.deferreds.user,aggregator.waitFor(ServerInfo),aggregator.waitFor(AppLocals)).then(function(){return this.model.user}.bind(this))}.bind(this))),aggregator.addHandler(Managers,_.once(function(){return this.bootstrapManagers(),this.deferreds.managers.then(function(){return this.collection.managers}.bind(this))}.bind(this))),aggregator.addHandler(Tours,_.once(function(){return this.bootstrapTour(),this.deferreds.tour.then(function(){return this.collection.tours}.bind(this))}.bind(this))),aggregator.addHandler(Visualizations,_.once(function(){return this.bootstrapVisualizations(),this.deferreds.visualizations.then(function(){return this.collection.visualizations}.bind(this))}.bind(this)))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"helpers/ApiDependencyAggregator":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("util/backbone"),__webpack_require__("util/console")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,backboneUtils,console){var ApiDependencyAggregator=function(){this._handlers=[],this._isFetching=!1,this._previousDepList=[]};return _.extend(ApiDependencyAggregator.prototype,{addHandler:function(resource,flags,callback){if(this._isFetching)throw new Error("addHandler cannot be called while a fetch is in progress");callback||(callback=flags,flags=null);var handlerEntry={_resourceType:resource,callback:callback};_.isArray(flags)&&flags.length>0&&(handlerEntry.flags=flags),this._handlers.unshift(handlerEntry)},fetchAll:function(config,context){if(this._isFetching)throw new Error("fetchAll cannot be called while another fetch is in progress");return config=this._normalizeConfig(config,context),this._activeDepList=this._convertToDependencyList(config),this._isFetching=!0,this._applyHandlersToDependencyList(this._activeDepList,context),this._waitForBlockingDependencies(this._activeDepList).then(function(){return this._updatePreviousDependencies($.extend(!0,[],this._activeDepList)),this._convertDependenciesToResourceTree(this._activeDepList,config)}.bind(this)).always(function(){this._isFetching=!1}.bind(this))},isFetchingResource:function(resourceType,flags){if(!this._isFetching)throw new Error("isFetchingResource can only be called while a fetch is in progress");var dep={_resourceType:resourceType};return flags&&(dep.flags=flags),!!this._findMatchingDependency(dep,this._activeDepList)},waitFor:function(resourceType,flags){if(!this._isFetching)throw new Error("waitFor can only be called while a fetch is in progress");var dep={_resourceType:resourceType};flags&&(dep.flags=flags);var match=this._findMatchingDependency(dep,this._activeDepList);return match||(match=_.extend({blocking:!1},dep)),match.deferred||(this._applyHandlersToDependency(match),this._addToDependencyList(match,this._activeDepList)),match.deferred.then(function(){return match.resource})},_normalizeConfig:function(config,context){var newConfig={};return config.hasOwnProperty("apiDependencies")&&(config=_(config.apiDependencies).isFunction()?config.apiDependencies(context):config.apiDependencies),_.isFunction(config)&&(config=config(context)),_(config).each(function(entry,name){if(entry.hasOwnProperty("apiDependencies")){var nestedConfig=_(entry.apiDependencies).isFunction()?entry.apiDependencies(context):entry.apiDependencies;newConfig[name]=this._normalizeConfig(nestedConfig,context)}else(backboneUtils.isModelConstructor(entry)||backboneUtils.isCollectionConstructor(entry))&&(entry={resourceType:entry}),entry=_.extend({blocking:!0},entry),entry._resourceType=entry.resourceType,delete entry.resourceType,_.isArray(entry.flags)&&0!==entry.flags.length||delete entry.flags,newConfig[name]=entry},this),newConfig},_convertToDependencyList:function(config){var depList=[];return _(config).each(function(entry){entry._resourceType?this._addToDependencyList(entry,depList):_(this._convertToDependencyList(entry)).each(function(nestedEntry){this._addToDependencyList(nestedEntry,depList)},this)},this),depList},_addToDependencyList:function(dep,depList){var match=this._findMatchingDependency(dep,depList);return match?match.blocking=match.blocking||dep.blocking:depList.push(dep),match},_applyHandlersToDependencyList:function(depList){_(depList).each(function(dep){dep.deferred||this._applyHandlersToDependency(dep)},this)},_applyHandlersToDependency:function(dep){var handler=this._findMatchingDependency(dep,this._handlers);if(!handler)throw console.error("Unable to find a handler for resource type",dep._resourceType,"with flags",dep.flags||[]),new Error("No handler found for at least one dependency");var previous=this._findMatchingDependency(dep,this._previousDepList)||null,handlerResult=handler.callback(previous?previous.resource:null,this);handlerResult.deferred||(handlerResult={deferred:$.when(handlerResult)}),dep.resource=handlerResult.resource,dep.deferred=handlerResult.deferred,dep.resource||(dep.deferred=dep.deferred.then(function(resource){dep.resource=resource}))},_updatePreviousDependencies:function(updatedDeps){var previous=this._previousDepList;this._previousDepList=updatedDeps,_(previous).each(function(previousDep){this._addToDependencyList(previousDep,this._previousDepList)},this)},_waitForBlockingDependencies:function(depList){var blockingDeferreds=_(depList).chain().where({blocking:!0}).pluck("deferred").value();return $.when.apply($,blockingDeferreds)},_convertDependenciesToResourceTree:function(depList,config){var resourceTree={deferreds:{}};return _(config).each(function(entry,name){if(entry.hasOwnProperty("_resourceType")){var dep=this._findMatchingDependency(entry,depList);if(!dep)throw new Error("Unable to find a handled dependency for a config entry.  This should not happen.");resourceTree[name]=dep.resource,resourceTree.deferreds[name]=dep.deferred}else resourceTree[name]=this._convertDependenciesToResourceTree(depList,entry)},this),resourceTree},_findMatchingDependency:function(dep,depList){return _(depList).find(function(testDep){return dep._resourceType===testDep._resourceType&&_.isEqual(dep.flags,testDep.flags)})}}),ApiDependencyAggregator}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/backbone":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone){var isConstructorSubclass=function(test,ctor){return test===ctor||test.prototype instanceof ctor};return{isViewConstructor:function(test){return isConstructorSubclass(test,Backbone.View)},isModelConstructor:function(test){return isConstructorSubclass(test,Backbone.Model)},isCollectionConstructor:function(test){return isConstructorSubclass(test,Backbone.Collection)}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/ResponsiveHeaderPage":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/config"),__webpack_require__("models/shared/Application"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("models/services/data/ui/Nav"),__webpack_require__("models/services/data/ui/Tour"),__webpack_require__("models/shared/User"),__webpack_require__("collections/services/data/ui/Tours"),__webpack_require__("collections/services/data/ui/Managers"),__webpack_require__("views/shared/Page"),__webpack_require__("views/shared/appbar/Master"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("helpers/user_agent"),__webpack_require__("util/color_utils"),__webpack_require__("shim/jquery.resize"),__webpack_require__("views/shared/ResponsiveHeaderPage.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,config,Application,ServerInfo,Nav,Tour,User,Tours,Managers,Page,AppbarMaster,DeclarativeDependencies,userAgent,colorUtils,jqueryResize,css){var HEIGHT_OF_COLLAPSED_NAV_BAR=6,ANIMATION_DURATION=200,INITIAL_HIDE_DELAY=500,ResponsiveHeaderPage=Page.extend({moduleId:module.id,events:{"click .expand-collapse-control":function(e){e.preventDefault(),this.isAnimating||(this.isExpanded?this.hideFullHeader():this.showFullHeader())}},initialize:function(){this.options.model=_.extend({},this.options.model,this.model),this.options.collection=_.extend({},this.options.collection,this.collection),this.options.deferreds=_.extend({},this.options.deferreds,this.deferreds),Page.prototype.initialize.call(this,this.options),this.updateHeaderHeight=this.updateHeaderHeight.bind(this),this.isExpanded=!1,this.isAnimating=!1,this.hasInitialized=!1,this.$screen=$('<div class="expanded-nav-screen" tabindex=-1></div>').hide().appendTo("body");var that=this;this.$screen.on("click."+this.cid,function(){that.isAnimating||that.hideFullHeader()}),$(window).on("resize."+this.cid,function(){that.resetToInitialState(),that.isInCollapsibleMode()&&that.hasInitialized?that.detachNavAndAppBar():that.attachNavAndAppBar(),that.updateHeaderHeight(),that.isExpanded=!1,that.isAnimating=!1}),this.activate()},startListening:function(){this.model.appNav&&this.listenTo(this.model.appNav.entry.content,"change:color",function(){this.parseBannerColor(),this.updateBannerColor()})},remove:function(){return this.$screen.remove(),$(window).off("resize."+this.cid),Page.prototype.remove.apply(this,arguments)},render:function(){this.renderLoadingMessage(),this.model.tour&&(this.renderTour(),this.setTourHeight()),this.renderHeader(),this.$header=this.$("header"),this.$navBar=this.$(".navbar-splunkbar"),this.$appBar=this.$(".app-bar");var hideHeader=this.options.splunkBar===!1&&this.options.showAppNav===!1,$expandCollapseControl=$(this.expandCollapseControlTemplate);return hideHeader&&$expandCollapseControl.hide(),this.$header.append($expandCollapseControl),this.model.appNav&&(this.parseBannerColor(),this.updateBannerColor()),this},setTourHeight:function(){this.isImgTour||this.isInteractive||(this.$el.addClass("non-responsive"),this.children.tour.setFixedHeight(this.getComputedHeaderHeight()+HEIGHT_OF_COLLAPSED_NAV_BAR))},parseBannerColor:function(){var appNavColor=this.model.appNav.entry.content.get("color");appNavColor&&(this.bannerColor=colorUtils.normalizeHexString(appNavColor))},updateBannerColor:function(){this.bannerColor&&this.$(".expand-collapse-control").css({"background-color":this.bannerColor})},showFullHeader:function(){if(this.$navBar&&this.$appBar&&this.$screen&&this.$header){var that=this;this.isAnimating=!0,this.attachNavAndAppBar(),this.$screen.fadeIn(ANIMATION_DURATION),this.$screen.css({filter:"alpha(opacity=30)"});var windowHeight=$(window).height();this.$header.css({bottom:windowHeight-HEIGHT_OF_COLLAPSED_NAV_BAR});var bottomOffset=HEIGHT_OF_COLLAPSED_NAV_BAR+this.getComputedHeaderHeight(),appBar=this.$('div[data-view="views/shared/appbar/Master"]');$("#appbar-before").remove(),appBar.animate({left:"0"},{duration:ANIMATION_DURATION}),this.$header.animate({bottom:windowHeight-bottomOffset},{duration:ANIMATION_DURATION/2,done:function(){that.isExpanded=!0,that.isAnimating=!1}})}},hideFullHeader:function(onSuccess){if(this.$navBar&&this.$appBar){if(!this.$screen||!this.$header)return void onSuccess();var that=this;this.isAnimating=!0,this.$screen.fadeOut(ANIMATION_DURATION);var appBar=this.$('div[data-view="views/shared/appbar/Master"]');$("head").append('<style id="appbar-before">div[data-view="views/shared/appbar/Master"]::before{ left: -200px; }</style>'),appBar.animate({left:"-200px"},{duration:ANIMATION_DURATION}),this.$header.animate({bottom:$(window).height()-HEIGHT_OF_COLLAPSED_NAV_BAR},{duration:ANIMATION_DURATION,done:function(){that.detachNavAndAppBar(),that.isExpanded=!1,that.isAnimating=!1,onSuccess&&onSuccess()}})}},resetToInitialState:function(){this.$("header").stop().css("bottom",""),this.$screen.hide()},onAddedToDocument:function(){this.$navBar&&this.$appBar&&(this.updateHeaderHeight(),this.$("header").on("elementResize",this.updateHeaderHeight),this.isInCollapsibleMode()?setTimeout(function(){var bottomOffset=HEIGHT_OF_COLLAPSED_NAV_BAR+this.getComputedHeaderHeight();this.$("header").css({bottom:$(window).height()-bottomOffset}),this.isExpanded=!0,setTimeout(function(){this.hideFullHeader(function(){this.hasInitialized=!0}.bind(this))}.bind(this),INITIAL_HIDE_DELAY)}.bind(this),10):this.hasInitialized=!0,Page.prototype.onAddedToDocument.call(this))},updateHeaderHeight:function(){this.isAnimating&&this.resetToInitialState(),this.isInCollapsibleMode()?this.$(".main-section-body").css({top:""}):this.$(".main-section-body").css({top:this.getComputedHeaderHeight()}),this.model.tour&&this.setTourHeight()},getComputedHeaderHeight:function(){return this.$("header").height()-HEIGHT_OF_COLLAPSED_NAV_BAR},isInCollapsibleMode:function(){return"none"!==this.$(".expand-collapse-control").css("display")},detachNavAndAppBar:function(){this.$navBar&&this.$appBar&&(this.$("header").off("elementResize",this.updateHeaderHeight),this.$navBar.detach(),this.$appBar.detach())},attachNavAndAppBar:function(){this.$navBar&&this.$appBar&&(this.$navBar.prependTo(this.$header),this.options.splunkBar===!1?this.$appBar.prependTo(this.$header):this.$appBar.insertAfter(this.$navBar),this.$("header").on("elementResize",this.updateHeaderHeight))},expandCollapseControlTemplate:'\t            <div class="expand-collapse-control">\t                <a href="#" class="tab"><i class="icon-menu"></i></a>\t            </div>\t        '},{apiDependencies:{application:Application,appNav:Nav,config:config.constructor,user:User,serverInfo:ServerInfo,tour:Tour,tours:Tours,managers:Managers}});return DeclarativeDependencies(ResponsiveHeaderPage)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/ResponsiveHeaderPage.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1116);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"collections/pivot/elements/FilterElements":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("collections/pivot/elements/ElementsBase"),__webpack_require__("helpers/pivot/FilterElementModelFactory")],__WEBPACK_AMD_DEFINE_RESULT__=function(ElementsBase,FilterElementModelFactory){return ElementsBase.extend({model:FilterElementModelFactory})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_explorer/DataModelExplorer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/shared/Application"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/data_model_explorer/ObjectGrid"),__webpack_require__("uri/route"),__webpack_require__("models/classicurl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,FlashMessagesCollection,DataModel,Application,DeclarativeDependencies,BaseView,FlashMessagesView,ObjectGrid,route,classicUrl){var DataModelExplorer=BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({model:{dataModel:this.model.dataModel}}),this.children.objectList=new ObjectGrid({apiResources:this.apiResources.objectList}),this.deferreds.dataModel.done(function(){var editButton=this.$(".edit-objects-button");this.model.dataModel.entry.acl.canWrite()?editButton.show():editButton.hide()}.bind(this))},render:function(){var pageRouter=route.getContextualPageRouter(this.model.application),editObjectsHref=pageRouter.data_model_editor({data:{model:this.model.dataModel.id}}),html=_(this.template).template({editObjectsHref:editObjectsHref});return this.$el.html(html),this.$(".flash-messages-placeholder").replaceWith(this.children.flashMessages.render().el),this.$(".object-list-placeholder").replaceWith(this.children.objectList.render().el),this.model.dataModel.entry.acl.canWrite()||this.$(".edit-objects-button").hide(),this},template:'\t            <div class="section-padded section-header">\t            \t<h2 class="section-title">\t                    <%- _("Select a Dataset").t() %>\t                </h2>\t                <a href="<%- editObjectsHref %>" class="edit-objects-button btn">\t                    <%- _("Edit Datasets").t() %>\t                </a>\t                <div class="flash-messages-placeholder"></div>\t            </div>\t            <div class="object-list-placeholder"></div>\t        '},{apiDependencies:{dataModel:DataModel,application:Application,objectList:ObjectGrid}});return DeclarativeDependencies(DataModelExplorer)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_explorer/ObjectGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/shared/Application"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/pivot/DataTableFieldList"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util"),__webpack_require__("stubs/i18n"),__webpack_require__("models/classicurl"),__webpack_require__("views/data_model_explorer/ObjectGrid.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,DataModel,Application,PivotableDataTable,DeclarativeDependencies,Base,RowExpandCollapse,RowIterator,DataTableFieldList,Popdown,route,splunkUtils,i18n,classicUrl,css){var ObjectGrid=Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.call(this,options),this.children.rowExpandCollapse=new RowExpandCollapse({el:this.el,autoUpdate:!0}),this.children.fieldActionPopdown=new Popdown({el:this.el,toggle:".field-action-button",dialog:".field-action-menu"}),this.dataModelHasSynced="pending"!==this.deferreds.dataModel.state(),this.dataModelHasSynced||this.deferreds.dataModel.done(function(){this.dataModelHasSynced=!0,this.debouncedRender()}.bind(this)),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_EXPAND,this.handleRowExpand,this),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_COLLAPSE,this.handleRowCollapse,this),this.children.fieldActionPopdown.on("show",function($target){var objectName=this.resolveObjectName($target[0]),fieldName=$target.attr("data-field-name"),fieldOwner=$target.attr("data-field-owner"),object=this.model.dataModel.objectByName(objectName),field=object.getFieldByName(fieldName,fieldOwner);this.onFieldActionMenuShow(field,object)},this)},render:function(){var headerMessage,hierarchy=this.model.dataModel.getPivotableHierarchy()||[],rowIterator=new RowIterator;headerMessage=this.dataModelHasSynced?splunkUtils.sprintf(i18n.ungettext("1 Object in %(modelName)s","%(count)s Objects in %(modelName)s",hierarchy.length),{count:hierarchy.length,modelName:this.model.dataModel.entry.content.get("displayName")}):_("Loading Datasets...").t();var html=this.compiledTemplate({hierarchy:hierarchy,application:this.model.application,dataModel:this.model.dataModel,eachRow:rowIterator.eachRow,headerCellClass:RowExpandCollapse.HEADER_CELL_CLASS,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR,headerMessage:headerMessage,dataModelHasSynced:this.dataModelHasSynced,route:route,modelId:this.model.dataModel.get("id")}),$html=$(html);this.children.rowExpandCollapse.update($html),this.$el.html($html),this.$("a.select-object-button").click(function(e){e.preventDefault(),classicUrl.save({object:$(this).data("object-name")},{trigger:!0})})},template:'\t            <table class="table table-chrome table-striped table-bordered-lite table-row-expanding">\t                <thead>\t                    <tr>\t                        <th class="<%- headerCellClass %>"></th>\t                        <th>\t                            <%- headerMessage %>\t                        </th>\t                    </tr>\t                </thead>\t                <tbody>\t                    <% eachRow(hierarchy, function(object, index) { %>\t                    \t                        <% if(object.isPivotable) { %>\t                            <tr class="list-item <%- index%2 == 0 ? "even" : "odd" %>" <%- rowIdAttribute %>="<%- object.objectName %>">\t                                <td class="<%- toggleCellClass %>"></td>\t                                <td class="title description object-description nested-<%- object.depth %>">\t                                    <a href="<%- route.pivot(application.get("root"), application.get("locale"), application.get("app"), { data: { model: modelId, object: object.objectName }}) %>" data-object-name="<%- object.objectName %>" class="select-object-button"><%- object.displayName %></a>\t                                </td>\t                            </tr>\t                        <% } else { %>\t                            <tr class="list-item <%- index%2 == 0 ? "even" : "odd" %>" <%- rowIdAttribute %>="<%- object.objectName %>">\t                                <td class="<%- toggleCellClass %>"></td>\t                                <td class="title description object-description nested-<%- object.depth %>">\t                                    <span class="unselectable-object"><%- object.displayName %></span>\t                                </td>\t                            </tr>\t                        <% } %>\t                    \t                    <% }) %>\t                </tbody>\t            </table>\t            <% if(dataModelHasSynced && hierarchy.length === 0) { %>\t                <% var href = route.data_model_editor(application.get("root"), application.get("locale"), application.get("app"), { data: { model: dataModel.id } }) %>\t                <div class="no-objects-message">\t                    <div class="alert alert-info">\t                        <i class="icon-alert"></i>\t                        <%- _("You have no Datasets available for Pivot.").t() %>\t                        <a class="edit-objects-link" href="<%- href %>" >\t                            <%- _("Edit Datasets").t() %>\t                        </a>\t                    </div>\t                </div>\t            <% } %>\t            <div class="dropdown-menu dropdown-menu-selectable field-action-menu">\t                <div class="arrow"></div>\t                <ul></ul>\t            </div>\t        ',handleRowExpand:function(rowId){var $row=this.getRowById(rowId),object=this.model.dataModel.objectByName(rowId),childId="objectFieldList_"+rowId;if(object.isPivotable()){var fieldList=this.children[childId]=new DataTableFieldList({model:PivotableDataTable.createFromDataModelObject(object),eventButtonClass:"field-action-button",timestampButtonClass:"non-link",otherButtonClass:"field-action-button"});fieldList.render().appendTo($row.find(".object-description")),fieldList.$(".field-action-button").append('<span class="caret"></span>'),$row.find(".col-info").html('<i class="icon-triangle-down-small"></i>')}else{var unpivotableMsg=this.children[childId]=$("<div>"+_("This dataset is not pivotable.").t()+"</div>");unpivotableMsg.appendTo($row.find(".object-description"))}},handleRowCollapse:function(rowId){var childId="objectFieldList_"+rowId,$row=this.getRowById(rowId);this.children[childId]&&(this.children[childId].off(null,null,this),this.children[childId].remove(),delete this.children[childId]),$row.find(".col-info").html('<i class="icon-triangle-right-small"></i>')},getRowById:function(rowId){return this.$("tr["+RowExpandCollapse.ROW_ID_ATTR+'="'+rowId+'"]')},resolveObjectName:function(elem){return $(elem).closest(".list-item").attr(RowExpandCollapse.ROW_ID_ATTR)},onFieldActionMenuShow:function(field,object){var type=field.type,root=this.model.application.get("root"),locale=this.model.application.get("locale"),app=this.model.application.get("app"),modelName=this.model.dataModel.id,objectName=object.get("objectName"),objectHasIndexTime=!!object.getFieldByName("_time"),$actionsUl=this.$(".field-action-menu ul"),appendActionLink=function(text,href){var $li=$("<li></li>").appendTo($actionsUl);$("<a></a>").text(text).attr("href",href).appendTo($li)};$actionsUl.empty(),"objectCount"===type||"childCount"===type?(appendActionLink(splunkUtils.sprintf(_("Count of %s").t(),field.displayName),route.pivot(root,locale,app,{data:{model:modelName,object:objectName,cells:field.fieldName}})),objectHasIndexTime&&appendActionLink(splunkUtils.sprintf(_("Count of %s by Time").t(),field.displayName),route.pivot(root,locale,app,{data:{model:modelName,object:objectName,cells:field.fieldName,rows:"_time"}}))):(appendActionLink(_("Top Values").t(),route.pivot(root,locale,app,{data:{model:modelName,object:objectName,rows:field.fieldName}})),objectHasIndexTime&&appendActionLink(_("Top Values by Time").t(),route.pivot(root,locale,app,{data:{model:modelName,object:objectName,columns:field.fieldName,rows:"_time"}})))}},{apiDependencies:{dataModel:DataModel,application:Application}});return DeclarativeDependencies(ObjectGrid)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_explorer/ObjectGrid.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1117);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals);
},"collections/pivot/elements/ElementsBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("collections/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseCollection){return BaseCollection.extend({toReportJSON:function(){return this.invoke("toReportJSON")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/PermissionMismatchDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Application,DeclarativeDependencies,Modal,route){var PermissionMismatchDialog=Modal.extend({moduleId:module.id,render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).text(_("Permission Mismatch").t()),this.$(Modal.BODY_SELECTOR).append($("<h5></h5>").text(_("A pivot report cannot be shared if it references a private data model.").t()).css("margin-bottom","10px"));var pageRouter=route.getContextualPageRouter(this.model.application),reportsHref=pageRouter.reports(),dataModelManagerHref=pageRouter.data_model_manager();this.$(Modal.BODY_SELECTOR).append($("<a></a>").text(_("Manage Data Models").t()).attr("href",dataModelManagerHref).css("margin-right","15px")),this.$(Modal.BODY_SELECTOR).append($("<a></a>").text(_("Manage Reports").t()).attr("href",reportsHref)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE)}},{apiDependencies:{application:Application}});return DeclarativeDependencies(PermissionMismatchDialog)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/CreateReportDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/search/Job"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/reportcontrols/dialogs/createreport/Master"),__webpack_require__("views/pivot/dialogs/components/CreateReportAndDataModel"),__webpack_require__("views/pivot/dialogs/components/ReportAndDataModelSuccess")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,Application,User,Job,PivotReport,PivotSearch,DataModel,DeclarativeDependencies,CreatereportMaster,CreateReportAndDataModel,ReportAndDataModelSuccess){var CreateReportDialog=CreatereportMaster.extend({moduleId:module.id,initialize:function(){this.options.chooseVisualizationType=!1,CreatereportMaster.prototype.initialize.apply(this,arguments),this.model.dataModel.isTemporary()&&(this.children.create=new CreateReportAndDataModel({model:{searchJob:this.model.searchJob,application:this.model.application,inmem:this.model.inmem,dataModel:this.model.dataModel},chooseVisualizationType:!1}),this.children.success.off(),this.children.success=new ReportAndDataModelSuccess({model:{application:this.model.application,inmem:this.model.inmem,searchJob:this.options.preventSidReuse?void 0:this.model.searchJob,user:this.model.user,dataModel:this.model.dataModel}}),this.children.success.on("addToDashboardPanel",function(){this.stepViewStack.setSelectedView(this.children.createDashboardPanel)},this),this.on("hidden",function(){this.trigger("action:flowExited",!this.model.dataModel.isTemporary()&&this.model.inmem.isNew(),this.model.inmem.entry.content.get("search"))},this))}},{apiDependencies:{report:PivotReport,application:Application,user:User,dataModel:DataModel,pivotSearch:PivotSearch,searchJob:Job}});return DeclarativeDependencies(CreateReportDialog)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/CreateReportAndDataModel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/datamodel/CreateDataModel"),__webpack_require__("views/shared/reportcontrols/dialogs/createreport/Create"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/pivot/dialogs/components/DataModelNameControls"),__webpack_require__("util/pivot/pivot_dialog_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,PivotSearch,CreateDataModel,Create,Modal,DataModelNameControls,pivotDialogUtils){return Create.extend({moduleId:module.id,initialize:function(){Create.prototype.initialize.apply(this,arguments),this.model.inmemDataModel=this.model.dataModel.clone(),pivotDialogUtils.prepareInmemDataModel(this.model.inmemDataModel),this.model.pivotSearch=new PivotSearch,this.model.createDataModel=new CreateDataModel,this.children.flashMessage.flashMsgHelper.register(this.model.inmemDataModel),this.children.flashMessage.flashMsgHelper.register(this.model.pivotSearch),this.children.flashMessage.flashMsgHelper.register(this.model.createDataModel),this.children.dataModelNameControls=new DataModelNameControls({model:{createDataModel:this.model.createDataModel}})},submit:function(){if(this.model.createDataModel.isValid(!0))if(this.model.dataModel.isTemporary()){this.model.inmemDataModel.entry.content.set(this.model.createDataModel.pick("modelName","displayName"));var dataModelSave=pivotDialogUtils.saveDataModel(this.model.dataModel,this.model.inmemDataModel,this.model.pivotSearch,this.model.inmem,this.model.application.pick("app","owner"));dataModelSave.done(_(function(){this.children.dataModelNameControls.disable(),Create.prototype.submit.call(this)}).bind(this))}else Create.prototype.submit.call(this)},render:function(){Create.prototype.render.apply(this,arguments);var $bodyForm=this.$(Modal.BODY_FORM_SELECTOR);return $bodyForm.append(_(this.extraFormTemplate).template({})),this.children.dataModelNameControls.render().appendTo($bodyForm),this},extraFormTemplate:'\t            <hr />\t            <div class="save-data-model-message">\t                <%- _("You must save the original search as a data model. This will power the report.").t() %>\t            </div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/DataModelNameControls":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("util/datamodel/form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ControlGroup,TextControl,PairedTextControls,dataModelFormUtils){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.modelDisplayNameControl=new TextControl({model:this.model.createDataModel,modelAttribute:"displayName"}),this.children.modelDisplayNameGroup=new ControlGroup({label:_("Model Title").t(),controlType:"Text",controlClass:"controls-block",controls:this.children.modelDisplayNameControl}),this.children.modelNameControl=new TextControl({model:this.model.createDataModel,modelAttribute:"modelName"}),this.children.modelNameGroup=new ControlGroup({label:_("Model ID").t(),controlType:"Text",controlClass:"controls-block",controls:this.children.modelNameControl,tooltip:_("The ID is used as the filename on disk. Cannot be changed later.").t(),help:_("Can only contain letters, numbers and underscores.").t()}),this.children.pairedControlsDelegate=new PairedTextControls({sourceDelegate:this.children.modelDisplayNameControl,destDelegate:this.children.modelNameControl,transformFunction:dataModelFormUtils.normalizeForID})},render:function(){return this.children.modelDisplayNameGroup.render().appendTo(this.el),this.children.modelNameGroup.render().appendTo(this.el),this},disable:function(){this.children.modelDisplayNameControl.disable(),this.children.modelNameControl.disable()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/pivot/pivot_dialog_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(_){var prepareInmemDataModel=function(dataModel){dataModel.unset(dataModel.idAttribute);var content=dataModel.entry.content;content.unset("displayName"),content.unset("modelName")},saveDataModel=function(dataModel,inmemDataModel,pivotSearch,report,appOwner){var inmemDataModelContent=inmemDataModel.entry.content;return inmemDataModelContent.set({name:inmemDataModelContent.get("modelName")}),inmemDataModel.save({},{data:appOwner}).then(function(){dataModel.setFromSplunkD(inmemDataModel.toSplunkD()),dataModel.unset("sid");var reportContent=report.entry.content,modelId=inmemDataModel.id,pivotJson=report.getPivotJSON();pivotJson.dataModel=_(modelId.split("/")).last();var indexTimeFilter=_(pivotJson.filters).findWhere({fieldName:"_time",type:"timestamp"});indexTimeFilter&&(pivotJson.filters=_(pivotJson.filters).without(indexTimeFilter)),pivotSearch.clear(),pivotSearch.set({pivotJson:JSON.stringify(pivotJson)});var fetchData=_.extend({dataModel:modelId},appOwner);return pivotSearch.fetch({data:fetchData}).then(function(){reportContent.set({search:pivotSearch.get("pivotSearch")})})})};return{prepareInmemDataModel:prepareInmemDataModel,saveDataModel:saveDataModel}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/ReportAndDataModelSuccess":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/reportcontrols/dialogs/createreport/Success"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Success,Modal,route){return Success.extend({moduleId:module.id,initialize:function(){Success.prototype.initialize.apply(this,arguments),this.listenTo(this.model.dataModel,"change:"+this.model.dataModel.idAttribute,this.render)},render:function(){Success.prototype.render.apply(this,arguments);var dataModelEditorUrl=_(function(qsArgs){return qsArgs=_.extend({model:this.model.dataModel.id},qsArgs),route.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:qsArgs})}).bind(this);return this.$(Modal.BODY_SELECTOR).append(_(this.extraBodyTemplate).template({user:this.model.user,dataModel:this.model.dataModel,editObjectsHref:dataModelEditorUrl(),editAccelerationHref:dataModelEditorUrl({dialog:"acceleration"}),editPermissionsHref:dataModelEditorUrl({dialog:"permissions"})})),this},extraBodyTemplate:'\t            <p class="additional-settings">\t                <%- _("Data Model Settings:").t() %>\t                <ul>\t                    <li><a href="<%- editObjectsHref %>"><%- _("Edit Datasets").t() %></a></li>\t                    <% if(user.canAccelerateDataModel() && dataModel.canAccelerate()) { %>\t                        <li><a href="<%- editAccelerationHref %>"><%- _("Acceleration").t() %></a></li>\t                    <% } %>\t                    <% if(dataModel.canChangePermissions()) { %>\t                        <li><a href="<%- editPermissionsHref %>"><%- _("Permissions").t() %></a></li>\t                    <% } %>\t                <ul>\t            </p>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/CreateDashboardPanelDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/search/Job"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Master"),__webpack_require__("views/pivot/dialogs/components/CreateDashboardPanelAndDataModel"),__webpack_require__("views/pivot/dialogs/components/DashboardPanelAndDataModelSuccess")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,Application,User,Job,PivotReport,PivotSearch,ServerInfo,DataModel,DeclarativeDependencies,DashboardpanelMaster,CreateDashboardPanelAndDataModel,DashboardPanelAndDataModelSuccess){var CreateDashboardPanelDialog=DashboardpanelMaster.extend({moduleId:module.id,initialize:function(){this.options.chooseVisualizationType=!1,DashboardpanelMaster.prototype.initialize.apply(this,arguments),this.model.dataModel.isTemporary()&&(this.children.create=new CreateDashboardPanelAndDataModel({apiResources:this.apiResources.create,model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.inmem},chooseVisualizationType:!1}),this.children.success=new DashboardPanelAndDataModelSuccess({apiResources:this.apiResources.success,model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.inmem}}),this.on("hidden",function(){this.trigger("action:flowExited",!this.model.dataModel.isTemporary(),this.model.report.entry.content.get("search"))},this))}},{apiDependencies:{report:PivotReport,dataModel:DataModel,application:Application,searchJob:Job,user:User,serverInfo:ServerInfo,create:CreateDashboardPanelAndDataModel,success:DashboardPanelAndDataModelSuccess}});return DeclarativeDependencies(CreateDashboardPanelDialog)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/CreateDashboardPanelAndDataModel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/search/Job"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/datamodel/CreateDataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Create"),__webpack_require__("views/pivot/dialogs/components/DataModelNameControls"),__webpack_require__("util/pivot/pivot_dialog_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Application,User,Job,PivotReport,PivotSearch,DataModel,CreateDataModel,DeclarativeDependencies,Modal,Create,DataModelNameControls,pivotDialogUtils){var CreateDashboardPanelAndDataModel=Create.extend({moduleId:module.id,initialize:function(){Create.prototype.initialize.apply(this,arguments),this.model.inmemDataModel=this.model.dataModel.clone(),pivotDialogUtils.prepareInmemDataModel(this.model.inmemDataModel),this.model.pivotSearch=new PivotSearch,this.model.createDataModel=new CreateDataModel,this.children.flashMessage.flashMsgHelper.register(this.model.inmemDataModel),this.children.flashMessage.flashMsgHelper.register(this.model.pivotSearch),this.children.flashMessage.flashMsgHelper.register(this.model.createDataModel),this.children.dataModelNameControls=new DataModelNameControls({model:{createDataModel:this.model.createDataModel}})},submit:function(){if(this.model.createDataModel.isValid(!0))if(this.model.dataModel.isTemporary()){this.model.inmemDataModel.entry.content.set(this.model.createDataModel.pick("modelName","displayName"));var dataModelSave=pivotDialogUtils.saveDataModel(this.model.dataModel,this.model.inmemDataModel,this.model.pivotSearch,this.model.report,this.model.application.pick("app","owner"));dataModelSave.done(_(function(){this.children.dataModelNameControls.disable(),Create.prototype.submit.call(this)}).bind(this))}else Create.prototype.submit.call(this)},render:function(){Create.prototype.render.apply(this,arguments);var $bodyForm=this.$(Modal.BODY_FORM_SELECTOR);return $bodyForm.append(_(this.extraFormTemplate).template({})),this.children.dataModelNameControls.render().appendTo($bodyForm),this},extraFormTemplate:'\t            <hr />\t            <div class="save-data-model-message">\t                <%- _("You must save the original search as a data model. This will power the Dashboard Panel.").t() %>\t            </div>\t        '},{apiDependencies:{report:PivotReport,application:Application,searchJob:Job,user:User,dataModel:DataModel}});return DeclarativeDependencies(CreateDashboardPanelAndDataModel)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/DashboardPanelAndDataModelSuccess":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Success"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Application,DataModel,Modal,Success,DeclarativeDependencies,route,splunkUtils){var DashboardPanelAndDataModelSuccess=Success.extend({moduleId:module.id,initialize:function(){Success.prototype.initialize.apply(this,arguments),this.listenTo(this.model.dataModel,"change:"+this.model.dataModel.idAttribute,this.render)},render:function(){Success.prototype.render.apply(this,arguments);var dataModelDisplayName=this.model.dataModel.entry.content.get("displayName"),dataModelEditorUrl=route.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{model:this.model.dataModel.id}});return this.$(Modal.BODY_SELECTOR).append(_(this.extraBodyTemplate).template({dataModelSuccessMessage:splunkUtils.sprintf("The data model, %s, has also been created.",'<a href="'+dataModelEditorUrl+'">'+dataModelDisplayName+"</a>")})),this},extraBodyTemplate:'\t            <p class="data-model-success-message">\t                <%= dataModelSuccessMessage %>\t            </p>\t        '},{apiDependencies:{application:Application,dataModel:DataModel}});return DeclarativeDependencies(DashboardPanelAndDataModelSuccess)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/SaveDataModelDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/MultiStepModal"),__webpack_require__("views/pivot/dialogs/components/SaveDataModel"),__webpack_require__("views/pivot/dialogs/components/DataModelSuccess")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,PivotReport,DataModel,DeclarativeDependencies,MultiStepModal,SaveDataModel,DataModelSuccess){var SaveDataModelDialog=MultiStepModal.extend({moduleId:module.id,initialize:function(){MultiStepModal.prototype.initialize.apply(this,arguments),this.children.save=new SaveDataModel({apiResources:this.apiResources.save}),this.children.success=new DataModelSuccess({apiResources:this.apiResources.success}),this.listenTo(this.children.save,"saveSuccess",function(){this.stepViewStack.setSelectedView(this.children.success)}),this.on("hidden",function(){this.trigger("action:flowExited",!this.model.dataModel.isTemporary(),this.model.report.entry.content.get("search"))},this)},getStepViews:function(){return[this.children.save,this.children.success]}},{apiDependencies:{report:PivotReport,dataModel:DataModel,save:SaveDataModel,success:DataModelSuccess}});return DeclarativeDependencies(SaveDataModelDialog)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/SaveDataModel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/PivotSearch"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/datamodel/CreateDataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/pivot/dialogs/components/DataModelNameControls"),__webpack_require__("util/pivot/pivot_dialog_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Application,PivotReport,PivotSearch,DataModel,CreateDataModel,DeclarativeDependencies,BaseView,Modal,FlashMessages,DataModelNameControls,pivotDialogUtils){var SaveDataModel=BaseView.extend({moduleId:module.id,events:{"click .modal-btn-primary":function(e){e.preventDefault(),this.submit()}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.inmemDataModel=this.model.dataModel.clone(),pivotDialogUtils.prepareInmemDataModel(this.model.inmemDataModel),this.model.pivotSearch=new PivotSearch,this.model.createDataModel=new CreateDataModel,this.children.flashMessages=new FlashMessages({model:{inmemDataModel:this.model.inmemDataModel,pivotSearch:this.model.pivotSearch,createDataModel:this.model.createDataModel}}),this.children.dataModelNameControls=new DataModelNameControls({model:{createDataModel:this.model.createDataModel}})},submit:function(){if(this.model.createDataModel.isValid(!0)){this.model.inmemDataModel.entry.content.set(this.model.createDataModel.pick("modelName","displayName"));var dataModelSave=pivotDialogUtils.saveDataModel(this.model.dataModel,this.model.inmemDataModel,this.model.pivotSearch,this.model.report,this.model.application.pick("app","owner"));dataModelSave.done(_(this.trigger).bind(this,"saveSuccess"))}},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Save Data Model").t());var $modalBody=this.$(Modal.BODY_SELECTOR);return this.children.flashMessages.render().appendTo($modalBody),$modalBody.append(Modal.FORM_HORIZONTAL),this.children.dataModelNameControls.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}},{apiDependencies:{dataModel:DataModel,report:PivotReport,application:Application}});return DeclarativeDependencies(SaveDataModel)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/components/DataModelSuccess":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Application"),__webpack_require__("models/shared/User"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Application,User,DataModel,DeclarativeDependencies,BaseView,Modal,route){var DataModelSuccess=BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.listenTo(this.model.dataModel,"change:"+this.model.dataModel.idAttribute,this.render)},render:function(){var dataModelEditorUrl=_(function(qsArgs){return qsArgs=_.extend({model:this.model.dataModel.id},qsArgs),route.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:qsArgs})}).bind(this);return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Your Data Model Has Been Saved").t()),this.$(Modal.BODY_SELECTOR).append(this.compiledTemplate({canChangePermissions:this.model.dataModel.canChangePermissions(),canAccelerate:this.model.user.canAccelerateDataModel()&&this.model.dataModel.canAccelerate(),editAccelerationHref:dataModelEditorUrl({dialog:"acceleration"}),editPermissionsHref:dataModelEditorUrl({dialog:"permissions"})})),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn pull-left" data-dismiss="modal">'+_("Continue").t()+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="'+dataModelEditorUrl()+'" class="btn btn-primary modal-btn-primary">'+_("Edit Data Model").t()+"</a>"),this},template:'\t            <p>\t                <%- _("You may now edit your Data Model, or continue with your Pivot.").t() %>\t            </p>\t            <% if(canAccelerate || canChangePermissions) { %>\t                <p>\t                    <%- _("Additional Settings:").t() %>\t                    <ul>\t                        <% if(canAccelerate) { %>\t                            <li><a href="<%- editAccelerationHref %>"><%- _("Acceleration").t() %></a></li>\t                        <% } %>\t                        <% if(canChangePermissions) { %>\t                            <li><a href="<%- editPermissionsHref %>"><%- _("Permissions").t() %></a></li>\t                        <% } %>\t                    <ul>\t                </p>\t            <% } %>\t        '},{apiDependencies:{dataModel:DataModel,user:User,application:Application}});return DeclarativeDependencies(DataModelSuccess)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/savereport/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/search/Dashboard"),__webpack_require__("models/search/Report"),__webpack_require__("views/shared/MultiStepModal"),__webpack_require__("views/shared/reportcontrols/dialogs/savereport/Save"),__webpack_require__("views/shared/reportcontrols/dialogs/savereport/Success"),__webpack_require__("views/shared/alertcontrols/dialogs/shared/SuccessWithAdditionalSettings"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Create"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Success"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone,module,DashboardModel,ReportModel,MultiStepModal,Save,ReportSuccess,AlertSuccess,CreateDashboardPanel,SuccessDashboardPanel,SplunkUtil){return MultiStepModal.extend({moduleId:module.id,initialize:function(){MultiStepModal.prototype.initialize.apply(this,arguments);var saveTitle,chooseVisualizationType=!this.options.hasOwnProperty("chooseVisualizationType")||this.options.chooseVisualizationType;this.reportType=this.model.reportPristine.isAlert()?ReportModel.DOCUMENT_TYPES.ALERT:ReportModel.DOCUMENT_TYPES.REPORT,this.model.inmem=this.model.report.clone(),this.reportType===ReportModel.DOCUMENT_TYPES.REPORT?("search"===this.model.application.get("page")&&this.model.inmem.entry.content.get("auto_summarize")&&this.model.inmem.setAccelerationWarning(this.model.searchJob.canSummarize()&&!this.model.inmem.isSampled(),this.model.reportPristine),saveTitle=_("Save Report").t(),this.model.dashboardToSave=new DashboardModel,this.model.dashboardInmem=new Backbone.Model({dashPerm:"private",panelContent:"table",dashCreateType:"new",panelInline:!1}),this.children.success=new ReportSuccess({model:{application:this.model.application,inmem:this.model.inmem,searchJob:this.options.preventSidReuse?void 0:this.model.searchJob,user:this.model.user}}),this.children.createDashboardPanel=new CreateDashboardPanel({model:{report:this.model.inmem,application:this.model.application,dashboardToSave:this.model.dashboardToSave,searchJob:this.model.searchJob,inmem:this.model.dashboardInmem,user:this.model.user},chooseVisualizationType:chooseVisualizationType}),this.children.successDashboardPanel=new SuccessDashboardPanel({model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.dashboardInmem,application:this.model.application}}),this.model.dashboardInmem.on("createSuccess",function(){this.stepViewStack.setSelectedView(this.children.successDashboardPanel),this.children.successDashboardPanel.focus()},this),this.children.success.on("addToDashboardPanel",function(){this.stepViewStack.setSelectedView(this.children.createDashboardPanel)},this)):(saveTitle=_("Save Alert").t(),this.children.success=new AlertSuccess({model:{application:this.model.application,alert:this.model.inmem,user:this.model.user}})),this.children.save=new Save({model:{reportPristine:this.model.reportPristine,application:this.model.application,inmem:this.model.inmem,searchJob:this.model.searchJob},chooseVisualizationType:chooseVisualizationType,title:saveTitle}),this.model.inmem.on("saveSuccess",function(){this.stepViewStack.setSelectedView(this.children.success),this.children.success.focus()},this),this.on("hidden",function(){this.model.inmem.get("updated")>this.model.report.get("updated")&&(this.model.report.entry.content.set({"display.visualizations.show":this.model.inmem.entry.content.get("display.visualizations.show"),"display.statistics.show":this.model.inmem.entry.content.get("display.statistics.show"),"display.page.pivot.dataModel":this.model.inmem.entry.content.get("display.page.pivot.dataModel"),"request.ui_dispatch_view":this.model.inmem.entry.content.get("request.ui_dispatch_view")}),this.model.reportPristine.setFromSplunkD(this.model.report.toSplunkD()),this.model.report.trigger("sync",this.model.report,null))},this)},getStepViews:function(){var stepViews=[this.children.save,this.children.success];return this.reportType===ReportModel.DOCUMENT_TYPES.REPORT&&stepViews.push(this.children.createDashboardPanel,this.children.successDashboardPanel),
stepViews}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/savereport/Save":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/reportcontrols/dialogs/shared/ReportVisualizationControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,ControlGroup,FlashMessage,Modal,ReportVisualizationControlGroup){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments),this.model.inmem.setTimeRangeWarnings(this.model.reportPristine),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.title=new ControlGroup({label:_("Title").t(),controlType:"Label",controlOptions:{model:this.model.inmem.entry,modelAttribute:"name"}}),this.children.visualization=new ReportVisualizationControlGroup({model:{report:this.model.inmem,searchJob:this.model.searchJob}}),this.children.timeRangePickerToggle=new ControlGroup({label:_("Time Range Picker").t(),controlType:"SyntheticRadio",controlOptions:{className:"btn-group btn-group-2",items:[{value:"1",label:_("Yes").t()},{value:"0",label:_("No").t()}],model:this.model.inmem.entry.content,modelAttribute:"display.general.timeRangePicker.show"}})},events:{"click .modal-btn-primary":function(e){this.model.inmem.entry.content.set({"request.ui_dispatch_view":this.model.application.get("page")}),this.model.inmem.setVizType(),this.model.inmem.save({},{success:function(model,response){this.model.inmem.trigger("saveSuccess")}.bind(this)}),e.preventDefault()}},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(this.options.title),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.title.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.model.reportPristine.isAlert()||(this.options.chooseVisualizationType&&(this.model.searchJob.isReportSearch()||(this.model.inmem.entry.content.set({"display.statistics.show":"1"}),this.model.inmem.entry.content.set({"display.visualizations.show":"0"})),this.children.visualization.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR))),this.model.reportPristine.entry.content.get("is_scheduled")||this.children.timeRangePickerToggle.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR))),this.model.inmem.setInmemVizType(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/savereport/Success":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route"),__webpack_require__("util/time")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,Modal,route,time_utils){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments)},events:{"click .createDashboard":function(e){this.trigger("addToDashboardPanel"),e.preventDefault()},"click .routeToReport":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:this.getData()}),e.preventDefault()},"click .routeToPermissions":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:$.extend(this.getData(),{dialog:"permissions"})}),e.preventDefault()},"click .routeToSchedule":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:$.extend(this.getData(),{dialog:"schedule"})}),e.preventDefault()},"click .routeToAccleration":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:$.extend(this.getData(),{dialog:"acceleration"})}),e.preventDefault()},"click .routeToEmbed":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:$.extend(this.getData(),{dialog:"embed"})}),e.preventDefault()}},getData:function(){var data={s:this.model.inmem.id};return this.model.searchJob&&(data.sid=this.model.searchJob.id),data},render:function(){var canChangePerms=this.model.inmem.entry.acl.get("can_change_perms"),canScheduleSearch=this.model.user.canScheduleSearch(),canAccelerateReport=this.model.user.canAccelerateReport(),isRealTimeSearch=this.model.inmem.isRealTime(),canEmbed=this.model.user.canEmbed(),isPivot=this.model.inmem.isPivotReport();return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Your Report Has Been Saved").t()),this.$(Modal.BODY_SELECTOR).html(this.compiledTemplate({_:_,model:this.model.inmem,isRealTimeSearch:isRealTimeSearch,canChangePerms:canChangePerms,canScheduleSearch:canScheduleSearch,canAccelerateReport:canAccelerateReport,canEmbed:canEmbed,isPivot:isPivot})),canChangePerms||canScheduleSearch&&(!isRealTimeSearch||!isPivot)?this.$("span.save-report-success-message").text(_("You may now view your report, add it to a dashboard, change additional settings, or continue editing it.").t()):(this.$("span.save-report-success-message").text(_("You may now view your report, add it to a dashboard, or continue editing it.").t()),this.$("p.additional-settings").remove()),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CONTINUE),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn createDashboard">'+_("Add to Dashboard").t()+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="#"class="btn btn-primary modal-btn-primary routeToReport">'+_("View").t()+"</a>"),this},focus:function(){this.$(".btn-primary").focus()},template:'\t                <p>\t                    <span class="save-report-success-message"></span>\t                </p>\t                <p class="additional-settings">\t                    <%- _("Additional Settings:").t() %>\t                    <ul>\t                        <% if (canChangePerms) { %>\t                            <li><a href ="#" class="routeToPermissions"><%- _("Permissions").t() %></a></li>\t                        <% } %>\t                        <% if (!isRealTimeSearch && canScheduleSearch) { %>\t                            <li><a href ="#" class="routeToSchedule"><%- _("Schedule").t() %></a></li>\t                        <% } %>\t                        <% if (!isPivot && canAccelerateReport) { %>\t                            <li><a href ="#" class="routeToAccleration"><%- _("Acceleration").t() %></a></li>\t                        <% } %>\t                        <% if (!isRealTimeSearch && canScheduleSearch && canEmbed) { %>\t                            <li><a href="#" class="routeToEmbed"><%- _("Embed").t() %></a></li>\t                        <% } %>\t                    <ul>\t                </p>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/dialogs/SharePivotDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,DeclarativeDependencies,Modal,ControlGroup){var SharePivotDialog=Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.$el.addClass("share-pivot-dialog"),this.children.bookmark=new ControlGroup({label:_("Link To Pivot").t(),controlType:"Text",help:_("Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t(),controlOptions:{defaultValue:this.options.shareLink,append:_(this.bookmarkButtonTemplate).template({shareLink:this.options.shareLink})}})},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Share Pivot").t()),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.bookmark.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.BODY_SELECTOR).prepend(this.compiledTemplate({}))},template:'\t            <p>\t                <%- _("Share your pivot with this link. The job will run again with any relative times. This result set and job will not be shared.").t() %>\t            </p>\t        ',bookmarkButtonTemplate:'\t            <a class="add-on bookmark" href="<%- shareLink %>">\t                <i class="icon-bookmark"></i>\t                <span class="hide-text"><%- _("Splunk Pivot Report").t() %></span>\t            </a>\t        '},{apiDependencies:{}});return DeclarativeDependencies(SharePivotDialog)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/errors/ErrorDisplay":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/pivot/errors/ErrorPayload"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ErrorPayload,BaseView,FlashMessages,route,splunkdUtils,splunkUtils){return BaseView.extend({moduleId:module.id,className:"load-failure-messages",initialize:function(){this.children.flashMessages=new FlashMessages,this.errorPayload=this.options.errorPayload,this.urlRouter=route.getContextualPageRouter(this.model.application);var messages=this._parseErrorMessages(this.errorPayload.type,this.errorPayload.metadata);messages=_.isArray(messages)?messages:[messages],_(messages).each(function(message){this.children.flashMessages.flashMsgHelper.addGeneralMessage(_.uniqueId("pivot-load-error"),message)},this),this.links=this._createLinks(this.errorPayload.type,this.errorPayload.metadata),this.links=_.isArray(this.links)?this.links:[this.links]},render:function(){return this.children.flashMessages.render().appendTo(this.el),this.$el.append(this.compiledTemplate({links:this.links})),this},template:'\t            <div class="links-holder">\t                <% _(links).each(function(link) { %>\t                    <a href="<%- link.href %>"><%- link.text %></a>\t                <% }) %>\t            </div>\t        ',_parseErrorMessages:function(errorType,errorMetadata){return errorType===ErrorPayload.TYPES.STRING?{type:splunkdUtils.ERROR,html:_.escape(errorMetadata.messageText)}:errorType===ErrorPayload.TYPES.RAW?_(errorMetadata.messages).chain().filter(function(message){return message.type===splunkdUtils.ERROR||message.type===splunkdUtils.FATAL}).map(function(message){return{type:message.type,html:_.escape(message.text)}}).value():errorType===ErrorPayload.TYPES.DATA_MODEL?{type:splunkdUtils.ERROR,html:splunkUtils.sprintf(_("Your pivot cannot complete because the following supporting data model does not exist or is not shared globally to all apps: %s.").t(),_.escape(errorMetadata.dataModel.id))}:errorType===ErrorPayload.TYPES.SEED_SID?{type:splunkdUtils.ERROR,html:splunkUtils.sprintf(_("Your pivot cannot complete because a dataset could not be generated from the search job with id: %s.").t(),_.escape(errorMetadata.seedSid))}:errorType===ErrorPayload.TYPES.OBJECT?{type:splunkdUtils.ERROR,html:splunkUtils.sprintf(_("Your pivot cannot complete because the %s dataset does not exist in the data model.").t(),_.escape(errorMetadata.objectName))}:errorType===ErrorPayload.TYPES.REPORT?{type:splunkdUtils.ERROR,html:splunkUtils.sprintf(_("Your pivot cannot complete because the %s report either does not exist or does not have the correct permissions.").t(),_.escape(errorMetadata.report.id))}:errorType===ErrorPayload.TYPES.PIVOT_SEARCH?{type:splunkdUtils.ERROR,html:_("Your pivot cannot complete because the search string could not be parsed into a valid pivot configuration.").t()}:errorType===ErrorPayload.TYPES.DATASET?{type:splunkdUtils.ERROR,html:splunkUtils.sprintf(_("Your pivot cannot complete because the following dataset does not exist or is not shared globally to all apps: %s.").t(),_.escape(splunkUtils.searchUnescape(errorMetadata.datasetName)))}:void 0},_createLinks:function(errorType,errorMetadata){if(errorType===ErrorPayload.TYPES.DATA_MODEL)return[{text:_("Select New Dataset").t(),href:this.urlRouter.datasets()},{text:_("Manage Data Models").t(),href:this.urlRouter.data_model_manager()}];if(errorType===ErrorPayload.TYPES.SEED_SID)return{text:_("Return to Search").t(),href:this.urlRouter.search({data:{sid:errorMetadata.seedSid}})};if(errorType===ErrorPayload.TYPES.OBJECT){var dataModelId=errorMetadata.dataModel.id;return[{text:_("View Data Model").t(),href:this.urlRouter.pivot({data:{model:dataModelId}})},{text:_("Select New Dataset").t(),href:this.urlRouter.datasets()},{text:_("Edit Datasets").t(),href:this.urlRouter.data_model_editor({data:{model:dataModelId}})}]}if(errorType===ErrorPayload.TYPES.REPORT)return{text:_("Manage Reports").t(),href:this.urlRouter.reports()};if(errorType===ErrorPayload.TYPES.PIVOT_SEARCH){var reportContent=errorMetadata.report.entry.content,latestTime=reportContent.get("dispatch.latest_time"),searchParams={q:reportContent.get("search"),earliest:reportContent.get("dispatch.earliest_time")||0};latestTime&&(searchParams.latest=latestTime);var links=[{text:_("Open In Search").t(),href:this.urlRouter.search({data:searchParams})}];return errorMetadata.dataModelId&&links.push({text:_("View Data Model").t(),href:this.urlRouter.pivot({data:{model:errorMetadata.dataModelId}})}),links.push({text:_("Select New Dataset").t(),href:this.urlRouter.datasets()}),links}return errorType===ErrorPayload.TYPES.DATASET?{text:_("Select New Dataset").t(),href:this.urlRouter.datasets()}:[]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/pivot/errors/ErrorPayload":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(splunkdUtils){var ErrorPayload=function(type,metadata){this.type=type,this.metadata=metadata||{}};return ErrorPayload.TYPES={STRING:"string-error",RAW:"raw-error",DATA_MODEL:"data-model-error",OBJECT:"object-error",REPORT:"report-error",URL:"url-error",COLLECT_JOB:"collect-job-error",PIVOT_SEARCH:"pivot-search-error",SEED_SID:"seed-sid-error",DATASET:"dataset-error"},ErrorPayload.fromRawResponse=function(response){var messages=splunkdUtils.xhrErrorResponseParser(response);return new ErrorPayload(ErrorPayload.TYPES.RAW,{messages:messages})},ErrorPayload.fromString=function(messageText){return new ErrorPayload(ErrorPayload.TYPES.STRING,{messageText:messageText})},ErrorPayload}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"helpers/pivot/ReportHistoryManager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("helpers/pivot/PivotVisualizationManager"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("util/pivot/config_form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,pivotVizManager,PivotReport,configFormUtils){var ReportHistoryManager=function(){this.reportConfigHistory={},this.vizDefaults={shared:{"display.visualizations.charting.chart.stackMode":"default","display.visualizations.charting.legend.placement":"right","display.visualizations.charting.axisTitleY.text":""},area:{"display.visualizations.charting.chart.stackMode":"stacked"},overrides:{}},this.lastAppliedVizUpdates={}};return $.extend(ReportHistoryManager.prototype,{register:function(report){var reportContent=report.entry.content,vizDefaults=$.extend(!0,{},this.getVizSpecificReportDefaults(report),this.lastAppliedVizUpdates);_(vizDefaults).each(function(defaultValue,key){var reportValue=reportContent.get(key);reportValue!==defaultValue&&(this.vizDefaults.overrides[key]=reportValue)},this),report.on("reportConfigChange",function(){this.reportChangeListenersUnbound||this.clearHistory()},this),reportContent.on("change",function(){if(!this.reportChangeListenersUnbound){var filteredChanged=report.entry.content.filterChangedByWildcards(["^display.visualizations..*"]);delete filteredChanged["display.visualizations.show"],delete filteredChanged["display.visualizations.type"],delete filteredChanged["display.visualizations.charting.chart"],'["0","30","70","100"]'!==filteredChanged["display.visualizations.charting.chart.rangeValues"]||reportContent.previous("display.visualizations.charting.chart.rangeValues")||delete filteredChanged["display.visualizations.charting.chart.rangeValues"],"[0x84E900,0xFFE800,0xBF3030]"!==filteredChanged["display.visualizations.charting.gaugeColors"]||reportContent.previous("display.visualizations.charting.gaugeColors")||delete filteredChanged["display.visualizations.charting.gaugeColors"],_(filteredChanged).isEmpty()||this.clearHistory(),this.handleReportChange(report)}},this),report.on("visualizationTypeChange",this.handleVizTypeChange,this)},unregister:function(report){report.off(null,null,this),report.entry.content.off(null,null,this),this.vizDefaults.overrides={}},clearHistory:function(){this.reportConfigHistory={}},applyVisualizationUpdates:function(report,options){this.unbindReportChangeListeners();var updates=this.getVizSpecificReportDefaults(report);_(updates).each(function(value,key){report.entry.content.preValidate(key,value)&&delete updates[key]}),this.lastAppliedVizUpdates=updates,report.entry.content.set(updates,options),this.bindReportChangeListeners()},applyConfigUpdates:function(report,availableFields,options){this.unbindReportChangeListeners();var reportContent=report.entry.content,newReportConfig=this.getNewReportConfig(report,availableFields);reportContent.cells.reset(newReportConfig.cells.toArray(),options),reportContent.rows.reset(newReportConfig.rows.toArray(),options),reportContent.columns.reset(newReportConfig.columns.toArray(),options),reportContent.set(newReportConfig.reportLevelAttributes,options),this.bindReportChangeListeners()},getNewReportConfig:function(report,availableFields){availableFields=availableFields||[];var vizType=report.getVisualizationType();return this.hasConfigHistoryForType(vizType)?this.getConfigHistoryByType(vizType):this.getCoercedReportConfig(report,vizType,availableFields)},handleVizTypeChange:function(newType,previousType,report){var previousHistoryKey=this.convertVizTypeToConfigHistoryKey(previousType),newHistoryKey=this.convertVizTypeToConfigHistoryKey(newType),historyKeyHasChanged=newHistoryKey!==previousHistoryKey,content=report.entry.content,historyEntry={reportLevelAttributes:content.filterByWildcards(PivotReport.PIVOT_CONTENT_FILTER,{allowEmpty:!0}),cells:content.cells.clone(),rows:content.rows.clone(),columns:content.columns.clone()};this.previousVizType=previousType,newType===pivotVizManager.SCATTER_CHART&&(this.preScatterRowSort=report.entry.content.get("rowLimitType")),_(this.reportConfigHistory).isEmpty()&&(this.originalConfig=historyEntry),!historyKeyHasChanged&&this.hasConfigHistoryForType(previousHistoryKey)||(this.reportConfigHistory[previousHistoryKey]=historyEntry)},handleReportChange:function(report){var changedAttributes=report.entry.content.changedAttributes(),keysToUpdate=_.intersection(_(changedAttributes).keys(),_(this.vizDefaults.shared).keys());_(keysToUpdate).each(function(key){this.vizDefaults.overrides[key]=changedAttributes[key]},this)},hasConfigHistoryForType:function(vizType){return this.reportConfigHistory.hasOwnProperty(this.convertVizTypeToConfigHistoryKey(vizType))},getConfigHistoryByType:function(vizType){return this.reportConfigHistory[this.convertVizTypeToConfigHistoryKey(vizType)]},getVizSpecificReportDefaults:function(report){var vizType=report.getVisualizationType(),reportContent=report.entry.content,columnSplits=reportContent.columns,cellValues=reportContent.cells,isSimpleCartesian=_(pivotVizManager.SIMPLE_CARTESIAN_TYPES).contains(vizType),defaults=$.extend({},this.vizDefaults.shared,this.vizDefaults[vizType],this.vizDefaults.overrides);return isSimpleCartesian&&0===columnSplits.length?$.extend(defaults,{"display.visualizations.charting.chart.stackMode":"default","display.visualizations.charting.legend.placement":"none"}):isSimpleCartesian&&1===columnSplits.length&&cellValues.length>0&&$.extend(defaults,{"display.visualizations.charting.axisTitleY.text":cellValues.at(0).getComputedLabel()}),defaults},getCoercedReportConfig:function(report,vizType,availableFields){var originalContent,reportContent=report.entry.content,newContent={cells:new reportContent.cells.constructor,rows:new reportContent.rows.constructor,columns:new reportContent.columns.constructor};if(originalContent=this.originalConfig?{cells:this.originalConfig.cells.deepClone(),rows:this.originalConfig.rows.deepClone(),columns:this.originalConfig.columns.deepClone()}:{cells:reportContent.cells.deepClone(),rows:reportContent.rows.deepClone(),columns:reportContent.columns.deepClone()},vizType===pivotVizManager.STATISTICS_TABLE)return originalContent;var vizConfig=pivotVizManager.getConfigByVizType(vizType);newContent.reportLevelAttributes=$.extend({},vizConfig.reportLevelAttributes),this.previousVizType!==pivotVizManager.SCATTER_CHART||newContent.reportLevelAttributes.rowLimitType||(newContent.reportLevelAttributes.rowLimitType=this.preScatterRowSort||"default");var selectByDataTypes=function(collection,allowedDataTypes){return allowedDataTypes?collection.filter(function(element){return _(allowedDataTypes).contains(element.get("type"))},this):collection.toArray()},selectCompatibleElements=function(collection,receiver){var compatibleElements=selectByDataTypes(collection,receiver.dataTypes);return receiver.hasOwnProperty("outputType")&&(compatibleElements=_(compatibleElements).filter(function(element){var elementOutputType=configFormUtils.cellValueToOutputType(element.get("value"),element.get("type"));return elementOutputType===receiver.outputType},this)),compatibleElements},collectionsToProcess={cells:pivotVizManager.CELL_VALUE,rows:pivotVizManager.ROW_SPLIT,columns:pivotVizManager.COLUMN_SPLIT};return _(collectionsToProcess).each(function(type,name){var receivers=this.findReceiversByElementType(vizConfig,type);if(receivers.length>0)if(1===receivers.length){var receiver=receivers[0],compatibleElements=selectCompatibleElements(originalContent[name],receiver);receiver.setAttributes&&_(compatibleElements).invoke("set",receiver.setAttributes,{silent:!0}),newContent[name].reset(compatibleElements.slice(0,receiver.maxLength))}else{if(!_(receivers).all(function(receiver){return _(receiver.elementsSelector).isFunction()}))throw new Error("If multiple receivers are defined each must have its own elementSelector");_(receivers).each(function(receiver){var capturedElements=receiver.elementsSelector(selectCompatibleElements(originalContent[name],receiver));_(capturedElements).each(function(element){receiver.setAttributes&&element.set(receiver.setAttributes,{silent:!0});var addOptions=receiver.newElementHandler?receiver.newElementHandler(element,!0):{};newContent[name].add(element,addOptions)})})}},this),this.autoPopulatePanels(newContent,vizConfig,availableFields),1===newContent.rows.length&&newContent.rows.at(0).get("type")===pivotVizManager.TIMESTAMP&&(newContent.reportLevelAttributes.rowLimitType="default"),newContent},autoPopulatePanels:function(newContent,vizConfig,availableFields){var collectionByType=function(type){return type===pivotVizManager.ROW_SPLIT?newContent.rows:type===pivotVizManager.COLUMN_SPLIT?newContent.columns:newContent.cells};_([pivotVizManager.ROW_SPLIT,pivotVizManager.COLUMN_SPLIT,pivotVizManager.CELL_VALUE]).each(function(elementType){var collection=collectionByType(elementType);if(!(collection.length>0)){var receivers=this.findReceiversByElementType(vizConfig,elementType);if(1===receivers.length&&1===receivers[0].maxLength&&receivers[0].required){var compatibleFields=_(availableFields).filter(function(field){return _(receivers[0].dataTypes).contains(field.type)});1===compatibleFields.length&&(collection.add(compatibleFields[0]),availableFields=_(availableFields).without(compatibleFields[0]))}}},this)},findReceiversByElementType:function(vizConfig,elementType){return _(vizConfig.configMenuPanels).filter(function(panel){return panel.elementType===elementType})},convertVizTypeToConfigHistoryKey:function(vizType){return _(pivotVizManager.BAR_COLUMN_TYPES).contains(vizType)?"barColumn":_(pivotVizManager.LINE_AREA_TYPES).contains(vizType)?"lineArea":_(pivotVizManager.GAUGE_TYPES).contains(vizType)?"gauge":vizType},unbindReportChangeListeners:function(){this.reportChangeListenersUnbound=!0},bindReportChangeListeners:function(){this.reportChangeListenersUnbound=!1}}),ReportHistoryManager}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"pages/pivot.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1120);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/pivot/VisualizationConfigMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/shared/Visualization"),__webpack_require__("models/pivot/PivotReport"),__webpack_require__("models/pivot/datatable/PivotableDataTable"),__webpack_require__("views/extensions/DeclarativeDependencies"),__webpack_require__("views/Base"),__webpack_require__("views/pivot/VisualizationConfigPanel"),__webpack_require__("views/shared/delegates/Concertina"),__webpack_require__("helpers/VisualizationRegistry")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Visualization,PivotReport,PivotableDataTable,DeclarativeDependencies,Base,VisualizationConfigPanel,Concertina,VisualizationRegistry){var VisualizationConfigMenu=Base.extend({moduleId:module.id,className:"concertina",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.model.reportWorking=this.model.report.clone(),this.model.reportWorking.on("reportConfigChange",function(){var reportConfigsAreEqual=function(report1,report2){var content1=report1.entry.content,content2=report2.entry.content;return _.isEqual(content1.filterByWildcards(PivotReport.PIVOT_CONTENT_FILTER,{allowEmpty:!0}),content2.filterByWildcards(PivotReport.PIVOT_CONTENT_FILTER,{allowEmpty:!0}))&&_.isEqual(content1.filters.toJSON(),content2.filters.toJSON())&&_.isEqual(content1.columns.toJSON(),content2.columns.toJSON())&&_.isEqual(content1.rows.toJSON(),content2.rows.toJSON())&&_.isEqual(content1.cells.toJSON(),content2.cells.toJSON())};if(this.model.reportWorking.isValid(!0)&&!reportConfigsAreEqual(this.model.reportWorking,this.model.report)){this.model.report.setFromPivotJSON(this.model.reportWorking.getPivotJSON(),{silent:!0});var workingIndexTimeFilter=this.model.reportWorking.getIndexTimeFilter(),reportIndexTimeFilter=this.model.report.getIndexTimeFilter();workingIndexTimeFilter&&reportIndexTimeFilter&&reportIndexTimeFilter.setTimeRange(workingIndexTimeFilter.timeRange,workingIndexTimeFilter.timePresets),this.model.report.trigger("reportConfigChange")}},this);var vizConfig=VisualizationRegistry.findVisualizationForConfig(this.model.report.entry.content.toJSON());this.model.visualization=Visualization.fromReportContentAndSchema(this.model.reportWorking.entry.content,vizConfig.editorSchema),this.model.visualization.on("change",function(){var displayChanged=this.model.visualization.filterChangedByWildcards(PivotReport.REPORT_FORMAT_FILTER,{allowEmpty:!0});!_.isEmpty(displayChanged)&&this.model.visualization.isValid(!0)&&this.model.report.entry.content.set(this.model.visualization.filterByWildcards(PivotReport.REPORT_FORMAT_FILTER,{allowEmpty:!0}))},this),this.listenTo(this.model.report.entry.content,"change:is_timeseries",function(){this.model.visualization.set("is_timeseries",this.model.report.entry.content.get("is_timeseries"))},this)},render:function(){return this.el.innerHTML||(this.$el.html(this.template),this.children.concertina=new Concertina({el:this.el})),_(this.children).chain().omit("concertina").invoke("remove"),this.children={concertina:this.children.concertina},_(this.options.panels||[]).each(function(panel,i){var availableFields=this.getAvailableFieldsForPanel(panel);if(0!==availableFields.length||!panel.hasOwnProperty("elementType")){var panelViewOptions=this.constructPanelViewOptions(panel,availableFields),child=this.children["panel_"+i]=new VisualizationConfigPanel(_.extend({apiResources:this.apiResources.panel,model:{report:this.model.reportWorking,visualization:this.model.visualization}},panelViewOptions));child.render().appendTo(this.$(".concertina-body"))}},this),this.model.reportWorking.entry.content.validate(),this},disable:function(){this.$disabledScreen=$('<div class="disabled-screen"></div>'),this.$el.append(this.$disabledScreen)},getScrollOffset:function(){return this.$(".concertina-body").scrollTop()},getAvailableFieldsForPanel:function(panel){var reportFields=this.model.dataTable.getFieldList();return panel.hasOwnProperty("dataTypes")&&(reportFields=_(reportFields).filter(function(field){return _(panel.dataTypes).contains(field.type)},this)),reportFields},constructPanelViewOptions:function(panel,availableFields){var panelViewOptions={panel:panel};if(panel.hasOwnProperty("elementType")){var elements=this.model.reportWorking.getElementCollectionByType(panel.elementType).toArray();panel.hasOwnProperty("dataTypes")&&(elements=_(elements).filter(function(element){return _(panel.dataTypes).contains(element.get("type"))})),_.isFunction(panel.isEnabledForAdd)&&(panelViewOptions.prerequisiteToAdd=panel.isEnabledForAdd(elements)),elements=_.isFunction(panel.elementsSelector)?panel.elementsSelector(elements):panel.hasOwnProperty("maxLength")?elements.slice(0,panel.maxLength):elements,panelViewOptions.elements=elements,panelViewOptions.hideFieldPicker=panel.required&&1===availableFields.length}return panelViewOptions},onAddedToDocument:function(){this.children.concertina.reset(),this.options.scrollOffset&&this.$(".concertina-body").scrollTop(this.options.scrollOffset),Base.prototype.onAddedToDocument.call(this)},template:'\t            <div class="concertina-dock-top"></div>\t            <div class="concertina-body popdown-dialog-scroll-parent"></div>\t            <div class="concertina-dock-bottom"></div>\t        '
},{apiDependencies:{report:PivotReport,dataTable:PivotableDataTable,panel:VisualizationConfigPanel}});return DeclarativeDependencies(VisualizationConfigMenu)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});