webpackJsonp([62],{"routers/SearchHeadClustering":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("routers/Base"),__webpack_require__("views/search_head_clustering/PageController")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseRouter,PageController){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.fetchAppLocals=!0,this.fetchServerInfo=!0,this.setPageTitle(_("Manage Search Head Cluster").t()),this.model.controller=new Backbone.Model},page:function(locale,app,page,action){BaseRouter.prototype.page.apply(this,arguments),$.when(this.deferreds.pageViewRendered).done(_(function(){$(".preload").replaceWith(this.pageView.el),this.entityController&&this.entityController.detach(),this.entityController=new PageController({model:this.model,collection:this.collection,router:this}),this.pageView.$(".main-section-body").append(this.entityController.render().el)}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/search_head_clustering/ServiceNotReadyDialog":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_Master=__webpack_require__("views/shared/waitspinner/Master"),_Master2=_interopRequireDefault(_Master),_Modal=__webpack_require__("views/shared/Modal"),_Modal2=_interopRequireDefault(_Modal),_splunk=__webpack_require__("shim/splunk.util"),_splunk2=_interopRequireDefault(_splunk);exports.default=_Modal2.default.extend({moduleId:module.id,initialize:function(options){this.children.spinner=new _Master2.default,this.children.spinner.$el.addClass("pull-right"),this.statusResponse=options.statusResponse,_Modal2.default.prototype.initialize.call(this,options)},render:function(){this.$el.html(_Modal2.default.TEMPLATE),this.$(_Modal2.default.HEADER_TITLE_SELECTOR).html((0,_underscore2.default)("Search Head Clustering Service Not Ready").t());var bodyMessage=_splunk2.default.sprintf("<p> %s </p>",(0,_underscore2.default)("Please wait, the status of your search head cluster is not ready.").t());if(this.$(_Modal2.default.BODY_SELECTOR).append(bodyMessage),this.$(_Modal2.default.BUTTON_CLOSE_SELECTOR).remove(),this.statusResponse){var serviceString=_splunk2.default.sprintf((0,_underscore2.default)("Service ready flag: %s").t(),this.statusResponse.serviceReady),restartString=_splunk2.default.sprintf((0,_underscore2.default)("Rolling restart in progress: %s").t(),this.statusResponse.serviceReady);this.$(_Modal2.default.BODY_SELECTOR).append("<p>"+serviceString+"</p>"),this.$(_Modal2.default.BODY_SELECTOR).append("<p>"+restartString+"</p>")}return this.$(_Modal2.default.FOOTER_SELECTOR).append(this.children.spinner.render().el),this.children.spinner.start(),this.children.spinner.$el.show(),this}}),module.exports=exports.default},"collections/services/cluster/searchhead/Members":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function poll(fn,interval){function checkCondition(resolve,reject){var result=fn();result?resolve(result):setTimeout(checkCondition,interval,resolve,reject)}return new Promise(checkCondition)}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_backbone=__webpack_require__("require/backbone"),_backbone2=_interopRequireDefault(_backbone),_Member=__webpack_require__("models/services/cluster/searchhead/Member"),_Member2=_interopRequireDefault(_Member),_SplunkDsBase=__webpack_require__("collections/SplunkDsBase"),_SplunkDsBase2=_interopRequireDefault(_SplunkDsBase),_SplunkDBase=__webpack_require__("models/SplunkDBase"),_SplunkDBase2=_interopRequireDefault(_SplunkDBase),_SHClusterStatus=__webpack_require__("models/services/shcluster/SHClusterStatus"),_SHClusterStatus2=_interopRequireDefault(_SHClusterStatus),_splunkd_utils=__webpack_require__("util/splunkd_utils"),_splunkd_utils2=_interopRequireDefault(_splunkd_utils),POLLING_FREQUENCY=1e4,RollingRestartModel=_SplunkDBase2.default.extend({url:_splunkd_utils2.default.fullpath("shcluster/captain/control/control/restart"),service_ready_flag:!0,rolling_restart_flag:!1,sync:function(method,model,options){var defaults={};if("create"!==method&&"update"!==method)throw new Error("invalid method: "+method);return defaults.data={output_mode:options.output_mode},defaults.processData=!0,_jquery2.default.extend(!0,defaults,options),_backbone2.default.sync.call(null,method,model,defaults)},pollRollingRestartReady:function(){var _this=this,SHClusterStatusInstance=new _SHClusterStatus2.default;return this.service_ready_flag=!1,poll(function(){return SHClusterStatusInstance.fetch().done(function(response){_this.service_ready_flag=response.entry[0].content.captain.service_ready_flag,_this.rolling_restart_flag=response.entry[0].content.captain.rolling_restart_flag}),_this.service_ready_flag&&!_this.rolling_restart_flag},POLLING_FREQUENCY)}}),CaptainModel=_SplunkDBase2.default.extend({url:_splunkd_utils2.default.fullpath("shcluster/member/consensus/foo/transfer_captaincy"),service_ready_flag:!0,sync:function(method,model,options){var defaults={};if("create"!==method&&"update"!==method)throw new Error("invalid method: "+method);if(!options.mgmt_uri)throw new Error("mgmt_uri is required.");return defaults.data={mgmt_uri:options.mgmt_uri,output_mode:options.output_mode},defaults.processData=!0,_jquery2.default.extend(!0,defaults,options),_backbone2.default.sync.call(null,method,model,defaults)},pollServiceReady:function(){var _this2=this,SHClusterStatusInstance=new _SHClusterStatus2.default;return this.service_ready_flag=!1,poll(function(){return SHClusterStatusInstance.fetch().done(function(response){response.entry[0].content.captain.service_ready_flag&&(_this2.service_ready_flag=!0)}),_this2.service_ready_flag},POLLING_FREQUENCY)}});exports.default=_SplunkDsBase2.default.extend({url:"shcluster/member/members",model:_Member2.default,initialize:function(){this.model=this.model||{},this.model.captainInstance=new CaptainModel,this.model.rollingRestartInstance=new RollingRestartModel;for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_SplunkDsBase2.default.prototype.initialize.apply(this,args),this.listenTo(this.model.captainInstance,"serverValidated",this.handleValidationError),this.listenTo(this.model.rollingRestartInstance,"serverValidated",this.handleValidationError)},comparator:function(member){return!member.isCaptain()},getCurrentCaptain:function(){return this.find(function(model){return model.isCaptain()})},transferCaptain:function(targetCaptain){var _this3=this;if(!targetCaptain)throw new Error("targetCaptain parameter required. Current targetCaptain: "+targetCaptain);var targetCaptainUri=targetCaptain.getMgmtUri(),$captainTransferPromise=_jquery2.default.Deferred();return this.model.captainInstance.save({},{mgmt_uri:targetCaptainUri,output_mode:"json",type:"POST"}).done(null,function(){_this3.model.captainInstance.pollServiceReady().then(function(){$captainTransferPromise.resolve()})}).error(null,function(){$captainTransferPromise.reject()}),$captainTransferPromise},beginRollingRestart:function(){var _this4=this,$rollingRestartPromise=_jquery2.default.Deferred();return this.model.rollingRestartInstance.save({},{output_mode:"json",type:"POST"}).done(null,function(){_this4.model.rollingRestartInstance.pollRollingRestartReady().then(function(){$rollingRestartPromise.resolve()})}).error(null,function(){$rollingRestartPromise.reject()}),$rollingRestartPromise},handleValidationError:function(hasError,model,messages){this.trigger("serverValidated",hasError,model,messages)}}),module.exports=exports.default},"models/services/cluster/searchhead/Member":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _SplunkDBase=__webpack_require__("models/SplunkDBase"),_SplunkDBase2=_interopRequireDefault(_SplunkDBase),_time=__webpack_require__("util/time"),_time2=_interopRequireDefault(_time);exports.default=_SplunkDBase2.default.extend({urlRoot:"services/shcluster/member/members",isCaptain:function(){return this.entry.content.get("is_captain")||!1},getRoleLabel:function(){return this.entry.content.get("is_captain")?"Captain":"Member"},getLastHeartBeatAsLocalTime:function(){return _time2.default.convertToLocalTime(this.entry.content.get("last_heartbeat"))||""},getSHMemberStatus:function(){return this.entry.content.get("status")||""},getMgmtUri:function(){return this.entry.content.get("mgmt_uri")||""},getMemberName:function(){return this.entry.content.get("label")||""}}),module.exports=exports.default},"models/services/shcluster/SHClusterStatus":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_backbone=__webpack_require__("require/backbone"),_backbone2=_interopRequireDefault(_backbone),_Base=__webpack_require__("models/Base"),_Base2=_interopRequireDefault(_Base),_splunkd_utils=__webpack_require__("util/splunkd_utils"),_splunkd_utils2=_interopRequireDefault(_splunkd_utils),POLLING_FREQUENCY=1e4;exports.default=_Base2.default.extend({url:_splunkd_utils2.default.fullpath("shcluster/status"),sync:function(method,model){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("read"!==method)throw new Error("invalid method: "+method);var defaults={data:{output_mode:"json"}};return _jquery2.default.extend(!0,defaults,options),_backbone2.default.sync.call(this,method,model,defaults)},pollStatus:function(){this.fetchStatus(),setInterval(this.fetchStatus.bind(this),POLLING_FREQUENCY)},fetchStatus:function(){var shClusterStatus=this;this.fetch().done(function(response){var rollingRestartFlag=response.entry[0].content.captain.rolling_restart_flag,serviceReadyFlag=response.entry[0].content.captain.service_ready_flag;shClusterStatus.trigger("serviceReadyUpdate",{serviceReady:serviceReadyFlag,rollingRestart:rollingRestartFlag})}).fail(function(){shClusterStatus.trigger("serviceReadyUpdate")})}}),module.exports=exports.default},"views/search_head_clustering/GridRow":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_GridRow=__webpack_require__("views/shared/basemanager/GridRow"),_GridRow2=_interopRequireDefault(_GridRow);exports.default=_GridRow2.default.extend({moduleId:module.id,tagName:"tr",className:"list-item",events:{"click .captain-select-action":function(e){this.model.controller.trigger("openCaptainConfirmationDialog",{targetMember:this.model.entity}),e.preventDefault()}},prepareTemplate:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var parentArgs=_GridRow2.default.prototype.prepareTemplate.apply(this,args),isCaptain=this.model.entity.isCaptain();return _jquery2.default.extend(!0,{},parentArgs,{model:this.model.entity,name:this.model.entity.entry.content.get("label"),role:(0,_underscore2.default)(this.model.entity.getRoleLabel()).t(),isCaptain:isCaptain,status:(0,_underscore2.default)(this.model.entity.getSHMemberStatus()).t(),last_heartbeat:this.model.entity.getLastHeartBeatAsLocalTime()})},template:'\n    <td class="cell-name">\n        <a href="#" class="model-title entity-edit-link"><%- name %></a>\n    </td>\n    <td class="cell-actions">\n        <% if(!isCaptain) { %>\n            <a href="#" class="entity-action captain-select-action "><%= _("Transfer Captain").t() %></a>\n        <% } %>\n    </td>\n    <td class="cell-status"><%- status %></td>\n    <td class="cell-role"><%- role %></td>\n    <td class="cell-last_heartbeat"><%- last_heartbeat %></td>\n    '},{columns:[{id:"name",title:(0,_underscore2.default)("Name").t()},{id:"status",title:(0,_underscore2.default)("Status").t()},{id:"is_captain",title:(0,_underscore2.default)("Role").t()},{id:"last_heartbeat",title:(0,_underscore2.default)("Last heartbeat sent to captain").t()}]}),module.exports=exports.default},"views/search_head_clustering/PageController":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_route=__webpack_require__("uri/route"),_route2=_interopRequireDefault(_route),_BaseManagerPageController=__webpack_require__("controllers/BaseManagerPageController"),_BaseManagerPageController2=_interopRequireDefault(_BaseManagerPageController),_Members=__webpack_require__("collections/services/cluster/searchhead/Members"),_Members2=_interopRequireDefault(_Members),_Member=__webpack_require__("models/services/cluster/searchhead/Member"),_Member2=_interopRequireDefault(_Member),_SHClusterStatus=__webpack_require__("models/services/shcluster/SHClusterStatus"),_SHClusterStatus2=_interopRequireDefault(_SHClusterStatus),_GridRow=__webpack_require__("views/search_head_clustering/GridRow"),_GridRow2=_interopRequireDefault(_GridRow),_RestartButton=__webpack_require__("views/search_head_clustering/RestartButton"),_RestartButton2=_interopRequireDefault(_RestartButton),_TransferCaptainConfirmationDialog=__webpack_require__("views/search_head_clustering/TransferCaptainConfirmationDialog"),_TransferCaptainConfirmationDialog2=_interopRequireDefault(_TransferCaptainConfirmationDialog),_RollingRestartConfirmationDialog=__webpack_require__("views/search_head_clustering/RollingRestartConfirmationDialog"),_RollingRestartConfirmationDialog2=_interopRequireDefault(_RollingRestartConfirmationDialog),_ServiceNotReadyDialog=__webpack_require__("views/search_head_clustering/ServiceNotReadyDialog"),_ServiceNotReadyDialog2=_interopRequireDefault(_ServiceNotReadyDialog);exports.default=_BaseManagerPageController2.default.extend({moduleId:module.id,canShowServiceReadyDialog:!0,initialize:function(options){this.collection=this.collection||{},this.model=this.model||{},this.deferreds=this.deferreds||{};var optionsExtended=_underscore2.default.extend({},options);optionsExtended.enableNavigationFromUrl=!1,optionsExtended.model=this.model,optionsExtended.collection=this.collection,optionsExtended.entitiesCollectionClass=_Members2.default,optionsExtended.entityModelClass=_Member2.default,optionsExtended.fragments=["manager","system","search_head_clustering"],optionsExtended.entitySingular=(0,_underscore2.default)("Member").t(),optionsExtended.entitiesPlural=(0,_underscore2.default)("Members").t(),optionsExtended.header={pageTitle:(0,_underscore2.default)("Search Head Clustering").t(),pageDesc:(0,_underscore2.default)("Monitor and take action on your search head cluster.").t(),learnMoreLink:"whatsnew.searchheadclustering"},optionsExtended.grid={showOwnerFilter:!1,showAppColumn:!1,showOwnerColumn:!1,showDispatchAs:!1,showStatusColumn:!1,showSharingColumn:!1,showAppFilter:!1},optionsExtended.customViews={GridRow:_GridRow2.default,NewButtons:_RestartButton2.default},this.children.learnMoreLink={},this.children.learnMoreLink.captain=_route2.default.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.shc.captainxfer"),this.children.learnMoreLink.restart=_route2.default.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.shc.rollingrestart"),_BaseManagerPageController2.default.prototype.initialize.call(this,optionsExtended),this.model.SHClusterStatusInstance=new _SHClusterStatus2.default,this.listenTo(this.model.controller,"beginTransferCaptaincy",this.beginTransferCaptaincy),this.listenTo(this.model.controller,"openCaptainConfirmationDialog",this.openCaptainConfirmationDialog),this.listenTo(this.model.controller,"openRollingRestartConfirmationDialog",this.openRollingRestartConfirmationDialog),this.listenTo(this.model.controller,"beginRollingRestart",this.beginRollingRestart),this.listenTo(this.model.SHClusterStatusInstance,"serviceReadyUpdate",this.serviceReadyHandleResponse),this.model.SHClusterStatusInstance.pollStatus()},beginTransferCaptaincy:function(){var _this=this;this.collection.entities.transferCaptain(this.targetCaptain).done(function(){_this.endTransferCaptaincySuccess()}).fail(function(){_this.endTransferCaptaincyError()}),this.canShowServiceReadyDialog=!1},endTransferCaptaincySuccess:function(){this.model.controller.trigger("refreshEntities"),this.model.controller.trigger("showCaptainTransferSuccess"),this.canShowServiceReadyDialog=!0},endTransferCaptaincyError:function(){this.canShowServiceReadyDialog=!0},openCaptainConfirmationDialog:function(options){this.targetCaptain=options.targetMember;var targetCaptainName=options.targetMember.getMemberName();this.children.transferCaptainConfirmDialog=new _TransferCaptainConfirmationDialog2.default({learnMoreLink:this.children.learnMoreLink.captain,controller:this.model.controller,collection:{entities:this.collection.entities.clone()},onHiddenRemove:!0,backdrop:"static",keyboard:!1,targetCaptainName:targetCaptainName}),(0,_jquery2.default)("body").append(this.children.transferCaptainConfirmDialog.render().el),this.children.transferCaptainConfirmDialog.show()},openRollingRestartConfirmationDialog:function(){this.children.rollingRestartConfirmDialog=new _RollingRestartConfirmationDialog2.default({learnMoreLink:this.children.learnMoreLink.restart,controller:this.model.controller,collection:{entities:this.collection.entities.clone()},backdrop:"static",keyboard:!1,onHiddenRemove:!0}),(0,_jquery2.default)("body").append(this.children.rollingRestartConfirmDialog.render().el),this.children.rollingRestartConfirmDialog.show()},beginRollingRestart:function(){var _this2=this;this.collection.entities.beginRollingRestart().done(function(){_this2.rollingRestartSuccess()}).fail(function(){_this2.rollingRestartError()}),this.model.controller.trigger("rollingRestartInProgress"),this.canShowServiceReadyDialog=!1},rollingRestartSuccess:function(){this.model.controller.trigger("rollingRestartSuccess"),this.canShowServiceReadyDialog=!0},rollingRestartError:function(){this.canShowServiceReadyDialog=!0},showServiceNotReadyDialog:function(statusResponse){this.children.serviceNotReadyDialog=new _ServiceNotReadyDialog2.default({onHiddenRemove:!0,backdrop:"static",keyboard:!1,statusResponse:statusResponse}),(0,_jquery2.default)("body").append(this.children.serviceNotReadyDialog.render().el),this.children.serviceNotReadyDialog.show()},serviceReadyHandleResponse:function(statusResponse){var serviceFunctioningNormally=_underscore2.default.isObject(statusResponse)&&statusResponse.serviceReady&&!statusResponse.rollingRestart,shouldShowServiceNotReadyDialog=!serviceFunctioningNormally&&this.canShowServiceReadyDialog,shouldCloseServiceNotReadyDialog=serviceFunctioningNormally&&this.children.serviceNotReadyDialog&&this.children.serviceNotReadyDialog.shown;shouldShowServiceNotReadyDialog&&(this.showServiceNotReadyDialog(statusResponse),this.canShowServiceReadyDialog=!1),shouldCloseServiceNotReadyDialog&&(this.model.controller.trigger("refreshEntities"),this.children.serviceNotReadyDialog.hide(),this.canShowServiceReadyDialog=!0)}}),module.exports=exports.default},"views/search_head_clustering/TransferCaptainConfirmationDialog":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_splunk=__webpack_require__("shim/splunk.util"),_splunk2=_interopRequireDefault(_splunk),_FlashMessages=__webpack_require__("views/shared/FlashMessages"),_FlashMessages2=_interopRequireDefault(_FlashMessages),_Modal=__webpack_require__("views/shared/Modal"),_Modal2=_interopRequireDefault(_Modal),_Master=__webpack_require__("views/shared/waitspinner/Master"),_Master2=_interopRequireDefault(_Master);__webpack_require__("views/search_head_clustering/TransferCaptain.pcss");var BUTTON_RESTART=_splunk2.default.sprintf('<a href="#" class="btn btn-primary modal-btn-primary pull-right transfer-captain-btn"> %s </a>',(0,_underscore2.default)("Start Transfer").t());exports.default=_Modal2.default.extend({moduleId:module.id,initialize:function(options){if(this.model=this.model||{},this.targetCaptainName=options.targetCaptainName||"",this.collection=options.collection,this.model.controller=options.controller,this.children.learnMoreLink=options.learnMoreLink,!this.collection)throw new Error("this.collection is required");this.children.spinner=new _Master2.default,this.children.spinner.$el.addClass("pull-right"),this.children.flashMessages=new _FlashMessages2.default({model:[this.collection.entities]}),_Modal2.default.prototype.initialize.call(this,options),this.listenTo(this.collection.entities,"serverValidated",this.checkServerValidated),this.listenTo(this.model.controller,"showCaptainTransferSuccess",this.showTransferSuccess)},events:_jquery2.default.extend({},_Modal2.default.prototype.events,{"click .transfer-captain-btn":function(e){this.model.controller.trigger("beginTransferCaptaincy"),e.preventDefault(),this.showInProgress()}}),checkServerValidated:function(isValid){isValid||((0,_jquery2.default)(".captain-warning-container").hide(),this.children.spinner.stop(),this.children.spinner.$el.hide(),this.showCancelButtons())},showInProgress:function(){this.$(_Modal2.default.FOOTER_SELECTOR+" .btn").hide(),this.$(_Modal2.default.HEADER_SELECTOR+" .close").hide(),this.children.spinner.start(),this.children.spinner.$el.show()},showTransferSuccess:function(){this.children.spinner.stop(),this.children.spinner.$el.hide(),this.$(".captain-warning-container").hide(),this.$(_Modal2.default.FOOTER_SELECTOR).append(_Modal2.default.BUTTON_CLOSE),this.$(".captain-success-container").show(),this.$(_Modal2.default.HEADER_SELECTOR+" .close").show()},showCancelButtons:function(){this.$(_Modal2.default.FOOTER_SELECTOR+" .modal-btn-cancel").show(),this.$(_Modal2.default.HEADER_SELECTOR+" .close").show()},render:function(){this.$el.html(_Modal2.default.TEMPLATE),this.$(_Modal2.default.HEADER_TITLE_SELECTOR).html((0,_underscore2.default)("Transfer Captain").t());var targetCaptainName=this.targetCaptainName;return this.$(_Modal2.default.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(_Modal2.default.BODY_SELECTOR).append((0,_underscore2.default)(this.bodyTemplate).template({learnMoreLink:this.children.learnMoreLink,targetCaptainName:targetCaptainName})),this.$(_Modal2.default.FOOTER_SELECTOR).append(BUTTON_RESTART),this.$(_Modal2.default.FOOTER_SELECTOR).append(_Modal2.default.BUTTON_CANCEL_PULL_RIGHT),this.$(_Modal2.default.FOOTER_SELECTOR).append(this.children.spinner.render().el),this.children.spinner.$el.hide(),this},bodyTemplate:'\n        <div class="flash-messages-view-placeholder"></div>\n        <div class="captain-warning-container">\n            <p>\n                <i class="icon-alert"></i>\n                <%= _("Here are some details about what will happen if you choose to continue.").t() %>\n                <a class="external" href="<%- learnMoreLink %>" target="_blank"><%= _("Learn More").t() %></a>\n            </p>\n            <p><%= _("Are you sure you want to transfer captain to").t() %> <b><%= targetCaptainName %>?</b></p>\n        </div>\n\n        <div class="captain-success-container hide">\n            <p><i class="icon-check-circle"></i> <%= _("Captain transferred successfully.").t() %> </p>\n        </div>\n    '}),module.exports=exports.default},"views/search_head_clustering/TransferCaptain.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1137);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1137:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".icon-alert{color:#f2b827}.icon-alert,.icon-check-circle{font-size:22px;padding-right:10px}.icon-check-circle{color:#a2cc3e}.alerts.shared-flashmessages{padding-left:0}.btn-primary{margin-left:5px}",""])},"views/search_head_clustering/RollingRestartConfirmationDialog":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_Modal=__webpack_require__("views/shared/Modal"),_Modal2=_interopRequireDefault(_Modal),_FlashMessages=__webpack_require__("views/shared/FlashMessages"),_FlashMessages2=_interopRequireDefault(_FlashMessages),_Master=__webpack_require__("views/shared/waitspinner/Master"),_Master2=_interopRequireDefault(_Master),_splunk=__webpack_require__("shim/splunk.util"),_splunk2=_interopRequireDefault(_splunk),BUTTON_RESTART=_splunk2.default.sprintf('<a href="#" class="btn btn-primary modal-btn-primary pull-right restart-btn"> %s </a>',(0,_underscore2.default)("Restart").t());exports.default=_Modal2.default.extend({moduleId:module.id,initialize:function(options){this.model=this.model||{},this.collection=this.collection||{},this.model.controller=options.controller,this.children.learnMoreLink=options.learnMoreLink,this.children.flashMessages=new _FlashMessages2.default({model:[this.collection.entities]}),this.children.spinner=new _Master2.default,this.children.spinner.$el.addClass("pull-right"),_Modal2.default.prototype.initialize.call(this,options),this.listenTo(this.model.controller,"rollingRestartInProgress",this.showRestartInProgress),this.listenTo(this.model.controller,"rollingRestartSuccess",this.showRestartSuccess),this.listenTo(this.collection.entities,"serverValidated",this.checkServerValidated)},events:_jquery2.default.extend({},_Modal2.default.prototype.events,{"click .restart-btn":function(e){e.preventDefault(),this.model.controller.trigger("beginRollingRestart")}}),checkServerValidated:function(isValid){isValid||((0,_jquery2.default)(".restart-warning-container").hide(),this.children.spinner.stop(),this.children.spinner.$el.hide(),this.showCancelButtons())},showCancelButtons:function(){this.$(_Modal2.default.FOOTER_SELECTOR+" .modal-btn-cancel").show(),this.$(_Modal2.default.HEADER_SELECTOR+" .close").show()},showRestartInProgress:function(){this.children.spinner.start(),this.children.spinner.$el.show(),this.$(".restart-progress-container").show(),this.$(".restart-warning-container").hide(),this.$(_Modal2.default.FOOTER_SELECTOR+" .btn").hide(),this.$(_Modal2.default.HEADER_SELECTOR+" .close").hide()},showRestartSuccess:function(){this.$(_Modal2.default.HEADER_SELECTOR+" .close").show(),this.$(".restart-success-container").show(),this.children.flashMessages.remove(),this.$(_Modal2.default.FOOTER_SELECTOR).append(_Modal2.default.BUTTON_CLOSE),this.children.spinner.stop(),this.children.spinner.$el.hide(),this.$(".restart-progress-container").hide()},render:function(){return this.$el.html(_Modal2.default.TEMPLATE),this.$(_Modal2.default.HEADER_TITLE_SELECTOR).html(_underscore2.default.escape((0,_underscore2.default)("Rolling Restart").t())),this.$(_Modal2.default.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(_Modal2.default.BODY_SELECTOR).append((0,_underscore2.default)(this.bodyTemplate).template({learnMoreLink:this.children.learnMoreLink})),this.$(_Modal2.default.FOOTER_SELECTOR).append(BUTTON_RESTART),this.$(_Modal2.default.FOOTER_SELECTOR).append(_Modal2.default.BUTTON_CANCEL_PULL_RIGHT),this.$(_Modal2.default.FOOTER_SELECTOR).append(this.children.spinner.render().el),this.children.spinner.$el.hide(),this},bodyTemplate:'\n        <div class="flash-messages-view-placeholder"></div>\n        <div class="restart-warning-container">\n            <p><i class="icon-alert"></i>\n            <%= _(\'Are you sure you want to initiate a rolling restart?             Doing so will cause a phased restart of all cluster members,            with possible short-term inconvenience to current users.\').t() %></p>\n            <a class="external" href="<%- learnMoreLink %>" target="_blank"><%= _("Learn More").t() %></a>\n        </div>\n        <div class="restart-progress-container hide">\n            <p><%= _(\'The rolling restart of your            search head cluster is currently in progress.\').t()  %></p>\n        </div>\n        <div class="restart-success-container hide">\n            <p>\n                <i class="icon-check-circle"></i>\n                <%= _(\'Your search head cluster has successfully been restarted.\').t() %>\n            </p>\n        </div>\n    '}),module.exports=exports.default},"views/search_head_clustering/RestartButton":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _Base=__webpack_require__("views/Base"),_Base2=_interopRequireDefault(_Base);exports.default=_Base2.default.extend({moduleId:module.id,render:function(){var html=this.compiledTemplate();return this.$el.html(html),this},events:{"click .rolling-restart-button":function(e){e.preventDefault(),this.model.controller.trigger("openRollingRestartConfirmationDialog")}},template:'<a href="#" class="btn rolling-restart-button"><%- _("Begin Rolling Restart").t() %></a>'}),module.exports=exports.default}});