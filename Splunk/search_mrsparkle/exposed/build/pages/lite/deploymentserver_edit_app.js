webpackJsonp([37],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),__webpack_require__("routers/DeploymentServerEditApp"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,DeploymentServerEditAppRouter,routerUtils){new DeploymentServerEditAppRouter;routerUtils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1075:function(module,exports){module.exports=' <a class="dropdown-toggle" href="#">\n                <% if (options.labelIcon) { %>\n                    <i class="icon-<%- options.labelIcon %> icon-large"></i>\n                <% } %>\n                <span class="link-label"><%- options.label %></span>\n            </a>\n            <div class="dropdown-menu dropdown-menu-selectable">\n                <div class="arrow"></div>\n                <% if (useNestedArrays) { %>\n                    <% _(options.items).each(function(itemsChild, i) { %>\n                        <ul>\n                        <% _(itemsChild).each(function(object, j) { %>\n                            <% \n                                var machineTypeClass = ""; \n                                if (object.hasOwnProperty(\'label2\')) {\n                                    machineTypeClass = "unselected"; \n                                    collection.each(function(model){\n                                        if (model.get(\'name\') == object.value) machineTypeClass = \'disabled\';\n                                    }); \n                                }\n                            %> \n                            <li style="position:relative" >\n                                <a href="#" data-value="<%- object.value %>"  data-items-array-index="<%- i %>" data-item-index="<%- j %>" class="<%- machineTypeClass %>">\n                                    <% if (object.icon) { %> \n                                        <i class="icon-<%- object.icon %> icon-large"></i>\n                                    <% } %>\n                                    <span data-value="<%- object.value %>" style=""><%- object.label1 %></span>\n                                    <span data-value="<%- object.value %>" style="position:absolute; right:10px"><%- object.label2 %></span>\n                                </a>\n                            </li>\n                            <% }) %>\n                           </ul> \n                        <% }) %>\n                <% } else { %>\n                    <ul>\n                        <% _(options.items).each(function(object, k) { %>\n                            <% \n                                var machineTypeClass = ""; \n                                if (object.hasOwnProperty(\'label2\')) {\n                                    machineTypeClass = "unselected"; \n                                    collection.each(function(model){\n                                        if (model.get(\'name\') == object.value) machineTypeClass = \'disabled\';\n                                    }); \n                                }\n                            %> \n                            <li style="position:relative" >\n                                <a href="#" data-value="<%- object.value %>" data-item-index="<%- k %>" class="<%- machineTypeClass %>">\n                                    <% if (object.icon) { %> \n                                        <i class="icon-<%- object.icon %> icon-large"></i>\n                                    <% } %>\n                                    <span data-value="<%- object.value %>" style=""><%- object.label1 %></span>\n                                    <span data-value="<%- object.value %>" style="position:absolute; right:10px"><%- object.label2 %></span>\n                                </a>\n                            </li>\n                        <% }) %>\n                    </ul>\n               <% } %>\n\n            </div>\n'},1081:function(module,exports){module.exports='\n<div class="section-header section-padded">\n    <a href="<%-docUrl%>" target="_blank" class="btn pull-right"><%-_(\'Documentation\').t()%> <i class="icon-external"></i></a>\n    <h2 class="section-title"><%-_(\'Edit App: \').t()%><span class="appName"></span></h2>\n\n    <div class="divider"></div>\n\n    <div class="flash-messages-placeholder"></div>\n    <div id="serverclass-list-container" class="list-container form-horizontal form"></div>\n    <div id="app-options" class="list-container">\n            <label><%-_(\'After Installation\').t()%></label>\n            <div class="checkbox-enable-placeholder"></div>\n            <div class="checkbox-restart-placeholder"></div>\n    </div>\n\n    <div class="divider" style="margin-bottom: 0;"></div>\n\n    <div id="page-actions" class="btn-toolbar pull-right"></div>\n</div><!-- /.section-header -->\n\n<div class="fade-up"></div>\n<div class="selected-clients" id="selected-clients"></div>\n'},"views/deploymentserver/editApp/ClientsGridContainer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/backbone"),__webpack_require__("views/deploymentserver/editServerclass/addClients/Filter"),__webpack_require__("views/deploymentserver/editServerclass/addClients/SelectedClientsTab"),__webpack_require__("uri/route"),__webpack_require__("views/deploymentserver/editApp/Clients")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,Backbone,FilterView,SelectedClientsTab,route,ClientsView){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.paginator=new Backbone.Model,this.children.clientsView=new ClientsView({model:{filters:new Backbone.Model,paginator:this.model.paginator},collection:this.collection.filteredClients,application:this.options.application}),this.collection.selectedServerClasses.on("add remove reset",this.refreshSelectedClientsTable,this),this.collection.allSelectedClients.on("reset",this.showOrHideGrid,this)},refreshSelectedClientsTable:function(){var data=this.model.paginator.get("data")||{},serverclasses=[];this.collection.selectedServerClasses.each(function(sc){serverclasses.push(sc.get("name"))}),data.serverclasses=serverclasses.join(","),this.model.paginator.set("data",data),this.model.paginator.trigger("change:data");var unfilteredData={};unfilteredData.serverclasses=data.serverclasses,this.collection.allSelectedClients.fetch({data:unfilteredData})},showOrHideGrid:function(){0==this.collection.allSelectedClients.length?this.$el.hide():this.$el.show()},render:function(){return this.$el.html(this.children.clientsView.render().el),this.$el.hide(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editApp/Clients":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("stubs/i18n"),__webpack_require__("util/general_utils"),__webpack_require__("views/deploymentserver/Search"),__webpack_require__("views/deploymentserver/ClientsGrid"),__webpack_require__("views/deploymentserver/Clients"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__(1061)],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,Backbone,_,i18n,general_utils,Search,ClientsGrid,ClientsView,SyntheticSelectControl,template){return ClientsView.extend({moduleId:module.id,template:template,initialize:function(){ClientsView.prototype.initialize.apply(this,arguments)},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.$("#clientFilterContainer").append(this.children.search.render().el),this.$("#clientsGridContainer").append(this.children.clientsGrid.render().el),this.$("#clients_paginator").html(this.children.paginator.render().el),this.$("#clients_deployment_filter").html(this.children.deployed_filter.render().el),this.$("#clients_phonehome_filter").html(this.children.phonehome_filter.render().el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editApp/ServerClassList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/deploymentserver/shared/DropDownMenuWithCounts"),__webpack_require__("views/deploymentserver/shared/CreateServerClassDialog"),__webpack_require__("views/deploymentserver/editServerclass/addClients/SelectedMachineTypesList"),__webpack_require__("require/underscore"),__webpack_require__("models/services/deploymentserver/DeploymentServerClass"),__webpack_require__("views/shared/dialogs/TextInputDialog"),__webpack_require__("uri/route"),__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,DropDownMenu,CreateServerClassDialog,SelectedServerclassList,_,DeploymentServerClassModel,TextInputDialog,route,BaseView){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.serverclassList=new SelectedServerclassList({collection:this.collection.selectedServerclasses}),this.collection.allServerclasses.on("reset",this.render,this)},renderDropDropDownMenu:function(){},render:function(){var template=this.compiledTemplate();this.$el.html(template);var serverclassesTableWithCounts=[];this.collection.allServerclasses.each(function(sc){serverclassesTableWithCounts.push({label1:sc.entry.get("name"),label2:"",value:sc.entry.get("name")})});var menuOptions=[];return menuOptions.push(serverclassesTableWithCounts),menuOptions.push([{label1:_("New Server Class").t(),value:"create_sc"}]),this.children.serverclassesDropDown=new DropDownMenu({label:"+",className:"create-drop-down",anchorClassName:"btn",items:menuOptions,collection:this.collection.selectedServerclasses}),this.children.serverclassesDropDown.on("itemClicked",function(itemValue){"create_sc"==itemValue&&this.showCreateServerclassDialog()},this),this.$("#serverclasses-selecter").html(this.children.serverclassesDropDown.render().el),this.$("#selected-serverclasses").append(this.children.serverclassList.render().el),this},template:'\t                <label><%-_("Server Classes").t()%></label>\t                <div id="selected-serverclasses" class="selected-serverclasses"></div>\t                <div id="serverclasses-selecter" class="serverclasses-selecter"></div>\t            ',showCreateServerclassDialog:function(){this.children.createServerClassDialog=new CreateServerClassDialog({id:"modal_rename",parent:this}),this.children.createServerClassDialog.show(),this.children.createServerClassDialog.on("action:createdServerClass",function(serverClass){window.location.href=route.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"deploymentserveredit",{data:{id:serverClass.id}})},this)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/shared/DropDownMenuWithCounts":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("views/shared/DropDownMenu"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__(1075),module],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,DropDownMenuView,Popdown,dropDownTemplate,module){return DropDownMenuView.extend({moduleId:module.id,DEFAULT_CLASS_NAME:"btn-group",DEFAULT_ANCHOR_CLASS_NAME:"btn",initialize:function(options){DropDownMenuView.prototype.initialize.apply(this,arguments),this.collection.on("add remove reset",this.render,this)},template:dropDownTemplate,events:{"click li .unselected":function(e){var selectedMachineFilter=new Backbone.Model;selectedMachineFilter.set("name",$(e.target).attr("data-value")),this.collection.add(selectedMachineFilter)}},render:function(){var html=_(this.template).template({options:this.options,collection:this.collection,useNestedArrays:DropDownMenuView.prototype.isArrayofArrays.apply(this,[this.options.items])});return this.$el.html(html),this.$(".dropdown-toggle").addClass(this.anchorClassName||this.DEFAULT_ANCHOR_CLASS_NAME),this.$(".dropdown-menu").on("click","ul > li > a",_(DropDownMenuView.prototype.handleItemClick).bind(this)),this.children.popdown=new Popdown({el:this.el}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1082:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.section-header{position:relative;padding:10px 20px}.section-header:after,.section-header:before{display:table;content:"";line-height:0}.section-header:after{clear:both}.section-header h2,.section-header p{margin:0}.section-header .btn-toolbar{float:right;margin-bottom:0}.section-padded .divider{margin:10px -20px;clear:both}.form-horizontal label{margin-top:0}.form-horizontal label input{margin:0 1em 0 0}.list-container{width:50%;float:left;margin-bottom:10px}.selected-serverclasses .btn-combo .btn:first-child{width:160px;overflow:hidden;text-overflow:ellipsis}.selected-serverclasses .btn-combo .btn{text-align:left}.selected-serverclasses .btn-combo{float:left;margin-right:5px;margin-bottom:5px}.selected-serverclasses .btn-combo+.btn-combo{margin-left:0}.dropdown-toggle .btn{margin-left:20px;font-size:15px;font-weight:700}.serverclasses-selecter{margin-bottom:5px}.serverclasses-selecter .create-drop-down .btn{font-size:15px;padding:0;width:24px;height:24px;line-height:24px;margin-left:5px}.fade-up{background-color:rgba(0,0,0,.5);background-image:linear-gradient(transparent,rgba(0,0,0,.5) 5px,rgba(0,0,0,.5));background-repeat:no-repeat;background-color:transparent;height:5px;border-bottom:1px solid #333;margin-top:-5px}.selected-clients{min-height:400px;padding:10px 0;clear:both;background-color:#f3f3f3}.filtersContainer,.paginator_container{padding-left:20px}.deployment_filter .btn-group{margin-right:5px}.searchFilterContainer form:last-child{margin-bottom:10px}.checkbox{margin:0;padding:0}',""])},"routers/DeploymentServerEditApp":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("routers/Base"),__webpack_require__("require/backbone"),__webpack_require__("views/deploymentserver/editApp/EditApp"),__webpack_require__("collections/services/deploymentserver/DeploymentServerClasses"),__webpack_require__("collections/services/deploymentserver/DeploymentServerClients"),__webpack_require__("models/services/deploymentserver/DeploymentApplication"),__webpack_require__("models/classicurl"),__webpack_require__("shim/bootstrap.tab")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseRouter,Backbone,EditAppView,DeploymentServerClassesCollection,DeploymentClientsCollection,DeploymentAppModel,classicurlModel,bootstrapTab){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Edit App").t()),this.enableAppBar=!1},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments);var selectedClients=new DeploymentClientsCollection,filteredClients=new DeploymentClientsCollection,serverClasses=new DeploymentServerClassesCollection,selectedServerClasses=new Backbone.Collection,previousSelectedServerClasses=new Backbone.Collection;serverClasses.fetch({data:{count:-1,offset:0}}),this.deferreds.classicurlModel=classicurlModel.fetch(),$.when(this.deferreds.classicurlModel,this.deferreds.pageViewRendered).then(function(){var appModel=new DeploymentAppModel;appModel.set("id",classicurlModel.get("id")),this.editAppView=new EditAppView({model:{app:appModel},collection:{selectedClients:selectedClients,filteredClients:filteredClients,serverClasses:serverClasses,selectedServerClasses:selectedServerClasses,previousSelectedServerClasses:previousSelectedServerClasses},application:this.model.application}),$(".preload").replaceWith(this.pageView.el),this.pageView.$(".main-section-body").append(this.editAppView.render().el)}.bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/SelectedMachineTypesList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("views/deploymentserver/editServerclass/addClients/SelectedMachineTypeElement")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,SelectedMachineTypeElement){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection.on("add remove reset",this.render,this)},render:function(){this.$el.html("");var that=this;return this.collection.each(function(model){var newMachineType=new SelectedMachineTypeElement({model:model});newMachineType.on("itemRemoved",that.removeMachineType,that),that.$el.append(newMachineType.render().el)}),this},removeMachineType:function(machineTypeModel){this.collection.remove(machineTypeModel)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/SelectedMachineTypeElement":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView){return BaseView.extend({moduleId:module.id,className:"selectedMachineTypeElement btn-combo",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){var template=this.compiledTemplate({machineType:this.model.get("name")});return this.$el.html(template),this},events:{"click .removeMachineType":function(){this.trigger("itemRemoved",this.model)}},template:'\t                    <div class="btn "><%-machineType%></div>\t                    <a href="#" class="btn  removeMachineType"><i class="icon-cancel"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editApp/DeployButton":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,_){return BaseView.extend({moduleId:module.id,tagName:"a",className:"btn btn-primary",attributes:{href:"#"},initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(_("Save").t()),this},events:{click:function(e){return this.trigger("deployClicked"),!1}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editApp/AppName":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView){return BaseView.extend({moduleId:module.id,tagName:"span",className:"appName",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.on("change",this.render,this)},render:function(){var html=this.compiledTemplate({app:this.model});return this.$el.html(html),this},template:' \t               <%- app ? app.entry.get("name") : "N/A"  %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editApp/EditApp":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("uri/route"),__webpack_require__("views/deploymentserver/editApp/ServerClassList"),__webpack_require__("views/deploymentserver/editApp/DeployButton"),__webpack_require__("views/deploymentserver/editServerclass/addApps/CancelButton"),__webpack_require__("views/deploymentserver/editApp/AppName"),__webpack_require__("views/deploymentserver/editApp/ClientsGridContainer"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("util/splunkd_utils"),__webpack_require__(1081),__webpack_require__("views/deploymentserver/editApp/EditApp.pcss"),__webpack_require__("views/deploymentserver/shared.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,Backbone,_,route,ServerClassList,SaveButton,CancelButton,AppName,ClientsGridContainer,FlashMessagesView,ControlGroup,SyntheticCheckboxControl,splunkDUtils,editAppTemplate,css,cssShared){return BaseView.extend({moduleId:module.id,template:editAppTemplate,MISSING_SERVERCLASSES_ID:"MISSING_SERVERCLASSES_ID",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.appName=new AppName({model:this.model.app}),this.children.serverclassesList=new ServerClassList({model:{app:this.model.app},collection:{allServerclasses:this.collection.serverClasses,selectedServerclasses:this.collection.selectedServerClasses},application:this.options.application});var that=this;this.model.app.fetch({success:function(model,response){that.extractSelectedServerclasses(),that.renderServerclassesList()}}),this.checkboxEnable=new SyntheticCheckboxControl({label:_("Enable App").t()}),this.children.checkboxEnableGroup=new ControlGroup({controls:[this.checkboxEnable]}),this.model.app.entry.content.on("change:stateOnClient",function(value){this.checkboxEnable.setValue("enabled"==value.get("stateOnClient"))},this),this.children.checkboxRestartGroup=new ControlGroup({controlType:"SyntheticCheckbox",controlOptions:{model:this.model.app.entry.content,modelAttribute:"restartSplunkd",label:_("Restart Splunkd").t()}}),this.children.saveButton=new SaveButton,this.children.saveButton.on("deployClicked",this.handleDeployClicked,this),this.children.cancelButton=new CancelButton,this.children.cancelButton.on("cancelClicked",this.redirectToDeploymentServer,this),this.children.clientsGridContainer=new ClientsGridContainer({model:this.model,collection:{selectedServerClasses:this.collection.selectedServerClasses,allSelectedClients:this.collection.selectedClients,filteredClients:this.collection.filteredClients},application:this.options.application}),this.children.flashMessagesView=new FlashMessagesView({model:this.model,collection:this.collection})},extractSelectedServerclasses:function(){for(var serverclasses=this.model.app.entry.content.get("serverclasses"),i=0;i<serverclasses.length;i++){var sc=serverclasses[i],scModel=new Backbone.Model;scModel.set("name",sc),this.collection.selectedServerClasses.add(scModel)}this.collection.previousSelectedServerClasses=this.collection.selectedServerClasses.clone()},renderServerclassesList:function(){this.$("#serverclass-list-container").html(this.children.serverclassesList.render().el)},render:function(){var docUrl=route.docHelp(this.options.application.get("root"),this.options.application.get("locale"),"manager.deployment.fm.app"),html=this.compiledTemplate({docUrl:docUrl,_:_,app:this.model.app});return this.$el.html(html),this.$(".appName").append(this.children.appName.render().el),this.$(".checkbox-enable-placeholder").append(this.children.checkboxEnableGroup.render().el),this.$(".checkbox-restart-placeholder").append(this.children.checkboxRestartGroup.render().el),this.$("#page-actions").append(this.children.cancelButton.render().el),this.$("#page-actions").append(this.children.saveButton.render().el),this.$("#selected-clients").append(this.children.clientsGridContainer.render().el),this.$(".flash-messages-placeholder").append(this.children.flashMessagesView.render().el),this},handleDeployClicked:function(){var stateOnClient=this.checkboxEnable.getValue()?"enabled":"disabled";return this.model.app.entry.content.set("stateOnClient",stateOnClient),this.serverClassChanges=[],this.collection.serverClasses.each(function(sc){var isSelected=!_.isUndefined(this.collection.selectedServerClasses.find(function(selectedSC){return selectedSC.get("name")==sc.entry.get("name")},this)),wasSelected=!_.isUndefined(this.collection.previousSelectedServerClasses.find(function(previousSelectedSC){return previousSelectedSC.get("name")==sc.entry.get("name")},this));isSelected?this.serverClassChanges.push({serverClass:sc,add:!0}):!isSelected&&wasSelected&&this.serverClassChanges.push({serverClass:sc,add:!1})},this),0==this.collection.selectedServerClasses.length?void this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(this.MISSING_SERVERCLASSES_ID,{type:splunkDUtils.ERROR,html:_("Add at least one server class.").t()}):(this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(this.MISSING_SERVERCLASSES_ID),void this.processServerClassChanges())},processServerClassChanges:function(){this.clearAppModel(),this.serverClassChanges.length>0?this.saveServerClassChanges():this.redirectToDeploymentServer()},clearAppModel:function(){this.model.app.entry.content.unset("serverclass"),this.model.app.entry.content.unset("map"),this.model.app.entry.content.unset("unmap")},saveServerClassChanges:function(){if(this.serverClassChanges.length>0){var serverClassObj=this.serverClassChanges.pop();this.model.app.entry.content.set("serverclass",serverClassObj.serverClass.entry.get("name")),serverClassObj.add?this.model.app.entry.content.set("map",!0):this.model.app.entry.content.set("unmap",!0);var resultXHR=this.model.app.save({});resultXHR?(resultXHR.done(_(function(){this.processServerClassChanges()}).bind(this)),resultXHR.fail(_(function(){this.serverClassChanges=[],this.clearAppModel()}).bind(this))):this.processServerClassChanges()}},redirectToDeploymentServer:function(){window.location.href=route.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"deploymentserver",{data:{t:0}})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editApp/EditApp.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1082);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/deploymentserver/shared/CreateServerClassDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/services/deploymentserver/DeploymentServerClass"),__webpack_require__("views/shared/dialogs/TextInputDialog"),module],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,splunkUtil,DeploymentServerClass,TextInputDialog,module){return TextInputDialog.extend({moduleId:module.id,initialize:function(options){this.serverClassModel=new DeploymentServerClass,_.defaults(options,{modelAttribute:"name",updateModel:!0,label:_("Name").t(),model:this.serverClassModel.entry.content}),TextInputDialog.prototype.initialize.call(this,options),this.settings.set("primaryButtonLabel",_("Save").t()),this.settings.set("cancelButtonLabel",_("Cancel").t()),this.settings.set("titleLabel",_("New Server Class").t()),this.children.flashMessagesView.flashMsgHelper.register(this.serverClassModel)},primaryButtonClicked:function(){if(this.serverClassModel.entry.content.set({},{validate:!0})){var resultXHR=this.serverClassModel.save({},{data:{app:"system"}});resultXHR&&resultXHR.done(_(function(){this.hide(),this.trigger("action:createdServerClass",this.serverClassModel)}).bind(this))}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});