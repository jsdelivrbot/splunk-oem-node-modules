webpackJsonp([18],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("routers/Clustering"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,ClusteringRouter,router_utils){new ClusteringRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},571:function(module,exports){module.exports="<%= _('You must restart Splunk for the').t() %> <%-mode%>  <%= _('node to become active.').t() %>\n<% if(mode==\"peer\") { %>\n<p><%= _('Optional next steps after restart:').t() %></p>\n<ol>\n    <li><%= _('Configure the indexes for the peers.').t() %><br>\n        <div style=\"color:#999; margin-top:5px; margin-bottom:10px;\">\n            <%= _('The index file determines the peers set of indexes and the size and attributes of its buckets. This file must be identical across all peer nodes. Peer index files are edited and distributed from the Master Node. ').t() %>\n            <a href=\"<%=learnmoreIndexesLink%>\" class=\"external\" target=\"_blank\"><%= _('Learn More').t() %></a>\n        </div>\n    </li>\n    <li><%= _('Use forwarders to get data to this peer.').t() %><br>\n        <div style=\"color:#999; margin-top:5px; margin-bottom:10px;\">\n            <%= _('There are two reasons for using forwarders to send data to your cluster. 1. To ensure that all incoming data gets indexed. 2. To handle potential node failure. ').t() %>\n            <a href=\"<%=learnmoreForwardersLink%>\" class=\"external\" target=\"_blank\"><%= _('Learn More').t() %></a>\n        </div>\n    </li>\n</ol>\n<% } %>\n"},572:function(module,exports){module.exports='<div class="start" style="display: none;">\n    <form action="" method="get" class="form" id="node_type">\n        <label class="radio" for="master-radio">\n            <input type="radio" name="node-type" value="master" id="master-radio" checked> <%= _(\'Master node\').t() %>\n        </label>\n        <span class="help-block"><%= _(\'The master node coordinates the activities of the peer nodes. It does not store or replicate data (aside from its own internal data).\').t() %></span>\n\n        <label class="radio" for="peer-radio">\n            <input type="radio" name="node-type" value="peer" id="peer-radio"> <%= _(\'Peer node\').t() %>\n        </label>\n        <span class="help-block"><%= _(\'Peer nodes receive and index incoming data. They also replicate data from other nodes in the cluster.\').t() %></span>\n\n        <label class="radio" for="search-radio">\n            <input type="radio" name="node-type" value="search" id="search-radio"> <%= _(\'Search head node\').t() %>\n        </label>\n        <span class="help-block"><%= _(\'The search head manages searches across one or more clusters.\').t() %></span>\n    </form>\n</div>\n'},573:function(module,exports){module.exports='\n<div class="section-header section-padded">\n    <h2 class="section-title"><%= _(\'Indexer Clustering\').t() %></h2>\n    <p class="section-subtitle">\n        <%= _(\'Indexer Clusters are groups of Splunk indexers configured to keep multiple copies of data. This increases data <br> availability, data fidelity, data redundancy, and search performance. Indexer clustering is a complex feature, we recommend reading the<br> documentation before enabling indexer clustering.\').t() %>\n        <a href="<%= learnmoreLink %>" title="<%=_(\'Learn More\').t() %>" class="external" target="_blank"><%= _(\'Learn More\').t() %></a>\n    </p>\n    <button id="enable_clustering" class="btn btn-primary"><%= _(\'Enable indexer clustering\').t() %></button>\n</div>\n'},574:function(module,exports){module.exports='\n<div class="searchable-summary">\n        <div class="single-value">\n            <span class="single-result" data-name="isClusterSearchable">\n                <% if (typeof isClusterSearchable !== \'undefined\') { %>\n                    <% if (isClusterSearchable) { %>\n                        <i class="icon-check"></i>\n                        <%= _(\'All Data is Searchable\').t() %>\n                    <% } else { %>\n                        <i class="icon-alert"></i>\n                        <%= _(\'Some Data is Not Searchable\').t() %>\n                    <% } %>\n                <% } %>\n            </span>\n        </div>\n        <div class="single-value" data-name="isSearchFactorMet">\n            <span class="single-result">\n                <% if (typeof isSearchFactorMet !== \'undefined\') { %>\n                    <% if (isSearchFactorMet) { %>\n                        <i class="icon-check"></i>\n                        <%= _(\'Search Factor is Met\').t() %>\n                    <% } else { %>\n                        <i class="icon-alert"></i>\n                        <%= _(\'Search Factor is Not Met\').t() %>\n                    <% } %>\n                <% } %>\n            </span>\n        </div>\n        <div class="single-value" data-name="isReplicationFactorMet">\n            <span class="single-result">\n                <% if (typeof isReplicationFactorMet !== \'undefined\') { %>\n                    <% if (isReplicationFactorMet) { %>\n                        <i class="icon-check"></i>\n                        <%= _(\'Replication Factor is Met\').t() %>\n                    <% } else { %>\n                        <i class="icon-alert"></i>\n                        <%= _(\'Replication Factor is Not Met\').t() %>\n                    <% } %>\n                <% } %>\n            </span>\n        </div>\n</div>\n\n<div class="searchable-value-summary" data-name="peers">\n    <div class="single-value double-value">\n        <span class="single-result" data-name="numSearchablePeers"><%-numSearchablePeers%></span>\n        <span class="after-label"><%= _(\'searchable\').t() %></span>\n        <span class="single-result" data-name="numNotSearchablePeers"><%-numNotSearchablePeers%></span>\n        <span class="after-label"><%= _(\'not searchable\').t() %></span><br>\n        <span class="under-label"><%= _(\'Peers\').t() %></span>\n    </div>\n    <div class="single-value double-value" data-name="indexes">\n        <span class="single-result" data-name="numSearchableIndexes"><%-numSearchableIndexes%></span>\n        <span class="after-label"><%= _(\'searchable\').t() %></span>\n        <span class="single-result" data-name="numNotSearchableIndexes"><%-numNotSearchableIndexes%> </span>\n        <span class="after-label"><%= _(\'not searchable\').t() %></span><br>\n        <span class="under-label"><%= _(\'Indexes\').t() %></span>\n    </div>\n</div>\n\n\n'},575:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".clustering-config-datarebalance .control-group{margin-bottom:20px}.clustering-config-datarebalance .control-label{display:inline-block;width:100px;margin-right:10px}.clustering-config-datarebalance .controls-block{display:inline-block;height:15px;width:150px}.clustering-config-datarebalance .starting-button{font-style:italic}",""])},576:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".clustering-master-rollingrestartdialog .alert-warning .icon-alert{top:16px}.clustering-master-rollingrestartdialog .control-group{padding:0 20px}.clustering-master-rollingrestartdialog .form-horizontal label.control-label{width:auto}.clustering-master-rollingrestartdialog .form-horizontal .percent-peer-text.controls{width:30px;margin-left:20px;display:inline-block}.clustering-master-rollingrestartdialog .form-horizontal .percent-peer-text.controls div.control,.clustering-master-rollingrestartdialog .form-horizontal .percent-peer-text.controls input[type=text]{width:inherit;display:-ms-flexbox;display:flex}.clustering-master-rollingrestartdialog .form-horizontal .percent-peer-text.controls .add-on{min-width:16px;padding:4px 5px;margin-left:-2px;text-shadow:0 1px 0 #fff;background-color:#eee;border:1px solid #ccc;border-radius:0 4px 4px 0}.clustering-master-rollingrestartdialog .form-horizontal .controls.site-order-checkbox{margin-left:105px}.clustering-master-rollingrestartdialog .form-horizontal .sites-dropdown.controls{margin-left:20px}",""])},577:function(module,exports){module.exports='<% if( errors.length > maxErrors) { %>\n    <div class="section-padded cluster-errors-short">\n        <% _.each(errors.slice(0, maxErrors), function(error) { %>\n            <p><span style="display:block;"><i class="icon-alert alert-error"></i><%- error %></span></p>\n        <% }); %>\n        <p><a href="#" class="cluster-errors-more"><%- _("More").t() %></a></p>\n    </div>\n    <div class="section-padded cluster-errors-full">\n        <% _.each(errors, function(error) { %>\n            <p><span style="display:block;"><i class="icon-alert alert-error"></i><%- error %></span></p>\n        <% }); %>\n        <p><a href="#" class="cluster-errors-less"><%- _("Less").t() %></a></p>\n    </div>\n<% } else { %>\n    <div class="section-padded cluster-errors">\n        <% _.each(errors, function(error) { %>\n            <p><span style="display:block;"><i class="icon-alert alert-error"></i><%- error %></span></p>\n        <% }); %>\n    </div>\n<% } %>'},578:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".alert-error{color:#d6563c;font-size:1.2em;padding-right:5px}",""])},579:function(module,exports){module.exports='<div class="section-padded">\n    <div class="success-info">\n        <h3><%- title %>\n            <%if (lastRunAction) {%>\n                <%if (lastActionSuccess) {%>\n                    <i class="icon-check"></i> <%= _(\'Successful\').t() %>\n                <%} else {%>\n                    <i class="icon-alert"></i> <%= _(\'Unsuccessful\').t() %>\n                <%} %>\n            <%}%>\n        </h3>\n        <dl class="list-dotted">\n            <% if ((lastRunAction === actions.CHECK_RESTART)) { %>\n                <% if (restartRequired) { %>\n                    <dt style=""><%= _(\'Restart\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The changes to the bundle require a restart of all peers.\').t() %>">?</a></sup></dt>\n                    <dd><%= _(\'Required\').t() %></dd>\n                <% } else { %>\n                    <dt style=""><%= _(\'Restart\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The changes to the bundle do not require a restart of all peers.\').t() %>">?</a></sup></dt>\n                    <dd><%= _(\'Not Required\').t() %></dd>\n                <% } %>\n            <% } %>\n            <dt style=""><%= _(\'Updated Time\').t() %></dt>\n            <dd><%-timeLastPush%></dd>\n            <dt style=""><%= _(\'Active Bundle ID\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the active configuration bundle used by all peers.\').t() %>">?</a></sup></dt>\n            <dd><%-activeBundleId%></dd>\n            <dt style=""><%= _(\'Latest Bundle ID\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the latest configuration bundle downloaded and validated by all peers.\').t() %>">?</a></sup></dt>\n            <dd><%-latestBundleId%></dd>\n            <dt style=""><%= _(\'Previous Bundle ID\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the previous configuration bundle downloaded and validated by all peers.\').t() %>">?</a></sup></dt>\n            <dd><%-previousBundleId%></dd>\n            <% if ((lastRunAction === actions.CHECK_RESTART) && checkRestartBundleId) { %>\n                <dt style=""><%= _(\'Latest Check Restart Bundle\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the latest configuration bundle validated and check restarted by all peers.\').t() %>">?</a></sup></dt>\n                <dd><%-checkRestartBundleId%></dd>\n            <% } %>\n        </dl>\n   </div>\n</div>'},580:function(module,exports){module.exports='<div class="section-padded">\n    <div class="progress-label">\n    \t<%= label %>\n    \t<span class="peer-num"><%=count%></span> <%= _(\'of\').t() %> <%=total%>\n    </div>\n    <div class="job-bar">\n        <div class="progress progress-striped active">\n            <div class="bar" style="width: <%=100*count/total%>%;">\n                <div class="block"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},581:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".clustering-push-actionprogress .job-bar .progress .bar{background-color:#a2cc3e}",""])},582:function(module,exports){module.exports='\n<div class="section-header section-padded">\n    <div class="btn-toolbar pull-right">\n        <div class="btn-group">\n            <a href="<%=docLink%>" class="btn" target="_blank"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n        </div>\n    </div>\n    <h2 class="section-title"><%= _(\'Configuration Bundle Actions\').t() %></h2>\n    <p class="section-description"><%= _(\'Click Push to distribute the configuration bundle to the set of peers. Optionally, validate the bundle and check if peer restart is required without distributing the bundle, or rollback to the previous bundle.\').t() %>\n        <a href=\'<%=learnMoreLink%>\' class=\'external\' target=\'_blank\'><%= _(\'Learn More\').t() %></a>\n    </p>\n    <a href="clustering">\n        <i class="icon-chevron-left icon-no-underline"></i><span><%- _("Back to Master Node").t() %></span>\n    </a>\n</div>\n\n<div class="divider"></div>\n<div class="section-bg"></div>\n'},583:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".success-info .icon-check{color:#65a637}.success-info .icon-alert{color:#d6563c}.clustering-push-pushstatus>.alerts{padding-left:20px;padding-right:20px}.section-bg{background-color:#f3f3f3;min-height:360px}.tooltip-link{padding:5px}.progress-msg{font-size:11px;color:#666}.progress-msg,.progress.progress-striped{display:inline-block;vertical-align:middle}.progress.progress-striped{width:160px;height:10px;margin-bottom:0;margin-left:5px;border-radius:2px}.progress.progress-striped .bar{background-color:#ccc;background-size:10px 10px;height:10px}.job-bar,.progress-label{display:inline-block;vertical-align:middle}.job-bar{width:200px}.job-bar .progress .bar{transition:width .6s ease}.clustering-push-peernodes-table-moreinfo .wait-spinner,.clustering-push-pushstatus .wait-spinner{display:inline-block;margin-right:6px}.clustering-push-peernodes-table-moreinfo .bundle-status-message,.clustering-push-pushstatus .bundle-status-message{display:inline-block}.clustering-push-peernodes-table-moreinfo .list-dotted dt,.clustering-push-pushstatus .list-dotted dt{width:200px}",""])},584:function(module,exports){module.exports='<button class="btn dropdown-toggle">\n  <%= _(\'Edit\').t() %><span class="caret"></span>\n</button>\n\n<div class="dropdown-menu">\n    <div class="arrow"></div>\n    <ul>\n        <li><a href="#" id="nodeType"><%= _(\'Node Type\').t() %></a></li>\n        <%if(mode=="master") {%>\n            <li>\n                <% if (multisite) { %>\n                <span id="masterConfig" tabindex="0">\n                    <%= _(\'Master Node Configuration\').t() %>\n                </span>\n                <% } else { %>\n                <a href="#" id="masterConfig">\n                    <%= _(\'Master Node Configuration\').t() %>\n                </a>\n                <% } %>\n            </li>\n        <%} else if(mode=="slave") {%>\n            <li><a href="#" id="peerConfig"><%= _(\'Configuration\').t() %></a></li>\n        <%}%>\n        <%if(mode=="master") {%>\n        <li><a href="clustering_push" id="pushConfig">\n            <%= _(\'Configuration Bundle Actions\').t() %></a>\n        </li>\n        <%}%>\n        <%if(mode=="master") {%>\n        <li><a href="#" id="dataRebalance">\n            <%= _(\'Data Rebalance\').t() %></a>\n        </li>\n        <%}%>\n        <%if(mode=="master") {%>\n        <li><a href="#" id="rollingRestart">\n            <%= _(\'Rolling Restart\').t() %></a>\n        </li>\n        <%}%>\n    </ul>\n    <ul>\n        <li><a href="#" id="disableCluster"><%= _(\'Disable Indexer Clustering\').t() %></a></li>\n    </ul>\n</div>\n'},585:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,"span#masterConfig{display:block;color:#bbb;height:16px;padding-left:10px;padding-bottom:5px;padding-top:5px;border-top-style:dotted;border-top-width:1px;cursor:not-allowed}a#rollingRestart.disabled{pointer-events:none}",""])},586:function(module,exports){module.exports='<table class="table table-chrome table-striped table-row-expanding">\n    <thead>\n        <tr>\n            <th class="<%- headerCellClass %>"><%= headerCellContent %></th>\n            <th class="sorts" <%- sortKeyAttribute %>="label">\n                <a href="#"><%= _(\'Peer Name\').t() %><i class="icon-sorts"></i></a>\n            </th>\n            <% if (multisite == \'true\') { %>\n              <th class="sorts" <%- sortKeyAttribute %>="site">\n                <a href="#"><%= _(\'Site\').t() %><i class="icon-sorts"></i></a>\n              </th>\n            <% } %>\n            <th class="sorts" <%- sortKeyAttribute %>="is_searchable">\n                <a href="#"><%= _(\'Fully Searchable\').t() %><i class="icon-sorts"></i></a>\n            </th>\n            <th class="sorts" <%- sortKeyAttribute %>="status last_heartbeat">\n                <a href="#"><%= _(\'Status\').t() %><i class="icon-sorts"></i></a>\n            </th>\n            <th class="sorts" <%- sortKeyAttribute %>="bucket_count">\n                <a href="#"><%= _(\'Buckets\').t() %><i class="icon-sorts"></i></a> <sup><a class="tooltip-link" rel="tooltip" data-title="<%= _(\'Buckets are directories where Splunk stores indexed data.\').t() %>" data-original-title="">?</a></sup>\n            </th>\n        </tr>\n    </thead>\n    <tbody>\n    <% eachRow(collection, function(peerModel, index, rowNumber, isExpanded) { %>\n        <tr class="list-item" <%- rowIdAttribute %>="<%- peerModel.entry.get(\'name\') %>" >\n            <td class="<%- toggleCellClass %>">\n                <a href="#"><i class="icon-triangle-right-small"></i></a>\n            </td>\n            <td>\n                <%- peerModel.entry.content.get(\'label\') %>\n            </td>\n            <% if (multisite == \'true\') { %>\n              <td>\n                  <%- peerModel.entry.content.get(\'site\') ? peerModel.entry.content.get(\'site\') : \'\'  %>\n              </td>\n            <% } %>\n            <td>\n                <%if (peerModel.isSearchable()) {%>\n                    <i class="icon-check"></i> <%= _(\'Yes\').t() %>\n                <%} else {%>\n                    <i class="icon-alert"></i> <%= _(\'No\').t() %>\n                <%} %>\n            </td>\n            <td>\n                <%- peerModel.getTranslatedStatus() %>\n            </td>\n            <td>\n                <%- peerModel.entry.content.get(\'bucket_count\')%>\n            </td>\n        </tr>\n    <% }) %>\n    </tbody>\n</table>\n'},587:function(module,exports){module.exports="<tr class=\"more-info\">\n    <td class=\"expands\"></td>\n    <td colspan=\"<%- colSpan %>\">\n        <dl class=\"list-dotted\">\n            <dt><%= _('Location').t() %></dt>\n            <dd><%- model.entry.content.get('host_port_pair') || _('N/A').t()%></dd>\n            <dt><%= _('Last Heartbeat').t() %></dt>\n            <dd><%- time_utils.convertToLocalTime(model.entry.content.get('last_heartbeat')) || _('N/A').t()%></dd>\n            <dt><%= _('Replication Port').t() %></dt>\n            <dd><%- model.entry.content.get('replication_port') || _('N/A').t()%></dd>\n            <dt><%= _('Base Generation ID').t() %></dt>\n            <dd><%- model.entry.content.get('base_generation_id') || _('N/A').t()%></dd>\n            <dt><%= _('GUID').t() %></dt>\n            <dd><%- model.entry.get('name') || _('N/A').t()%></dd>\n        </dl>\n    </td>\n</tr>"},588:function(module,exports){module.exports='<table class="table table-chrome table-striped expand-collapse-sandbox">\n  <thead>\n    <tr>\n      <th class="sorts" <%- sortKeyAttribute %>="name">\n        <a href="#"><%= _(\'Index Name\').t() %><i class="icon-sorts"></i></a>\n      </th>\n      <th class="sorts" <%- sortKeyAttribute %>="is_searchable">\n        <a href="#"><%= _(\'Fully Searchable\').t() %><i class="icon-sorts"></i></a>\n      </th>\n      <th class="sorts" <%- sortKeyAttribute %>="searchable_copies_tracker">\n        <a href="#"><%= _(\'Searchable Data Copies\').t() %><i class="icon-sorts"></i></a>\n      </th>\n      <th class="sorts" <%- sortKeyAttribute %>="replicated_copies_tracker">\n        <a href="#"><%= _(\'Replicated Data Copies\').t() %><i class="icon-sorts"></i></a>\n      </th>\n      <th class="sorts" <%- sortKeyAttribute %>="num_buckets">\n        <a href="#"><%= _(\'Buckets\').t() %><i class="icon-sorts"></i></a> <sup><a class="tooltip-link" rel="tooltip" data-title="<%= _(\'Buckets are directories where Splunk stores indexed data.\').t() %>" data-original-title="">?</a></sup>\n      </th>\n      <th class="sorts" <%- sortKeyAttribute %>="index_size">\n        <a href="#"><%= _(\'Cumulative Raw Data Size\').t() %><i class="icon-sorts"></i></a>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n  <% eachRow(collection, function(indexModel, index, rowNumber, isExpanded) { %>\n    <% var num_buckets = indexModel.entry.content.get(\'num_buckets\');\n      var buckets_with_excess_copies = indexModel.entry.content.get(\'buckets_with_excess_copies\');\n      var buckets_with_excess_searchable_copies = indexModel.entry.content.get(\'buckets_with_excess_searchable_copies\');\n      var total_excess_bucket_copies = indexModel.entry.content.get(\'total_excess_bucket_copies\');\n      var total_excess_searchable_copies = indexModel.entry.content.get(\'total_excess_searchable_copies\');\n    %>\n    <tr class="list-item">\n      <td><%-indexModel.entry.get(\'name\')%></td>\n      <td><%if (splunkUtil.normalizeBoolean(indexModel.entry.content.get(\'is_searchable\'))) {%>\n        <i class="icon-check"></i><%= _(\'Yes\').t() %>\n        <%} else {%>\n        <i class="icon-alert"></i><%= _(\'No\').t() %>\n        <%} %>\n      </td>\n      <td>\n        <span style="margin-right: 10px"><%- _.size(indexModel.entry.content.get(\'searchable_copies_tracker\')) %></span>\n        <div class="bucket-group">\n          <% _.each(indexModel.entry.content.get(\'searchable_copies_tracker\'), function(obj, key) {%><% if (obj.actual_copies_per_slot == obj.expected_total_per_slot){%><div class="bucket bucket-tooltip tooltip-link complete" rel="tooltip" data-title="<%= obj.actual_copies_per_slot %> / <%- obj.expected_total_per_slot %> <%= _(\'Buckets\').t() %>" data-original-title=""></div><% }else{ %><a href="clustering_bucket_details?index=<%- indexModel.entry.get(\'name\') %>&tab=fixup-buckets-tab&level=search_factor" class="bucket bucket-tooltip tooltip-link building" rel="tooltip" data-title="<%= obj.actual_copies_per_slot %> / <%- obj.expected_total_per_slot %> <%= _(\'Buckets\').t() + _(\'\\nClick for details\').t() %>" data-original-title=""><div class="bucket-progress-bar" style="height: <%- (obj.actual_copies_per_slot/obj.expected_total_per_slot)*100 %>%"></div></a><% } %><% }); %>\n        </div>\n      </td>\n      <td>\n        <span style="margin-right: 10px"><%- _.size(indexModel.entry.content.get(\'replicated_copies_tracker\')) %></span>\n        <div class="bucket-group">\n          <% _.each(indexModel.entry.content.get(\'replicated_copies_tracker\'), function(obj, key) {%><% if (obj.actual_copies_per_slot == obj.expected_total_per_slot){%><div class="bucket bucket-tooltip tooltip-link  complete" rel="tooltip" data-title="<%= obj.actual_copies_per_slot%> / <%-obj.expected_total_per_slot %> <%= _(\'Buckets\').t() %>" data-original-title=""></div><% }else{ %><a href="clustering_bucket_details?index=<%- indexModel.entry.get(\'name\') %>&tab=fixup-buckets-tab&level=replication_factor" class="bucket bucket-tooltip tooltip-link  building" rel="tooltip" data-title="<%= obj.actual_copies_per_slot %> / <%- obj.expected_total_per_slot %> <%= _(\'Buckets\').t() + _(\'\\nClick for details\').t() %>" data-original-title=""><div class="bucket-progress-bar" style="height: <%- (obj.actual_copies_per_slot/obj.expected_total_per_slot)*100 %>%"></div></a><% } %><% }); %>\n        </div>\n      </td>\n      <td>\n        <%- num_buckets %>\n        <% var indexName = indexModel.entry.get(\'name\');\n          /* var counts = {\n            checksum_sync: (fixups.getModel(\'checksum_sync\') && fixups.getModel(\'checksum_sync\').getBucketNames(indexName).length) || 0,\n            data_safety: (fixups.getModel(\'data_safety\') && fixups.getModel(\'data_safety\').getBucketNames(indexName).length) || 0,\n            generation: (fixups.getModel(\'generation\') && fixups.getModel(\'generation\').getBucketNames(indexName).length) || 0,\n            replication_factor: (fixups.getModel(\'replication_factor\') && fixups.getModel(\'replication_factor\').getBucketNames(indexName).length) || 0,\n            search_factor: (fixups.getModel(\'search_factor\') && fixups.getModel(\'search_factor\').getBucketNames(indexName).length) || 0,\n            streaming: (fixups.getModel(\'streaming\') && fixups.getModel(\'streaming\').getBucketNames(indexName).length) || 0\n          }; */ %>\n        <a class="tooltip-link" rel="tooltip" style="display: none;"\n           data-title="<% /* print(_(\'Fixups:\\nChecksum_sync: \').t() + counts.checksum_sync\n              + _(\'\\ndata_safety: \').t() + counts.data_safety\n              + _(\'\\ngeneration: \').t() + counts.generation\n              + _(\'\\nreplication factor: \').t() + counts.replication_factor\n              + _(\'\\nsearch factor: \').t() + counts.search_factor\n              + _(\'\\nstreaming: \').t() + counts.streaming\n              + _(\'\\n\\nNumber of buckets with excess replication copies: \').t() + buckets_with_excess_copies\n              + _(\'\\nNumber of buckets with excess searchable copies: \').t() + buckets_with_excess_searchable_copies\n              + _(\'\\nTotal excess replication copies: \').t() + total_excess_bucket_copies\n              + _(\'\\nTotal excess searchable copies: \').t() + total_excess_searchable_copies\n              ) */ %>"\n           data-original-title="">\n          <i class="icon-alert"></i>\n        </a>\n        <a class="btn" href="clustering_bucket_details" style="display: none;">details</a></td>\n      <td><%- convertToGygabytes(indexModel.entry.content.get(\'index_size\')) %> </td>\n    </tr>\n  <% }) %>\n  </tbody>\n</table>\n'},589:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".bucket-group{display:inline-block;vertical-align:top;line-height:0}.bucket-group>.bucket{width:30px;display:inline-block;height:16px;position:relative}.bucket-group>.bucket.complete{border:1px solid #568e2f;background-color:#63a336;background-image:linear-gradient(180deg,#69ac39,#5b9532);background-repeat:repeat-x}.bucket-group>.bucket.building,.bucket-group>.bucket.complete{box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05)}.bucket-group>.bucket.building{border:1px solid #ccc;background-color:#eee}.bucket-group>.bucket.building>.bucket-progress-bar{width:100%;height:0%;margin:-1px;border:1px solid #999;background-color:#b5b5b5;background-image:linear-gradient(180deg,#bababa,#adadad);background-repeat:repeat-x;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);position:absolute;bottom:0;transition:height .6s ease}.bucket-group>.bucket.empty{border:1px dashed #ccc;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05)}.bucket-group>.bucket:first-child{margin-left:0;border-bottom-left-radius:2px;border-top-left-radius:2px}.bucket-group>.bucket:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}.bucket-group>.bucket:first-child>.bucket-progress-bar{border-bottom-left-radius:2px}.bucket-group>.bucket:last-child>.bucket-progress-bar{border-bottom-right-radius:2px}.bucket-group>.bucket:not(:first-child){border-left:transparent}.bucket-group>.bucket:not(:first-child)>.bucket-progress-bar{border-left:transparent;margin-left:0}",""])},590:function(module,exports){module.exports='<table class="table table-chrome table-striped table-row-expanding">\n    <thead>\n    <tr>\n        <th class="<%- headerCellClass %>"><%= headerCellContent %></th>\n        <th class="sorts" <%- sortKeyAttribute %>="label">\n            <a href="#"><%= _(\'Search head name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <% if (multisite == \'true\') { %>\n          <th class="sorts" <%- sortKeyAttribute %>="site">\n            <a href="#"><%= _(\'Site\').t() %><i class="icon-sorts"></i></a>\n          </th>\n        <% } %>\n        <th class="sorts" <%- sortKeyAttribute %>="status">\n            <a href="#"><%= _(\'Status\').t() %><i class="icon-sorts"></i></a>\n        </th>\n    </tr>\n    </thead>\n    <tbody>\n    <% eachRow(collection, function(model, index, rowNumber, isExpanded) { %>\n    <tr class="list-item"  <%- rowIdAttribute %>="<%- model.entry.get(\'name\') %>">\n        <td class="<%- toggleCellClass %>">\n            <a href="#"><i class="icon-triangle-right-small"></i></a>\n        </td>\n        <td><%- model.entry.content.get(\'label\').length ? model.entry.content.get(\'label\') : model.entry.get(\'name\') %> </td>\n        <% if (multisite == \'true\') { %>\n          <td>\n            <%- model.entry.content.get(\'site\') ? model.entry.content.get(\'site\') : \'\'  %>\n          </td>\n        <% } %>\n        <td>\n            <% if (model.entry.content.get(\'status\') == \'Connected\') { %>\n            <i class="icon-check"></i>\n            <%= _(\'Up\').t() %>\n            <% } else { %>\n            <i class="icon-alert"></i>\n            <%= _(\'Down\').t() %>\n            <% } %>\n        </td>\n    </tr>\n    <% }) %>\n    </tbody>\n\n</table>\n';
},591:function(module,exports){module.exports="<tr class=\"more-info\">\n    <td class=\"expands\"></td>\n    <td colspan=\"<%- colSpan %>\">\n        <span class=\"expands\"></span>\n        <dl class=\"list-dotted\">\n            <dt><%= _('Location').t() %></dt>\n            <dd><%- model.entry.content.get('host_port_pair') || _('N/A').t()%></dd>\n            <dt><%= _('GUID').t() %></dt>\n            <dd><%- model.entry.get('name') || _('N/A').t()%></dd>\n        </dl>\n    </td>\n</tr>"},592:function(module,exports){module.exports='<a href="#" class="btn dropdown-toggle"><%= _(\'More Info\').t() %><span class="caret"></span></a>\n\n<div class="dropdown-menu dropdown-menu-wide">\n    <div class="arrow"></div>\n    <ul>\n    <dl class="list-dotted">\n        <dt>\n            <%= _(\'Name\').t() %>\n        </dt>\n        <dd>\n            <span id="label"><%-label%></span>\n        </dd>\n\n        <dt>\n            <%= _(\'Replication Factor\').t() %>\n            <sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'Replication factor is the number of copies of raw data that you want the cluster to maintain.\').t() %>">?</a></sup>\n        </dt>\n        <dd>\n            <span id="repFactor"><%-replicationFactor%></span>\n            <a href="#" class="open-overlay masterconfig" options=\'{"width": 400, "height": "230px", "modal": true, "sizeToFit": true}\'\n              <% if (multisite == \'true\') { %>\n              style="display:none"\n              <% } %>\n            >\n              <%= _(\'Edit\').t() %>\n            </a>\n        </dd>\n\n        <dt>\n            <%= _(\'Search Factor\').t() %>\n            <sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'Search factor is the number of searchable copies of data the cluster maintains.\').t() %>">?</a></sup>\n        </dt>\n        <dd>\n            <span id="searchFactor"><%-searchFactor%></span>\n            <a href="#" class="open-overlay masterconfig" options=\'{"width": 400, "height": "230px", "modal": true, "sizeToFit": true}\'\n              <% if (multisite == \'true\') { %>\n              style="display:none"\n              <% } %>\n            >\n              <%= _(\'Edit\').t() %>\n            </a>\n        </dd>\n\n        <dt>\n            <%= _(\'Generation ID\').t() %>\n            <sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The generation identifies which bucket copies are primary and therefore will participate in a search.\').t() %>">?</a></sup>\n        </dt>\n        <dd>\n            <span id="genId"><%-generationId%></span>\n            <a href="clustering_push" class="open-overlay cluster-push" options=\'{"width": 400, "height": "230px", "modal": true, "sizeToFit": true}\'>\n                <%= _(\'View details\').t() %>\n            </a>\n        </dd>\n    </dl>\n    </ul>\n</div>\n'},593:function(module,exports){module.exports='<div class="section-header section-padded">\n    <div class="btn-toolbar pull-right">\n        <div class="btn-group">\n            <div class="editMenu"></div>\n            <div class="info"></div>\n            <a href="<%=docLink%>" class="btn" target="_blank"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n        </div>\n    </div>\n    <h2 class="section-title"><%= _(\'Indexer Clustering: Master Node\').t() %></h2>\n</div>\n\n\n<div class="statusSummary"></div>\n\n<ul class="nav nav-tabs">\n    <% if (peers_count) { %>\n    <li id="tab-peers">\n        <a href="#clustering_peers" data-toggle="tab"><%= _(\'Peers\').t() %> (<span class=\'peers_count\'><%-peers_count%></span>)</a>\n    </li>\n    <li id="tab-indexes">\n        <a href="#clustering_indexes" data-toggle="tab"><%= _(\'Indexes\').t() %> (<span class=\'indexes_count\'><%-indexes_count%></span>)</a>\n    </li>\n    <% } %>\n    <li id="tab-searchheads">\n        <a href="#clustering_searchheads" data-toggle="tab"><%= _(\'Search Heads\').t() %> (<span class=\'searchheads_count\'><%-searchheads_count%></span>)</a>\n    </li>\n</ul>\n<div class="tab-content" id="configurations-tabs-contents">\n    <% if (peers_count) { %>\n    <div class="tab-pane" id="clustering_peers"></div>\n    <div class="tab-pane" id="clustering_indexes"> </div>\n    <% } %>\n    <div class="tab-pane <%- peers_count? \'\':\'active\' %>" id="clustering_searchheads"> </div>\n</div>\n'},594:function(module,exports){module.exports="<dt><%= _('Name').t() %></dt>\n<dd class=\"peerName\"><%-peerStatus.get('label')%></dd>\n\n<dt><%= _('Replication port').t() %></dt>\n<dd class=\"replicationPort\"><%-clusterConfig.entry.content.get('replication_port')%></dd>\n\n<dt><%= _('Master location').t() %></dt>\n<dd class=\"masterLocation\"><%-clusterConfig.entry.content.get('master_uri')%></dd>\n\n<dt><%= _('Base Generation ID').t() %><sup><a class=\"tooltip-link\" rel=\"tooltip\" data-title=\"<%= _('The generation identifies which bucket copies are primary and therefore will participate in a search.').t() %>\">?</a></sup></dt>\n<dd class=\"generationId\"><%-peerStatus.get('generation')%></dd>\n"},595:function(module,exports){module.exports='<div class="peer-node section-padded section-header">\n    <div class="btn-toolbar pull-right">\n        <div class="btn-group">\n\t        <div class="editMenu"></div>\n            <a href="<%=docLink%>" class="btn" target="_blank"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n        </div>\n    </div>\n    <h2 class="section-title"><%= _(\'Clustering: Peer Node\').t() %></h2>\n</div>\n<div class="section-padded peer-node-section-info"></div>\n'},596:function(module,exports){module.exports='<table class="table table-chrome table-striped table-row-expanding">\n    <colgroup>\n        <col class="col-info">\n        <col class="col-name col-flex">\n        <col class="col-searchable col-slim">\n        <col class="col-sfactor col-slim">\n        <col class="col-rfactor col-slim">\n        <col class="col-status col-slim">\n        <col class="col-actions col-slim">\n    </colgroup>\n    <thead>\n    <tr>\n        <th class="<%- headerCellClass %>"></th>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <%= _(\'Cluster Master\').t() %>\n        </th>\n        <th class="NOTsorts" <%- sortKeyAttribute %>="is_searchable">\n            <%= _(\'Searchable\').t() %>\n        </th>\n        <th class="NOTsorts" <%- sortKeyAttribute %>="search_factor_met">\n            <%= _(\'Search Factor\').t() %>\n        </th>\n        <th class="NOTsorts" <%- sortKeyAttribute %>="replication_factor_met">\n            <%= _(\'Replication Factor\').t() %>\n        </th>\n        <th class="NOTsorts" <%- sortKeyAttribute %>="TODO">\n            <%= _(\'Status\').t() %>\n        </th>\n        <th class="col-actions">\n            <%= _(\'Actions\').t() %>\n        </th>\n    </tr>\n    </thead>\n    <tbody>\n    <% eachRow(collection.searchheadConfigs, function(searchheadModel, index, rowNumber, isExpanded) {\n        var id = searchheadModel.id.split(\'/\').pop();\n        var generationModel = collection.searchheadGenerations.get(\'/services/cluster/searchhead/generation/\'+id);\n    %>\n\n        <tr class="list-item" <%- rowIdAttribute %>="<%=id %>" >\n            <td class="<%- toggleCellClass %>"><i class="icon-triangle-right"></i></td>\n            <td>\n                <%- searchheadModel.entry.get(\'name\') %>\n            </td>\n            <td>\n                <% if(generationModel && generationModel.entry.content.get(\'is_searchable\') == 1){ %>\n                    <i class="icon-check"></i> <%= _(\'All Data is Searchable\').t() %>\n                <% } else { %>\n                    <i class="icon-alert"></i> <%= _(\'Some Data is Not Searchable\').t() %>\n                <% } %>\n            </td>\n            <td>\n                <% if(generationModel && generationModel.entry.content.get(\'search_factor_met\') == 1){ %>\n                    <i class="icon-check"></i> <%= _(\'Met\').t() %>\n                <% } else { %>\n                    <i class="icon-alert"></i> <%= _(\'Not Met\').t() %>\n                <% } %>\n            </td>\n            <td>\n                <% if(generationModel && generationModel.entry.content.get(\'replication_factor_met\') == 1){ %>\n                    <i class="icon-check"></i> <%= _(\'Met\').t() %>\n                <% } else { %>\n                    <i class="icon-alert"></i> <%= _(\'Not Met\').t() %>\n                <% } %>\n            </td>\n            <td>\n                <% if(generationModel && generationModel.entry.content.get(\'status\') == 1){ %>\n                    <i class="icon-check"></i> <%= _(\'Up\').t() %>\n                <% } else { %>\n                    <i class="icon-alert"></i> <%= _(\'Down\').t() %>\n                <% } %>\n            </td>\n            <td class="col-actions">\n                <div class="actions-wrapper">\n                    <a href="#" class="editConfig" style="margin-right: 20px;">\n                      <%= _(\'Edit Configuration\').t() %></a>\n                    <a href="#" class="removeCluster"><%= _(\'Remove Cluster\').t() %></a>\n                </div>\n            </td>\n        </tr>\n\n    <% }) %>\n    </tbody>\n</table>\n'},597:function(module,exports){module.exports="<tr class='more-info'>\n    <td class=\"expands\"></td>\n    <td colspan=\"6\">\n        <dl class=\"list-dotted\">\n            <dt><%= _('Generation id').t() %></dt>\n            <dd><%-generationModel.entry.content.get('generation_id')%></dd>\n            <dt><%= _('Peers').t() %></dt>\n            <dd><%-numPeers%></dd>\n            <% if (generationModel.entry.content.get('generation_error')) { %>\n                <dt><%= _('Generation error').t() %></dt>\n                <dd><%-generationModel.entry.content.get('generation_error')%></dd>\n            <% } %>\n        </dl>\n    </td>\n</tr>\n"},598:function(module,exports){module.exports='<a href="#" class="btn dropdown-toggle"><%= _(\'More Info\').t() %><span class="caret"></span></a>\n\n<div class="dropdown-menu dropdown-menu-wide">\n    <div class="arrow"></div>\n    <ul>\n        <dl class="searchHeadDetails list-dotted">\n            <dt>\n                <%= _(\'Name\').t() %>\n            </dt>\n            <dd class="peerName">\n                <%- serverName %>\n            </dd>\n        </dl>\n    </ul>\n</div>\n\n'},"views/clustering/master/MasterNode":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/classicurl"),__webpack_require__("models/shared/EAIFilterFetchData"),__webpack_require__("views/Base"),__webpack_require__("views/clustering/EditMenu"),__webpack_require__("views/clustering/master/StatusSummary"),__webpack_require__("views/clustering/master/PeersTab"),__webpack_require__("views/clustering/master/IndexesTab"),__webpack_require__("views/clustering/master/SearchheadsTab"),__webpack_require__("views/clustering/master/MasterNodeInfo"),__webpack_require__("uri/route"),__webpack_require__(593)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,classicurlModel,EAIFilterFetchData,BaseView,EditMenu,StatusSummaryView,PeersTabView,IndexesTabView,SearchheadsTabView,MasterNodeInfoView,route,MasterNodeTemplate){return BaseView.extend({moduleId:module.id,template:MasterNodeTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.lastPeerCount=-1,this.model.metadataModel=new EAIFilterFetchData,this.classicUrl=classicurlModel,this.children.statusSummary=new StatusSummaryView({model:this.model,collection:this.collection}),this.children.editMenu=new EditMenu({model:this.model,collection:this.collection}),this.children.peersTabView=new PeersTabView({collection:this.collection,model:this.model}),this.children.indexesTabView=new IndexesTabView({collection:this.collection,model:this.model}),this.children.searchheadsTabView=new SearchheadsTabView({collection:this.collection,model:this.model}),this.children.masterNodeInfo=new MasterNodeInfoView({collection:this.collection,model:this.model}),this.model.peersStatusSummary.on("change reset",function(){this.checkNoPeers(),this.updatePeersCount(this.$el)},this),this.model.indexesStatusSummary.on("change reset",function(){this.updateIndexesCount(this.$el)},this),this.collection.masterSearchheadsTotal.on("change reset",function(){this.updateSearchheadsCount(this.$el)},this),this.urlDone=this.classicUrl.fetch({silentClear:!0}).done(_(function(){this.model.metadataModel.off("change",this.updateClassicUrlFromParams,this),this.updateParamsFromClassicUrl(),this.classicUrl.save(this.model.metadataModel.attributes),this.model.metadataModel.on("change",this.updateClassicUrlFromParams,this)}).bind(this))},checkNoPeers:function(){var count=this.model.peersStatusSummary.get("totalCount");return(this.lastPeerCount==-1||count>0&&0==this.lastPeerCount||0==count&&this.lastPeerCount>0)&&(this.lastPeerCount=count,this.render()),0==count},updatePeersCount:function($html){var el=$html.find(".peers_count"),count=this.model.peersStatusSummary.get("totalCount");el&&el.text(count||"")},updateIndexesCount:function($html){var el=$html.find(".indexes_count"),count=this.model.indexesStatusSummary.get("totalCount");el&&el.text(count)},updateSearchheadsCount:function($html){var el=$html.find(".searchheads_count");el&&el.text(this.collection.masterSearchheadsTotal.length)},updateClassicUrlFromParams:function(){_.debounce(function(){this.classicUrl.save(this.model.metadataModel.attributes,{trigger:!0})}.bind(this),0)()},updateParamsFromClassicUrl:function(){var cUrl=this.classicUrl,attrs=_(cUrl.attributes).defaults(this.model.metadataModel.attributes);this.model.metadataModel.set(attrs)},events:{"click #tab-peers a":function(){this.model.metadataModel.set({tab:"peers"})},"click #tab-indexes a":function(){this.model.metadataModel.set({tab:"indexes"})},"click #tab-searchheads a":function(){this.model.metadataModel.set({tab:"searchheads"})}},render:function(){var link=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"manager.clustering.dashboard"),peersCount=this.model.peersStatusSummary.get("totalCount"),html=this.compiledTemplate({peers_count:peersCount,indexes_count:this.collection.masterIndexes.length,searchheads_count:this.collection.masterSearchheads.length,clusterStatus:this.model.clusterStatus,model:this.model,docLink:link}),$html=$(html),learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"manager.clustering.configureClustering");this.updatePeersCount($html),peersCount&&(this.updateIndexesCount($html),this.updateSearchheadsCount($html)),peersCount?$html.filter(".statusSummary").html(this.children.statusSummary.render().el):$html.filter(".statusSummary").html(_.template(this.noPeersTemplate)({link:learnMoreLink}));var menuContent=this.$(".section-header .btn-group").detach();return menuContent.length?$html.find(".btn-group").replaceWith(menuContent):($html.find(".editMenu").replaceWith(this.children.editMenu.render().el),$html.find(".info").replaceWith(this.children.masterNodeInfo.render().el)),$.when(this.urlDone).done(function(){var tab=this.model.metadataModel.get("tab"),currentTab=$html.find("#clustering_"+tab).length?tab:"peers";peersCount&&($html.find("#clustering_peers").append(this.children.peersTabView.el),$html.find("#clustering_indexes").append(this.children.indexesTabView.el)),$html.find("#clustering_searchheads").append(this.children.searchheadsTabView.el),peersCount?($html.filter(".nav-tabs").find('a[href="#clustering_'+currentTab+'"]').tab("show"),$html.find("#clustering_"+currentTab).addClass("active")):($html.find('.nav-tabs a[href="#clustering_searchheads"]').tab("show"),$html.find("#tab-searchheads").addClass("active"))}.bind(this)),this.$el.html($html),this},noPeersTemplate:'\t            <div class="searchable-summary no-peers">\t                <div class="single-value">\t                    <h3 class="single-result"><%= _("No Peers Configured").t() %></h3>\t                    <p class=""><%= _("To learn how to configure peer nodes, refer to the documentation.").t() %> \t                    <a href="<%= link %>" class="external" target="_blank"><%= _("Learn More").t() %></a></p>\t                </div>\t            </div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/StatusSummary":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__(574),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,FlashMessagesView,StatusSummaryTemplate,splunkUtil,splunkDUtils,route){return BaseView.extend({moduleId:module.id,template:StatusSummaryTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({className:"message-single"}),this.model.masterGeneration.on("change reset",function(){this.debouncedRender()},this),this.model.indexesStatusSummary.on("change reset",function(){this.debouncedRender()},this),this.model.peersStatusSummary.on("change reset",function(){this.debouncedRender()},this),this.model.masterInfo.on("change reset",function(){if(this.model.masterInfo.entry.content.get("maintenance_mode")){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),docLink=route.docHelp(root,locale,"manager.clustering.maintenancemode"),restartMsg=this.model.masterInfo.entry.content.get("rolling_restart_flag")?_("A rolling restart of cluster peers was initiated").t():"",errMessage=_("This cluster is in maintenance mode. ").t()+"\n"+restartMsg+' <a href="'+docLink+'" class="external" target="_blank">'+_("Learn more.").t()+"</a>";this.children.flashMessages.flashMsgHelper.addGeneralMessage("cluster_maint_mode",{type:splunkDUtils.WARNING,html:errMessage})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("cluster_maint_mode")},this)},render:function(){var pendingLastReason=this.model.masterGeneration.entry.content.get("pending_last_reason"),searchFactorMet=this.model.masterGeneration.entry.content.get("search_factor_met"),repFactorMet=this.model.masterGeneration.entry.content.get("replication_factor_met"),isClusterSearchable="undefined"==typeof pendingLastReason?pendingLastReason:""===pendingLastReason,isSearchFactorMet="undefined"==typeof searchFactorMet?searchFactorMet:splunkUtil.normalizeBoolean(searchFactorMet),isRepFactorMet="undefined"==typeof repFactorMet?repFactorMet:splunkUtil.normalizeBoolean(repFactorMet),html=this.compiledTemplate({isClusterSearchable:isClusterSearchable,isSearchFactorMet:isSearchFactorMet,isReplicationFactorMet:isRepFactorMet,numSearchablePeers:this.model.peersStatusSummary.get("numSearchable"),numNotSearchablePeers:this.model.peersStatusSummary.get("numNotSearchable"),numSearchableIndexes:this.model.indexesStatusSummary.get("numSearchable"),numNotSearchableIndexes:this.model.indexesStatusSummary.get("numNotSearchable")});return this.$el.html(html),this.$el.prepend(this.children.flashMessages.render().el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/cluster/Config":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/StaticIdSplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseModel){return BaseModel.extend({url:"cluster/config",initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)},defaults:function(){var baseDefaults=BaseModel.prototype.defaults.apply(this,arguments);return _.extend({},baseDefaults,{"ui.master_uri":"","ui.secret":""})},transposeToRest:function(){this.entry.content.set("master_uri",this.get("ui.master_uri")),this.entry.content.set("secret",this.get("ui.secret")),this.entry.content.set("replication_factor",this.get("ui.replication_factor")),this.entry.content.set("search_factor",this.get("ui.search_factor")),this.entry.content.set("replication_port",this.get("ui.replication_port")),this.entry.content.set("mode",this.get("ui.mode")),this.entry.content.set("cluster_label",this.get("ui.cluster_label"))},transposeFromRest:function(){var masteruri=this.entry.content.get("master_uri");"?"!=masteruri||(masteruri="https://");var attr={"ui.master_uri":masteruri,"ui.secret":this.entry.content.get("secret"),"ui.replication_factor":this.entry.content.get("replication_factor"),"ui.search_factor":this.entry.content.get("search_factor"),"ui.replication_port":this.entry.content.get("replication_port"),"ui.cluster_label":this.entry.content.get("cluster_label")};this.set(attr)}},{id:"cluster/config/config"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/EditMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/clustering/config/Master"),__webpack_require__("views/clustering/config/DataRebalance"),__webpack_require__("views/clustering/master/RollingRestartDialog"),__webpack_require__("views/clustering/push/Master"),__webpack_require__("views/clustering/disable/DisableClustering"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("views/shared/RestartRequired"),__webpack_require__("views/shared/Restart"),__webpack_require__(584),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/clustering/EditMenu.pcss"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,BaseView,ConfigDialog,DataRebalanceDialog,RollingRestartDialog,PushConfig,DisableClustering,PopdownView,RestartRequired,Restart,EditMenuTemplate,route,splunkUtils,css){return BaseView.extend({moduleId:module.id,className:"btn-combo",template:EditMenuTemplate,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.wizard.on("disable",function(){this.model.clusterConfig.entry.content.set("mode","disabled"),this.model.clusterConfig.save({wait:!0}).done(function(){this.children.disableClustering.hide();var return_to=route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"clustering");this.children.success=new RestartRequired({model:{serverInfo:this.model.serverInfo},message:splunkUtils.sprintf(_("You must restart %s for clustering to be completely disabled.").t(),this.model.serverInfo.getProductName()),restartCallback:function(){this.children.success.hide(),this.children.restart=new Restart({model:{serverInfo:this.model.serverInfo}}),$("body").append(this.children.restart.render().el),this.children.restart.show()}.bind(this),return_to:return_to}),$("body").append(this.children.success.render().el),this.children.success.show()}.bind(this))},this),this.model.masterInfo&&this.model.masterInfo.entry.content.on("change:rolling_restart_flag",function(){this.model.masterInfo.entry.content.get("rolling_restart_flag")?this.$el.find("a#rollingRestart").addClass("disabled"):this.$el.find("a#rollingRestart").removeClass("disabled")},this),this.children.popdown=new PopdownView({el:this.el})},events:{"click a#nodeType":function(e){this.children.configDialog=new ConfigDialog({model:this.model,onHiddenRemove:!0}),$("body").append(this.children.configDialog.render().el),this.children.configDialog.show(),e.preventDefault()},"click a#masterConfig":function(e){this.children.configDialog=new ConfigDialog({model:this.model,startView:"master",onHiddenRemove:!0}),$("body").append(this.children.configDialog.render().el),this.children.configDialog.show(),e.preventDefault()},"click a#dataRebalance":function(e){this.children.dataRebalanceDialog=new DataRebalanceDialog({model:this.model,collection:this.collection,onHiddenRemove:!0}),$("body").append(this.children.dataRebalanceDialog.render().el),this.children.dataRebalanceDialog.show(),e.preventDefault()},"click a#peerConfig":function(e){this.children.configDialog=new ConfigDialog({model:this.model,startView:"peer",onHiddenRemove:!0}),$("body").append(this.children.configDialog.render().el),this.children.configDialog.show(),e.preventDefault()},"click a#disableCluster":function(e){this.children.disableClustering=new DisableClustering({model:this.model,onHiddenRemove:!0}),$("body").append(this.children.disableClustering.render().el),this.children.disableClustering.show(),e.preventDefault()},"click a#rollingRestart":function(e){e.preventDefault(),this.children.rollingRestartConfirmation=new RollingRestartDialog({model:{restartCluster:this.model.restartCluster,clusterConfig:this.model.clusterConfig,masterInfo:this.model.masterInfo,application:this.model.application},onHiddenRemove:!0}),this.children.rollingRestartConfirmation.render().appendTo($("body")),this.children.rollingRestartConfirmation.show()}},render:function(){var multisite="true"===this.model.clusterConfig.entry.content.get("multisite"),html=this.compiledTemplate({mode:this.model.clusterConfig.entry.content.get("mode"),multisite:multisite});return this.$el.html(html),multisite&&this.$("#masterConfig").tooltip({animation:!1,title:_("This capability is not available with multisite clusters. Use the CLI instead.").t(),container:"body"}),this.model.masterInfo&&this.model.masterInfo.entry.content.get("rolling_restart_flag")?this.$el.find("a#rollingRestart").addClass("disabled"):this.$el.find("a#rollingRestart").removeClass("disabled"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/disable/DisableClustering":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Modal){return Modal.extend({moduleId:module.id,events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.wizard.trigger("disable"),e.preventDefault()}}),render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Disable Clustering").t());var html=this.compiledTemplate({mode:this.model.clusterConfig.entry.content.get("mode")});return this.$(Modal.BODY_SELECTOR).append(html),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Disable clustering").t()+"</a>"),this},template:"<% if (mode=='master') { %>\t                <%= _('Before disabling clustering, make sure all the peers are disabled from the master. Are you sure you want to continue?').t() %>\t            <% } else { %>\t                <%= _('This will disable clustering on this node. Are you sure you want to continue?').t() %>\t            <% } %>"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/config/DataRebalance":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/clustering/config/DataRebalance.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,FlashMessagesCollection,FlashMessagesLegacyView,Modal,ControlGroup,splunkdUtils,splunkUtils,css){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,events:{"click a.start-button":function(e){e.preventDefault(),this.flashMessages.reset(),this.model.clusterConfig.save({rebalance_threshold:this.model.clusterConfig.entry.content.get("rebalance_threshold")},{patch:!0}).done(function(){this.rebalanceAction("start").fail(function(response){var errorText=response.responseJSON.messages[0].text;this.flashMessages.reset([{type:"error",html:errorText}])}.bind(this))}.bind(this)).fail(function(response){var errorText=response.responseJSON.messages[0].text;this.flashMessages.reset([{type:"error",html:errorText}])}.bind(this))},"click a.stop-button":function(e){e.preventDefault(),this.rebalanceAction("stop"),this.hideProgress()}},initialize:function(options){Modal.prototype.initialize.call(this,options);var indexItems=this.collection.masterIndexes.map(function(model){return{label:model.entry.get("name"),value:model.entry.get("name")}});indexItems.unshift({label:_("All Indexes").t(),value:null}),this.rebalanceModel=new Backbone.Model,this.children.threshold=new ControlGroup({controlType:"Text",className:"data-rebalance-threshold control-group",controlOptions:{modelAttribute:"rebalance_threshold",model:this.model.clusterConfig.entry.content,placeholder:_("Between 0.1 and 1").t()},controlClass:"controls-block",tooltip:_("Threshold limit. If set to 0.9, data rebalancing continues until the number of bucket copies on each peer is between .90 and 1.10 of the average number of copies for all peers. The threshold must be between 0.1 and 1.0.").t(),label:_("Threshold").t()}),this.children.maxRunTime=new ControlGroup({controlType:"Text",className:"data-rebalance-maxRunTime control-group",controlOptions:{modelAttribute:"max_time_in_min",model:this.rebalanceModel,placeholder:_("optional").t()},controlClass:"controls-block",tooltip:_("Maximum time, in minutes, to run data rebalancing.").t(),label:_("Max Runtime").t()}),this.children.index=new ControlGroup({controlType:"SyntheticSelect",className:"data-rebalance-index control-group",controlOptions:{modelAttribute:"index",model:this.rebalanceModel,items:indexItems,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},controlClass:"controls-block btn",tooltip:_("Run data rebalancing on all indexes or on a single specified index.").t(),label:_("Index").t()}),this.flashMessages=new FlashMessagesCollection,this.children.flashMessagesLegacy=new FlashMessagesLegacyView({collection:this.flashMessages})},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Data Rebalance").t()),this.children.flashMessagesLegacy.render().appendTo(this.$(Modal.BODY_SELECTOR)),this.children.threshold.render().appendTo(this.$(Modal.BODY_SELECTOR)),this.children.maxRunTime.render().appendTo(this.$(Modal.BODY_SELECTOR)),this.children.index.render().appendTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(this.progressTemplate),this.$(Modal.BODY_SELECTOR).append(this.statusTemplate),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),
this.$(Modal.FOOTER_SELECTOR).append(_.template(this.startButtonTemplate)),this.$(Modal.FOOTER_SELECTOR).append(_.template(this.startingButtonTemplate)),this.$(Modal.FOOTER_SELECTOR).append(_.template(this.stopButtonTemplate)),this.hideProgress(),this.pollStatus(),this},pollStatus:function(){this.rebalanceAction("status").done(function(response){var status=parseInt(response.entry[0].content.status,10),secondsRemaining=parseInt(response.entry[0].content.auto_stop_in_secs,10)||null,minutesLastCompleted=parseInt(response.entry[0].content.last_completed,10),daysLastCompleted=Math.floor(minutesLastCompleted/1440),hoursLastCompleted=Math.floor(minutesLastCompleted/60)-24*daysLastCompleted,minutesRemainingLastCompleted=minutesLastCompleted-24*daysLastCompleted*60-60*hoursLastCompleted,lastCompletedText=minutesLastCompleted===-1?_("Data has never been rebalanced since cluster master restart").t():splunkUtils.sprintf(_("Data was last rebalanced %d days and %d hours and %d minutes ago").t(),daysLastCompleted,hoursLastCompleted,minutesRemainingLastCompleted);status===-1?(this.hideProgress(),this.$(".data-rebalance-status").text(lastCompletedText),this.$(".start-button").show(),this.$(".starting-button").hide(),this.$(".stop-button").hide()):0===status?(this.showProgress(status,secondsRemaining),this.$(".data-rebalance-status").text(_("Data rebalance is preparing to start").t()),this.$(".start-button").hide(),this.$(".starting-button").show(),this.$(".stop-button").hide()):status>0?(this.showProgress(status,secondsRemaining),this.$(".start-button").hide(),this.$(".starting-button").hide(),this.$(".stop-button").show()):(this.hideProgress(),this.$(".data-rebalance-status").text(_("Data rebalance has an invalid status").t()),this.$(".start-button").hide(),this.$(".starting-button").hide(),this.$(".stop-button").hide()),setTimeout(this.pollStatus.bind(this),1e3)}.bind(this))},rebalanceAction:function(action){var data={action:action,output_mode:"json"};return"start"===action&&(this.rebalanceModel.has("max_time_in_min")&&(data.max_time_in_min=this.rebalanceModel.get("max_time_in_min")),this.rebalanceModel.has("index")&&(data.index=this.rebalanceModel.get("index"))),$.ajax({url:splunkdUtils.fullpath("cluster/master/control/control/rebalance_buckets"),type:"POST",contentType:"application/json",data:data})},showProgress:function(percentComplete,secondsRemaining){var hoursLeft=Math.floor(secondsRemaining/3600),minutesLeft=Math.floor(secondsRemaining/60)-60*hoursLeft,secondsLeft=secondsRemaining-60*hoursLeft*60-60*minutesLeft,timeLeftText=splunkUtils.sprintf(_("Data rebalance will autostop in %d:%d:%d").t(),hoursLeft,minutesLeft,secondsLeft);this.children.threshold.disable(),this.children.maxRunTime.disable(),this.children.index.disable(),this.$(".progress").show(),this.$(".progress-bar").css("width",4.1*percentComplete),this.$(".data-rebalance-status").text(secondsRemaining?timeLeftText:""),this.$(".sr-only").text(percentComplete+"%")},hideProgress:function(){this.children.threshold.enable(),this.children.maxRunTime.enable(),this.children.index.enable(),this.$(".progress").hide(),this.$(".progress-bar").css("width",0),this.$(".sr-only").text("0%")},startButtonTemplate:'<a href="#" class="btn btn-primary pull-right start-button"> <%= _("Start").t() %> </a>',startingButtonTemplate:'<a href="#" class="btn btn-primary pull-right starting-button disabled"> <%= _("Starting ...").t() %> </a>',stopButtonTemplate:'<a href="#" class="btn pull-right stop-button"> <%= _("Stop").t() %> </a>',statusTemplate:'\t                <div class="data-rebalance-text">\t                    <span class="data-rebalance-status"></span>\t                </div>',progressTemplate:'\t                <div class="progress" style="display: block;">\t                    <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width:0%;">\t                        <span class="sr-only">0%</span>\t                    </div>\t                </div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/config/DataRebalance.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(575);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/services/cluster/master/Generation":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/StaticIdSplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseModel){return BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{id:"cluster/master/generation/master"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/RollingRestartDialog":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_backbone=__webpack_require__("require/backbone"),_backbone2=_interopRequireDefault(_backbone),_Modal=__webpack_require__("views/shared/Modal"),_Modal2=_interopRequireDefault(_Modal),_FlashMessages=__webpack_require__("views/shared/FlashMessages"),_FlashMessages2=_interopRequireDefault(_FlashMessages),_ControlGroup=__webpack_require__("views/shared/controls/ControlGroup"),_ControlGroup2=_interopRequireDefault(_ControlGroup),_splunkd_utils=__webpack_require__("util/splunkd_utils"),_splunkd_utils2=_interopRequireDefault(_splunkd_utils),_route=__webpack_require__("uri/route"),_route2=_interopRequireDefault(_route);__webpack_require__("views/clustering/master/RollingRestartDialog.pcss"),exports.default=_Modal2.default.extend({moduleId:module.id,className:""+_Modal2.default.CLASS_NAME,initialize:function(options){for(var _Modal$prototype$init,_this=this,_len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];(_Modal$prototype$init=_Modal2.default.prototype.initialize).call.apply(_Modal$prototype$init,[this,options].concat(rest)),this.workingModel=new _backbone2.default.Model({enableSiteOrder:!1}),this.children.flashMessages=new _FlashMessages2.default({model:{clusterConfig:this.model.clusterConfig,restartCluster:this.model.restartCluster}}),this.children.percentPeers=new _ControlGroup2.default({controlType:"Text",controlOptions:{modelAttribute:"percent_peers_to_restart",model:this.model.clusterConfig.entry.content},controlClass:"percent-peer-text",additionalClassNames:"form-horizontal",label:(0,_underscore2.default)("Percent peers to restart").t(),tooltip:(0,_underscore2.default)("Specify a percentage, default is 10").t()}),this.model.masterInfo.isMultiSite()&&(this.children.siteOrderLabel=new _ControlGroup2.default({controlType:"SyntheticCheckbox",label:(0,_underscore2.default)("Specify Site Order").t(),controlClass:"site-order-checkbox",additionalClassNames:"form-horizontal",controlOptions:{modelAttribute:"enableSiteOrder",model:this.workingModel}}),this.constructSitesDropdown(),this.workingModel.on("change:enableSiteOrder",function(){_underscore2.default.each(_this.rowKeys,function(key){_this.workingModel.get("enableSiteOrder")?_this.children[key].$el.show():_this.children[key].$el.hide()})}))},constructSitesDropdown:function(){for(var sites=this.model.masterInfo.getAvailableSites(),i=0;i<sites.length;i+=1){var rowId="row"+i;this.workingModel.set(rowId,sites[i]),this.children[rowId]=new _ControlGroup2.default({label:i+1+" . ",className:"control-group",controlType:"SyntheticSelect",controlClass:"sites-dropdown",additionalClassNames:"form-horizontal",controlOptions:{className:"btn-group view-count",model:this.workingModel,modelAttribute:rowId,toggleClassName:"btn",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"},items:sites.map(function(site){var obj={label:site,value:site};return obj})}})}},events:_jquery2.default.extend({},_Modal2.default.prototype.events,{"click a.modal-btn-primary":function(e){var _this2=this;if(e.preventDefault(),this.workingModel.get("enableSiteOrder")&&this.model.masterInfo.isMultiSite()){var siteOrder=this.rowKeys.reduce(function(order,key){var o=""+order+_this2.workingModel.get(key)+",";return o},"");this.model.clusterConfig.save({percent_peers_to_restart:this.model.clusterConfig.entry.content.get("percent_peers_to_restart"),wait:!0},{patch:!0}).done(function(){_this2.model.restartCluster.save({"site-order":siteOrder.replace(/,(\s+)?$/,"")},{success:function(){_this2.hide()}})})}else this.model.clusterConfig.save({percent_peers_to_restart:this.model.clusterConfig.entry.content.get("percent_peers_to_restart"),wait:!0},{patch:!0}).done(function(){_this2.model.restartCluster.save({},{success:function(model,payload){_this2.hide(),_this2.model.restartCluster.set("restartTime",payload.updated)}})})}}),render:function(){var _this3=this;this.$el.html(_Modal2.default.TEMPLATE),this.$(_Modal2.default.HEADER_TITLE_SELECTOR).html((0,_underscore2.default)("Index Cluster Rolling Restart").t());var root=this.model.application.get("root"),locale=this.model.application.get("locale"),docLink=_route2.default.docHelp(root,locale,"learnmore.idxc.rollingrestart"),errMessage=(0,_underscore2.default)("Are you sure you want to initiate a rolling restart? This action puts the cluster into maintenance mode. ").t()+" <a href="+docLink+' class="external" \n            target="_blank"> '+(0,_underscore2.default)("Learn more.").t()+"</a>";return this.children.flashMessages.flashMsgHelper.addGeneralMessage("cluster_rolling_restart",{type:_splunkd_utils2.default.WARNING,html:errMessage}),this.$(_Modal2.default.BODY_SELECTOR).append(this.children.flashMessages.render().$el),this.$(_Modal2.default.BODY_SELECTOR).append(this.children.percentPeers.render().$el),this.$(_Modal2.default.BODY_SELECTOR).find(".percent-peer-text .control").append((0,_underscore2.default)('<span class="add-on"><%- _("%").t() %></span>').template({})),this.children.siteOrderLabel&&(this.$(_Modal2.default.BODY_SELECTOR).append(this.children.siteOrderLabel.render().$el),this.rowKeys=Object.keys(this.children).filter(function(key){return key.includes("row")}),_underscore2.default.each(this.rowKeys,function(key){_this3.$(_Modal2.default.BODY_SELECTOR).append(_this3.children[key].render().$el),_this3.workingModel.get("enableSiteOrder")?_this3.children[key].$el.show():_this3.children[key].$el.hide()})),this.$(_Modal2.default.FOOTER_SELECTOR).append(_Modal2.default.BUTTON_CANCEL),this.$(_Modal2.default.FOOTER_SELECTOR).append('\n            <a href="#" class="btn btn-primary modal-btn-primary pull-right">\n                '+(0,_underscore2.default)("Begin Rolling Restart").t()+"\n            </a>"),this}}),module.exports=exports.default},"views/clustering/master/RollingRestartDialog.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(576);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/services/cluster/master/Info":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/StaticIdSplunkDBase"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel,splunkUtil){return BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)},getAvailableSites:function(){var sites=[];return _.has(this.entry.content.attributes,"available_sites")&&(sites=this.entry.content.get("available_sites").replace("[","").replace("]","").split(",")),sites},isMultiSite:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("multisite"))}},{id:"cluster/master/info/master"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("models/clustering/Actions"),__webpack_require__("views/Base"),__webpack_require__("views/clustering/push/PushStatus"),__webpack_require__("views/clustering/push/ActionProgress"),__webpack_require__("views/clustering/push/PushErrors"),__webpack_require__("views/clustering/push/peer_nodes/table/Master"),__webpack_require__("views/clustering/push/system/Actions"),__webpack_require__("views/clustering/push/StatusMessage"),__webpack_require__("uri/route"),__webpack_require__(582),__webpack_require__("views/clustering/push/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,ActionsModel,BaseView,PushStatus,ActionProgressBar,PushErrors,StatusTableView,ActionsView,StatusMessageView,route,Template,css){return BaseView.extend({moduleId:module.id,template:Template,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.pushStatus=new PushStatus({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo}}),this.children.validateProgress=new ActionProgressBar({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersValidated",label:_("Peers Validated:").t()}),this.children.restartProgress=new ActionProgressBar({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersRestarted",label:_("Restarting Peer:").t()}),this.children.reloadProgress=new ActionProgressBar({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersReloaded",label:_("Peers Reloaded:").t()}),this.children.checkRestartProgress=new ActionProgressBar({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersCheckRestarted",label:_("Peers Checked For Restart:").t()}),this.children.pushErrors=new PushErrors({model:{pushModel:this.model.pushModel}}),this.children.statusTableView=new StatusTableView({model:{state:this.collection.peers.fetchData,pushModel:this.model.pushModel},collection:{peers:this.collection.peers}}),this.children.actionsView=new ActionsView({model:this.model}),this.model.pushModel.on("action",function(){this.children.statusMessage&&this.children.statusMessage.remove(),this.children.statusMessage=new StatusMessageView({model:{masterInfo:this.model.masterInfo}}),this.children.pushStatus.$el.hide(),this.children.actionsView.disableButtons(),this.$(".section-bg").prepend(this.children.statusMessage.render().el),this.children.statusMessage.$el.show()},this),this.model.pushModel.on("change:state",function(){var state=this.model.pushModel.get("state");if("idle"!==state){var lastRunAction=this.model.pushModel.get("lastRunAction");lastRunAction===ActionsModel.actions.VALIDATE?(this.children.validateProgress.reset(),this.children.validateProgress.$el.show()):lastRunAction===ActionsModel.actions.CHECK_RESTART?(this.children.validateProgress.reset(),this.children.validateProgress.$el.show(),this.children.reloadProgress.reset(),this.children.reloadProgress.$el.show(),this.children.checkRestartProgress.reset(),this.children.checkRestartProgress.$el.show()):lastRunAction===ActionsModel.actions.ROLLBACK?(this.children.validateProgress.reset(),this.children.validateProgress.$el.show(),this.children.reloadProgress.reset(),this.children.reloadProgress.$el.show(),"restart"===state&&(this.children.restartProgress.reset(),this.children.restartProgress.$el.show())):lastRunAction===ActionsModel.actions.PUSH&&(this.children.validateProgress.reset(),this.children.validateProgress.$el.show(),this.children.reloadProgress.reset(),this.children.reloadProgress.$el.show(),"restart"===state&&(this.children.restartProgress.reset(),this.children.restartProgress.$el.show()))}else setTimeout(function(){this.children.pushStatus.$el.show(),this.children.validateProgress.$el.hide(),this.children.checkRestartProgress.$el.hide(),this.children.reloadProgress.$el.hide(),this.children.restartProgress.$el.hide(),this.children.statusMessage&&this.children.statusMessage.$el.hide(),this.children.actionsView.enableButtons()}.bind(this),1e3)},this),this.model.pushModel.on("tick",function(){_.isEmpty(this.model.pushModel.get("errors"))?this.children.pushErrors.$el.hide():this.children.pushErrors.$el.show()},this)},render:function(){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),docLink=route.docHelp(root,locale,"manager.clustering.bundle"),learnMoreLink=route.docHelp(root,locale,"learnmore.clustering.bundle"),html=this.compiledTemplate({docLink:docLink,learnMoreLink:learnMoreLink});this.$el.html(html),this.$(".section-header").append(this.children.actionsView.render().el),this.$(".section-bg").append(this.children.pushStatus.render().el),this.$(".section-bg").append(this.children.validateProgress.render().el),this.$(".section-bg").append(this.children.reloadProgress.render().el),this.$(".section-bg").append(this.children.checkRestartProgress.render().el),this.$(".section-bg").append(this.children.restartProgress.render().el),this.$(".section-bg").append(this.children.pushErrors.render().el),this.$(".section-bg").append(this.children.statusTableView.render().el),this.children.validateProgress.$el.hide(),this.children.reloadProgress.$el.hide(),this.children.checkRestartProgress.$el.hide(),this.children.restartProgress.$el.hide()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/PushErrors":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__(577),__webpack_require__("views/clustering/push/PushErrors.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,Template,css){return BaseView.extend({moduleId:module.id,template:Template,events:{"click .cluster-errors-more, .cluster-errors-less":function(e){e.preventDefault(),this.$(".cluster-errors-full, .cluster-errors-short").toggle()}},initialize:function(options){BaseView.prototype.initialize.call(this,options),this.model.pushModel.on("tick",this.render,this)},digestErrors:function(pushErrors){for(var flatErrors=[],i=0;i<pushErrors.length;i++)if(_.isArray(pushErrors[i].errors))for(var j=0;j<pushErrors[i].errors.length;j++)flatErrors.push([pushErrors[i].label,pushErrors[i].errors[j]]);else flatErrors.push([pushErrors[i].label,pushErrors[i].errors]);var dedupLabels=[],dedupErrors=[];_.each(flatErrors,function(error){var findDup=dedupErrors.indexOf(error[1]);findDup!==-1?error[0]&&dedupLabels[findDup].push(error[0]):(dedupLabels.push([error[0]]),dedupErrors.push(error[1]))});var errors=[];for(i=0;i<dedupLabels.length;i++){var error="",labels=_.without(dedupLabels[i],void 0);labels.length>0&&labels.length<=5?error=labels.join(", ")+": ":labels.length>5&&(error=labels.slice(0,5).join(", ")+_(", and more").t()+": "),error+=dedupErrors[i],errors.push(error)}return errors},render:function(){var pushErrors=this.model.pushModel.get("errors")||[],html=this.compiledTemplate({errors:this.digestErrors(pushErrors),maxErrors:3});this.$el.html(html),this.$(".cluster-errors-full").hide()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/cluster/slave/Info":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/StaticIdSplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)}},{id:"cluster/slave/info"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/PushErrors.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(578);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/services/cluster/searchhead/Generation":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({urlRoot:"cluster/searchhead/generation/",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/clustering/Actions":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _Base=__webpack_require__("models/Base"),_Base2=_interopRequireDefault(_Base);exports.default=_Base2.default.extend({initialize:function(options){_Base2.default.prototype.initialize.call(this,options)}},{actions:{PUSH:"push",CHECK_RESTART:"check_restart",ROLLBACK:"rollback"}}),module.exports=exports.default},"views/clustering/push/PushStatus":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("models/clustering/Actions"),__webpack_require__(579),__webpack_require__("util/time"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,FlashMessagesView,ActionsModel,Template,timeUtils,bsTooltip){return BaseView.extend({moduleId:module.id,template:Template,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({model:this.model.masterControl}),this.model.pushModel.on("reset change",this.render,this)},getTitle:function(){switch(this.model.pushModel.get("lastRunAction")){case ActionsModel.actions.CHECK_RESTART:return _("Last Validate and Check Restart: ").t();case ActionsModel.actions.PUSH:return _("Last Push: ").t();case ActionsModel.actions.ROLLBACK:return _("Last Rollback: ").t();default:return _("Bundle Information: ").t()}},render:function(){if(this.model.masterInfo&&this.model.pushModel){var activeBundle=this.model.masterInfo.entry.content.get("active_bundle"),latestBundle=this.model.masterInfo.entry.content.get("latest_bundle"),checkRestartBundle=this.model.masterInfo.entry.content.get("last_dry_run_bundle"),previousBundle=this.model.masterInfo.entry.content.get("previous_active_bundle"),timeLastPush=latestBundle&&latestBundle.timestamp?timeUtils.convertToLocalTime(latestBundle.timestamp):_("N/A").t(),activeBundleId=activeBundle&&activeBundle.checksum&&""!==activeBundle.checksum?activeBundle.checksum:_("N/A").t(),latestBundleId=latestBundle&&latestBundle.checksum&&""!==latestBundle.checksum?latestBundle.checksum:_("N/A").t(),checkRestartBundleId=checkRestartBundle&&checkRestartBundle.checksum&&""!==checkRestartBundle.checksum?checkRestartBundle.checksum:_("N/A").t(),previousBundleId=previousBundle&&previousBundle.checksum&&""!==previousBundle.checksum?previousBundle.checksum:_("N/A").t(),html=this.compiledTemplate({lastActionSuccess:this.model.pushModel.get("lastActionSuccess"),timeLastPush:timeLastPush,activeBundleId:activeBundleId,latestBundleId:latestBundleId,checkRestartBundleId:checkRestartBundleId,previousBundleId:previousBundleId,lastRunAction:this.model.pushModel.get("lastRunAction"),restartRequired:this.model.pushModel.get("restartRequired"),title:this.getTitle(),actions:ActionsModel.actions});this.$el.html(html),this.$el.prepend(this.children.flashMessages.render().el),this.$(".tooltip-link").tooltip({animation:!1,container:"body"})}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/cluster/master/RestartCluster":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_backbone=__webpack_require__("require/backbone"),_backbone2=_interopRequireDefault(_backbone),_underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_SplunkDBase=__webpack_require__("models/SplunkDBase"),_SplunkDBase2=_interopRequireDefault(_SplunkDBase),_splunkd_utils=__webpack_require__("util/splunkd_utils"),_splunkd_utils2=_interopRequireDefault(_splunkd_utils);exports.default=_SplunkDBase2.default.extend({url:_splunkd_utils2.default.fullpath("cluster/master/control/control/restart"),sync:function(method,model,options){var defaults={},hasSiteOrder=_underscore2.default.has(model.attributes,"site-order");if("create"!==method&&"update"!==method)throw new Error("invalid method: "+method);return defaults.data=_jquery2.default.extend({},{output_mode:"json","site-order":hasSiteOrder?model.get("site-order"):void 0,"site-by-site":!!hasSiteOrder||void 0}),defaults.processData=!0,_jquery2.default.extend(!0,defaults,options),_backbone2.default.sync.call(null,method,model,defaults)}}),module.exports=exports.default},"routers/Clustering":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("routers/Base"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("models/services/cluster/Config"),__webpack_require__("models/services/cluster/master/Generation"),__webpack_require__("models/services/cluster/master/Info"),__webpack_require__("models/services/cluster/slave/Info"),__webpack_require__("models/services/cluster/searchhead/Generation"),__webpack_require__("models/services/cluster/master/RestartCluster"),__webpack_require__("collections/services/cluster/master/Fixups"),__webpack_require__("collections/services/cluster/master/Indexes"),__webpack_require__("collections/services/cluster/master/Searchheads"),__webpack_require__("collections/services/cluster/master/Peers"),__webpack_require__("collections/services/cluster/searchhead/Generations"),__webpack_require__("collections/services/cluster/searchhead/SearchheadConfigs"),__webpack_require__("views/shared/Paywall"),__webpack_require__("views/clustering/EnableClustering"),__webpack_require__("views/clustering/master/MasterNode"),__webpack_require__("views/clustering/peer/PeerNode"),__webpack_require__("views/clustering/searchhead/SearchHeadNode"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/bootstrap.tab")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,BaseRouter,ServerInfoModel,ClusterConfig,MasterGeneration,MasterInfo,PeerInfoModel,GenerationModel,RestartClusterModel,MasterFixupsCollection,MasterIndexesCollection,MasterSearchheads,PeersCollection,SearchheadGenerationsCollection,SearchheadConfigsCollection,PaywallView,EnableClusteringView,MasterNodeView,PeerNodeView,SearchHeadNodeView,splunk_util){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.setPageTitle(_("Indexer Clustering").t()),this.DEFAULT_PAGE_COUNT=10,this.DEFAULT_POLL_DELAY=5e3,this.clusterConfig=new ClusterConfig,this.deferreds.clusterConfig=this.clusterConfig.fetch(),this.model.wizard=new Backbone.Model,$.when(this.deferreds.serverInfo,this.deferreds.clusterConfig).then(function(){var mode=this.clusterConfig.entry.content.get("mode");"disabled"==mode?(this.mainView=new EnableClusteringView({model:{clusterConfig:this.clusterConfig,application:this.model.application,serverInfo:this.model.serverInfo,wizard:this.model.wizard}}),this.deferreds.pageViewRendered.done(function(){this.pageView.$(".main-section-body").append(this.mainView.render().el)}.bind(this))):"master"==mode?(this.mainView=new MasterNodeView(this.prepareMaster()),this.deferreds.pageViewRendered.done(function(){this.pageView.$(".main-section-body").append(this.mainView.el)}.bind(this))):"slave"==mode?(this.mainView=new PeerNodeView(this.preparePeer()),this.deferreds.pageViewRendered.done(function(){this.pageView.$(".main-section-body").append(this.mainView.render().el)}.bind(this))):"searchhead"==mode&&(this.mainView=new SearchHeadNodeView(this.prepareSearchHead()),this.deferreds.pageViewRendered.done(function(){this.pageView.$(".main-section-body").append(this.mainView.render().el)}.bind(this)))}.bind(this)).fail(function(jqXHR,textStatus,errorThrown){402==jqXHR.status&&(this.mainView=new PaywallView({title:_("Indexer Clustering").t(),model:{application:this.model.application}}),this.deferreds.pageViewRendered.done(function(){this.pageView.$(".main-section-body").append(this.mainView.render().el)}.bind(this)))}.bind(this))},prepareSearchHead:function(){var generationsCollection=new SearchheadGenerationsCollection,clusterConfigModel=this.clusterConfig,searchheadConfigsCollection=new SearchheadConfigsCollection;return searchheadConfigsCollection.fetch(),this.fetchLooper([generationsCollection]),{model:{clusterConfig:clusterConfigModel,serverInfo:this.model.serverInfo,application:this.model.application,wizard:this.model.wizard},collection:{searchheadGenerations:generationsCollection,searchheadConfigs:searchheadConfigsCollection}}},preparePeer:function(){var peerStatusModel=new Backbone.Model,peerInfo=new PeerInfoModel,peerInfoFetch=peerInfo.fetch(),clusterConfig=this.clusterConfig;return $.when(peerInfoFetch).done(function(){peerStatusModel.set({status:peerInfo.entry.content.get("status"),generation:peerInfo.entry.content.get("base_generation_id"),is_registered:peerInfo.entry.content.get("is_registered"),master_uri:clusterConfig.entry.content.get("master_uri"),replication_port:clusterConfig.entry.content.get("replication_port"),label:this.model.serverInfo.getServerName()})}.bind(this)),{model:{clusterConfig:this.clusterConfig,peerStatus:peerStatusModel,peerInfo:peerInfo,application:this.model.application,serverInfo:this.model.serverInfo,wizard:this.model.wizard}}},prepareMaster:function(){var masterGeneration=new MasterGeneration,masterInfo=new MasterInfo,masterPeers=new PeersCollection;masterPeers.fetchData.set("count",this.DEFAULT_PAGE_COUNT);var masterIndexesCollection=new MasterIndexesCollection;masterIndexesCollection.fetchData.set("count",this.DEFAULT_PAGE_COUNT);var masterSearchheads=new MasterSearchheads;masterSearchheads.fetchData.set("count",this.DEFAULT_PAGE_COUNT);var masterSearchheadsTotal=new MasterSearchheads;masterSearchheadsTotal.fetchData.set("count",-1);var fetchArray=[masterGeneration,masterInfo,masterPeers,masterIndexesCollection,masterSearchheads,masterSearchheadsTotal],indexesStatusSummaryModel=this.indexesStatusSummaryModel(fetchArray),peersStatusSummaryModel=this.peersStatusSummaryModel(masterGeneration,fetchArray);
return this.fetchLooper(fetchArray),{collection:{peers:masterPeers,masterSearchheads:masterSearchheads,masterSearchheadsTotal:masterSearchheadsTotal,masterIndexes:masterIndexesCollection},model:{clusterConfig:this.clusterConfig,restartCluster:new RestartClusterModel,masterInfo:masterInfo,indexesStatusSummary:indexesStatusSummaryModel,peersStatusSummary:peersStatusSummaryModel,masterGeneration:masterGeneration,application:this.model.application,serverInfo:this.model.serverInfo,wizard:this.model.wizard}}},peersStatusSummaryModel:function(masterGeneration,fetchArray){var model=new Backbone.Model,masterPeers=new PeersCollection;masterPeers.fetchData.set("count",-1),masterPeers.fetchData.set("f","is_searchable"),fetchArray.push(masterPeers);var go=function(){if(masterPeers.hasSynced&&masterGeneration.hasSynced){var numSearchable=0,numUnsearchable=0;masterPeers.each(function(peer,i){splunk_util.normalizeBoolean(peer.entry.content.get("is_searchable"))?numSearchable+=1:numUnsearchable+=1}),model.set({numSearchable:numSearchable,numNotSearchable:numUnsearchable,totalCount:masterPeers.length})}};return masterPeers.on("sync",function(){masterPeers.hasSynced=!0,go()},this),masterGeneration.on("sync",function(){masterGeneration.hasSynced=!0,go()},this),model},indexesStatusSummaryModel:function(fetchArray){var model=new Backbone.Model,indexes=new MasterIndexesCollection;return indexes.fetchData.set("count",-1),indexes.fetchData.set("f","is_searchable"),fetchArray.push(indexes),indexes.on("change reset",function(){var numSearchable=0,numUnsearchable=0;indexes.each(function(index,i){splunk_util.normalizeBoolean(index.entry.content.get("is_searchable"))?numSearchable+=1:numUnsearchable+=1}),model.set({numSearchable:numSearchable,numNotSearchable:numUnsearchable,totalCount:indexes.length})},this),model},fetchLooper:function(toFetch){for(var self=this,i=0,len=toFetch.length;i<len;i++)toFetch[i].safeFetch();window.setTimeout(function(){self.fetchLooper(toFetch)},this.DEFAULT_POLL_DELAY)},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),this.deferreds.pageViewRendered.done(function(){$(".preload").replaceWith(this.pageView.el)}.bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/cluster/master/Fixups":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/cluster/master/Fixup"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"cluster/master/fixup",model:Model,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/ActionProgress.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(581);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/services/cluster/master/Fixup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/StaticIdSplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseModel){return BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{id:"cluster/master/fixup"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/peer_nodes/table/Master":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__("shim/jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_Base=__webpack_require__("views/Base"),_Base2=_interopRequireDefault(_Base),_TableHead=__webpack_require__("views/shared/TableHead"),_TableHead2=_interopRequireDefault(_TableHead),_TableRow=__webpack_require__("views/clustering/push/peer_nodes/table/TableRow"),_TableRow2=_interopRequireDefault(_TableRow),_TableDock=__webpack_require__("views/shared/delegates/TableDock"),_TableDock2=_interopRequireDefault(_TableDock),_TableRowToggle=__webpack_require__("views/shared/delegates/TableRowToggle"),_TableRowToggle2=_interopRequireDefault(_TableRowToggle),_MoreInfo=__webpack_require__("views/clustering/push/peer_nodes/table/MoreInfo"),_MoreInfo2=_interopRequireDefault(_MoreInfo);exports.default=_Base2.default.extend({moduleId:module.id,initialize:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_Base2.default.prototype.initialize.apply(this,args),this.children.tableRowToggle=new _TableRowToggle2.default({el:this.el,collapseOthers:!1}),this.tableHeaders=[],this.tableHeaders.push({label:(0,_underscore2.default)("i").t(),className:"col-info",html:'<i class="icon-info"></i>'}),this.tableHeaders.push({label:(0,_underscore2.default)("Peer").t(),sortKey:"label"}),this.tableHeaders.push({label:(0,_underscore2.default)("Site").t(),className:"col-actions"}),this.tableHeaders.push({label:(0,_underscore2.default)("Status").t(),className:"col-status"}),this.tableHeaders.push({label:(0,_underscore2.default)("Action Status").t(),className:"col-action-status"}),this.children.head=new _TableHead2.default({model:this.model.state,columns:this.tableHeaders}),this.children.rows=this.rowsFromCollection(),this.activate(),this.children.tableDock=new _TableDock2.default({el:this.el,offset:36,dockScrollBar:!1,defaultLayout:"fixed",flexWidthColumn:1})},startListening:function(){this.listenTo(this.collection.peers,"reset",this.updateAndRenderRows)},rowsFromCollection:function(){var _this=this;return _underscore2.default.flatten(this.collection.peers.map(function(model,i){return[new _TableRow2.default({model:{peer:model,state:_this.model.state,pushModel:_this.model.pushModel},index:i}),new _MoreInfo2.default({model:{peer:model,pushModel:_this.model.pushModel},index:i,colSpan:_this.tableHeaders.length-1})]},this))},renderRows:function(){var _this2=this;(0,_underscore2.default)(this.children.rows).each(function(row){row.render().appendTo(_this2.$(".peer-nodes"))},this),this.children.tableDock.update()},updateAndRenderRows:function(){(0,_underscore2.default)(this.children.rows).each(function(row){row.remove()},this),this.children.rows=this.rowsFromCollection(),this.renderRows()},render:function(){var $html=(0,_jquery2.default)(this.compiledTemplate({}));return $html.find(".item-table-head-placeholder").replaceWith(this.children.head.render().el),this.$el.html($html),this.renderRows(),this},template:'\n        <table class="table table-chrome table-striped table-row-expanding table-listing">\n        <thead class="item-table-head-placeholder"></thead>\n        <tbody class="peer-nodes"></tbody>\n        </table>\n    '}),module.exports=exports.default},"views/clustering/push/peer_nodes/table/TableRow":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_Base=__webpack_require__("views/Base"),_Base2=_interopRequireDefault(_Base),_Peer=__webpack_require__("models/services/cluster/master/Peer"),_Peer2=_interopRequireDefault(_Peer);exports.default=_Base2.default.extend({moduleId:module.id,tagName:"tr",className:"expand",initialize:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_Base2.default.prototype.initialize.apply(this,args),this.$el.addClass(this.options.index%2?"even":"odd"),this.activate()},getBundleActionStatus:function(){if(_underscore2.default.isUndefined(this.model.pushModel.get("lastRunAction")))return"None";var rawStatus=this.model.peer.entry.content.get("apply_bundle_status").status;switch(rawStatus){case _Peer2.default.VALIDATED:return(0,_underscore2.default)("Validation Done").t();case _Peer2.default.RELOADING:return(0,_underscore2.default)("Reload In Progress").t();case _Peer2.default.CHECKING_RESTART:return(0,_underscore2.default)("Validating and Checking For Restart").t();default:return rawStatus}},render:function(){return this.$el.html(this.compiledTemplate({peerLabel:this.model.peer.entry.content.get("label"),site:this.model.peer.entry.content.get("site"),bundleActionStatus:this.getBundleActionStatus(),peerStatus:this.model.peer.entry.content.get("status")})),this},template:'\n        <td class="expands">\n            <a href="#"><i class="icon-triangle-right-small"></i></a>\n        </td>\n        <td class="peer-label">\n            <%- peerLabel %>\n        </td>\n        <td class="site">\n            <%- site %>\n        </td>\n        <td class="peer-status">\n            <%- peerStatus %>\n        </td>\n        <td class="actions-status">\n            <%= bundleActionStatus %>\n        </td>\n    '}),module.exports=exports.default},"views/clustering/push/peer_nodes/table/MoreInfo":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _Base=__webpack_require__("views/Base"),_Base2=_interopRequireDefault(_Base),_Actions=__webpack_require__("models/clustering/Actions"),_Actions2=_interopRequireDefault(_Actions);exports.default=_Base2.default.extend({moduleId:module.id,tagName:"tr",className:"more-info",initialize:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_Base2.default.prototype.initialize.apply(this,args),this.$el.addClass(this.options.index%2?"even":"odd").css("display","none"),this.activate()},render:function(){return this.$el.html(this.compiledTemplate({activeChecksum:this.model.peer.entry.content.get("active_bundle_id"),latestChecksum:this.model.peer.entry.content.get("latest_bundle_id"),lastValidatedChecksum:this.model.peer.entry.content.get("last_validated_bundle"),cols:this.options.colSpan,actions:_Actions2.default.actions})),this},template:'\n        <td class="details" colspan="<%= cols %>">\n            <dl class="list-dotted">\n                <dt class="active-checksum"><%- _("Active Bundle ID").t() %>\n                    <dd class="active-checksum">\n                        <%- activeChecksum %>\n                    </dd>\n                </dt>\n                <dt class="latest-checksum"><%- _("Latest Bundle ID").t() %>\n                    <dd class="latest-checksum">\n                        <%- latestChecksum %>\n                    </dd>\n                </dt>\n                <% if (this.model.pushModel.get(\'lastRunAction\') === actions.CHECK_RESTART) { %>\n                    <dt class="last-validated-checksum"><%- _("Last Validated Bundle ID").t() %>\n                        <dd class="last-validated-checksum">\n                            <%- lastValidatedChecksum %>\n                        </dd>\n                    </dt>\n                <% } %>\n            </dl>\n        </td>\n    '}),module.exports=exports.default},"views/clustering/push/system/Actions":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__("require/underscore"),_jquery=(_interopRequireDefault(_underscore),__webpack_require__("shim/jquery")),_jquery2=_interopRequireDefault(_jquery),_Base=__webpack_require__("views/Base"),_Base2=_interopRequireDefault(_Base),_ConfirmDialog=__webpack_require__("views/clustering/push/ConfirmDialog"),_ConfirmDialog2=_interopRequireDefault(_ConfirmDialog),_Actions=__webpack_require__("models/clustering/Actions"),_Actions2=_interopRequireDefault(_Actions);exports.default=_Base2.default.extend({moduleId:module.id,initialize:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_Base2.default.prototype.initialize.apply(this,args)},createConfirmDialog:function(action){this.children.confirmDialog&&this.children.confirmDialog.remove(),this.children.confirmDialog=new _ConfirmDialog2.default({model:this.model,onHiddenRemove:!0,action:action}),(0,_jquery2.default)("body").append(this.children.confirmDialog.render().el),this.children.confirmDialog.show()},disableButtons:function(){(0,_jquery2.default)(".action-btn").addClass("disabled")},enableButtons:function(){(0,_jquery2.default)(".action-btn").removeClass("disabled"),this.disableUnavailableButtons()},disableUnavailableButtons:function(){var previousBundleChecksum=this.model.masterInfo.entry.content.get("previous_active_bundle").checksum;previousBundleChecksum||(0,_jquery2.default)(".action-btn.rollback").addClass("disabled")},events:{"click a.apply:not(.disabled)":function(e){e.preventDefault(),this.createConfirmDialog(_Actions2.default.actions.PUSH)},"click a.check-restart:not(.disabled)":function(e){e.preventDefault(),this.createConfirmDialog(_Actions2.default.actions.CHECK_RESTART)},"click a.rollback:not(.disabled)":function(e){this.createConfirmDialog(_Actions2.default.actions.ROLLBACK),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({})),this.disableUnavailableButtons(),this},template:'\n        <div class="btn-toolbar">\n            <a class="btn btn-primary action-btn check-restart" href="#"><%= _(\'Validate and Check Restart\').t() %></a>\n            <a class="btn btn-primary action-btn apply"><%= _(\'Push\').t() %></a>\n            <a class="btn btn-primary action-btn rollback" href="#"><%= _(\'Rollback\').t() %></a>\n        </div>\n    '}),module.exports=exports.default},"views/clustering/push/ConfirmDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("uri/route"),__webpack_require__("views/shared/Modal"),__webpack_require__("models/clustering/Actions")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,route,Modal,ActionsModel){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.action=this.options.action},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.pushModel.trigger("action"),this.model.pushModel.trigger(this.action),this.hide()}}),getTemplateContent:function(){var content={};switch(this.action){case ActionsModel.actions.PUSH:content.header=_("Distribute Configuration Bundle").t(),content.select=_("Push Changes").t(),content.body=_("Some configuration changes might require a restart of all peers. Would you like to push the changes?").t();break;case ActionsModel.actions.CHECK_RESTART:content.header=_("Validate and Check if Restart is Required").t(),content.select=_("Validate and Check Restart").t(),content.body=_("Some configuration changes might only be valid on certain versions of Splunk Enterprise, or might require a restart of all peers. Would you like to validate and check if these changes would require a restart? This will not push the changes.").t();break;case ActionsModel.actions.ROLLBACK:content.header=_("Rollback Last Applied Configuration Bundle").t(),content.select=_("Rollback Changes").t(),content.body=_("Some configuration changes might require a restart of all peers. Would you like to rollback the last applied configuration bundle?").t()}return content},render:function(){var content=this.getTemplateContent();this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(content.header);var root=this.model.application.get("root"),locale=this.model.application.get("locale"),link=route.docHelp(root,locale,"manager.clustering.bundle"),html=this.compiledTemplate({learnmoreLink:link,content:content});return this.$(Modal.BODY_SELECTOR).append(html),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+content.select+"</a>"),this},template:"<%= content.body %> <a href='<%=learnmoreLink %>' class='external' target='_blank'><%= _('Learn More').t() %></a>"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/StatusMessage":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(22),Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__("require/underscore"),_underscore2=_interopRequireDefault(_underscore),_Base=__webpack_require__("views/Base"),_Base2=_interopRequireDefault(_Base),_Master=__webpack_require__("views/shared/waitspinner/Master"),_Master2=_interopRequireDefault(_Master);exports.default=_Base2.default.extend({moduleId:module.id,initialize:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_Base2.default.prototype.initialize.apply(this,args),this.listenTo(this.model.masterInfo.entry.content,"change:apply_bundle_status",this.render),this.firstRender=!0,this.children.spinner=new _Master2.default},getStatusMessage:function(){var applyBundleStatus=this.model.masterInfo.entry.content.get("apply_bundle_status"),message=applyBundleStatus&&applyBundleStatus.status;return("None"===message||_underscore2.default.isUndefined(message))&&(this.firstRender?(message="Initializing Action...",this.firstRender=!1):message=""),message},render:function(){var statusMessage=this.getStatusMessage(),html=this.compiledTemplate({applyBundleStatusMessage:statusMessage});return statusMessage&&this.$el.html(html),this.children.spinner.render().appendTo(this.$(".wait-spinner")),this.children.spinner.start(),this},template:'\n        <div class="section-padded">\n            <div class="wait-spinner"></div>\n            <h3 class="bundle-status-message">\n                <%- applyBundleStatusMessage %>\n            </h3>\n        </div>\n    '}),module.exports=exports.default},"collections/services/cluster/master/Searchheads":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/cluster/master/Searchhead"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"cluster/master/searchheads/",model:Model,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(583);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/services/cluster/master/Searchhead":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseModel){return BaseModel.extend({urlRoot:"cluster/master/searchheads/",initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/cluster/master/Peers":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/cluster/master/Peer"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(PeerModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"cluster/master/peers",model:PeerModel,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/EditMenu.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(585);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/services/cluster/master/Peer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/SplunkDBase"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,SplunkDBaseModel,splunkUtil){return SplunkDBaseModel.extend({urlRoot:"cluster/master/peers/",url:"cluster/master/peers",initialize:function(){this.peerStatuses={Up:_("Up").t(),Pending:_("Pending").t(),Detention:_("Detention").t(),Restarting:_("Restarting").t(),ShuttingDown:_("Shutting down").t(),ReassigningPrimaries:_("Reassigning primaries").t(),Decommissioning:_("Decommissioning").t(),GracefulShutdown:_("Graceful shutdown").t(),Down:_("Down").t()},SplunkDBaseModel.prototype.initialize.apply(this,arguments)},isSearchable:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("is_searchable"))},getTranslatedStatus:function(){var status=this.entry.content.get("status");return this.peerStatuses[status]||status}},{VALIDATED:"ValidationDone",RELOADING:"ReloadInProgress",CHECKING_RESTART:"DryRunInProgress",NONE:"None",PEER_STATUS_UP:"Up",PEER_STATUS_PENDING:"Pending",PEER_STATUS_DETENTION:"Detention",PEER_STATUS_RESTARTING:"Restarting",PEER_STATUS_SHUTTING_DOWN:"Shutting down",PEER_STATUS_REASSIGNING_PRIMARIES:"Reassigning primaries",PEER_STATUS_DECOMMISSIONING:"Decommissioning",PEER_STATUS_GRACEFUL_SHUTDOWN:"Graceful shutdown",PEER_STATUS_DOWN:"Down"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/PeersTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/clustering/master/PeerGrid"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/clustering/master/components/Filter"),__webpack_require__("views/shared/controls/SyntheticSelectControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,PeersGrid,Paginator,Filter,SyntheticSelectControl){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.filter=new Filter({model:this.collection.peers.fetchData,key:["name","label","site"]}),this.children.pageCount=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group",items:[{value:10,label:_("10 per page").t()},{value:20,label:_("20 per page").t()},{value:50,label:_("50 per page").t()},{value:100,label:_("100 per page").t()}],model:this.collection.peers.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.pageCount.listenToOnce(this.model.metadataModel,"change:peersrow",function(metadataModel){var nRowPerPage=parseInt(metadataModel.get("peersrow"),10);nRowPerPage&&this.setValue(nRowPerPage)}),this.model.metadataModel.listenTo(this.children.pageCount,"change",function(value){this.set({peersrow:value})}),this.children.paginator=new Paginator({collection:this.collection.peers}),this.children.peersGrid=new PeersGrid({collection:this.collection,model:this.model}),this.render()},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.$el.find(".section-controls").append(this.children.filter.render().el),this.$el.find(".section-controls").append(this.children.pageCount.render().el),this.$el.find(".section-controls").append(this.children.paginator.render().el),this.$el.append(this.children.peersGrid.el),this},template:'\t            <div class="clearfix section-controls"></div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/PeerGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("views/clustering/master/components/MultiColumnSort"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("util/time"),__webpack_require__(586),__webpack_require__(587),__webpack_require__("util/general_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,Backbone,BaseView,RowExpandCollapse,MultiColumnSort,RowIterator,time_utils,gridTemplate,ExpandedRowTemplate,general_utils,splunkUtils){return BaseView.extend({moduleId:module.id,template:gridTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.columnSort=new MultiColumnSort({el:this.el,model:this.collection.peers.fetchData,autoUpdate:!1}),this.children.rowExpandCollapse=new RowExpandCollapse({el:this.el,autoUpdate:!1}),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_EXPAND,this.rowExpand,this),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_COLLAPSE,this.rowCollapse,this),this.collection.peers.on("change reset",function(collection,options){var forceRender=!_.isEqual(collection.pluck("id"),_(options.previousModels||[]).pluck("id"));this.collection.peers.hasSynced=!0,forceRender&&(this.isLocalMouseSelection=!1),this.render()},this),this.expandedIds=[],this.isLocalMouseSelection=!1},events:{"mouseup .table-striped":function(){this.isLocalMouseSelection=!0}},rowExpand:function(id,expandedIds,event){this.expandedIds=expandedIds;var target=$(event.target),tr=target.closest("tr"),td=target.closest("td");td.html(RowExpandCollapse.EXPANDED_CELL_MARKUP),tr.addClass(RowExpandCollapse.EXPANDED_ROW_CLASS);var peerModel=this.collection.peers.get("/services/cluster/master/peers/"+id),newRow=_.template(ExpandedRowTemplate)({_:_,model:peerModel,time_utils:time_utils,colSpan:splunkUtils.normalizeBoolean(this.model.clusterConfig.entry.content.get("multisite"))?5:4});tr.after(newRow)},rowCollapse:function(id,expandedIds,event,tr){this.expandedIds=expandedIds;var td=tr.children(".expands");td.html(RowExpandCollapse.COLLAPSED_CELL_MARKUP),tr.removeClass(RowExpandCollapse.EXPANDED_ROW_CLASS),tr.next().remove()},getRowById:function(rowId){return this.$("tr["+RowExpandCollapse.ROW_ID_ATTR+'="'+rowId+'"]')},render:function(forceUpdate){if(forceUpdate!==!0&&this.isLocalMouseSelection&&general_utils.getMouseSelection()&&general_utils.getMouseSelection().length>0)return this;if(this.isLocalMouseSelection=!1,!this.collection.peers.hasSynced)return this;var rowIterator=new RowIterator({}),html=this.compiledTemplate({_:_,collection:this.collection.peers,time_utils:time_utils,eachRow:rowIterator.eachRow,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,headerCellClass:RowExpandCollapse.HEADER_CELL_CLASS,headerCellContent:RowExpandCollapse.HEADER_CELL_MARKUP,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR,sortKeyAttribute:MultiColumnSort.SORT_KEY_ATTR,multisite:this.model.clusterConfig.entry.content.get("multisite")}),$html=$(html);return this.children.columnSort.update($html),this.$el.html($html),_.each(this.expandedIds,function(id){var row=this.getRowById(id);row&&$("td",row).trigger("click")},this),this.$(".tooltip-link").tooltip({animation:!1,container:"body"}).on("hide",function(){$(".tooltip").remove()}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/components/MultiColumnSort":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/shared/delegates/ColumnSort")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,ColumnSort){var CONSTS={SORTABLE_ROW:"sorts",NOT_SORTABLE_CLASS:"not-sortable",SORT_DISABLED_CLASS:"sort-disabled",SORTED_CLASS:"active",ASCENDING:"asc",DESCENDING:"desc",SORT_KEY_ATTR:"data-sort-key",SORT:"sort"},SORTABLE_CELL_SELECTOR="th."+CONSTS.SORTABLE_ROW,SORTABLE_ICON_SELECTOR="i.icon-sorts",DEFAULT_SUB_SORT_DIR="desc";return ColumnSort.extend({update:function($rootEl){$rootEl=$rootEl||this.$el;var $thList=$rootEl.find(SORTABLE_CELL_SELECTOR),sortKey=this.model.get(this.options.sortKeyAttr);sortKey instanceof Array&&(sortKey=sortKey.join(" "));var $activeTh=$thList.filter("["+CONSTS.SORT_KEY_ATTR+'="'+sortKey+'"]'),sortDirection=this.model.get(this.options.sortDirAttr);"string"==typeof sortDirection&&(sortDirection=sortDirection.split(" ")[0]),sortDirection instanceof Array&&(sortDirection=sortDirection[0]),$thList.removeClass(CONSTS.SORTED_CLASS).find(SORTABLE_ICON_SELECTOR).removeClass(CONSTS.ASCENDING+" "+CONSTS.DESCENDING),$activeTh.addClass(CONSTS.SORTED_CLASS).find(SORTABLE_ICON_SELECTOR).addClass("asc"===sortDirection?CONSTS.ASCENDING:CONSTS.DESCENDING)},onColumnHeaderClick:function(e){e.preventDefault();var $th=$(e.currentTarget);if(!$th.hasClass(CONSTS.NOT_SORTABLE_CLASS)&&!$th.hasClass(CONSTS.SORT_DISABLED_CLASS)){var sortKey=$th.attr(CONSTS.SORT_KEY_ATTR),sortDirection=$th.find(SORTABLE_ICON_SELECTOR).hasClass(CONSTS.DESCENDING)?"asc":"desc",data={};data[this.options.sortKeyAttr]=sortKey.split(" "),data[this.options.sortDirAttr]=[sortDirection,DEFAULT_SUB_SORT_DIR],this.model.set(data),this.trigger(CONSTS.SORT,sortKey,sortDirection)}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/cluster/searchhead/Generations":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/cluster/searchhead/Generation"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"cluster/searchhead/generation/",model:Model,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/cluster/searchhead/SearchheadConfigs":function(module,exports,__webpack_require__){
var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/cluster/searchhead/SearchheadConfig"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"cluster/searchhead/searchheadconfig/",model:Model,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/components/Filter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("require/underscore"),__webpack_require__("views/shared/FindInput"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,_,InputView,splunkdUtils){return InputView.extend({moduleId:module.id,initialize:function(){InputView.prototype.initialize.apply(this,arguments)},set:_.debounce(function(value){if(this.fetchDataFilter&&!value)this.model.unset("filter");else{this.model.set({offset:"0"});var keys=_.isArray(this.key)?this.key:this.key.split(" ");this.fetchDataFilter?this.model.set("filter",splunkdUtils.createSearchFilterObj(value,keys)):this.model.set("search",splunkdUtils.createSearchFilterString(value,keys))}},250)})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/IndexesTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/clustering/master/IndexesGrid"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/clustering/master/components/Filter"),__webpack_require__("views/shared/controls/SyntheticSelectControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,IndexesGrid,Paginator,Filter,SyntheticSelectControl){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.filter=new Filter({model:this.collection.masterIndexes.fetchData}),this.children.pageCount=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group",items:[{value:10,label:_("10 per page").t()},{value:20,label:_("20 per page").t()},{value:50,label:_("50 per page").t()},{value:100,label:_("100 per page").t()}],model:this.collection.masterIndexes.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.pageCount.listenToOnce(this.model.metadataModel,"change:indexesrow",function(metadataModel){var nRowPerPage=parseInt(metadataModel.get("indexesrow"),10);nRowPerPage&&this.setValue(nRowPerPage)}),this.model.metadataModel.listenTo(this.children.pageCount,"change",function(value){this.set({indexesrow:value})}),this.children.paginator=new Paginator({collection:this.collection.masterIndexes}),this.children.indexesGrid=new IndexesGrid({collection:this.collection,model:this.model}),this.render()},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.$el.find(".section-controls").append(this.children.filter.render().el),this.$el.find(".section-controls").append(this.children.pageCount.render().el),this.$el.find(".section-controls").append(this.children.paginator.render().el),this.$el.append(this.children.indexesGrid.el),this},template:'\t            <div class="clearfix section-controls">\t                <a class="btn bucket-details" href="./clustering_bucket_details"><%= _("Bucket Status").t() %></a>\t            </div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/IndexesGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__(588),__webpack_require__("util/general_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/bootstrap.tooltip"),__webpack_require__("views/shared/pcss/bucket-bar.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,Backbone,BaseView,RowIterator,ColumnSort,gridTemplate,general_utils,splunk_util,css){return BaseView.extend({moduleId:module.id,template:gridTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.columnSort=new ColumnSort({el:this.el,model:this.collection.masterIndexes.fetchData,autoUpdate:!1}),this.collection.masterIndexes.on("change reset",function(){this.render()},this)},convertToGygabytes:function(size){var g=(size/1073741824).toFixed(2);return g<.01?_("< 0.01 GB").t():general_utils.convertNumToString(g)+_(" GB").t()},render:function(){var rowIterator=new RowIterator({}),html=this.compiledTemplate({_:_,collection:this.collection.masterIndexes,model:this.model,convertToGygabytes:this.convertToGygabytes,eachRow:rowIterator.eachRow,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR,splunkUtil:splunk_util}),$html=$(html);return this.children.columnSort.update($html),this.$el.html($html),this.$(".tooltip-link").tooltip({animation:!1,container:"body"}).on("hide",function(){$(".tooltip").remove()}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/cluster/searchhead/SearchheadConfig":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({urlRoot:"cluster/searchhead/searchheadconfig/",url:"cluster/searchhead/searchheadconfig/",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)},encodeName:function(name){return name=name||this.entry.get("name"),name=name.replace("://","%3A%252F%252F"),name=name.replace(/:/g,"%3A"),name=name.replace(/\[/g,"%5B"),name=name.replace(/\]/g,"%5D")},defaults:{"ui.host":"","ui.port":"","ui.secret":null},transposeToRest:function(){this.entry.set("name",this.get("ui.master_uri")),this.entry.content.set("name",this.get("ui.master_uri")),this.entry.content.set("master_uri",this.get("ui.master_uri")),this.entry.content.set("secret",this.get("ui.secret"))},transposeFromRest:function(){var indexOfPort,port,host,masteruri=this.entry.get("name"),secret=this.entry.content.get("secret");"string"==typeof masteruri&&masteruri.lastIndexOf(":")>0&&(indexOfPort=masteruri.lastIndexOf(":"),port=masteruri.substring(indexOfPort+1),host=masteruri.substring(0,indexOfPort));var attr={"ui.host":host,"ui.port":port,"ui.secret":secret};this.set(attr)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/pcss/bucket-bar.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(589);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/clustering/EnableClustering":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/clustering/config/Master"),__webpack_require__("uri/route"),__webpack_require__(573)],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,Backbone,BaseView,ConfigDialog,route,EnableClusteringTemplate){return BaseView.extend({moduleId:module.id,template:EnableClusteringTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options)},events:{"click #enable_clustering":function(e){this.children.configDialog=new ConfigDialog({model:this.model,onHiddenRemove:!0}),this.$el.append(this.children.configDialog.render().el),this.children.configDialog.show(),e.preventDefault()}},render:function(){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),link=route.docHelp(root,locale,"manager.clustering.configureClustering"),html=this.compiledTemplate({learnmoreLink:link});this.$el.html(html)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/SearchheadsTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/clustering/master/SearchheadsGrid"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/clustering/master/components/Filter"),__webpack_require__("views/shared/controls/SyntheticSelectControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,SearchheadGrid,Paginator,Filter,SyntheticSelectControl){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.paginator=new Paginator({collection:this.collection.masterSearchheads}),this.children.filter=new Filter({model:this.collection.masterSearchheads.fetchData,key:"label name site"}),this.children.pageCount=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group",items:[{value:10,label:_("10 per page").t()},{value:20,label:_("20 per page").t()},{value:50,label:_("50 per page").t()},{value:100,label:_("100 per page").t()}],model:this.collection.masterSearchheads.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.pageCount.listenToOnce(this.model.metadataModel,"change:searchheadsrow",function(metadataModel){var nRowPerPage=parseInt(metadataModel.get("searchheadsrow"),10);nRowPerPage&&this.setValue(nRowPerPage)}),this.model.metadataModel.listenTo(this.children.pageCount,"change",function(value){this.set({searchheadsrow:value})}),this.children.searchheadGrid=new SearchheadGrid({collection:this.collection.masterSearchheads,model:this.model}),this.render()},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.$el.find(".section-controls").append(this.children.filter.render().el),this.$el.find(".section-controls").append(this.children.pageCount.render().el),this.$el.find(".section-controls").append(this.children.paginator.render().el),this.$el.append(this.children.searchheadGrid.el),this},template:'\t            <div class="clearfix section-controls"></div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/SearchheadsGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__(590),__webpack_require__(591),__webpack_require__("util/general_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,Backbone,BaseView,RowIterator,RowExpandCollapse,ColumnSort,template,ExpandedRowTemplate,general_utils,splunkUtils){return BaseView.extend({moduleId:module.id,template:template,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.expandedIds=[],this.isLocalMouseSelection=!1,this.children.columnSort=new ColumnSort({el:this.el,model:this.collection.fetchData,autoUpdate:!1}),this.children.rowExpandCollapse=new RowExpandCollapse({el:this.el,autoUpdate:!1}),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_EXPAND,this.rowExpand,this),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_COLLAPSE,this.rowCollapse,this),this.collection.on("change reset",function(){this.render()},this)},events:{"mouseup .table-striped":function(){this.isLocalMouseSelection=!0}},rowExpand:function(id,expandedIds,event){this.expandedIds=expandedIds;var target=$(event.target),tr=target.closest("tr"),td=target.closest("td");tr.addClass(RowExpandCollapse.EXPANDED_ROW_CLASS),td.html(RowExpandCollapse.EXPANDED_CELL_MARKUP);var model=this.collection.get("/services/cluster/master/searchheads/"+id),newRow=_.template(ExpandedRowTemplate)({model:model,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,colSpan:splunkUtils.normalizeBoolean(this.model.clusterConfig.entry.content.get("multisite"))?3:2});tr.after(newRow)},rowCollapse:function(id,expandedIds,event,tr){this.expandedIds=expandedIds;var td=tr.children(".expands");td.html(RowExpandCollapse.COLLAPSED_CELL_MARKUP),tr.removeClass(RowExpandCollapse.EXPANDED_ROW_CLASS),tr.next().remove()},getRowById:function(rowId){return this.$("tr["+RowExpandCollapse.ROW_ID_ATTR+'="'+rowId+'"]')},render:function(forceUpdate){if(forceUpdate!==!0&&this.isLocalMouseSelection&&general_utils.getMouseSelection()&&general_utils.getMouseSelection().length>0)return this;this.isLocalMouseSelection=!1;var rowIterator=new RowIterator({}),html=this.compiledTemplate({_:_,collection:this.collection,eachRow:rowIterator.eachRow,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,headerCellClass:RowExpandCollapse.HEADER_CELL_CLASS,headerCellContent:RowExpandCollapse.HEADER_CELL_MARKUP,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR,multisite:this.model.clusterConfig.entry.content.get("multisite")}),$html=$(html);return this.children.columnSort.update($html),this.$el.html($html),_.each(this.expandedIds,function(id){var row=this.getRowById(id);row&&$("td",row).trigger("click")},this),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/config/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/services/Messages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/RestartRequired"),__webpack_require__("views/shared/Restart"),__webpack_require__("views/clustering/SuccessContents"),__webpack_require__("views/clustering/config/NodeType"),__webpack_require__("views/clustering/config/MasterSetup"),__webpack_require__("views/clustering/config/PeerSetup"),__webpack_require__("views/clustering/config/SearchHeadSetup"),__webpack_require__("uri/route"),__webpack_require__("util/console")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,MessageCollection,Modal,RestartRequired,Restart,SuccessContents,NodeType,MasterSetup,PeerSetup,SearchSetup,route,console){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.messages=new MessageCollection,this.model=$.extend({},this.model,{wizard:this.model.wizard}),this.model.wizard.on("success",function(){this.hide();var return_to=route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"clustering"),successModal=new RestartRequired({model:{serverInfo:this.model.serverInfo},bodyView:new SuccessContents({model:this.model}),restartCallback:function(){successModal.hide();var restartModal=new Restart({model:{serverInfo:this.model.serverInfo}});$("body").append(restartModal.render().el),restartModal.show()}.bind(this),return_to:return_to});$("body").append(successModal.render().el),successModal.show()},this),this.children.start=new NodeType({model:this.model}),this.children.master=new MasterSetup({model:this.model}),this.children.peer=new PeerSetup({model:this.model}),this.children.search=new SearchSetup({model:this.model}),this.options&&this.options.startView?this.model.wizard.set("startPage",this.options.startView):this.model.wizard.set("startPage","start"),this.model.wizard.set("currentPage",this.model.wizard.get("startPage")),this.model.wizard.on("next",function(){var pageId=this.model.wizard.get("currentPage"),page=this.children.hasOwnProperty(pageId)?this.children[pageId]:null;if("start"===pageId){var nextPageId=this.model.wizard.get("mode"),nextPage=this.children.hasOwnProperty(nextPageId)?this.children[nextPageId]:null;nextPage?(page.$el.hide(),nextPage.$el.show(),this.model.wizard.set("currentPage",nextPageId)):console.error("Cannot navigate to "+nextPageId)}else _.contains(["master","peer","search"],pageId)&&this.messages.fetch().done(function(){var restartRequired=this.messages.find(function(i){return"restart_required"==i.entry.get("name")});restartRequired?(this.model.wizard.set("currentPage","restart"),this.model.wizard.trigger("success")):this.hide()}.bind(this))},this),this.model.wizard.on("back",function(){this.refreshConfig();var pageId=this.model.wizard.get("currentPage"),page=this.children.hasOwnProperty(pageId)?this.children[pageId]:null;this.model.wizard.set("currentPage","start"),page.$el.hide(),this.children.start.$el.show()},this)},refreshConfig:function(){this.model.clusterConfig.fetch().done(function(){this.model.clusterConfig.transposeFromRest()}.bind(this))},render:function(){this.refreshConfig(),this.$el.append(this.children.start.render().el),this.$el.append(this.children.master.render().el),this.$el.append(this.children.peer.render().el),this.$el.append(this.children.search.render().el);var v;for(v in this.children)this.children.hasOwnProperty(v)&&(v===this.model.wizard.get("startPage")?this.children[v].$el.show():this.children[v].$el.hide());return this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/SuccessContents":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("uri/route"),__webpack_require__(571)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,route,RestartTemplate){return BaseView.extend({moduleId:module.id,template:RestartTemplate,render:function(){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),learnmoreIndexesLink=route.docHelp(root,locale,"learnmore.peers.index"),learnmoreForwardersLink=route.docHelp(root,locale,"learnmore.peers.forwarders"),html=this.compiledTemplate({mode:this.model.wizard.get("mode")||"",learnmoreIndexesLink:learnmoreIndexesLink,learnmoreForwardersLink:learnmoreForwardersLink});return this.$el.html(html),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/master/MasterNodeInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("views/clustering/config/Master"),__webpack_require__(592)],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BaseView,PopdownView,ConfigDialog,InfoTemplate){return BaseView.extend({moduleId:module.id,className:"btn-combo",template:InfoTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.model.masterInfo.on("change reset",this.update,this),this.model.clusterConfig.on("change reset",this.update,this),this.model.masterGeneration.on("change reset",this.update,this),this.children.popdown=new PopdownView({el:this.el}),this.listenTo(this.children.popdown,"shown",function(){this.$(".btn.dropdown-toggle").focus()})},events:{"click a.masterconfig":function(e){this.children.configDialog=new ConfigDialog({model:{clusterConfig:this.model.clusterConfig,application:this.model.application,serverInfo:this.model.serverInfo,wizard:this.model.wizard},startView:"master",onHiddenRemove:!0}),$("body").append(this.children.configDialog.render().el),this.children.configDialog.show(),e.preventDefault()}},update:function(){var noPeers=0==this.model.peersStatusSummary.get("totalCount");this.$("#label").html(this.model.masterInfo.entry.content.get("label")),this.$("#repFactor").html(this.model.clusterConfig.entry.content.get("replication_factor")),this.$("#searchFactor").html(this.model.clusterConfig.entry.content.get("search_factor")),this.$("#genId").html(this.model.masterGeneration.entry.content.get("generation_id")),this.$("a.cluster-push")[noPeers?"hide":"show"]()},render:function(){var html=this.compiledTemplate({label:this.model.masterInfo.entry.content.get("label"),replicationFactor:this.model.clusterConfig.entry.content.get("replication_factor"),searchFactor:this.model.clusterConfig.entry.content.get("search_factor"),generationId:this.model.masterGeneration.entry.content.get("generation_id"),multisite:this.model.clusterConfig.entry.content.get("multisite")});return this.$el.html(html),this.$(".tooltip-link").tooltip({animation:!1,container:"body"}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},599:function(module,exports){module.exports='<div class="section-header section-padded">\n\t<div class="btn-toolbar pull-right">\n\t\t<div class="addClusterButton btn-group"><a href="#" class="btn"><i class="icon-plus"></i> <%= _(\'Add Cluster to be Searched\').t() %></a></div>\n\t\t<div class="btn-group">\n\t\t\t<div class="editMenu"></div>\n            <div class="moreInfo"></div>\n\t\t\t<a href="<%=docLink%>" class="btn" target="_blank"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n\t\t</div>\n\t</div>\n\t<h2 class="section-title"><%= _(\'Clustering: Search Head\').t() %></h2>\n</div>\n\n\n\n<div class="section-table">\n\t<div class="divider"></div>\n\t<div class="section-controls">\n\t\t<h3><%= _(\'Clusters searched\').t() %></h3>\n\t\t<div class="paginator"></div>\n\t</div>\n\t<div class="searchHeadGridPlaceHolder"></div>\n</div>\n'},"views/clustering/config/NodeType":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__(572)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,Modal,ConfigTemplate){return BaseView.extend({moduleId:module.id,template:ConfigTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options)},events:{"click .btn-primary":function(e){var mode=$("input[name=node-type]:checked","#node_type").val();this.model.wizard.set("mode",mode),this.model.wizard.trigger("next"),e.preventDefault()},"click a.cancel":function(e){this.model.wizard.trigger("cancel"),e.preventDefault()}},render:function(){this.$el.html(Modal.TEMPLATE);var title="disabled"==this.model.clusterConfig.entry.content.get("mode")?_("Enable Clustering").t():_("Edit Node Type").t();this.$(Modal.HEADER_TITLE_SELECTOR).html(title),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL);var html=this.compiledTemplate();return this.$(".form-horizontal").append($(html)),this.$(".start").show(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_NEXT),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/peer/PeerNode":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/clustering/peer/PeerDetails"),__webpack_require__("views/clustering/EditMenu"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__(595)],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BaseView,PeerDetailsView,EditMenuView,FlashMessagesView,route,PeerNodeTemplate){return BaseView.extend({moduleId:module.id,template:PeerNodeTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({model:this.model.peerInfo}),this.children.peerDetails=new PeerDetailsView({model:this.model}),this.children.editMenu=new EditMenuView({model:this.model})},render:function(){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),link=route.docHelp(root,locale,"manager.clustering.slave.peers.details"),html=this.compiledTemplate({docLink:link});return this.$el.html(html),this.$el.find(".peer-node-section-info").append(this.children.peerDetails.el),this.$el.find(".peer-node-section-info").append(this.children.flashMessages.render().el),this.$el.find(".editMenu").replaceWith(this.children.editMenu.render().el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/peer/PeerDetails":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__(594),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BaseView,PeerDetailsTemplate,bsToolTip){return BaseView.extend({moduleId:module.id,tagName:"dl",className:"list-dotted",template:PeerDetailsTemplate,initialize:function(options){var self=this;BaseView.prototype.initialize.call(this,options),this.model.peerStatus.on("change reset",function(){self.render.call(this)}),this.model.clusterConfig.on("sync",function(){self.render.call(this)})},render:function(){var html=this.compiledTemplate(this.model);return this.$el.html(html),this.$(".tooltip-link").tooltip({animation:!1,container:"body"}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/cluster/master/Indexes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/cluster/master/Index"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"cluster/master/indexes/",model:Model,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/config/MasterSetup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,Modal,FlashMessagesView,ControlGroup){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({model:this.model.clusterConfig}),this.model.clusterConfig.transposeFromRest(),this.children.repFactor=new ControlGroup({className:"cluster-rep-factor control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{modelAttribute:"ui.replication_factor",model:this.model.clusterConfig,save:!1},label:_("Replication Factor").t(),help:_("The number of copies of raw data that you want the cluster to maintain. A higher replication factor protects against loss of data if peer nodes fail.").t(),helpClass:"hint"}),this.children.searchFactor=new ControlGroup({className:"cluster-search-factor control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{modelAttribute:"ui.search_factor",model:this.model.clusterConfig,save:!1},label:_("Search Factor").t(),help:_("The number of searchable copies of data the cluster maintains. A higher search factor speeds up the time to recover lost data at the cost of disk space. Must be less than or equal to Replication Factor.").t(),helpClass:"hint"}),this.children.secret=new ControlGroup({className:"cluster-secret control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{placeholder:"Optional",modelAttribute:"ui.secret",model:this.model.clusterConfig,save:!1,password:!0},label:_("Security Key").t(),help:_("This key authenticates communication between the master and the peers and search heads.").t(),helpClass:"hint"}),this.children.clusterLabel=new ControlGroup({className:"cluster-label control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{placeholder:"Optional",modelAttribute:"ui.cluster_label",model:this.model.clusterConfig,save:!1},label:_("Cluster Label").t(),help:_("Name your cluster using this field.  This label is also used to identify this cluster in the Monitoring Console.").t(),helpClass:"hint"})},events:{"click .back":function(e){this.model.wizard.trigger("back"),e.preventDefault()},"click .btn-primary":function(e){var that=this;e.preventDefault(),this.model.clusterConfig.set("ui.mode","master"),this.model.clusterConfig.transposeToRest(),this.model.clusterConfig.save({wait:!0,mode:this.model.clusterConfig.entry.content.get("mode"),replication_factor:this.model.clusterConfig.entry.content.get("replication_factor"),search_factor:this.model.clusterConfig.entry.content.get("search_factor"),secret:this.model.clusterConfig.entry.content.get("secret"),cluster_label:this.model.clusterConfig.entry.content.get("cluster_label")},{patch:!0}).done(function(){that.model.wizard.trigger("next")}).fail(function(){that.model.wizard.trigger("submitFail")})}},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Master Node Configuration").t()),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.flashMessages.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.repFactor.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.searchFactor.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.secret.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.clusterLabel.render().$el);var $saveBtn=$(Modal.BUTTON_SAVE);return"master"==this.model.wizard.get("startPage")?(this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),
$saveBtn.text(_("Save changes").t())):(this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_BACK),this.$(Modal.FOOTER_SELECTOR).find(".modal-btn-back").addClass("pull-left"),$saveBtn.text(_("Enable Master Node").t())),this.$(Modal.FOOTER_SELECTOR).append($saveBtn),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/SearchHeadNode":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/clustering/searchhead/SearchHeadGrid"),__webpack_require__("views/clustering/searchhead/SearchHeadDetails"),__webpack_require__("views/clustering/EditMenu"),__webpack_require__("views/clustering/searchhead/AddEditCluster"),__webpack_require__("views/clustering/searchhead/DeleteCluster"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("models/services/cluster/searchhead/Generation"),__webpack_require__("models/services/cluster/searchhead/SearchheadConfig"),__webpack_require__("models/services/cluster/Config"),__webpack_require__("uri/route"),__webpack_require__(599)],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,module,BaseView,SearchHeadGridView,SearchHeadDetailsView,EditMenuView,AddEditClusterDialog,DeleteClusterDialog,Paginator,RowExpandCollapse,SearchheadGenerationModel,SearchheadConfigModel,ClusterConfigModel,route,SearchHeadNodeTemplate){return BaseView.extend({moduleId:module.id,template:SearchHeadNodeTemplate,events:{"click .addClusterButton a":"addConfig","click .editConfig":"editConfig","click .removeCluster":"deleteConfig"},initialize:function(options){BaseView.prototype.initialize.call(this,options),this.editMenu=new EditMenuView({model:this.model}),this.searchHeadGridView=new SearchHeadGridView({collection:this.collection,model:this.model}),this.children.paginator=new Paginator({collection:this.collection.searchheadConfigs}),this.searchHeadDetailsView=new SearchHeadDetailsView({model:this.model})},render:function(){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),link=route.docHelp(root,locale,"manager.clustering.searchhead.details"),html=this.compiledTemplate({docLink:link});return this.$el.html(html),this.$el.find(".moreInfo").replaceWith(this.searchHeadDetailsView.render().el),this.$el.find(".searchHeadGridPlaceHolder").append(this.searchHeadGridView.el),this.$el.find(".paginator").append(this.children.paginator.render().el),this.$el.find(".editMenu").replaceWith(this.editMenu.render().el),this},editConfig:function(e){e.preventDefault();var target=$(e.target),tr=target.closest("tr"),id=tr.attr(RowExpandCollapse.ROW_ID_ATTR),searchheadConfigModel=new SearchheadConfigModel({id:id});searchheadConfigModel.fetch();var addEditClusterDialog=new AddEditClusterDialog({model:searchheadConfigModel});$("body").append(addEditClusterDialog.render().el),addEditClusterDialog.on("stepDone",function(){this.collection.searchheadConfigs.fetch()},this)},addConfig:function(e){e.preventDefault();var newModel=new SearchheadConfigModel,addEditClusterDialog=new AddEditClusterDialog({model:newModel});$("body").append(addEditClusterDialog.render().el),addEditClusterDialog.on("stepDone",function(){this.collection.searchheadConfigs.fetch()},this)},deleteConfig:function(e){e.preventDefault();var target=$(e.target),tr=target.closest("tr"),id=tr.attr(RowExpandCollapse.ROW_ID_ATTR),searchheadConfig=new SearchheadConfigModel({id:id});searchheadConfig.fetch();var deleteClusterDialog=new DeleteClusterDialog({model:searchheadConfig});deleteClusterDialog.on("stepDone",function(){this.collection.searchheadConfigs.fetch()},this),this.$el.append(deleteClusterDialog.render().el),deleteClusterDialog.show()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/DeleteCluster":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/clustering/searchhead/AddEditClusterSuccess"),__webpack_require__("views/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,SuccessView,FlashMessagesView){return Modal.extend({moduleId:module.id,template:"<div>"+_("Are you sure you would like to remove cluster ").t()+"<b><%-decodeURIComponent( name )%></b>"+_(" from being searched by this search head?").t()+"</div>",initialize:function(){return Modal.prototype.initialize.apply(this,arguments),this.children.flashMessages=new FlashMessagesView({model:this.model}),this.model.on("sync",this.render,this),this},events:{"click .btn-primary":"deleteSearchhead"},render:function(){return this.$el.html(Modal.TEMPLATE),this.$el.show(),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Remove Cluster").t()),this.$(Modal.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(Modal.BODY_SELECTOR).append(this.compiledTemplate({name:this.model.entry.get("name")})),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Remove").t()+"</a>"),this},deleteSearchhead:function(e){var self=this;this.model.destroy().done(function(){self.hide(),self.children.successView=new SuccessView({}),$("body").append(self.children.successView.render().$el),self.children.successView.show(),self.trigger("stepDone")})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/AddEditClusterSuccess":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone,module,Modal){return Modal.extend({moduleId:module.id,events:{"click .btn-primary":function(e){e.preventDefault(),this.hide()}},initialize:function(){Modal.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Add Cluster to be Searched").t()),this.$(Modal.BODY_SELECTOR).append(_("Changes Saved").t()),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/SearchHeadGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__(596),__webpack_require__(597),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,RowExpandCollapse,ColumnSort,RowIterator,SearchHeadGridTemplate,ExpandedRowTemplate,general_utils){return Base.extend({moduleId:module.id,template:SearchHeadGridTemplate,initialize:function(options){Base.prototype.initialize.call(this,options),this.expandedIds=[],this.collection.searchheadConfigs.on("sync",function(){this.debouncedRender()},this),this.collection.searchheadGenerations.on("sync",function(){this.debouncedRender()},this),this.children.rowExpandCollapse=new RowExpandCollapse({el:this.el,autoUpdate:!1}),this.children.columnSort=new ColumnSort({el:this.el,model:this.collection.searchheadConfigs.fetchData,autoUpdate:!0}),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_EXPAND,this.rowExpand,this),this.children.rowExpandCollapse.on(RowExpandCollapse.ROW_COLLAPSE,this.rowCollapse,this),this.isLocalMouseSelection=!1},events:{"mouseup .table-striped":function(){this.isLocalMouseSelection=!0}},rowExpand:function(id,expandedIds,event){this.expandedIds=expandedIds;var target=$(event.target),tr=target.closest("tr"),td=target.closest("td");tr.addClass(RowExpandCollapse.EXPANDED_ROW_CLASS),td.html(RowExpandCollapse.EXPANDED_CELL_MARKUP);var generationModel=this.collection.searchheadGenerations.get("/services/cluster/searchhead/generation/"+id),numPeers=0;if(generationModel.entry&&generationModel.entry.content){var genPeers=generationModel.entry.content.get("generation_peers");for(var i in genPeers)numPeers++}var newRow=_.template(ExpandedRowTemplate)({generationModel:generationModel,numPeers:numPeers});tr.after(newRow)},rowCollapse:function(id,expandedIds,event,tr){this.expandedIds=expandedIds;var td=tr.children(".expands");td.html(RowExpandCollapse.COLLAPSED_CELL_MARKUP),tr.removeClass(RowExpandCollapse.EXPANDED_ROW_CLASS),tr.next().remove()},getRowById:function(rowId){return this.$("tr["+RowExpandCollapse.ROW_ID_ATTR+'="'+rowId+'"]')},render:function(forceUpdate){if(forceUpdate!==!0&&this.isLocalMouseSelection&&general_utils.getMouseSelection()&&general_utils.getMouseSelection().length>0)return this;this.isLocalMouseSelection=!1;var rowIterator=new RowIterator({}),html=this.compiledTemplate({collection:this.collection,eachRow:rowIterator.eachRow,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,headerCellClass:RowExpandCollapse.HEADER_CELL_CLASS,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR}),$html=$(html);return this.children.columnSort.update($html),this.$el.html($html),_.each(this.expandedIds,function(id){var row=this.getRowById(id);row&&$("td",row).trigger("click")},this),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/config/PeerSetup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,Modal,FlashMessagesView,ControlGroup){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({model:this.model.clusterConfig}),this.model.clusterConfig.transposeFromRest(),this.children.masteruri=new ControlGroup({className:"cluster-masterip control-group",controlType:"Text",controlClass:"controls-block",helpClass:"hint",controlOptions:{modelAttribute:"ui.master_uri",model:this.model.clusterConfig,save:!1},label:_("Master URI").t(),help:_("E.g. https://10.152.31.202:8089").t()}),this.children.repPort=new ControlGroup({className:"cluster-port control-group",controlType:"Text",controlClass:"controls-block",helpClass:"hint",controlOptions:{modelAttribute:"ui.replication_port",model:this.model.clusterConfig,save:!1},label:_("Peer replication port").t(),help:_("The port peer nodes use to stream data to each other (Eg: 8080).").t()}),this.children.secret=new ControlGroup({className:"cluster-secret control-group",controlType:"Text",controlClass:"controls-block",helpClass:"hint",controlOptions:{placeholder:"Optional",modelAttribute:"ui.secret",model:this.model.clusterConfig,save:!1,password:!0},label:_("Security key").t(),help:_("This key authenticates communication between the master and the peers and search heads.").t()})},events:{"click .back":function(e){this.model.wizard.trigger("back"),e.preventDefault()},"click .btn-primary":function(e){var that=this;e.preventDefault(),this.model.clusterConfig.set("ui.mode","slave"),this.model.clusterConfig.transposeToRest(),this.model.clusterConfig.save({wait:!0,mode:this.model.clusterConfig.entry.content.get("mode"),master_uri:this.model.clusterConfig.entry.content.get("master_uri"),replication_port:this.model.clusterConfig.entry.content.get("replication_port"),secret:this.model.clusterConfig.entry.content.get("secret")},{patch:!0}).done(function(){that.model.wizard.trigger("next")}).fail(function(){that.model.wizard.trigger("submitFail")})}},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Peer node configuration").t()),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.flashMessages.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.masteruri.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.repPort.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.secret.render().$el),"peer"!==this.model.wizard.get("startPage")&&(this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_BACK),this.$(Modal.FOOTER_SELECTOR).find(".modal-btn-back").addClass("pull-left")),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn next btn-primary modal-btn-primary">'+_("Enable peer node").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/config/SearchHeadSetup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,Modal,FlashMessagesView,ControlGroup){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessages=new FlashMessagesView({model:this.model.clusterConfig}),this.model.clusterConfig.transposeFromRest(),this.children.masteruri=new ControlGroup({className:"cluster-masterip control-group",controlType:"Text",controlClass:"controls-block",helpClass:"hint",controlOptions:{modelAttribute:"ui.master_uri",model:this.model.clusterConfig,save:!1},label:_("Master URI").t(),help:_("E.g. https://10.152.31.202:8089 This can be found in the Master Node dashboard.").t()}),this.children.secret=new ControlGroup({className:"cluster-secret control-group",controlType:"Text",controlClass:"controls-block",helpClass:"hint",controlOptions:{modelAttribute:"ui.secret",model:this.model.clusterConfig,save:!1,password:!0},label:_("Security key").t(),help:_("This key authenticates communication between the master and search head.").t()})},events:{"click .back":function(e){this.model.wizard.trigger("back"),e.preventDefault()},"click .btn-primary":function(e){var that=this;e.preventDefault(),this.model.clusterConfig.set("ui.mode","searchhead"),this.model.clusterConfig.transposeToRest(),this.model.clusterConfig.save({wait:!0}).done(function(){that.model.wizard.trigger("next")}).fail(function(){that.model.wizard.trigger("submitFail")})}},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Search head node configuration").t()),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.flashMessages.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.masteruri.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.secret.render().$el),"searchhead"!==this.model.wizard.get("startPage")&&(this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_BACK),this.$(Modal.FOOTER_SELECTOR).find(".modal-btn-back").addClass("pull-left")),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn next btn-primary modal-btn-primary">'+_("Enable search head node").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/SearchHeadDetails":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__(598)],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BaseView,PopdownView,SearchHeadDetailsTemplate){return BaseView.extend({moduleId:module.id,className:"btn-combo",template:SearchHeadDetailsTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.model.serverInfo.on("change reset",function(){this.render()},this)},render:function(){this.children.popdown=new PopdownView({el:this.el});var html=this.compiledTemplate({serverName:this.model.serverInfo.getServerName()});return this.$el.html(html),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/cluster/master/Index":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/StaticIdSplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseModel){return BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{id:"cluster/master/indexes"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/AddEditCluster":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/clustering/searchhead/AddEditClusterForm"),__webpack_require__("views/clustering/searchhead/AddEditClusterSuccess")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,module,Modal,FormView,SuccessView){return Modal.extend({moduleId:module.id,initialize:function(){return Modal.prototype.initialize.apply(this,arguments),this.children.formView=new FormView({model:this.model}).on({stepDone:function(){this.children.formView.hide(),this.children.successView.show(),this.trigger("stepDone")}},this),this.children.successView=new SuccessView({}),this.render(),this},render:function(){return this.$el.append(this.children.formView.el),this.$el.append(this.children.successView.render().$el.hide()),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/searchhead/AddEditClusterForm":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,ControlGroup,FlashMessagesView){return Modal.extend({moduleId:module.id,events:{"click .btn-primary":"saveForm"},initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.children.flashMessages=new FlashMessagesView({model:this.model}),this.model.on("sync ready",function(){this.isSaving||(this.model.transposeFromRest(),this.render())},this),this.render()},render:function(){this.$el.html(Modal.TEMPLATE);var title=this.model.entry.get("name")?_("Edit Configuration").t():_("Add Cluster to be Searched").t();this.$(Modal.HEADER_TITLE_SELECTOR).html(title),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL);var form=$("<div></div>");return this.children.masteruri=new ControlGroup({className:"cluster-masterip control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{modelAttribute:"ui.master_uri",model:this.model,save:!1},label:_("Master URI").t(),help:_("E.g. https://10.152.31.202:8089 This can be found in the Master Node dashboard.").t()}),this.children.secret=new ControlGroup({className:"cluster-secret control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{modelAttribute:"ui.secret",model:this.model,save:!1,password:!0},label:_("Security Key").t(),help:_("This key authenticates communication between the master and the peers and search head.").t()}),form.append(this.children.masteruri.render().$el),form.append(this.children.secret.render().$el),this.$(Modal.BODY_FORM_SELECTOR).append(form),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_NEXT),this.$(Modal.BODY_FORM_SELECTOR).prepend(this.children.flashMessages.render().el),this.show(),this},saveForm:function(e){var self=this;e.preventDefault(),this.isSaving=!0,this.model.transposeToRest(),this.model.save().done(function(){self.trigger("stepDone"),self.isSaving=!1})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/clustering/push/ActionProgress":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__(580),__webpack_require__("views/clustering/push/ActionProgress.pcss"),__webpack_require__("util/console")],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BaseView,Template,css,console){return BaseView.extend({moduleId:module.id,template:Template,initialize:function(options){options=options||{},BaseView.prototype.initialize.call(this,options),this.model.pushModel.on("tick",this.render,this),this.peerActionTypeKey=options.peerActionTypeKey,this.label=options.label},reset:function(){this.model.pushModel.set(this.peerActionTypeKey,0),this.render()},render:function(){var html=this.compiledTemplate({count:this.model.pushModel.get(this.peerActionTypeKey),total:this.model.pushModel.get("peersTotal"),label:this.label});this.$el.html(html)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});