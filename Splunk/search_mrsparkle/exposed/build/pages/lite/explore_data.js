webpackJsonp([41],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("routers/DataExplorer"),__webpack_require__("util/router_utils"),__webpack_require__("pages/explore_data.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(DataExplorer,router_utils){new DataExplorer;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},456:function(module,exports){var previousHighcharts=window.Highcharts;window.Highcharts=null,/**
	 * @license Highcharts 4.0.4 JS v/Highstock 2.0.4 (2014-09-02)
	 *
	 * (c) 2009-2014 Torstein Honsi
	 *
	 * License: www.highcharts.com/license
	 */
function(){function extend(a,b){var n;a||(a={});for(n in b)a[n]=b[n];return a}function merge(){var i,len,args=arguments,ret={},doCopy=function(copy,original){var value,key;"object"!=typeof copy&&(copy={});for(key in original)original.hasOwnProperty(key)&&(value=original[key],value&&"object"==typeof value&&"[object Array]"!==Object.prototype.toString.call(value)&&"renderTo"!==key&&"number"!=typeof value.nodeType?copy[key]=doCopy(copy[key]||{},value):copy[key]=original[key]);return copy};for(args[0]===!0&&(ret=args[1],args=Array.prototype.slice.call(args,2)),len=args.length,i=0;i<len;i++)ret=doCopy(ret,args[i]);return ret}function pInt(s,mag){return parseInt(s,mag||10)}function isString(s){return"string"==typeof s}function isObject(obj){return obj&&"object"==typeof obj}function isArray(obj){return"[object Array]"===Object.prototype.toString.call(obj)}function isNumber(n){return"number"==typeof n}function log2lin(num){return math.log(num)/math.LN10}function lin2log(num){return math.pow(10,num)}function erase(arr,item){for(var i=arr.length;i--;)if(arr[i]===item){arr.splice(i,1);break}}function defined(obj){return obj!==UNDEFINED&&null!==obj}function attr(elem,prop,value){var key,ret;if(isString(prop))defined(value)?elem.setAttribute(prop,value):elem&&elem.getAttribute&&(ret=elem.getAttribute(prop));else if(defined(prop)&&isObject(prop))for(key in prop)elem.setAttribute(key,prop[key]);return ret}function splat(obj){return isArray(obj)?obj:[obj]}function pick(){var i,arg,args=arguments,length=args.length;for(i=0;i<length;i++)if(arg=args[i],arg!==UNDEFINED&&null!==arg)return arg}function css(el,styles){isIE&&!hasSVG&&styles&&styles.opacity!==UNDEFINED&&(styles.filter="alpha(opacity="+100*styles.opacity+")"),extend(el.style,styles)}function createElement(tag,attribs,styles,parent,nopad){var el=doc.createElement(tag);return attribs&&extend(el,attribs),nopad&&css(el,{padding:0,border:NONE,margin:0}),styles&&css(el,styles),parent&&parent.appendChild(el),el}function extendClass(parent,members){var object=function(){return UNDEFINED};return object.prototype=new parent,extend(object.prototype,members),object}function numberFormat(number,decimals,decPoint,thousandsSep){var externalFn=Highcharts.numberFormat,lang=defaultOptions.lang,n=+number||0,c=decimals===-1?(n.toString().split(".")[1]||"").length:isNaN(decimals=mathAbs(decimals))?2:decimals,d=void 0===decPoint?lang.decimalPoint:decPoint,t=void 0===thousandsSep?lang.thousandsSep:thousandsSep,s=n<0?"-":"",i=String(pInt(n=mathAbs(n).toFixed(c))),j=i.length>3?i.length%3:0;return externalFn!==numberFormat?externalFn(number,decimals,decPoint,thousandsSep):s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+mathAbs(n-i).toFixed(c).slice(2):"")}function pad(number,length){return new Array((length||2)+1-String(number).length).join(0)+number}function wrap(obj,method,func){var proceed=obj[method];obj[method]=function(){var args=Array.prototype.slice.call(arguments);return args.unshift(proceed),func.apply(this,args)}}function formatSingle(format,val){var decimals,floatRegex=/f$/,decRegex=/\.([0-9])/,lang=defaultOptions.lang;return floatRegex.test(format)?(decimals=format.match(decRegex),decimals=decimals?decimals[1]:-1,null!==val&&(val=numberFormat(val,decimals,lang.decimalPoint,format.indexOf(",")>-1?lang.thousandsSep:""))):val=dateFormat(format,val),val}function format(str,ctx){for(var segment,valueAndFormat,path,i,len,val,index,splitter="{",isInside=!1,ret=[];(index=str.indexOf(splitter))!==-1;){if(segment=str.slice(0,index),isInside){for(valueAndFormat=segment.split(":"),path=valueAndFormat.shift().split("."),len=path.length,val=ctx,i=0;i<len;i++)val=val[path[i]];valueAndFormat.length&&(val=formatSingle(valueAndFormat.join(":"),val)),ret.push(val)}else ret.push(segment);str=str.slice(index+1),isInside=!isInside,splitter=isInside?"}":"{"}return ret.push(str),ret.join("")}function getMagnitude(num){return math.pow(10,mathFloor(math.log(num)/math.LN10))}function normalizeTickInterval(interval,multiples,magnitude,allowDecimals){var normalized,i;for(magnitude=pick(magnitude,1),normalized=interval/magnitude,multiples||(multiples=[1,2,2.5,5,10],allowDecimals===!1&&(1===magnitude?multiples=[1,2,5,10]:magnitude<=.1&&(multiples=[1/magnitude]))),i=0;i<multiples.length&&(interval=multiples[i],!(normalized<=(multiples[i]+(multiples[i+1]||multiples[i]))/2));i++);return interval*=magnitude}function stableSort(arr,sortFunction){var sortValue,i,length=arr.length;for(i=0;i<length;i++)arr[i].ss_i=i;for(arr.sort(function(a,b){return sortValue=sortFunction(a,b),0===sortValue?a.ss_i-b.ss_i:sortValue}),i=0;i<length;i++)delete arr[i].ss_i}function arrayMin(data){for(var i=data.length,min=data[0];i--;)data[i]<min&&(min=data[i]);return min}function arrayMax(data){for(var i=data.length,max=data[0];i--;)data[i]>max&&(max=data[i]);return max}function destroyObjectProperties(obj,except){var n;for(n in obj)obj[n]&&obj[n]!==except&&obj[n].destroy&&obj[n].destroy(),delete obj[n]}function discardElement(element){garbageBin||(garbageBin=createElement(DIV)),element&&garbageBin.appendChild(element),garbageBin.innerHTML=""}function correctFloat(num){return parseFloat(num.toPrecision(14))}function setAnimation(animation,chart){globalAnimation=pick(animation,chart.animation)}function setTimeMethods(){var useUTC=defaultOptions.global.useUTC,GET=useUTC?"getUTC":"get",SET=useUTC?"setUTC":"set";Date=defaultOptions.global.Date||window.Date,timezoneOffset=6e4*(useUTC&&defaultOptions.global.timezoneOffset||0),makeTime=useUTC?Date.UTC:function(year,month,date,hours,minutes,seconds){return new Date(year,month,pick(date,1),pick(hours,0),pick(minutes,0),pick(seconds,0)).getTime()},getMinutes=GET+"Minutes",getHours=GET+"Hours",getDay=GET+"Day",getDate=GET+"Date",getMonth=GET+"Month",getFullYear=GET+"FullYear",setMinutes=SET+"Minutes",setHours=SET+"Hours",setDate=SET+"Date",setMonth=SET+"Month",setFullYear=SET+"FullYear"}function setOptions(options){return defaultOptions=merge(!0,defaultOptions,options),setTimeMethods(),defaultOptions}function getOptions(){return defaultOptions}function SVGElement(){}function Tick(axis,pos,type,noLabel){this.axis=axis,this.pos=pos,this.type=type||"",this.isNew=!0,type||noLabel||this.addLabel()}function Axis(){this.init.apply(this,arguments)}function Chart(){this.init.apply(this,arguments)}function StackItem(axis,options,isNegative,x,stackOption){var inverted=axis.chart.inverted;this.axis=axis,this.isNegative=isNegative,this.options=options,this.x=x,this.total=null,this.points={},this.stack=stackOption,this.alignOptions={align:options.align||(inverted?isNegative?"left":"right":"center"),verticalAlign:options.verticalAlign||(inverted?"middle":isNegative?"bottom":"top"),y:pick(options.y,inverted?4:isNegative?14:-6),x:pick(options.x,inverted?isNegative?-6:6:0)},this.textAlign=options.textAlign||(inverted?isNegative?"right":"left":"center")}var UNDEFINED,Renderer,hasTouch,garbageBin,defaultOptions,dateFormat,globalAnimation,pathAnim,timeUnits,error,AxisPlotLineOrBandExtension,Date,makeTime,timezoneOffset,getMinutes,getHours,getDay,getDate,getMonth,getFullYear,setMinutes,setHours,setDate,setMonth,setFullYear,Highcharts,doc=document,win=window,math=Math,mathRound=math.round,mathFloor=math.floor,mathCeil=math.ceil,mathMax=math.max,mathMin=math.min,mathAbs=math.abs,mathCos=math.cos,mathSin=math.sin,mathPI=math.PI,deg2rad=2*mathPI/360,userAgent=navigator.userAgent,isOpera=win.opera,isIE=/msie/i.test(userAgent)&&!isOpera,isWebKit=(8===doc.documentMode,/AppleWebKit/.test(userAgent)),isFirefox=/Firefox/.test(userAgent),isTouchDevice=/(Mobile|Android|Windows Phone)/.test(userAgent),SVG_NS="http://www.w3.org/2000/svg",hasSVG=!!doc.createElementNS&&!!doc.createElementNS(SVG_NS,"svg").createSVGRect,hasBidiBug=isFirefox&&parseInt(userAgent.split("Firefox/")[1],10)<4,useCanVG=!hasSVG&&!isIE&&!!doc.createElement("canvas").getContext,symbolSizes={},idCounter=0,noop=function(){return UNDEFINED},charts=[],chartCount=0,PRODUCT="Highcharts 4.0.4",VERSION="/Highstock 2.0.4",DIV="div",ABSOLUTE="absolute",RELATIVE="relative",HIDDEN="hidden",PREFIX="highcharts-",VISIBLE="visible",PX="px",NONE="none",M="M",L="L",numRegex=/^[0-9]+$/,NORMAL_STATE="",HOVER_STATE="hover",SELECT_STATE="select",STROKE_WIDTH="stroke-width",seriesTypes={};win.Highcharts?error(16,!0):Highcharts=win.Highcharts={},dateFormat=function(format,timestamp,capitalize){if(!defined(timestamp)||isNaN(timestamp))return"Invalid date";format=pick(format,"%Y-%m-%d %H:%M:%S");var key,date=new Date(timestamp-timezoneOffset),hours=date[getHours](),day=date[getDay](),dayOfMonth=date[getDate](),month=date[getMonth](),fullYear=date[getFullYear](),lang=defaultOptions.lang,langWeekdays=lang.weekdays,replacements=extend({a:langWeekdays[day].substr(0,3),A:langWeekdays[day],d:pad(dayOfMonth),e:dayOfMonth,b:lang.shortMonths[month],B:lang.months[month],m:pad(month+1),y:fullYear.toString().substr(2,2),Y:fullYear,H:pad(hours),I:pad(hours%12||12),l:hours%12||12,M:pad(date[getMinutes]()),p:hours<12?"AM":"PM",P:hours<12?"am":"pm",S:pad(date.getSeconds()),L:pad(mathRound(timestamp%1e3),3)},Highcharts.dateFormats);for(key in replacements)for(;format.indexOf("%"+key)!==-1;)format=format.replace("%"+key,"function"==typeof replacements[key]?replacements[key](timestamp):replacements[key]);return capitalize?format.substr(0,1).toUpperCase()+format.substr(1):format},error=function(code,stop){var msg="Highcharts error #"+code+": www.highcharts.com/errors/"+code;if(stop)throw msg;win.console&&console.log(msg)},timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},pathAnim={init:function(elem,fromD,toD){fromD=fromD||"";var endLength,slice,i,startBaseLine,endBaseLine,shift=elem.shift,bezier=fromD.indexOf("C")>-1,numParams=bezier?7:3,start=fromD.split(" "),end=[].concat(toD),sixify=function(arr){for(i=arr.length;i--;)arr[i]===M&&arr.splice(i+1,0,arr[i+1],arr[i+2],arr[i+1],arr[i+2])};if(bezier&&(sixify(start),sixify(end)),elem.isArea&&(startBaseLine=start.splice(start.length-6,6),endBaseLine=end.splice(end.length-6,6)),shift<=end.length/numParams&&start.length===end.length)for(;shift--;)end=[].concat(end).splice(0,numParams).concat(end);if(elem.shift=0,start.length)for(endLength=end.length;start.length<endLength;)slice=[].concat(start).splice(start.length-numParams,numParams),bezier&&(slice[numParams-6]=slice[numParams-2],slice[numParams-5]=slice[numParams-1]),start=start.concat(slice);return startBaseLine&&(start=start.concat(startBaseLine),end=end.concat(endBaseLine)),[start,end]},step:function(start,end,pos,complete){var startVal,ret=[],i=start.length;if(1===pos)ret=complete;else if(i===end.length&&pos<1)for(;i--;)startVal=parseFloat(start[i]),ret[i]=isNaN(startVal)?start[i]:pos*parseFloat(end[i]-startVal)+startVal;else ret=end;return ret}},function($){win.HighchartsAdapter=win.HighchartsAdapter||$&&{init:function(pathAnim){var Fx=$.fx;$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}}),$.each(["cur","_default","width","height","opacity"],function(i,fn){var base,obj=Fx.step;"cur"===fn?obj=Fx.prototype:"_default"===fn&&$.Tween&&(obj=$.Tween.propHooks[fn],fn="set"),base=obj[fn],base&&(obj[fn]=function(fx){var elem;if(fx=i?fx:this,"align"!==fx.prop)return elem=fx.elem,elem.attr?elem.attr(fx.prop,"cur"===fn?UNDEFINED:fx.now):base.apply(this,arguments)})}),wrap($.cssHooks.opacity,"get",function(proceed,elem,computed){return elem.attr?elem.opacity||0:proceed.call(this,elem,computed)}),this.addAnimSetter("d",function(fx){var ends,elem=fx.elem;fx.started||(ends=pathAnim.init(elem,elem.d,elem.toD),fx.start=ends[0],fx.end=ends[1],fx.started=!0),elem.attr("d",pathAnim.step(fx.start,fx.end,fx.pos,elem.toD))}),this.each=Array.prototype.forEach?function(arr,fn){return Array.prototype.forEach.call(arr,fn)}:function(arr,fn){var i,len=arr.length;for(i=0;i<len;i++)if(fn.call(arr[i],arr[i],i,arr)===!1)return i},$.fn.highcharts=function(){var options,ret,chart,constr="Chart",args=arguments;return this[0]&&(isString(args[0])&&(constr=args[0],args=Array.prototype.slice.call(args,1)),options=args[0],options!==UNDEFINED&&(options.chart=options.chart||{},options.chart.renderTo=this[0],chart=new Highcharts[constr](options,args[1]),ret=this),options===UNDEFINED&&(ret=charts[attr(this[0],"data-highcharts-chart")])),ret}},addAnimSetter:function(prop,setter){$.Tween?$.Tween.propHooks[prop]={set:setter}:$.fx.step[prop]=setter},getScript:$.getScript,inArray:$.inArray,adapterRun:function(elem,method){return $(elem)[method]()},grep:$.grep,map:function(arr,fn){for(var results=[],i=0,len=arr.length;i<len;i++)results[i]=fn.call(arr[i],arr[i],i,arr);return results},offset:function(el){return $(el).offset()},addEvent:function(el,event,fn){$(el).bind(event,fn)},removeEvent:function(el,eventType,handler){var func=doc.removeEventListener?"removeEventListener":"detachEvent";doc[func]&&el&&!el[func]&&(el[func]=function(){}),$(el).unbind(eventType,handler)},fireEvent:function(el,type,eventArguments,defaultFunction){var defaultPrevented,event=$.Event(type),detachedType="detached"+type;!isIE&&eventArguments&&(delete eventArguments.layerX,delete eventArguments.layerY,delete eventArguments.returnValue),extend(event,eventArguments),el[type]&&(el[detachedType]=el[type],el[type]=null),$.each(["preventDefault","stopPropagation"],function(i,fn){var base=event[fn];event[fn]=function(){try{base.call(event)}catch(e){"preventDefault"===fn&&(defaultPrevented=!0)}}}),$(el).trigger(event),el[detachedType]&&(el[type]=el[detachedType],el[detachedType]=null),!defaultFunction||event.isDefaultPrevented()||defaultPrevented||defaultFunction(event)},washMouseEvent:function(e){var ret=e.originalEvent||e;return ret.pageX===UNDEFINED&&(ret.pageX=e.pageX,ret.pageY=e.pageY),ret},animate:function(el,params,options){var $el=$(el);el.style||(el.style={}),params.d&&(el.toD=params.d,params.d=1),$el.stop(),params.opacity!==UNDEFINED&&el.attr&&(params.opacity+="px"),el.hasAnim=1,$el.animate(params,options)},stop:function(el){el.hasAnim&&$(el).stop()}}}(win.jQuery);var globalAdapter=win.HighchartsAdapter,adapter=globalAdapter||{};globalAdapter&&globalAdapter.init.call(globalAdapter,pathAnim);var adapterRun=adapter.adapterRun,inArray=(adapter.getScript,adapter.inArray),each=adapter.each,grep=adapter.grep,offset=adapter.offset,map=adapter.map,addEvent=adapter.addEvent,removeEvent=adapter.removeEvent,fireEvent=adapter.fireEvent,washMouseEvent=adapter.washMouseEvent,animate=adapter.animate,stop=adapter.stop,defaultLabelOptions={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};defaultOptions={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com@product.cdnpath@//Highstock 2.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com@product.cdnpath@//Highstock 2.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:merge(defaultLabelOptions,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":numberFormat(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:ABSOLUTE,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:ABSOLUTE,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:RELATIVE,top:"45%"},style:{position:ABSOLUTE,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:hasSVG,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:isTouchDevice?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var defaultPlotOptions=defaultOptions.plotOptions,defaultSeriesOptions=defaultPlotOptions.line;setTimeMethods();var rgbaRegEx=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,hexRegEx=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,rgbRegEx=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Color=function(input){function init(input){input&&input.stops?stops=map(input.stops,function(stop){return Color(stop[1])}):(result=rgbaRegEx.exec(input),result?rgba=[pInt(result[1]),pInt(result[2]),pInt(result[3]),parseFloat(result[4],10)]:(result=hexRegEx.exec(input),result?rgba=[pInt(result[1],16),pInt(result[2],16),pInt(result[3],16),1]:(result=rgbRegEx.exec(input),result&&(rgba=[pInt(result[1]),pInt(result[2]),pInt(result[3]),1]))))}function get(format){var ret;return stops?(ret=merge(input),ret.stops=[].concat(ret.stops),each(stops,function(stop,i){ret.stops[i]=[ret.stops[i][0],stop.get(format)]})):ret=rgba&&!isNaN(rgba[0])?"rgb"===format?"rgb("+rgba[0]+","+rgba[1]+","+rgba[2]+")":"a"===format?rgba[3]:"rgba("+rgba.join(",")+")":input,ret}function brighten(alpha){if(stops)each(stops,function(stop){stop.brighten(alpha)});else if(isNumber(alpha)&&0!==alpha){var i;for(i=0;i<3;i++)rgba[i]+=pInt(255*alpha),rgba[i]<0&&(rgba[i]=0),rgba[i]>255&&(rgba[i]=255)}return this}function setOpacity(alpha){return rgba[3]=alpha,this}var result,stops,rgba=[];return init(input),{get:get,brighten:brighten,rgba:rgba,setOpacity:setOpacity}};SVGElement.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow","HcTextStroke"],init:function(renderer,nodeName){var wrapper=this;wrapper.element="span"===nodeName?createElement(nodeName):doc.createElementNS(SVG_NS,nodeName),wrapper.renderer=renderer},animate:function(params,options,complete){var animOptions=pick(options,globalAnimation,!0);return stop(this),animOptions?(animOptions=merge(animOptions,{}),complete&&(animOptions.complete=complete),animate(this,params,animOptions)):(this.attr(params),complete&&complete()),this},colorGradient:function(color,prop,elem){var colorObject,gradName,gradAttr,gradients,gradientObject,stops,stopColor,stopOpacity,radialReference,n,id,renderer=this.renderer,key=[];if(color.linearGradient?gradName="linearGradient":color.radialGradient&&(gradName="radialGradient"),gradName){gradAttr=color[gradName],gradients=renderer.gradients,stops=color.stops,radialReference=elem.radialReference,isArray(gradAttr)&&(color[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===gradName&&radialReference&&!defined(gradAttr.gradientUnits)&&(gradAttr=merge(gradAttr,{cx:radialReference[0]-radialReference[2]/2+gradAttr.cx*radialReference[2],cy:radialReference[1]-radialReference[2]/2+gradAttr.cy*radialReference[2],r:gradAttr.r*radialReference[2],gradientUnits:"userSpaceOnUse"}));for(n in gradAttr)"id"!==n&&key.push(n,gradAttr[n]);for(n in stops)key.push(stops[n]);key=key.join(","),gradients[key]?id=gradients[key].attr("id"):(gradAttr.id=id=PREFIX+idCounter++,gradients[key]=gradientObject=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs),gradientObject.stops=[],each(stops,function(stop){var stopObject;0===stop[1].indexOf("rgba")?(colorObject=Color(stop[1]),stopColor=colorObject.get("rgb"),stopOpacity=colorObject.get("a")):(stopColor=stop[1],stopOpacity=1),stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity}).add(gradientObject),gradientObject.stops.push(stopObject)})),elem.setAttribute(prop,"url("+renderer.url+"#"+id+")")}},attr:function(hash,val){var key,value,hasSetSymbolSize,skipAttr,element=this.element,ret=this;if("string"==typeof hash&&val!==UNDEFINED&&(key=hash,hash={},hash[key]=val),"string"==typeof hash)ret=(this[hash+"Getter"]||this._defaultGetter).call(this,hash,element);else{for(key in hash)value=hash[key],skipAttr=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(key)&&(hasSetSymbolSize||(this.symbolAttr(hash),hasSetSymbolSize=!0),skipAttr=!0),!this.rotation||"x"!==key&&"y"!==key||(this.doTransform=!0),skipAttr||(this[key+"Setter"]||this._defaultSetter).call(this,value,key,element),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(key)&&this.updateShadows(key,value);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return ret},updateShadows:function(key,value){for(var shadows=this.shadows,i=shadows.length;i--;)shadows[i].setAttribute(key,"height"===key?mathMax(value-(shadows[i].cutHeight||0),0):"d"===key?this.d:value)},addClass:function(className){var element=this.element,currentClassName=attr(element,"class")||"";return currentClassName.indexOf(className)===-1&&attr(element,"class",currentClassName+" "+className),this},symbolAttr:function(hash){var wrapper=this;each(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(key){wrapper[key]=pick(hash[key],wrapper[key])}),wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper)})},clip:function(clipRect){return this.attr("clip-path",clipRect?"url("+this.renderer.url+"#"+clipRect.id+")":NONE)},crisp:function(rect){var key,normalizer,wrapper=this,attribs={},strokeWidth=rect.strokeWidth||wrapper.strokeWidth||0;normalizer=mathRound(strokeWidth)%2/2,rect.x=mathFloor(rect.x||wrapper.x||0)+normalizer,rect.y=mathFloor(rect.y||wrapper.y||0)+normalizer,rect.width=mathFloor((rect.width||wrapper.width||0)-2*normalizer),rect.height=mathFloor((rect.height||wrapper.height||0)-2*normalizer),rect.strokeWidth=strokeWidth;for(key in rect)wrapper[key]!==rect[key]&&(wrapper[key]=attribs[key]=rect[key]);return attribs},css:function(styles){var textWidth,n,hyphenate,elemWrapper=this,oldStyles=elemWrapper.styles,newStyles={},elem=elemWrapper.element,serializedCss="",hasNew=!oldStyles;if(styles&&styles.color&&(styles.fill=styles.color),oldStyles)for(n in styles)styles[n]!==oldStyles[n]&&(newStyles[n]=styles[n],hasNew=!0);if(hasNew){if(textWidth=elemWrapper.textWidth=styles&&styles.width&&"text"===elem.nodeName.toLowerCase()&&pInt(styles.width),oldStyles&&(styles=extend(oldStyles,newStyles)),elemWrapper.styles=styles,textWidth&&(useCanVG||!hasSVG&&elemWrapper.renderer.forExport)&&delete styles.width,isIE&&!hasSVG)css(elemWrapper.element,styles);else{hyphenate=function(a,b){return"-"+b.toLowerCase()};for(n in styles)serializedCss+=n.replace(/([A-Z])/g,hyphenate)+":"+styles[n]+";";attr(elem,"style",serializedCss)}textWidth&&elemWrapper.added&&elemWrapper.renderer.buildText(elemWrapper)}return elemWrapper},on:function(eventType,handler){var svgElement=this,element=svgElement.element;return hasTouch&&"click"===eventType?(element.ontouchstart=function(e){svgElement.touchEventFired=Date.now(),e.preventDefault(),handler.call(element,e)},element.onclick=function(e){(userAgent.indexOf("Android")===-1||Date.now()-(svgElement.touchEventFired||0)>1100)&&handler.call(element,e)}):element["on"+eventType]=handler,this},setRadialReference:function(coordinates){return this.element.radialReference=coordinates,this},translate:function(x,y){return this.attr({translateX:x,translateY:y})},invert:function(){var wrapper=this;return wrapper.inverted=!0,wrapper.updateTransform(),wrapper},updateTransform:function(){var transform,wrapper=this,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,scaleX=wrapper.scaleX,scaleY=wrapper.scaleY,inverted=wrapper.inverted,rotation=wrapper.rotation,element=wrapper.element;inverted&&(translateX+=wrapper.attr("width"),translateY+=wrapper.attr("height")),transform=["translate("+translateX+","+translateY+")"],inverted?transform.push("rotate(90) scale(-1,1)"):rotation&&transform.push("rotate("+rotation+" "+(element.getAttribute("x")||0)+" "+(element.getAttribute("y")||0)+")"),(defined(scaleX)||defined(scaleY))&&transform.push("scale("+pick(scaleX,1)+" "+pick(scaleY,1)+")"),transform.length&&element.setAttribute("transform",transform.join(" "))},toFront:function(){var element=this.element;return element.parentNode.appendChild(element),this},align:function(alignOptions,alignByTranslate,box){var align,vAlign,x,y,alignTo,attribs={},renderer=this.renderer,alignedObjects=renderer.alignedObjects;return alignOptions?(this.alignOptions=alignOptions,this.alignByTranslate=alignByTranslate,box&&!isString(box)||(this.alignTo=alignTo=box||"renderer",erase(alignedObjects,this),alignedObjects.push(this),box=null)):(alignOptions=this.alignOptions,alignByTranslate=this.alignByTranslate,alignTo=this.alignTo),box=pick(box,renderer[alignTo],renderer),align=alignOptions.align,vAlign=alignOptions.verticalAlign,x=(box.x||0)+(alignOptions.x||0),y=(box.y||0)+(alignOptions.y||0),"right"!==align&&"center"!==align||(x+=(box.width-(alignOptions.width||0))/{right:1,center:2}[align]),attribs[alignByTranslate?"translateX":"x"]=mathRound(x),"bottom"!==vAlign&&"middle"!==vAlign||(y+=(box.height-(alignOptions.height||0))/({bottom:1,middle:2}[vAlign]||1)),attribs[alignByTranslate?"translateY":"y"]=mathRound(y),this[this.placed?"animate":"attr"](attribs),this.placed=!0,this.alignAttr=attribs,this},getBBox:function(){var width,height,cacheKey,wrapper=this,bBox=wrapper.bBox,renderer=wrapper.renderer,rotation=wrapper.rotation,element=wrapper.element,styles=wrapper.styles,rad=rotation*deg2rad,textStr=wrapper.textStr;if((""===textStr||numRegex.test(textStr))&&(cacheKey="num."+textStr.toString().length+(styles?"|"+styles.fontSize+"|"+styles.fontFamily:"")),cacheKey&&(bBox=renderer.cache[cacheKey]),!bBox){if(element.namespaceURI===SVG_NS||renderer.forExport){try{bBox=element.getBBox?extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight}}catch(e){}(!bBox||bBox.width<0)&&(bBox={width:0,height:0})}else bBox=wrapper.htmlGetBBox();renderer.isSVG&&(width=bBox.width,height=bBox.height,isIE&&styles&&"11px"===styles.fontSize&&"16.9"===height.toPrecision(3)&&(bBox.height=height=14),rotation&&(bBox.width=mathAbs(height*mathSin(rad))+mathAbs(width*mathCos(rad)),bBox.height=mathAbs(height*mathCos(rad))+mathAbs(width*mathSin(rad)))),wrapper.bBox=bBox,cacheKey&&(renderer.cache[cacheKey]=bBox)}return bBox},show:function(inherit){return inherit&&this.element.namespaceURI===SVG_NS?this.element.removeAttribute("visibility"):this.attr({visibility:inherit?"inherit":VISIBLE}),this},hide:function(){return this.attr({visibility:HIDDEN})},fadeOut:function(duration){var elemWrapper=this;elemWrapper.animate({opacity:0},{duration:duration||150,complete:function(){elemWrapper.attr({y:-9999})}})},add:function(parent){var childNodes,otherElement,otherZIndex,i,inserted,renderer=this.renderer,parentWrapper=parent||renderer,parentNode=parentWrapper.element||renderer.box,element=this.element,zIndex=this.zIndex;if(parent&&(this.parentGroup=parent),this.parentInverted=parent&&parent.inverted,void 0!==this.textStr&&renderer.buildText(this),zIndex&&(parentWrapper.handleZ=!0,zIndex=pInt(zIndex)),parentWrapper.handleZ)for(childNodes=parentNode.childNodes,i=0;i<childNodes.length;i++)if(otherElement=childNodes[i],otherZIndex=attr(otherElement,"zIndex"),otherElement!==element&&(pInt(otherZIndex)>zIndex||!defined(zIndex)&&defined(otherZIndex))){parentNode.insertBefore(element,otherElement),inserted=!0;break}return inserted||parentNode.appendChild(element),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(element){var parentNode=element.parentNode;parentNode&&parentNode.removeChild(element)},destroy:function(){var grandParent,key,i,wrapper=this,element=wrapper.element||{},shadows=wrapper.shadows,parentToClean=wrapper.renderer.isSVG&&"SPAN"===element.nodeName&&wrapper.parentGroup;if(element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.point=null,stop(wrapper),wrapper.clipPath&&(wrapper.clipPath=wrapper.clipPath.destroy()),wrapper.stops){for(i=0;i<wrapper.stops.length;i++)wrapper.stops[i]=wrapper.stops[i].destroy();wrapper.stops=null}for(wrapper.safeRemoveChild(element),shadows&&each(shadows,function(shadow){wrapper.safeRemoveChild(shadow)});parentToClean&&parentToClean.div&&0===parentToClean.div.childNodes.length;)grandParent=parentToClean.parentGroup,wrapper.safeRemoveChild(parentToClean.div),delete parentToClean.div,parentToClean=grandParent;wrapper.alignTo&&erase(wrapper.renderer.alignedObjects,wrapper);for(key in wrapper)delete wrapper[key];return null},shadow:function(shadowOptions,group,cutOff){var i,shadow,strokeWidth,shadowWidth,shadowElementOpacity,transform,shadows=[],element=this.element;if(shadowOptions){for(shadowWidth=pick(shadowOptions.width,3),shadowElementOpacity=(shadowOptions.opacity||.15)/shadowWidth,transform=this.parentInverted?"(-1,-1)":"("+pick(shadowOptions.offsetX,1)+", "+pick(shadowOptions.offsetY,1)+")",i=1;i<=shadowWidth;i++)shadow=element.cloneNode(0),strokeWidth=2*shadowWidth+1-2*i,attr(shadow,{isShadow:"true",stroke:shadowOptions.color||"black","stroke-opacity":shadowElementOpacity*i,"stroke-width":strokeWidth,transform:"translate"+transform,fill:NONE}),cutOff&&(attr(shadow,"height",mathMax(attr(shadow,"height")-strokeWidth,0)),shadow.cutHeight=strokeWidth),group?group.element.appendChild(shadow):element.parentNode.insertBefore(shadow,element),shadows.push(shadow);this.shadows=shadows}return this},xGetter:function(key){return"circle"===this.element.nodeName&&(key={x:"cx",y:"cy"}[key]||key),this._defaultGetter(key)},_defaultGetter:function(key){var ret=pick(this[key],this.element?this.element.getAttribute(key):null,0);return/^[\-0-9\.]+$/.test(ret)&&(ret=parseFloat(ret)),ret},dSetter:function(value,key,element){value&&value.join&&(value=value.join(" ")),/(NaN| {2}|^$)/.test(value)&&(value="M 0 0"),element.setAttribute(key,value),this[key]=value},dashstyleSetter:function(value){var i;if(value=value&&value.toLowerCase()){for(value=value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),
i=value.length;i--;)value[i]=pInt(value[i])*this["stroke-width"];value=value.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",value)}},alignSetter:function(value){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[value])},opacitySetter:function(value,key,element){this[key]=value,element.setAttribute(key,value)},titleSetter:function(value){var titleNode=this.element.getElementsByTagName("title")[0];titleNode||(titleNode=doc.createElementNS(SVG_NS,"title"),this.element.appendChild(titleNode)),titleNode.textContent=pick(value,"").replace(/<[^>]*>/g,"")},textSetter:function(value){value!==this.textStr&&(delete this.bBox,this.textStr=value,this.added&&this.renderer.buildText(this))},fillSetter:function(value,key,element){"string"==typeof value?element.setAttribute(key,value):value&&this.colorGradient(value,key,element)},zIndexSetter:function(value,key,element){element.setAttribute(key,value),this[key]=value},_defaultSetter:function(value,key,element){element.setAttribute(key,value)}},SVGElement.prototype.yGetter=SVGElement.prototype.xGetter,SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.verticalAlignSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=function(value,key){this[key]=value,this.doTransform=!0},SVGElement.prototype["stroke-widthSetter"]=SVGElement.prototype.strokeSetter=function(value,key,element){this[key]=value,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],SVGElement.prototype.fillSetter.call(this,this.stroke,"stroke",element),element.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===key&&0===value&&this.hasStroke&&(element.removeAttribute("stroke"),this.hasStroke=!1)};var SVGRenderer=function(){this.init.apply(this,arguments)};SVGRenderer.prototype={Element:SVGElement,init:function(container,width,height,style,forExport){var boxWrapper,element,desc,renderer=this,loc=location;boxWrapper=renderer.createElement("svg").attr({version:"1.1"}).css(this.getStyle(style)),element=boxWrapper.element,container.appendChild(element),container.innerHTML.indexOf("xmlns")===-1&&attr(element,"xmlns",SVG_NS),renderer.isSVG=!0,renderer.box=element,renderer.boxWrapper=boxWrapper,renderer.alignedObjects=[],renderer.url=(isFirefox||isWebKit)&&doc.getElementsByTagName("base").length?loc.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",desc=this.createElement("desc").add(),desc.element.appendChild(doc.createTextNode("Created with "+PRODUCT+" "+VERSION)),renderer.defs=this.createElement("defs").add(),renderer.forExport=forExport,renderer.gradients={},renderer.cache={},renderer.setSize(width,height,!1);var subPixelFix,rect;isFirefox&&container.getBoundingClientRect&&(renderer.subPixelFix=subPixelFix=function(){css(container,{left:0,top:0}),rect=container.getBoundingClientRect(),css(container,{left:mathCeil(rect.left)-rect.left+PX,top:mathCeil(rect.top)-rect.top+PX})},subPixelFix(),addEvent(win,"resize",subPixelFix))},getStyle:function(style){return this.style=extend({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},style)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var renderer=this,rendererDefs=renderer.defs;return renderer.box=null,renderer.boxWrapper=renderer.boxWrapper.destroy(),destroyObjectProperties(renderer.gradients||{}),renderer.gradients=null,rendererDefs&&(renderer.defs=rendererDefs.destroy()),renderer.subPixelFix&&removeEvent(win,"resize",renderer.subPixelFix),renderer.alignedObjects=null,null},createElement:function(nodeName){var wrapper=new this.Element;return wrapper.init(this,nodeName),wrapper},draw:function(){},buildText:function(wrapper){for(var lines,styleRegex,hrefRegex,textNode=wrapper.element,renderer=this,forExport=renderer.forExport,textStr=pick(wrapper.textStr,"").toString(),hasMarkup=textStr.indexOf("<")!==-1,childNodes=textNode.childNodes,parentX=attr(textNode,"x"),textStyles=wrapper.styles,width=wrapper.textWidth,textLineHeight=textStyles&&textStyles.lineHeight,textStroke=textStyles&&textStyles.HcTextStroke,i=childNodes.length,getLineHeight=function(tspan){return textLineHeight?pInt(textLineHeight):renderer.fontMetrics(/(px|em)$/.test(tspan&&tspan.style.fontSize)?tspan.style.fontSize:textStyles&&textStyles.fontSize||renderer.style.fontSize||12,tspan).h};i--;)textNode.removeChild(childNodes[i]);return hasMarkup||textStroke||textStr.indexOf(" ")!==-1?(styleRegex=/<.*style="([^"]+)".*>/,hrefRegex=/<.*href="(http[^"]+)".*>/,width&&!wrapper.added&&this.box.appendChild(textNode),lines=hasMarkup?textStr.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[textStr],""===lines[lines.length-1]&&lines.pop(),each(lines,function(line,lineNo){var spans,spanNo=0;line=line.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),spans=line.split("|||"),each(spans,function(span){if(""!==span||1===spans.length){var spanStyle,attributes={},tspan=doc.createElementNS(SVG_NS,"tspan");if(styleRegex.test(span)&&(spanStyle=span.match(styleRegex)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),attr(tspan,"style",spanStyle)),hrefRegex.test(span)&&!forExport&&(attr(tspan,"onclick",'location.href="'+span.match(hrefRegex)[1]+'"'),css(tspan,{cursor:"pointer"})),span=(span.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==span){if(tspan.appendChild(doc.createTextNode(span)),spanNo?attributes.dx=0:lineNo&&null!==parentX&&(attributes.x=parentX),attr(tspan,attributes),textNode.appendChild(tspan),!spanNo&&lineNo&&(!hasSVG&&forExport&&css(tspan,{display:"block"}),attr(tspan,"dy",getLineHeight(tspan))),width)for(var tooLong,actualWidth,bBox,words=span.replace(/([^\^])-/g,"$1- ").split(" "),hasWhiteSpace=spans.length>1||words.length>1&&"nowrap"!==textStyles.whiteSpace,hcHeight=textStyles.HcHeight,rest=[],dy=getLineHeight(tspan),softLineNo=1;hasWhiteSpace&&(words.length||rest.length);)delete wrapper.bBox,bBox=wrapper.getBBox(),actualWidth=bBox.width,!hasSVG&&renderer.forExport&&(actualWidth=renderer.measureSpanWidth(tspan.firstChild.data,wrapper.styles)),tooLong=actualWidth>width,tooLong&&1!==words.length?(tspan.removeChild(tspan.firstChild),rest.unshift(words.pop())):(words=rest,rest=[],words.length&&(softLineNo++,hcHeight&&softLineNo*dy>hcHeight?(words=["..."],wrapper.attr("title",wrapper.textStr)):(tspan=doc.createElementNS(SVG_NS,"tspan"),attr(tspan,{dy:dy,x:parentX}),spanStyle&&attr(tspan,"style",spanStyle),textNode.appendChild(tspan))),actualWidth>width&&(width=actualWidth)),words.length&&tspan.appendChild(doc.createTextNode(words.join(" ").replace(/- /g,"-")));spanNo++}}})}),void 0):void textNode.appendChild(doc.createTextNode(textStr))},button:function(text,x,y,callback,normalState,hoverState,pressedState,disabledState,shape){var stateOptions,stateStyle,normalStyle,hoverStyle,pressedStyle,disabledStyle,label=this.label(text,x,y,shape,null,null,null,null,"button"),curState=0,verticalGradient={x1:0,y1:0,x2:0,y2:1};return normalState=merge({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:verticalGradient,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},normalState),normalStyle=normalState.style,delete normalState.style,hoverState=merge(normalState,{stroke:"#68A",fill:{linearGradient:verticalGradient,stops:[[0,"#FFF"],[1,"#ACF"]]}},hoverState),hoverStyle=hoverState.style,delete hoverState.style,pressedState=merge(normalState,{stroke:"#68A",fill:{linearGradient:verticalGradient,stops:[[0,"#9BD"],[1,"#CDF"]]}},pressedState),pressedStyle=pressedState.style,delete pressedState.style,disabledState=merge(normalState,{style:{color:"#CCC"}},disabledState),disabledStyle=disabledState.style,delete disabledState.style,addEvent(label.element,isIE?"mouseover":"mouseenter",function(){3!==curState&&label.attr(hoverState).css(hoverStyle)}),addEvent(label.element,isIE?"mouseout":"mouseleave",function(){3!==curState&&(stateOptions=[normalState,hoverState,pressedState][curState],stateStyle=[normalStyle,hoverStyle,pressedStyle][curState],label.attr(stateOptions).css(stateStyle))}),label.setState=function(state){label.state=curState=state,state?2===state?label.attr(pressedState).css(pressedStyle):3===state&&label.attr(disabledState).css(disabledStyle):label.attr(normalState).css(normalStyle)},label.on("click",function(){3!==curState&&callback.call(label)}).attr(normalState).css(extend({cursor:"default"},normalStyle))},crispLine:function(points,width){return points[1]===points[4]&&(points[1]=points[4]=mathRound(points[1])-width%2/2),points[2]===points[5]&&(points[2]=points[5]=mathRound(points[2])+width%2/2),points},path:function(path){var attr={fill:NONE};return isArray(path)?attr.d=path:isObject(path)&&extend(attr,path),this.createElement("path").attr(attr)},circle:function(x,y,r){var attr=isObject(x)?x:{x:x,y:y,r:r},wrapper=this.createElement("circle");return wrapper.xSetter=function(value){this.element.setAttribute("cx",value)},wrapper.ySetter=function(value){this.element.setAttribute("cy",value)},wrapper.attr(attr)},arc:function(x,y,r,innerR,start,end){var arc;return isObject(x)&&(y=x.y,r=x.r,innerR=x.innerR,start=x.start,end=x.end,x=x.x),arc=this.symbol("arc",x||0,y||0,r||0,r||0,{innerR:innerR||0,start:start||0,end:end||0}),arc.r=r,arc},rect:function(x,y,width,height,r,strokeWidth){r=isObject(x)?x.r:r;var wrapper=this.createElement("rect"),attribs=isObject(x)?x:x===UNDEFINED?{}:{x:x,y:y,width:mathMax(width,0),height:mathMax(height,0)};return strokeWidth!==UNDEFINED&&(attribs.strokeWidth=strokeWidth,attribs=wrapper.crisp(attribs)),r&&(attribs.r=r),wrapper.rSetter=function(value){attr(this.element,{rx:value,ry:value})},wrapper.attr(attribs)},setSize:function(width,height,animate){var renderer=this,alignedObjects=renderer.alignedObjects,i=alignedObjects.length;for(renderer.width=width,renderer.height=height,renderer.boxWrapper[pick(animate,!0)?"animate":"attr"]({width:width,height:height});i--;)alignedObjects[i].align()},g:function(name){var elem=this.createElement("g");return defined(name)?elem.attr({class:PREFIX+name}):elem},image:function(src,x,y,width,height){var elemWrapper,attribs={preserveAspectRatio:NONE};return arguments.length>1&&extend(attribs,{x:x,y:y,width:width,height:height}),elemWrapper=this.createElement("image").attr(attribs),elemWrapper.element.setAttributeNS?elemWrapper.element.setAttributeNS("http://www.w3.org/1999/xlink","href",src):elemWrapper.element.setAttribute("hc-svg-href",src),elemWrapper},symbol:function(symbol,x,y,width,height,options){var obj,imageElement,imageSrc,imageSize,centerImage,symbolFn=this.symbols[symbol],path=symbolFn&&symbolFn(mathRound(x),mathRound(y),width,height,options),imageRegex=/^url\((.*?)\)$/;return path?(obj=this.path(path),extend(obj,{symbolName:symbol,x:x,y:y,width:width,height:height}),options&&extend(obj,options)):imageRegex.test(symbol)&&(centerImage=function(img,size){img.element&&(img.attr({width:size[0],height:size[1]}),img.alignByTranslate||img.translate(mathRound((width-size[0])/2),mathRound((height-size[1])/2)))},imageSrc=symbol.match(imageRegex)[1],imageSize=symbolSizes[imageSrc]||options&&options.width&&options.height&&[options.width,options.height],obj=this.image(imageSrc).attr({x:x,y:y}),obj.isImg=!0,imageSize?centerImage(obj,imageSize):(obj.attr({width:0,height:0}),imageElement=createElement("img",{onload:function(){centerImage(obj,symbolSizes[imageSrc]=[this.width,this.height])},src:imageSrc}))),obj},symbols:{circle:function(x,y,w,h){var cpw=.166*w;return[M,x+w/2,y,"C",x+w+cpw,y,x+w+cpw,y+h,x+w/2,y+h,"C",x-cpw,y+h,x-cpw,y,x+w/2,y,"Z"]},square:function(x,y,w,h){return[M,x,y,L,x+w,y,x+w,y+h,x,y+h,"Z"]},triangle:function(x,y,w,h){return[M,x+w/2,y,L,x+w,y+h,x,y+h,"Z"]},"triangle-down":function(x,y,w,h){return[M,x,y,L,x+w,y,x+w/2,y+h,"Z"]},diamond:function(x,y,w,h){return[M,x+w/2,y,L,x+w,y+h/2,x+w/2,y+h,x,y+h/2,"Z"]},arc:function(x,y,w,h,options){var start=options.start,radius=options.r||w||h,end=options.end-.001,innerRadius=options.innerR,open=options.open,cosStart=mathCos(start),sinStart=mathSin(start),cosEnd=mathCos(end),sinEnd=mathSin(end),longArc=options.end-start<mathPI?0:1;return[M,x+radius*cosStart,y+radius*sinStart,"A",radius,radius,0,longArc,1,x+radius*cosEnd,y+radius*sinEnd,open?M:L,x+innerRadius*cosEnd,y+innerRadius*sinEnd,"A",innerRadius,innerRadius,0,longArc,0,x+innerRadius*cosStart,y+innerRadius*sinStart,open?"":"Z"]},callout:function(x,y,w,h,options){var path,arrowLength=6,halfDistance=6,r=mathMin(options&&options.r||0,w,h),safeDistance=r+halfDistance,anchorX=options&&options.anchorX,anchorY=options&&options.anchorY,normalizer=mathRound(options.strokeWidth||0)%2/2;return x+=normalizer,y+=normalizer,path=["M",x+r,y,"L",x+w-r,y,"C",x+w,y,x+w,y,x+w,y+r,"L",x+w,y+h-r,"C",x+w,y+h,x+w,y+h,x+w-r,y+h,"L",x+r,y+h,"C",x,y+h,x,y+h,x,y+h-r,"L",x,y+r,"C",x,y,x,y,x+r,y],anchorX&&anchorX>w&&anchorY>y+safeDistance&&anchorY<y+h-safeDistance?path.splice(13,3,"L",x+w,anchorY-halfDistance,x+w+arrowLength,anchorY,x+w,anchorY+halfDistance,x+w,y+h-r):anchorX&&anchorX<0&&anchorY>y+safeDistance&&anchorY<y+h-safeDistance?path.splice(33,3,"L",x,anchorY+halfDistance,x-arrowLength,anchorY,x,anchorY-halfDistance,x,y+r):anchorY&&anchorY>h&&anchorX>x+safeDistance&&anchorX<x+w-safeDistance?path.splice(23,3,"L",anchorX+halfDistance,y+h,anchorX,y+h+arrowLength,anchorX-halfDistance,y+h,x+r,y+h):anchorY&&anchorY<0&&anchorX>x+safeDistance&&anchorX<x+w-safeDistance&&path.splice(3,3,"L",anchorX-halfDistance,y,anchorX,y-arrowLength,anchorX+halfDistance,y,w-r,y),path}},clipRect:function(x,y,width,height){var wrapper,id=PREFIX+idCounter++,clipPath=this.createElement("clipPath").attr({id:id}).add(this.defs);return wrapper=this.rect(x,y,width,height,0).add(clipPath),wrapper.id=id,wrapper.clipPath=clipPath,wrapper},text:function(str,x,y,useHTML){var wrapper,renderer=this,fakeSVG=useCanVG||!hasSVG&&renderer.forExport,attr={};return useHTML&&!renderer.forExport?renderer.html(str,x,y):(attr.x=Math.round(x||0),y&&(attr.y=Math.round(y)),(str||0===str)&&(attr.text=str),wrapper=renderer.createElement("text").attr(attr),fakeSVG&&wrapper.css({position:ABSOLUTE}),useHTML||(wrapper.xSetter=function(value,key,element){var tspan,i,tspans=element.getElementsByTagName("tspan"),parentVal=element.getAttribute(key);for(i=0;i<tspans.length;i++)tspan=tspans[i],tspan.getAttribute(key)===parentVal&&tspan.setAttribute(key,value);element.setAttribute(key,value)}),wrapper)},fontMetrics:function(fontSize,elem){fontSize=fontSize||this.style.fontSize,elem&&win.getComputedStyle&&(elem=elem.element||elem,fontSize=win.getComputedStyle(elem,"").fontSize),fontSize=/px/.test(fontSize)?pInt(fontSize):/em/.test(fontSize)?12*parseFloat(fontSize):12;var lineHeight=fontSize<24?fontSize+4:mathRound(1.2*fontSize),baseline=mathRound(.8*lineHeight);return{h:lineHeight,b:baseline,f:fontSize}},label:function(str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){function updateBoxSize(){var boxX,boxY,style=text.element.style;bBox=(void 0===width||void 0===height||wrapper.styles.textAlign)&&text.textStr&&text.getBBox(),wrapper.width=(width||bBox.width||0)+2*padding+paddingLeft,wrapper.height=(height||bBox.height||0)+2*padding,baselineOffset=padding+renderer.fontMetrics(style&&style.fontSize,text).b,needsBox&&(box||(boxX=mathRound(-alignFactor*padding),boxY=baseline?-baselineOffset:0,wrapper.box=box=shape?renderer.symbol(shape,boxX,boxY,wrapper.width,wrapper.height,deferredAttr):renderer.rect(boxX,boxY,wrapper.width,wrapper.height,0,deferredAttr[STROKE_WIDTH]),box.attr("fill",NONE).add(wrapper)),box.isImg||box.attr(extend({width:mathRound(wrapper.width),height:mathRound(wrapper.height)},deferredAttr)),deferredAttr=null)}function updateTextPadding(){var y,styles=wrapper.styles,textAlign=styles&&styles.textAlign,x=paddingLeft+padding*(1-alignFactor);y=baseline?0:baselineOffset,defined(width)&&bBox&&("center"===textAlign||"right"===textAlign)&&(x+={center:.5,right:1}[textAlign]*(width-bBox.width)),x===text.x&&y===text.y||(text.attr("x",x),y!==UNDEFINED&&text.attr("y",y)),text.x=x,text.y=y}function boxAttr(key,value){box?box.attr(key,value):deferredAttr[key]=value}var box,bBox,width,height,wrapperX,wrapperY,baselineOffset,needsBox,renderer=this,wrapper=renderer.g(className),text=renderer.text("",0,0,useHTML).attr({zIndex:1}),alignFactor=0,padding=3,paddingLeft=0,crispAdjust=0,deferredAttr={};wrapper.onAdd=function(){text.add(wrapper),wrapper.attr({text:str||0===str?str:"",x:x,y:y}),box&&defined(anchorX)&&wrapper.attr({anchorX:anchorX,anchorY:anchorY})},wrapper.widthSetter=function(value){width=value},wrapper.heightSetter=function(value){height=value},wrapper.paddingSetter=function(value){defined(value)&&value!==padding&&(padding=value,updateTextPadding())},wrapper.paddingLeftSetter=function(value){defined(value)&&value!==paddingLeft&&(paddingLeft=value,updateTextPadding())},wrapper.alignSetter=function(value){alignFactor={left:0,center:.5,right:1}[value]},wrapper.textSetter=function(value){value!==UNDEFINED&&text.textSetter(value),updateBoxSize(),updateTextPadding()},wrapper["stroke-widthSetter"]=function(value,key){value&&(needsBox=!0),crispAdjust=value%2/2,boxAttr(key,value)},wrapper.strokeSetter=wrapper.fillSetter=wrapper.rSetter=function(value,key){"fill"===key&&value&&(needsBox=!0),boxAttr(key,value)},wrapper.anchorXSetter=function(value,key){anchorX=value,boxAttr(key,value+crispAdjust-wrapperX)},wrapper.anchorYSetter=function(value,key){anchorY=value,boxAttr(key,value-wrapperY)},wrapper.xSetter=function(value){wrapper.x=value,alignFactor&&(value-=alignFactor*((width||bBox.width)+padding)),wrapperX=mathRound(value),wrapper.attr("translateX",wrapperX)},wrapper.ySetter=function(value){wrapperY=wrapper.y=mathRound(value),wrapper.attr("translateY",wrapperY)};var baseCss=wrapper.css;return extend(wrapper,{css:function(styles){if(styles){var textStyles={};styles=merge(styles),each(wrapper.textProps,function(prop){styles[prop]!==UNDEFINED&&(textStyles[prop]=styles[prop],delete styles[prop])}),text.css(textStyles)}return baseCss.call(wrapper,styles)},getBBox:function(){return{width:bBox.width+2*padding,height:bBox.height+2*padding,x:bBox.x-padding,y:bBox.y-padding}},shadow:function(b){return box&&box.shadow(b),wrapper},destroy:function(){removeEvent(wrapper.element,"mouseenter"),removeEvent(wrapper.element,"mouseleave"),text&&(text=text.destroy()),box&&(box=box.destroy()),SVGElement.prototype.destroy.call(wrapper),wrapper=renderer=updateBoxSize=updateTextPadding=boxAttr=null}})}},Renderer=SVGRenderer,extend(SVGElement.prototype,{htmlCss:function(styles){var wrapper=this,element=wrapper.element,textWidth=styles&&"SPAN"===element.tagName&&styles.width;return textWidth&&(delete styles.width,wrapper.textWidth=textWidth,wrapper.updateTransform()),wrapper.styles=extend(wrapper.styles,styles),css(wrapper.element,styles),wrapper},htmlGetBBox:function(){var wrapper=this,element=wrapper.element,bBox=wrapper.bBox;return bBox||("text"===element.nodeName&&(element.style.position=ABSOLUTE),bBox=wrapper.bBox={x:element.offsetLeft,y:element.offsetTop,width:element.offsetWidth,height:element.offsetHeight}),bBox},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var wrapper=this,renderer=wrapper.renderer,elem=wrapper.element,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,x=wrapper.x||0,y=wrapper.y||0,align=wrapper.textAlign||"left",alignCorrection={left:0,center:.5,right:1}[align],shadows=wrapper.shadows;if(css(elem,{marginLeft:translateX,marginTop:translateY}),shadows&&each(shadows,function(shadow){css(shadow,{marginLeft:translateX+1,marginTop:translateY+1})}),wrapper.inverted&&each(elem.childNodes,function(child){renderer.invertChild(child,elem)}),"SPAN"===elem.tagName){var width,baseline,rotation=wrapper.rotation,textWidth=pInt(wrapper.textWidth),currentTextTransform=[rotation,align,elem.innerHTML,wrapper.textWidth].join(",");currentTextTransform!==wrapper.cTT&&(baseline=renderer.fontMetrics(elem.style.fontSize).b,defined(rotation)&&wrapper.setSpanRotation(rotation,alignCorrection,baseline),width=pick(wrapper.elemWidth,elem.offsetWidth),width>textWidth&&/[ \-]/.test(elem.textContent||elem.innerText)&&(css(elem,{width:textWidth+PX,display:"block",whiteSpace:"normal"}),width=textWidth),wrapper.getSpanCorrection(width,baseline,alignCorrection,rotation,align)),css(elem,{left:x+(wrapper.xCorr||0)+PX,top:y+(wrapper.yCorr||0)+PX}),isWebKit&&(baseline=elem.offsetHeight),wrapper.cTT=currentTextTransform}},setSpanRotation:function(rotation,alignCorrection,baseline){var rotationStyle={},cssTransformKey=isIE?"-ms-transform":isWebKit?"-webkit-transform":isFirefox?"MozTransform":isOpera?"-o-transform":"";rotationStyle[cssTransformKey]=rotationStyle.transform="rotate("+rotation+"deg)",rotationStyle[cssTransformKey+(isFirefox?"Origin":"-origin")]=rotationStyle.transformOrigin=100*alignCorrection+"% "+baseline+"px",css(this.element,rotationStyle)},getSpanCorrection:function(width,baseline,alignCorrection){this.xCorr=-width*alignCorrection,this.yCorr=-baseline}}),extend(SVGRenderer.prototype,{html:function(str,x,y){var wrapper=this.createElement("span"),element=wrapper.element,renderer=wrapper.renderer;return wrapper.textSetter=function(value){value!==element.innerHTML&&delete this.bBox,element.innerHTML=this.textStr=value},wrapper.xSetter=wrapper.ySetter=wrapper.alignSetter=wrapper.rotationSetter=function(value,key){"align"===key&&(key="textAlign"),wrapper[key]=value,wrapper.htmlUpdateTransform()},wrapper.attr({text:str,x:mathRound(x),y:mathRound(y)}).css({position:ABSOLUTE,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),wrapper.css=wrapper.htmlCss,renderer.isSVG&&(wrapper.add=function(svgGroupWrapper){var htmlGroup,parentGroup,container=renderer.box.parentNode,parents=[];if(this.parentGroup=svgGroupWrapper,svgGroupWrapper){if(htmlGroup=svgGroupWrapper.div,!htmlGroup){for(parentGroup=svgGroupWrapper;parentGroup;)parents.push(parentGroup),parentGroup=parentGroup.parentGroup;each(parents.reverse(),function(parentGroup){var htmlGroupStyle;htmlGroup=parentGroup.div=parentGroup.div||createElement(DIV,{className:attr(parentGroup.element,"class")},{position:ABSOLUTE,left:(parentGroup.translateX||0)+PX,top:(parentGroup.translateY||0)+PX},htmlGroup||container),htmlGroupStyle=htmlGroup.style,extend(parentGroup,{translateXSetter:function(value,key){htmlGroupStyle.left=value+PX,parentGroup[key]=value,parentGroup.doTransform=!0},translateYSetter:function(value,key){htmlGroupStyle.top=value+PX,parentGroup[key]=value,parentGroup.doTransform=!0},visibilitySetter:function(value,key){htmlGroupStyle[key]=value}})})}}else htmlGroup=container;return htmlGroup.appendChild(element),wrapper.added=!0,wrapper.alignOnAdd&&wrapper.htmlUpdateTransform(),wrapper}),wrapper}}),Tick.prototype={addLabel:function(){var str,css,attr,dateTimeLabelFormat,tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,horiz=axis.horiz,categories=axis.categories,names=axis.names,pos=tick.pos,labelOptions=options.labels,rotation=labelOptions.rotation,tickPositions=axis.tickPositions,width=horiz&&categories&&!labelOptions.step&&!labelOptions.staggerLines&&!labelOptions.rotation&&chart.plotWidth/tickPositions.length||!horiz&&(chart.margin[3]||.33*chart.chartWidth),isFirst=pos===tickPositions[0],isLast=pos===tickPositions[tickPositions.length-1],value=categories?pick(categories[pos],names[pos],pos):pos,label=tick.label,tickPositionInfo=tickPositions.info;axis.isDatetimeAxis&&tickPositionInfo&&(dateTimeLabelFormat=options.dateTimeLabelFormats[tickPositionInfo.higherRanks[pos]||tickPositionInfo.unitName]),tick.isFirst=isFirst,tick.isLast=isLast,str=axis.labelFormatter.call({axis:axis,chart:chart,isFirst:isFirst,isLast:isLast,dateTimeLabelFormat:dateTimeLabelFormat,value:axis.isLog?correctFloat(lin2log(value)):value}),css=width&&{width:mathMax(1,mathRound(width-2*(labelOptions.padding||10)))+PX},defined(label)?label&&label.attr({text:str}).css(css):(attr={align:axis.labelAlign},isNumber(rotation)&&(attr.rotation=rotation),width&&labelOptions.ellipsis&&(css.HcHeight=axis.len/tickPositions.length),tick.label=label=defined(str)&&labelOptions.enabled?chart.renderer.text(str,0,0,labelOptions.useHTML).attr(attr).css(extend(css,labelOptions.style)).add(axis.labelGroup):null,axis.tickBaseline=chart.renderer.fontMetrics(labelOptions.style.fontSize,label).b,rotation&&2===axis.side&&(axis.tickBaseline*=mathCos(rotation*deg2rad))),tick.yOffset=label?pick(labelOptions.y,axis.tickBaseline+(2===axis.side?8:-(label.getBBox().height/2))):0},getLabelSize:function(){var label=this.label,axis=this.axis;return label?label.getBBox()[axis.horiz?"height":"width"]:0},getLabelSides:function(){var bBox=this.label.getBBox(),axis=this.axis,horiz=axis.horiz,options=axis.options,labelOptions=options.labels,size=horiz?bBox.width:bBox.height,leftSide=horiz?labelOptions.x-size*{left:0,center:.5,right:1}[axis.labelAlign]:0,rightSide=horiz?size+leftSide:size;return[leftSide,rightSide]},handleOverflow:function(index,xy){var axisLeft,axisRight,neighbour,neighbourEdge,justifyToPlot,show=!0,axis=this.axis,isFirst=this.isFirst,isLast=this.isLast,horiz=axis.horiz,pxPos=horiz?xy.x:xy.y,reversed=axis.reversed,tickPositions=axis.tickPositions,sides=this.getLabelSides(),leftSide=sides[0],rightSide=sides[1],line=this.label.line,lineIndex=line||0,labelEdge=axis.labelEdge,justifyLabel=axis.justifyLabels&&(isFirst||isLast);if(labelEdge[lineIndex]===UNDEFINED||pxPos+leftSide>labelEdge[lineIndex]?labelEdge[lineIndex]=pxPos+rightSide:justifyLabel||(show=!1),justifyLabel){justifyToPlot=axis.justifyToPlot,axisLeft=justifyToPlot?axis.pos:0,axisRight=justifyToPlot?axisLeft+axis.len:axis.chart.chartWidth;do index+=isFirst?1:-1,neighbour=axis.ticks[tickPositions[index]];while(tickPositions[index]&&(!neighbour||!neighbour.label||neighbour.label.line!==line));neighbourEdge=neighbour&&neighbour.label.xy&&neighbour.label.xy.x+neighbour.getLabelSides()[isFirst?0:1],isFirst&&!reversed||isLast&&reversed?pxPos+leftSide<axisLeft&&(pxPos=axisLeft-leftSide,neighbour&&pxPos+rightSide>neighbourEdge&&(show=!1)):pxPos+rightSide>axisRight&&(pxPos=axisRight-rightSide,neighbour&&pxPos+leftSide<neighbourEdge&&(show=!1)),xy.x=pxPos}return show},getPosition:function(horiz,pos,tickmarkOffset,old){var axis=this.axis,chart=axis.chart,cHeight=old&&chart.oldChartHeight||chart.chartHeight;return{x:horiz?axis.translate(pos+tickmarkOffset,null,null,old)+axis.transB:axis.left+axis.offset+(axis.opposite?(old&&chart.oldChartWidth||chart.chartWidth)-axis.right-axis.left:0),y:horiz?cHeight-axis.bottom+axis.offset-(axis.opposite?axis.height:0):cHeight-axis.translate(pos+tickmarkOffset,null,null,old)-axis.transB}},getLabelPosition:function(x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var axis=this.axis,transA=axis.transA,reversed=axis.reversed,staggerLines=axis.staggerLines;return x=x+labelOptions.x-(tickmarkOffset&&horiz?tickmarkOffset*transA*(reversed?-1:1):0),y=y+this.yOffset-(tickmarkOffset&&!horiz?tickmarkOffset*transA*(reversed?1:-1):0),staggerLines&&(label.line=index/(step||1)%staggerLines,y+=label.line*(axis.labelOffset/staggerLines)),{x:x,y:y}},getMarkPath:function(x,y,tickLength,tickWidth,horiz,renderer){return renderer.crispLine([M,x,y,L,x+(horiz?0:-tickLength),y+(horiz?tickLength:0)],tickWidth)},render:function(index,old,opacity){var gridLinePath,markPath,attribs,tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,renderer=chart.renderer,horiz=axis.horiz,type=tick.type,label=tick.label,pos=tick.pos,labelOptions=options.labels,gridLine=tick.gridLine,gridPrefix=type?type+"Grid":"grid",tickPrefix=type?type+"Tick":"tick",gridLineWidth=options[gridPrefix+"LineWidth"],gridLineColor=options[gridPrefix+"LineColor"],dashStyle=options[gridPrefix+"LineDashStyle"],tickLength=options[tickPrefix+"Length"],tickWidth=options[tickPrefix+"Width"]||0,tickColor=options[tickPrefix+"Color"],tickPosition=options[tickPrefix+"Position"],mark=tick.mark,step=labelOptions.step,show=!0,tickmarkOffset=axis.tickmarkOffset,xy=tick.getPosition(horiz,pos,tickmarkOffset,old),x=xy.x,y=xy.y,reverseCrisp=horiz&&x===axis.pos+axis.len||!horiz&&y===axis.pos?-1:1;opacity=pick(opacity,1),this.isActive=!0,gridLineWidth&&(gridLinePath=axis.getPlotLinePath(pos+tickmarkOffset,gridLineWidth*reverseCrisp,old,!0),gridLine===UNDEFINED&&(attribs={stroke:gridLineColor,"stroke-width":gridLineWidth},dashStyle&&(attribs.dashstyle=dashStyle),type||(attribs.zIndex=1),old&&(attribs.opacity=0),tick.gridLine=gridLine=gridLineWidth?renderer.path(gridLinePath).attr(attribs).add(axis.gridGroup):null),!old&&gridLine&&gridLinePath&&gridLine[tick.isNew?"attr":"animate"]({d:gridLinePath,opacity:opacity})),tickWidth&&tickLength&&("inside"===tickPosition&&(tickLength=-tickLength),axis.opposite&&(tickLength=-tickLength),markPath=tick.getMarkPath(x,y,tickLength,tickWidth*reverseCrisp,horiz,renderer),mark?mark.animate({d:markPath,opacity:opacity}):tick.mark=renderer.path(markPath).attr({stroke:tickColor,"stroke-width":tickWidth,opacity:opacity}).add(axis.axisGroup)),label&&!isNaN(x)&&(label.xy=xy=tick.getLabelPosition(x,y,label,horiz,labelOptions,tickmarkOffset,index,step),tick.isFirst&&!tick.isLast&&!pick(options.showFirstLabel,1)||tick.isLast&&!tick.isFirst&&!pick(options.showLastLabel,1)?show=!1:axis.isRadial||labelOptions.step||labelOptions.rotation||old||0===opacity||(show=tick.handleOverflow(index,xy)),step&&index%step&&(show=!1),show&&!isNaN(xy.y)?(xy.opacity=opacity,label[tick.isNew?"attr":"animate"](xy),tick.isNew=!1):label.attr("y",-9999))},destroy:function(){destroyObjectProperties(this,this.axis)}},Highcharts.PlotLineOrBand=function(axis,options){this.axis=axis,options&&(this.options=options,this.id=options.id)},Highcharts.PlotLineOrBand.prototype={render:function(){var addEvent,eventType,xs,ys,x,y,plotLine=this,axis=plotLine.axis,horiz=axis.horiz,halfPointRange=(axis.pointRange||0)/2,options=plotLine.options,optionsLabel=options.label,label=plotLine.label,width=options.width,to=options.to,from=options.from,isBand=defined(from)&&defined(to),value=options.value,dashStyle=options.dashStyle,svgElem=plotLine.svgElem,path=[],color=options.color,zIndex=options.zIndex,events=options.events,attribs={},renderer=axis.chart.renderer;if(axis.isLog&&(from=log2lin(from),to=log2lin(to),value=log2lin(value)),width)path=axis.getPlotLinePath(value,width),attribs={stroke:color,"stroke-width":width},dashStyle&&(attribs.dashstyle=dashStyle);else{if(!isBand)return;from=mathMax(from,axis.min-halfPointRange),to=mathMin(to,axis.max+halfPointRange),path=axis.getPlotBandPath(from,to,options),color&&(attribs.fill=color),options.borderWidth&&(attribs.stroke=options.borderColor,attribs["stroke-width"]=options.borderWidth)}if(defined(zIndex)&&(attribs.zIndex=zIndex),svgElem)path?svgElem.animate({d:path},null,svgElem.onGetPath):(svgElem.hide(),svgElem.onGetPath=function(){svgElem.show()},label&&(plotLine.label=label=label.destroy()));else if(path&&path.length&&(plotLine.svgElem=svgElem=renderer.path(path).attr(attribs).add(),events)){addEvent=function(eventType){svgElem.on(eventType,function(e){events[eventType].apply(plotLine,[e])})};for(eventType in events)addEvent(eventType)}return optionsLabel&&defined(optionsLabel.text)&&path&&path.length&&axis.width>0&&axis.height>0?(optionsLabel=merge({align:horiz&&isBand&&"center",x:horiz?!isBand&&4:10,verticalAlign:!horiz&&isBand&&"middle",y:horiz?isBand?16:10:isBand?6:-4,rotation:horiz&&!isBand&&90},optionsLabel),label||(attribs={align:optionsLabel.textAlign||optionsLabel.align,rotation:optionsLabel.rotation},defined(zIndex)&&(attribs.zIndex=zIndex),plotLine.label=label=renderer.text(optionsLabel.text,0,0,optionsLabel.useHTML).attr(attribs).css(optionsLabel.style).add()),xs=[path[1],path[4],isBand?path[6]:path[1]],
ys=[path[2],path[5],isBand?path[7]:path[2]],x=arrayMin(xs),y=arrayMin(ys),label.align(optionsLabel,!1,{x:x,y:y,width:arrayMax(xs)-x,height:arrayMax(ys)-y}),label.show()):label&&label.hide(),plotLine},destroy:function(){erase(this.axis.plotLinesAndBands,this),delete this.axis,destroyObjectProperties(this)}},AxisPlotLineOrBandExtension={getPlotBandPath:function(from,to){var toPath=this.getPlotLinePath(to),path=this.getPlotLinePath(from);return path&&toPath?path.push(toPath[4],toPath[5],toPath[1],toPath[2]):path=null,path},addPlotBand:function(options){return this.addPlotBandOrLine(options,"plotBands")},addPlotLine:function(options){return this.addPlotBandOrLine(options,"plotLines")},addPlotBandOrLine:function(options,coll){var obj=new Highcharts.PlotLineOrBand(this,options).render(),userOptions=this.userOptions;return obj&&(coll&&(userOptions[coll]=userOptions[coll]||[],userOptions[coll].push(options)),this.plotLinesAndBands.push(obj)),obj},removePlotBandOrLine:function(id){for(var plotLinesAndBands=this.plotLinesAndBands,options=this.options,userOptions=this.userOptions,i=plotLinesAndBands.length;i--;)plotLinesAndBands[i].id===id&&plotLinesAndBands[i].destroy();each([options.plotLines||[],userOptions.plotLines||[],options.plotBands||[],userOptions.plotBands||[]],function(arr){for(i=arr.length;i--;)arr[i].id===id&&erase(arr,arr[i])})}},Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:defaultLabelOptions,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return numberFormat(this.total,-1)},style:defaultLabelOptions.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(chart,userOptions){var isXAxis=userOptions.isX,axis=this;axis.horiz=chart.inverted?!isXAxis:isXAxis,axis.isXAxis=isXAxis,axis.coll=isXAxis?"xAxis":"yAxis",axis.opposite=userOptions.opposite,axis.side=userOptions.side||(axis.horiz?axis.opposite?0:2:axis.opposite?1:3),axis.setOptions(userOptions);var options=this.options,type=options.type,isDatetimeAxis="datetime"===type;axis.labelFormatter=options.labels.formatter||axis.defaultLabelFormatter,axis.userOptions=userOptions,axis.minPixelPadding=0,axis.chart=chart,axis.reversed=options.reversed,axis.zoomEnabled=options.zoomEnabled!==!1,axis.categories=options.categories||"category"===type,axis.names=[],axis.isLog="logarithmic"===type,axis.isDatetimeAxis=isDatetimeAxis,axis.isLinked=defined(options.linkedTo),axis.tickmarkOffset=axis.categories&&"between"===options.tickmarkPlacement&&1===pick(options.tickInterval,1)?.5:0,axis.ticks={},axis.labelEdge=[],axis.minorTicks={},axis.plotLinesAndBands=[],axis.alternateBands={},axis.len=0,axis.minRange=axis.userMinRange=options.minRange||options.maxZoom,axis.range=options.range,axis.offset=options.offset||0,axis.stacks={},axis.oldStacks={},axis.max=null,axis.min=null,axis.crosshair=pick(options.crosshair,splat(chart.options.tooltip.crosshairs)[isXAxis?0:1],!1);var eventType,events=axis.options.events;inArray(axis,chart.axes)===-1&&(isXAxis&&!this.isColorAxis?chart.axes.splice(chart.xAxis.length,0,axis):chart.axes.push(axis),chart[axis.coll].push(axis)),axis.series=axis.series||[],chart.inverted&&isXAxis&&axis.reversed===UNDEFINED&&(axis.reversed=!0),axis.removePlotBand=axis.removePlotBandOrLine,axis.removePlotLine=axis.removePlotBandOrLine;for(eventType in events)addEvent(axis,eventType,events[eventType]);axis.isLog&&(axis.val2lin=log2lin,axis.lin2val=lin2log)},setOptions:function(userOptions){this.options=merge(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],merge(defaultOptions[this.coll],userOptions))},defaultLabelFormatter:function(){var multi,ret,axis=this.axis,value=this.value,categories=axis.categories,dateTimeLabelFormat=this.dateTimeLabelFormat,numericSymbols=defaultOptions.lang.numericSymbols,i=numericSymbols&&numericSymbols.length,formatOption=axis.options.labels.format,numericSymbolDetector=axis.isLog?value:axis.tickInterval;if(formatOption)ret=format(formatOption,this);else if(categories)ret=value;else if(dateTimeLabelFormat)ret=dateFormat(dateTimeLabelFormat,value);else if(i&&numericSymbolDetector>=1e3)for(;i--&&ret===UNDEFINED;)multi=Math.pow(1e3,i+1),numericSymbolDetector>=multi&&null!==numericSymbols[i]&&(ret=numberFormat(value/multi,-1)+numericSymbols[i]);return ret===UNDEFINED&&(ret=mathAbs(value)>=1e4?numberFormat(value,0):numberFormat(value,-1,UNDEFINED,"")),ret},getSeriesExtremes:function(){var axis=this,chart=axis.chart;axis.hasVisibleSeries=!1,axis.dataMin=axis.dataMax=axis.ignoreMinPadding=axis.ignoreMaxPadding=null,axis.buildStacks&&axis.buildStacks(),each(axis.series,function(series){if(series.visible||!chart.options.chart.ignoreHiddenSeries){var xData,seriesDataMin,seriesDataMax,seriesOptions=series.options,threshold=seriesOptions.threshold;axis.hasVisibleSeries=!0,axis.isLog&&threshold<=0&&(threshold=null),axis.isXAxis?(xData=series.xData,xData.length&&(axis.dataMin=mathMin(pick(axis.dataMin,xData[0]),arrayMin(xData)),axis.dataMax=mathMax(pick(axis.dataMax,xData[0]),arrayMax(xData)))):(series.getExtremes(),seriesDataMax=series.dataMax,seriesDataMin=series.dataMin,defined(seriesDataMin)&&defined(seriesDataMax)&&(axis.dataMin=mathMin(pick(axis.dataMin,seriesDataMin),seriesDataMin),axis.dataMax=mathMax(pick(axis.dataMax,seriesDataMax),seriesDataMax)),defined(threshold)&&(axis.dataMin>=threshold?(axis.dataMin=threshold,axis.ignoreMinPadding=!0):axis.dataMax<threshold&&(axis.dataMax=threshold,axis.ignoreMaxPadding=!0)))}})},translate:function(val,backwards,cvsCoord,old,handleLog,pointPlacement){var returnValue,axis=this,sign=1,cvsOffset=0,localA=old?axis.oldTransA:axis.transA,localMin=old?axis.oldMin:axis.min,minPixelPadding=axis.minPixelPadding,postTranslate=(axis.options.ordinal||axis.isLog&&handleLog)&&axis.lin2val;return localA||(localA=axis.transA),cvsCoord&&(sign*=-1,cvsOffset=axis.len),axis.reversed&&(sign*=-1,cvsOffset-=sign*(axis.sector||axis.len)),backwards?(val=val*sign+cvsOffset,val-=minPixelPadding,returnValue=val/localA+localMin,postTranslate&&(returnValue=axis.lin2val(returnValue))):(postTranslate&&(val=axis.val2lin(val)),"between"===pointPlacement&&(pointPlacement=.5),returnValue=sign*(val-localMin)*localA+cvsOffset+sign*minPixelPadding+(isNumber(pointPlacement)?localA*pointPlacement*axis.pointRange:0)),returnValue},toPixels:function(value,paneCoordinates){return this.translate(value,!1,!this.horiz,null,!0)+(paneCoordinates?0:this.pos)},toValue:function(pixel,paneCoordinates){return this.translate(pixel-(paneCoordinates?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(value,lineWidth,old,force,translatedValue){var x1,y1,x2,y2,skip,axis=this,chart=axis.chart,axisLeft=axis.left,axisTop=axis.top,cHeight=old&&chart.oldChartHeight||chart.chartHeight,cWidth=old&&chart.oldChartWidth||chart.chartWidth,transB=axis.transB;return translatedValue=pick(translatedValue,axis.translate(value,null,null,old)),x1=x2=mathRound(translatedValue+transB),y1=y2=mathRound(cHeight-translatedValue-transB),isNaN(translatedValue)?skip=!0:axis.horiz?(y1=axisTop,y2=cHeight-axis.bottom,(x1<axisLeft||x1>axisLeft+axis.width)&&(skip=!0)):(x1=axisLeft,x2=cWidth-axis.right,(y1<axisTop||y1>axisTop+axis.height)&&(skip=!0)),skip&&!force?null:chart.renderer.crispLine([M,x1,y1,L,x2,y2],lineWidth||1)},getLinearTickPositions:function(tickInterval,min,max){var pos,lastPos,roundedMin=correctFloat(mathFloor(min/tickInterval)*tickInterval),roundedMax=correctFloat(mathCeil(max/tickInterval)*tickInterval),tickPositions=[];if(min===max&&isNumber(min))return[min];for(pos=roundedMin;pos<=roundedMax&&(tickPositions.push(pos),pos=correctFloat(pos+tickInterval),pos!==lastPos);)lastPos=pos;return tickPositions},getMinorTickPositions:function(){var pos,i,len,axis=this,options=axis.options,tickPositions=axis.tickPositions,minorTickInterval=axis.minorTickInterval,minorTickPositions=[];if(axis.isLog)for(len=tickPositions.length,i=1;i<len;i++)minorTickPositions=minorTickPositions.concat(axis.getLogTickPositions(minorTickInterval,tickPositions[i-1],tickPositions[i],!0));else if(axis.isDatetimeAxis&&"auto"===options.minorTickInterval)minorTickPositions=minorTickPositions.concat(axis.getTimeTicks(axis.normalizeTimeTickInterval(minorTickInterval),axis.min,axis.max,options.startOfWeek)),minorTickPositions[0]<axis.min&&minorTickPositions.shift();else for(pos=axis.min+(tickPositions[0]-axis.min)%minorTickInterval;pos<=axis.max;pos+=minorTickInterval)minorTickPositions.push(pos);return minorTickPositions},adjustForMinRange:function(){var zoomOffset,closestDataRange,i,distance,xData,loopLength,minArgs,maxArgs,axis=this,options=axis.options,min=axis.min,max=axis.max,spaceAvailable=axis.dataMax-axis.dataMin>=axis.minRange;if(axis.isXAxis&&axis.minRange===UNDEFINED&&!axis.isLog&&(defined(options.min)||defined(options.max)?axis.minRange=null:(each(axis.series,function(series){for(xData=series.xData,loopLength=series.xIncrement?1:xData.length-1,i=loopLength;i>0;i--)distance=xData[i]-xData[i-1],(closestDataRange===UNDEFINED||distance<closestDataRange)&&(closestDataRange=distance)}),axis.minRange=mathMin(5*closestDataRange,axis.dataMax-axis.dataMin))),max-min<axis.minRange){var minRange=axis.minRange;zoomOffset=(minRange-max+min)/2,minArgs=[min-zoomOffset,pick(options.min,min-zoomOffset)],spaceAvailable&&(minArgs[2]=axis.dataMin),min=arrayMax(minArgs),maxArgs=[min+minRange,pick(options.max,min+minRange)],spaceAvailable&&(maxArgs[2]=axis.dataMax),max=arrayMin(maxArgs),max-min<minRange&&(minArgs[0]=max-minRange,minArgs[1]=pick(options.min,max-minRange),min=arrayMax(minArgs))}axis.min=min,axis.max=max},setAxisTranslation:function(saveOld){var closestPointRange,ordinalCorrection,axis=this,range=axis.max-axis.min,pointRange=axis.axisPointRange||0,minPointOffset=0,pointRangePadding=0,linkedParent=axis.linkedParent,hasCategories=!!axis.categories,transA=axis.transA;(axis.isXAxis||hasCategories||pointRange)&&(linkedParent?(minPointOffset=linkedParent.minPointOffset,pointRangePadding=linkedParent.pointRangePadding):each(axis.series,function(series){var seriesPointRange=hasCategories?1:axis.isXAxis?series.pointRange:axis.axisPointRange||0,pointPlacement=series.options.pointPlacement,seriesClosestPointRange=series.closestPointRange;seriesPointRange>range&&(seriesPointRange=0),pointRange=mathMax(pointRange,seriesPointRange),minPointOffset=mathMax(minPointOffset,isString(pointPlacement)?0:seriesPointRange/2),pointRangePadding=mathMax(pointRangePadding,"on"===pointPlacement?0:seriesPointRange),!series.noSharedTooltip&&defined(seriesClosestPointRange)&&(closestPointRange=defined(closestPointRange)?mathMin(closestPointRange,seriesClosestPointRange):seriesClosestPointRange)}),ordinalCorrection=axis.ordinalSlope&&closestPointRange?axis.ordinalSlope/closestPointRange:1,axis.minPointOffset=minPointOffset*=ordinalCorrection,axis.pointRangePadding=pointRangePadding*=ordinalCorrection,axis.pointRange=mathMin(pointRange,range),axis.closestPointRange=closestPointRange),saveOld&&(axis.oldTransA=transA),axis.translationSlope=axis.transA=transA=axis.len/(range+pointRangePadding||1),axis.transB=axis.horiz?axis.left:axis.bottom,axis.minPixelPadding=transA*minPointOffset},setTickPositions:function(secondPass){var length,linkedParentExtremes,tickPositions,keepTwoTicksOnly,axis=this,chart=axis.chart,options=axis.options,startOnTick=options.startOnTick,endOnTick=options.endOnTick,isLog=axis.isLog,isDatetimeAxis=axis.isDatetimeAxis,isXAxis=axis.isXAxis,isLinked=axis.isLinked,tickPositioner=axis.options.tickPositioner,maxPadding=options.maxPadding,minPadding=options.minPadding,tickIntervalOption=options.tickInterval,minTickIntervalOption=options.minTickInterval,tickPixelIntervalOption=options.tickPixelInterval,categories=axis.categories;if(isLinked?(axis.linkedParent=chart[axis.coll][options.linkedTo],linkedParentExtremes=axis.linkedParent.getExtremes(),axis.min=pick(linkedParentExtremes.min,linkedParentExtremes.dataMin),axis.max=pick(linkedParentExtremes.max,linkedParentExtremes.dataMax),options.type!==axis.linkedParent.options.type&&error(11,1)):(axis.min=pick(axis.userMin,options.min,axis.dataMin),axis.max=pick(axis.userMax,options.max,axis.dataMax)),isLog&&(!secondPass&&mathMin(axis.min,pick(axis.dataMin,axis.min))<=0&&error(10,1),axis.min=correctFloat(log2lin(axis.min)),axis.max=correctFloat(log2lin(axis.max))),axis.range&&defined(axis.max)&&(axis.userMin=axis.min=mathMax(axis.min,axis.max-axis.range),axis.userMax=axis.max,axis.range=null),axis.beforePadding&&axis.beforePadding(),axis.adjustForMinRange(),categories||axis.axisPointRange||axis.usePercentage||isLinked||!defined(axis.min)||!defined(axis.max)||(length=axis.max-axis.min,length&&(defined(options.min)||defined(axis.userMin)||!minPadding||!(axis.dataMin<0)&&axis.ignoreMinPadding||(axis.min-=length*minPadding),defined(options.max)||defined(axis.userMax)||!maxPadding||!(axis.dataMax>0)&&axis.ignoreMaxPadding||(axis.max+=length*maxPadding))),isNumber(options.floor)&&(axis.min=mathMax(axis.min,options.floor)),isNumber(options.ceiling)&&(axis.max=mathMin(axis.max,options.ceiling)),axis.min===axis.max||void 0===axis.min||void 0===axis.max?axis.tickInterval=1:isLinked&&!tickIntervalOption&&tickPixelIntervalOption===axis.linkedParent.options.tickPixelInterval?axis.tickInterval=axis.linkedParent.tickInterval:(axis.tickInterval=pick(tickIntervalOption,categories?1:(axis.max-axis.min)*tickPixelIntervalOption/mathMax(axis.len,tickPixelIntervalOption)),!defined(tickIntervalOption)&&axis.len<tickPixelIntervalOption&&!this.isRadial&&!this.isLog&&!categories&&startOnTick&&endOnTick&&(keepTwoTicksOnly=!0,axis.tickInterval/=4)),isXAxis&&!secondPass&&each(axis.series,function(series){series.processData(axis.min!==axis.oldMin||axis.max!==axis.oldMax)}),axis.setAxisTranslation(!0),axis.beforeSetTickPositions&&axis.beforeSetTickPositions(),axis.postProcessTickInterval&&(axis.tickInterval=axis.postProcessTickInterval(axis.tickInterval)),axis.pointRange&&(axis.tickInterval=mathMax(axis.pointRange,axis.tickInterval)),!tickIntervalOption&&axis.tickInterval<minTickIntervalOption&&(axis.tickInterval=minTickIntervalOption),isDatetimeAxis||isLog||tickIntervalOption||(axis.tickInterval=normalizeTickInterval(axis.tickInterval,null,getMagnitude(axis.tickInterval),pick(options.allowDecimals,!(axis.tickInterval>1&&axis.tickInterval<5&&axis.max>1e3&&axis.max<9999)))),axis.minorTickInterval="auto"===options.minorTickInterval&&axis.tickInterval?axis.tickInterval/5:options.minorTickInterval,axis.tickPositions=tickPositions=options.tickPositions?[].concat(options.tickPositions):tickPositioner&&tickPositioner.apply(axis,[axis.min,axis.max]),tickPositions||(!axis.ordinalPositions&&(axis.max-axis.min)/axis.tickInterval>mathMax(2*axis.len,200)&&error(19,!0),tickPositions=isDatetimeAxis?axis.getTimeTicks(axis.normalizeTimeTickInterval(axis.tickInterval,options.units),axis.min,axis.max,options.startOfWeek,axis.ordinalPositions,axis.closestPointRange,!0):isLog?axis.getLogTickPositions(axis.tickInterval,axis.min,axis.max):axis.getLinearTickPositions(axis.tickInterval,axis.min,axis.max),keepTwoTicksOnly&&tickPositions.splice(1,tickPositions.length-2),axis.tickPositions=tickPositions),!isLinked){var singlePad,roundedMin=tickPositions[0],roundedMax=tickPositions[tickPositions.length-1],minPointOffset=axis.minPointOffset||0;startOnTick?axis.min=roundedMin:axis.min-minPointOffset>roundedMin&&tickPositions.shift(),endOnTick?axis.max=roundedMax:axis.max+minPointOffset<roundedMax&&tickPositions.pop(),0===tickPositions.length&&defined(roundedMin)&&tickPositions.push((roundedMax+roundedMin)/2),1===tickPositions.length&&(singlePad=mathAbs(axis.max)>1e13?1:.001,axis.min-=singlePad,axis.max+=singlePad)}},setMaxTicks:function(){var chart=this.chart,maxTicks=chart.maxTicks||{},tickPositions=this.tickPositions,key=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&tickPositions&&tickPositions.length>(maxTicks[key]||0)&&this.options.alignTicks!==!1&&(maxTicks[key]=tickPositions.length),chart.maxTicks=maxTicks},adjustTickAmount:function(){var axis=this,chart=axis.chart,key=axis._maxTicksKey,tickPositions=axis.tickPositions,maxTicks=chart.maxTicks;if(maxTicks&&maxTicks[key]&&!axis.isDatetimeAxis&&!axis.categories&&!axis.isLinked&&axis.options.alignTicks!==!1&&this.min!==UNDEFINED){var tickAmount,oldTickAmount=axis.tickAmount,calculatedTickAmount=tickPositions.length;if(axis.tickAmount=tickAmount=maxTicks[key],calculatedTickAmount<tickAmount){for(;tickPositions.length<tickAmount;)tickPositions.push(correctFloat(tickPositions[tickPositions.length-1]+axis.tickInterval));axis.transA*=(calculatedTickAmount-1)/(tickAmount-1),axis.max=tickPositions[tickPositions.length-1]}defined(oldTickAmount)&&tickAmount!==oldTickAmount&&(axis.isDirty=!0)}},setScale:function(){var type,i,isDirtyData,isDirtyAxisLength,axis=this,stacks=axis.stacks;if(axis.oldMin=axis.min,axis.oldMax=axis.max,axis.oldAxisLength=axis.len,axis.setAxisSize(),isDirtyAxisLength=axis.len!==axis.oldAxisLength,each(axis.series,function(series){(series.isDirtyData||series.isDirty||series.xAxis.isDirty)&&(isDirtyData=!0)}),isDirtyAxisLength||isDirtyData||axis.isLinked||axis.forceRedraw||axis.userMin!==axis.oldUserMin||axis.userMax!==axis.oldUserMax){if(!axis.isXAxis)for(type in stacks)for(i in stacks[type])stacks[type][i].total=null,stacks[type][i].cum=0;axis.forceRedraw=!1,axis.getSeriesExtremes(),axis.setTickPositions(),axis.oldUserMin=axis.userMin,axis.oldUserMax=axis.userMax,axis.isDirty||(axis.isDirty=isDirtyAxisLength||axis.min!==axis.oldMin||axis.max!==axis.oldMax)}else if(!axis.isXAxis){axis.oldStacks&&(stacks=axis.stacks=axis.oldStacks);for(type in stacks)for(i in stacks[type])stacks[type][i].cum=stacks[type][i].total}axis.setMaxTicks()},setExtremes:function(newMin,newMax,redraw,animation,eventArguments){var axis=this,chart=axis.chart;redraw=pick(redraw,!0),eventArguments=extend(eventArguments,{min:newMin,max:newMax}),fireEvent(axis,"setExtremes",eventArguments,function(){axis.userMin=newMin,axis.userMax=newMax,axis.eventArgs=eventArguments,axis.isDirtyExtremes=!0,redraw&&chart.redraw(animation)})},zoom:function(newMin,newMax){var dataMin=this.dataMin,dataMax=this.dataMax,options=this.options;return this.allowZoomOutside||(defined(dataMin)&&newMin<=mathMin(dataMin,pick(options.min,dataMin))&&(newMin=UNDEFINED),defined(dataMax)&&newMax>=mathMax(dataMax,pick(options.max,dataMax))&&(newMax=UNDEFINED)),this.displayBtn=newMin!==UNDEFINED||newMax!==UNDEFINED,this.setExtremes(newMin,newMax,!1,UNDEFINED,{trigger:"zoom"}),!0},setAxisSize:function(){var chart=this.chart,options=this.options,offsetLeft=options.offsetLeft||0,offsetRight=options.offsetRight||0,horiz=this.horiz,width=pick(options.width,chart.plotWidth-offsetLeft+offsetRight),height=pick(options.height,chart.plotHeight),top=pick(options.top,chart.plotTop),left=pick(options.left,chart.plotLeft+offsetLeft),percentRegex=/%$/;percentRegex.test(height)&&(height=parseInt(height,10)/100*chart.plotHeight),percentRegex.test(top)&&(top=parseInt(top,10)/100*chart.plotHeight+chart.plotTop),this.left=left,this.top=top,this.width=width,this.height=height,this.bottom=chart.chartHeight-height-top,this.right=chart.chartWidth-width-left,this.len=mathMax(horiz?width:height,0),this.pos=horiz?left:top},getExtremes:function(){var axis=this,isLog=axis.isLog;return{min:isLog?correctFloat(lin2log(axis.min)):axis.min,max:isLog?correctFloat(lin2log(axis.max)):axis.max,dataMin:axis.dataMin,dataMax:axis.dataMax,userMin:axis.userMin,userMax:axis.userMax}},getThreshold:function(threshold){var axis=this,isLog=axis.isLog,realMin=isLog?lin2log(axis.min):axis.min,realMax=isLog?lin2log(axis.max):axis.max;return realMin>threshold||null===threshold?threshold=realMin:realMax<threshold&&(threshold=realMax),axis.translate(threshold,0,1,0,1)},autoLabelAlign:function(rotation){var ret,angle=(pick(rotation,0)-90*this.side+720)%360;return ret=angle>15&&angle<165?"right":angle>195&&angle<345?"left":"center"},getOffset:function(){var hasData,showAxis,titleOffsetOption,labelOffsetPadded,n,i,sortedPositions,lastRight,overlap,pos,bBox,x,w,lineNo,lineHeightCorrection,axis=this,chart=axis.chart,renderer=chart.renderer,options=axis.options,tickPositions=axis.tickPositions,ticks=axis.ticks,horiz=axis.horiz,side=axis.side,invertedSide=chart.inverted?[1,0,3,2][side]:side,titleOffset=0,titleMargin=0,axisTitleOptions=options.title,labelOptions=options.labels,labelOffset=0,axisOffset=chart.axisOffset,clipOffset=chart.clipOffset,directionFactor=[-1,1,1,-1][side],autoStaggerLines=1,maxStaggerLines=pick(labelOptions.maxStaggerLines,5);if(axis.hasData=hasData=axis.hasVisibleSeries||defined(axis.min)&&defined(axis.max)&&!!tickPositions,axis.showAxis=showAxis=hasData||pick(options.showEmpty,!0),axis.staggerLines=axis.horiz&&labelOptions.staggerLines,axis.axisGroup||(axis.gridGroup=renderer.g("grid").attr({zIndex:options.gridZIndex||1}).add(),axis.axisGroup=renderer.g("axis").attr({zIndex:options.zIndex||2}).add(),axis.labelGroup=renderer.g("axis-labels").attr({zIndex:labelOptions.zIndex||7}).addClass(PREFIX+axis.coll.toLowerCase()+"-labels").add()),hasData||axis.isLinked){if(axis.labelAlign=pick(labelOptions.align||axis.autoLabelAlign(labelOptions.rotation)),each(tickPositions,function(pos){ticks[pos]?ticks[pos].addLabel():ticks[pos]=new Tick(axis,pos)}),axis.horiz&&!axis.staggerLines&&maxStaggerLines&&!labelOptions.rotation){for(sortedPositions=axis.reversed?[].concat(tickPositions).reverse():tickPositions;autoStaggerLines<maxStaggerLines;){for(lastRight=[],overlap=!1,i=0;i<sortedPositions.length;i++)pos=sortedPositions[i],bBox=ticks[pos].label&&ticks[pos].label.getBBox(),w=bBox?bBox.width:0,lineNo=i%autoStaggerLines,w&&(x=axis.translate(pos),lastRight[lineNo]!==UNDEFINED&&x<lastRight[lineNo]&&(overlap=!0),lastRight[lineNo]=x+w);if(!overlap)break;autoStaggerLines++}autoStaggerLines>1&&(axis.staggerLines=autoStaggerLines)}each(tickPositions,function(pos){0!==side&&2!==side&&{1:"left",3:"right"}[side]!==axis.labelAlign||(labelOffset=mathMax(ticks[pos].getLabelSize(),labelOffset))}),axis.staggerLines&&(labelOffset*=axis.staggerLines,axis.labelOffset=labelOffset)}else for(n in ticks)ticks[n].destroy(),delete ticks[n];axisTitleOptions&&axisTitleOptions.text&&axisTitleOptions.enabled!==!1&&(axis.axisTitle||(axis.axisTitle=renderer.text(axisTitleOptions.text,0,0,axisTitleOptions.useHTML).attr({zIndex:7,rotation:axisTitleOptions.rotation||0,align:axisTitleOptions.textAlign||{low:"left",middle:"center",high:"right"}[axisTitleOptions.align]}).addClass(PREFIX+this.coll.toLowerCase()+"-title").css(axisTitleOptions.style).add(axis.axisGroup),axis.axisTitle.isNew=!0),showAxis&&(titleOffset=axis.axisTitle.getBBox()[horiz?"height":"width"],titleOffsetOption=axisTitleOptions.offset,titleMargin=defined(titleOffsetOption)?0:pick(axisTitleOptions.margin,horiz?5:10)),axis.axisTitle[showAxis?"show":"hide"]()),axis.offset=directionFactor*pick(options.offset,axisOffset[side]),lineHeightCorrection=2===side?axis.tickBaseline:0,labelOffsetPadded=labelOffset+titleMargin+(labelOffset&&directionFactor*(horiz?pick(labelOptions.y,axis.tickBaseline+8):labelOptions.x)-lineHeightCorrection),axis.axisTitleMargin=pick(titleOffsetOption,labelOffsetPadded),axisOffset[side]=mathMax(axisOffset[side],axis.axisTitleMargin+titleOffset+directionFactor*axis.offset,labelOffsetPadded),clipOffset[invertedSide]=mathMax(clipOffset[invertedSide],2*mathFloor(options.lineWidth/2))},getLinePath:function(lineWidth){var chart=this.chart,opposite=this.opposite,offset=this.offset,horiz=this.horiz,lineLeft=this.left+(opposite?this.width:0)+offset,lineTop=chart.chartHeight-this.bottom-(opposite?this.height:0)+offset;return opposite&&(lineWidth*=-1),chart.renderer.crispLine([M,horiz?this.left:lineLeft,horiz?lineTop:this.top,L,horiz?chart.chartWidth-this.right:lineLeft,horiz?lineTop:chart.chartHeight-this.bottom],lineWidth)},getTitlePosition:function(){var horiz=this.horiz,axisLeft=this.left,axisTop=this.top,axisLength=this.len,axisTitleOptions=this.options.title,margin=horiz?axisLeft:axisTop,opposite=this.opposite,offset=this.offset,fontSize=pInt(axisTitleOptions.style.fontSize||12),alongAxis={low:margin+(horiz?0:axisLength),middle:margin+axisLength/2,high:margin+(horiz?axisLength:0)}[axisTitleOptions.align],offAxis=(horiz?axisTop+this.height:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*this.axisTitleMargin+(2===this.side?fontSize:0);return{x:horiz?alongAxis:offAxis+(opposite?this.width:0)+offset+(axisTitleOptions.x||0),y:horiz?offAxis-(opposite?this.height:0)+offset:alongAxis+(axisTitleOptions.y||0)}},render:function(){var sortedPositions,linePath,from,to,axis=this,horiz=axis.horiz,reversed=axis.reversed,chart=axis.chart,renderer=chart.renderer,options=axis.options,isLog=axis.isLog,isLinked=axis.isLinked,tickPositions=axis.tickPositions,axisTitle=axis.axisTitle,ticks=axis.ticks,minorTicks=axis.minorTicks,alternateBands=axis.alternateBands,stackLabelOptions=options.stackLabels,alternateGridColor=options.alternateGridColor,tickmarkOffset=axis.tickmarkOffset,lineWidth=options.lineWidth,hasRendered=chart.hasRendered,slideInTicks=hasRendered&&defined(axis.oldMin)&&!isNaN(axis.oldMin),hasData=axis.hasData,showAxis=axis.showAxis,overflow=options.labels.overflow,justifyLabels=axis.justifyLabels=horiz&&overflow!==!1;axis.labelEdge.length=0,axis.justifyToPlot="justify"===overflow,each([ticks,minorTicks,alternateBands],function(coll){var pos;for(pos in coll)coll[pos].isActive=!1}),(hasData||isLinked)&&(axis.minorTickInterval&&!axis.categories&&each(axis.getMinorTickPositions(),function(pos){minorTicks[pos]||(minorTicks[pos]=new Tick(axis,pos,"minor")),slideInTicks&&minorTicks[pos].isNew&&minorTicks[pos].render(null,!0),minorTicks[pos].render(null,!1,1)}),tickPositions.length&&(sortedPositions=tickPositions.slice(),(horiz&&reversed||!horiz&&!reversed)&&sortedPositions.reverse(),justifyLabels&&(sortedPositions=sortedPositions.slice(1).concat([sortedPositions[0]])),each(sortedPositions,function(pos,i){justifyLabels&&(i=i===sortedPositions.length-1?0:i+1),(!isLinked||pos>=axis.min&&pos<=axis.max)&&(ticks[pos]||(ticks[pos]=new Tick(axis,pos)),slideInTicks&&ticks[pos].isNew&&ticks[pos].render(i,!0,.1),ticks[pos].render(i))}),tickmarkOffset&&0===axis.min&&(ticks[-1]||(ticks[-1]=new Tick(axis,-1,null,!0)),ticks[-1].render(-1))),alternateGridColor&&each(tickPositions,function(pos,i){i%2===0&&pos<axis.max&&(alternateBands[pos]||(alternateBands[pos]=new Highcharts.PlotLineOrBand(axis)),from=pos+tickmarkOffset,to=tickPositions[i+1]!==UNDEFINED?tickPositions[i+1]+tickmarkOffset:axis.max,alternateBands[pos].options={from:isLog?lin2log(from):from,to:isLog?lin2log(to):to,color:alternateGridColor},alternateBands[pos].render(),alternateBands[pos].isActive=!0)}),axis._addedPlotLB||(each((options.plotLines||[]).concat(options.plotBands||[]),function(plotLineOptions){axis.addPlotBandOrLine(plotLineOptions)}),axis._addedPlotLB=!0)),each([ticks,minorTicks,alternateBands],function(coll){var pos,i,forDestruction=[],delay=globalAnimation?globalAnimation.duration||500:0,destroyInactiveItems=function(){for(i=forDestruction.length;i--;)coll[forDestruction[i]]&&!coll[forDestruction[i]].isActive&&(coll[forDestruction[i]].destroy(),delete coll[forDestruction[i]])};for(pos in coll)coll[pos].isActive||(coll[pos].render(pos,!1,0),coll[pos].isActive=!1,forDestruction.push(pos));coll!==alternateBands&&chart.hasRendered&&delay?delay&&setTimeout(destroyInactiveItems,delay):destroyInactiveItems()}),lineWidth&&(linePath=axis.getLinePath(lineWidth),axis.axisLine?axis.axisLine.animate({d:linePath}):axis.axisLine=renderer.path(linePath).attr({stroke:options.lineColor,"stroke-width":lineWidth,zIndex:7}).add(axis.axisGroup),axis.axisLine[showAxis?"show":"hide"]()),axisTitle&&showAxis&&(axisTitle[axisTitle.isNew?"attr":"animate"](axis.getTitlePosition()),axisTitle.isNew=!1),stackLabelOptions&&stackLabelOptions.enabled&&axis.renderStackTotals(),axis.isDirty=!1},redraw:function(){this.render(),each(this.plotLinesAndBands,function(plotLine){plotLine.render()}),each(this.series,function(series){series.isDirty=!0})},destroy:function(keepEvents){var stackKey,i,axis=this,stacks=axis.stacks,plotLinesAndBands=axis.plotLinesAndBands;keepEvents||removeEvent(axis);for(stackKey in stacks)destroyObjectProperties(stacks[stackKey]),stacks[stackKey]=null;for(each([axis.ticks,axis.minorTicks,axis.alternateBands],function(coll){destroyObjectProperties(coll)}),i=plotLinesAndBands.length;i--;)plotLinesAndBands[i].destroy();each(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(prop){axis[prop]&&(axis[prop]=axis[prop].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,point){if(this.crosshair){if((defined(point)||!pick(this.crosshair.snap,!0))===!1)return void this.hideCrosshair();var path,pos,options=this.crosshair,animation=options.animation;if(pick(options.snap,!0)?defined(point)&&(pos=this.chart.inverted!=this.horiz?point.plotX:this.len-point.plotY):pos=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,path=this.isRadial?this.getPlotLinePath(this.isXAxis?point.x:pick(point.stackY,point.y)):this.getPlotLinePath(null,null,null,null,pos),null===path)return void this.hideCrosshair();if(this.cross)this.cross.attr({visibility:VISIBLE})[animation?"animate":"attr"]({d:path},animation);else{var attribs={"stroke-width":options.width||1,stroke:options.color||"#C0C0C0",zIndex:options.zIndex||2};options.dashStyle&&(attribs.dashstyle=options.dashStyle),this.cross=this.chart.renderer.path(path).attr(attribs).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}},extend(Axis.prototype,AxisPlotLineOrBandExtension),Axis.prototype.getTimeTicks=function(normalizedInterval,min,max,startOfWeek){var i,minYear,tickPositions=[],higherRanks={},useUTC=defaultOptions.global.useUTC,minDate=new Date(min-timezoneOffset),interval=normalizedInterval.unitRange,count=normalizedInterval.count;if(defined(min)){interval>=timeUnits.second&&(minDate.setMilliseconds(0),minDate.setSeconds(interval>=timeUnits.minute?0:count*mathFloor(minDate.getSeconds()/count))),interval>=timeUnits.minute&&minDate[setMinutes](interval>=timeUnits.hour?0:count*mathFloor(minDate[getMinutes]()/count)),interval>=timeUnits.hour&&minDate[setHours](interval>=timeUnits.day?0:count*mathFloor(minDate[getHours]()/count)),interval>=timeUnits.day&&minDate[setDate](interval>=timeUnits.month?1:count*mathFloor(minDate[getDate]()/count)),interval>=timeUnits.month&&(minDate[setMonth](interval>=timeUnits.year?0:count*mathFloor(minDate[getMonth]()/count)),minYear=minDate[getFullYear]()),interval>=timeUnits.year&&(minYear-=minYear%count,minDate[setFullYear](minYear)),interval===timeUnits.week&&minDate[setDate](minDate[getDate]()-minDate[getDay]()+pick(startOfWeek,1)),i=1,timezoneOffset&&(minDate=new Date(minDate.getTime()+timezoneOffset)),minYear=minDate[getFullYear]();for(var time=minDate.getTime(),minMonth=minDate[getMonth](),minDateDate=minDate[getDate](),localTimezoneOffset=(timeUnits.day+(useUTC?timezoneOffset:60*minDate.getTimezoneOffset()*1e3))%timeUnits.day;time<max;)tickPositions.push(time),
interval===timeUnits.year?time=makeTime(minYear+i*count,0):interval===timeUnits.month?time=makeTime(minYear,minMonth+i*count):useUTC||interval!==timeUnits.day&&interval!==timeUnits.week?time+=interval*count:time=makeTime(minYear,minMonth,minDateDate+i*count*(interval===timeUnits.day?1:7)),i++;tickPositions.push(time),each(grep(tickPositions,function(time){return interval<=timeUnits.hour&&time%timeUnits.day===localTimezoneOffset}),function(time){higherRanks[time]="day"})}return tickPositions.info=extend(normalizedInterval,{higherRanks:higherRanks,totalRange:interval*count}),tickPositions},Axis.prototype.normalizeTimeTickInterval=function(tickInterval,unitsOption){var count,i,units=unitsOption||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],unit=units[units.length-1],interval=timeUnits[unit[0]],multiples=unit[1];for(i=0;i<units.length;i++)if(unit=units[i],interval=timeUnits[unit[0]],multiples=unit[1],units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+timeUnits[units[i+1][0]])/2;if(tickInterval<=lessThan)break}return interval===timeUnits.year&&tickInterval<5*interval&&(multiples=[1,2,5]),count=normalizeTickInterval(tickInterval/interval,multiples,"year"===unit[0]?mathMax(getMagnitude(tickInterval/interval),1):1),{unitRange:interval,count:count,unitName:unit[0]}};var Tooltip=Highcharts.Tooltip=function(){this.init.apply(this,arguments)};Tooltip.prototype={init:function(chart,options){var borderWidth=options.borderWidth,style=options.style,padding=pInt(style.padding);this.chart=chart,this.options=options,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=chart.renderer.label("",0,0,options.shape||"callout",null,null,options.useHTML,null,"tooltip").attr({padding:padding,fill:options.backgroundColor,"stroke-width":borderWidth,r:options.borderRadius,zIndex:8}).css(style).css({padding:0}).add().attr({y:-9999}),useCanVG||this.label.shadow(options.shadow),this.shared=options.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(x,y,anchorX,anchorY){var tooltip=this,now=tooltip.now,animate=tooltip.options.animation!==!1&&!tooltip.isHidden&&(mathAbs(x-now.x)>1||mathAbs(y-now.y)>1),skipAnchor=tooltip.followPointer||tooltip.len>1;extend(now,{x:animate?(2*now.x+x)/3:x,y:animate?(now.y+y)/2:y,anchorX:skipAnchor?UNDEFINED:animate?(2*now.anchorX+anchorX)/3:anchorX,anchorY:skipAnchor?UNDEFINED:animate?(now.anchorY+anchorY)/2:anchorY}),tooltip.label.attr(now),animate&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){tooltip&&tooltip.move(x,y,anchorX,anchorY)},32))},hide:function(delay){var hoverPoints,tooltip=this;clearTimeout(this.hideTimer),this.isHidden||(hoverPoints=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){tooltip.label.fadeOut(),tooltip.isHidden=!0},pick(delay,this.options.hideDelay,500)),hoverPoints&&each(hoverPoints,function(point){point.setState()}),this.chart.hoverPoints=null)},getAnchor:function(points,mouseEvent){var ret,yAxis,chart=this.chart,inverted=chart.inverted,plotTop=chart.plotTop,plotX=0,plotY=0;return points=splat(points),ret=points[0].tooltipPos,this.followPointer&&mouseEvent&&(mouseEvent.chartX===UNDEFINED&&(mouseEvent=chart.pointer.normalize(mouseEvent)),ret=[mouseEvent.chartX-chart.plotLeft,mouseEvent.chartY-plotTop]),ret||(each(points,function(point){yAxis=point.series.yAxis,plotX+=point.plotX,plotY+=(point.plotLow?(point.plotLow+point.plotHigh)/2:point.plotY)+(!inverted&&yAxis?yAxis.top-plotTop:0)}),plotX/=points.length,plotY/=points.length,ret=[inverted?chart.plotWidth-plotY:plotX,this.shared&&!inverted&&points.length>1&&mouseEvent?mouseEvent.chartY-plotTop:inverted?chart.plotHeight-plotX:plotY]),map(ret,mathRound)},getPosition:function(boxWidth,boxHeight,point){var swapped,chart=this.chart,distance=this.distance,ret={},first=["y",chart.chartHeight,boxHeight,point.plotY+chart.plotTop],second=["x",chart.chartWidth,boxWidth,point.plotX+chart.plotLeft],preferFarSide=point.ttBelow||chart.inverted&&!point.negative||!chart.inverted&&point.negative,firstDimension=function(dim,outerSize,innerSize,point){var roomLeft=innerSize<point-distance,roomRight=point+distance+innerSize<outerSize,alignedLeft=point-distance-innerSize,alignedRight=point+distance;if(preferFarSide&&roomRight)ret[dim]=alignedRight;else if(!preferFarSide&&roomLeft)ret[dim]=alignedLeft;else if(roomLeft)ret[dim]=alignedLeft;else{if(!roomRight)return!1;ret[dim]=alignedRight}},secondDimension=function(dim,outerSize,innerSize,point){return!(point<distance||point>outerSize-distance)&&void(point<innerSize/2?ret[dim]=1:point>outerSize-innerSize/2?ret[dim]=outerSize-innerSize-2:ret[dim]=point-innerSize/2)},swap=function(count){var temp=first;first=second,second=temp,swapped=count},run=function(){firstDimension.apply(0,first)!==!1?secondDimension.apply(0,second)!==!1||swapped||(swap(!0),run()):swapped?ret.x=ret.y=0:(swap(!0),run())};return(chart.inverted||this.len>1)&&swap(),run(),ret},defaultFormatter:function(tooltip){var s,items=this.points||splat(this),series=items[0].series;return s=[tooltip.tooltipHeaderFormatter(items[0])],each(items,function(item){series=item.series,s.push(series.tooltipFormatter&&series.tooltipFormatter(item)||item.point.tooltipFormatter(series.tooltipOptions.pointFormat))}),s.push(tooltip.options.footerFormat||""),s.join("")},refresh:function(point,mouseEvent){var x,y,anchor,text,borderColor,currentSeries,tooltip=this,chart=tooltip.chart,label=tooltip.label,options=tooltip.options,textConfig={},pointConfig=[],formatter=options.formatter||tooltip.defaultFormatter,hoverPoints=chart.hoverPoints,shared=tooltip.shared;clearTimeout(this.hideTimer),tooltip.followPointer=splat(point)[0].series.tooltipOptions.followPointer,anchor=tooltip.getAnchor(point,mouseEvent),x=anchor[0],y=anchor[1],!shared||point.series&&point.series.noSharedTooltip?textConfig=point.getLabelConfig():(chart.hoverPoints=point,hoverPoints&&each(hoverPoints,function(point){point.setState()}),each(point,function(item){item.setState(HOVER_STATE),pointConfig.push(item.getLabelConfig())}),textConfig={x:point[0].category,y:point[0].y},textConfig.points=pointConfig,this.len=pointConfig.length,point=point[0]),text=formatter.call(textConfig,tooltip),currentSeries=point.series,this.distance=pick(currentSeries.tooltipOptions.distance,16),text===!1?this.hide():(tooltip.isHidden&&(stop(label),label.attr("opacity",1).show()),label.attr({text:text}),borderColor=options.borderColor||point.color||currentSeries.color||"#606060",label.attr({stroke:borderColor}),tooltip.updatePosition({plotX:x,plotY:y,negative:point.negative,ttBelow:point.ttBelow}),this.isHidden=!1),fireEvent(chart,"tooltipRefresh",{text:text,x:x+chart.plotLeft,y:y+chart.plotTop,borderColor:borderColor})},updatePosition:function(point){var chart=this.chart,label=this.label,pos=(this.options.positioner||this.getPosition).call(this,label.width,label.height,point);this.move(mathRound(pos.x),mathRound(pos.y),point.plotX+chart.plotLeft,point.plotY+chart.plotTop)},tooltipHeaderFormatter:function(point){var n,series=point.series,tooltipOptions=series.tooltipOptions,dateTimeLabelFormats=tooltipOptions.dateTimeLabelFormats,xDateFormat=tooltipOptions.xDateFormat,xAxis=series.xAxis,isDateTime=xAxis&&"datetime"===xAxis.options.type&&isNumber(point.key),headerFormat=tooltipOptions.headerFormat,closestPointRange=xAxis&&xAxis.closestPointRange;if(isDateTime&&!xDateFormat){if(closestPointRange){for(n in timeUnits)if(timeUnits[n]>=closestPointRange||timeUnits[n]<=timeUnits.day&&point.key%timeUnits[n]>0){xDateFormat=dateTimeLabelFormats[n];break}}else xDateFormat=dateTimeLabelFormats.day;xDateFormat=xDateFormat||dateTimeLabelFormats.year}return isDateTime&&xDateFormat&&(headerFormat=headerFormat.replace("{point.key}","{point.key:"+xDateFormat+"}")),format(headerFormat,{point:point,series:series})}};var hoverChartIndex;hasTouch=doc.documentElement.ontouchstart!==UNDEFINED;var Pointer=Highcharts.Pointer=function(chart,options){this.init(chart,options)};Pointer.prototype={init:function(chart,options){var zoomX,zoomY,chartOptions=options.chart,chartEvents=chartOptions.events,zoomType=useCanVG?"":chartOptions.zoomType,inverted=chart.inverted;this.options=options,this.chart=chart,this.zoomX=zoomX=/x/.test(zoomType),this.zoomY=zoomY=/y/.test(zoomType),this.zoomHor=zoomX&&!inverted||zoomY&&inverted,this.zoomVert=zoomY&&!inverted||zoomX&&inverted,this.hasZoom=zoomX||zoomY,this.runChartClick=chartEvents&&!!chartEvents.click,this.pinchDown=[],this.lastValidTouch={},Highcharts.Tooltip&&options.tooltip.enabled&&(chart.tooltip=new Tooltip(chart,options.tooltip),this.followTouchMove=options.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(e,chartPosition){var chartX,chartY,ePos;return e=e||window.event,e=washMouseEvent(e),e.target||(e.target=e.srcElement),ePos=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,chartPosition||(this.chartPosition=chartPosition=offset(this.chart.container)),ePos.pageX===UNDEFINED?(chartX=mathMax(e.x,e.clientX-chartPosition.left),chartY=e.y):(chartX=ePos.pageX-chartPosition.left,chartY=ePos.pageY-chartPosition.top),extend(e,{chartX:mathRound(chartX),chartY:mathRound(chartY)})},getCoordinates:function(e){var coordinates={xAxis:[],yAxis:[]};return each(this.chart.axes,function(axis){coordinates[axis.isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.toValue(e[axis.horiz?"chartX":"chartY"])})}),coordinates},getIndex:function(e){var chart=this.chart;return chart.inverted?chart.plotHeight+chart.plotTop-e.chartY:e.chartX-chart.plotLeft},runPointActions:function(e){var followPointer,point,points,i,j,anchor,pointer=this,chart=pointer.chart,series=chart.series,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint,hoverSeries=chart.hoverSeries,distance=chart.chartWidth,index=pointer.getIndex(e);if(tooltip&&pointer.options.tooltip.shared&&(!hoverSeries||!hoverSeries.noSharedTooltip)){for(points=[],i=series.length,j=0;j<i;j++)series[j].visible&&series[j].options.enableMouseTracking!==!1&&!series[j].noSharedTooltip&&series[j].singularTooltips!==!0&&series[j].tooltipPoints.length&&(point=series[j].tooltipPoints[index],point&&point.series&&(point._dist=mathAbs(index-point.clientX),distance=mathMin(distance,point._dist),points.push(point)));for(i=points.length;i--;)points[i]._dist>distance&&points.splice(i,1);points.length&&points[0].clientX!==pointer.hoverX&&(tooltip.refresh(points,e),pointer.hoverX=points[0].clientX)}followPointer=hoverSeries&&hoverSeries.tooltipOptions.followPointer,hoverSeries&&hoverSeries.tracker&&!followPointer?(point=hoverSeries.tooltipPoints[index],point&&point!==hoverPoint&&point.onMouseOver(e)):tooltip&&followPointer&&!tooltip.isHidden&&(anchor=tooltip.getAnchor([{}],e),tooltip.updatePosition({plotX:anchor[0],plotY:anchor[1]})),tooltip&&!pointer._onDocumentMouseMove&&(pointer._onDocumentMouseMove=function(e){charts[hoverChartIndex]&&charts[hoverChartIndex].pointer.onDocumentMouseMove(e)},addEvent(doc,"mousemove",pointer._onDocumentMouseMove)),each(chart.axes,function(axis){axis.drawCrosshair(e,pick(point,hoverPoint))})},reset:function(allowMove,delay){var pointer=this,chart=pointer.chart,hoverSeries=chart.hoverSeries,hoverPoint=chart.hoverPoint,tooltip=chart.tooltip,tooltipPoints=tooltip&&tooltip.shared?chart.hoverPoints:hoverPoint;allowMove=allowMove&&tooltip&&tooltipPoints,allowMove&&splat(tooltipPoints)[0].plotX===UNDEFINED&&(allowMove=!1),allowMove?(tooltip.refresh(tooltipPoints),hoverPoint&&hoverPoint.setState(hoverPoint.state,!0)):(hoverPoint&&hoverPoint.onMouseOut(),hoverSeries&&hoverSeries.onMouseOut(),tooltip&&tooltip.hide(delay),pointer._onDocumentMouseMove&&(removeEvent(doc,"mousemove",pointer._onDocumentMouseMove),pointer._onDocumentMouseMove=null),each(chart.axes,function(axis){axis.hideCrosshair()}),pointer.hoverX=null)},scaleGroups:function(attribs,clip){var seriesAttribs,chart=this.chart;each(chart.series,function(series){seriesAttribs=attribs||series.getPlotBox(),series.xAxis&&series.xAxis.zoomEnabled&&(series.group.attr(seriesAttribs),series.markerGroup&&(series.markerGroup.attr(seriesAttribs),series.markerGroup.clip(clip?chart.clipRect:null)),series.dataLabelsGroup&&series.dataLabelsGroup.attr(seriesAttribs))}),chart.clipRect.attr(clip||chart.clipBox)},dragStart:function(e){var chart=this.chart;chart.mouseIsDown=e.type,chart.cancelClick=!1,chart.mouseDownX=this.mouseDownX=e.chartX,chart.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var clickedInside,size,chart=this.chart,chartOptions=chart.options.chart,chartX=e.chartX,chartY=e.chartY,zoomHor=this.zoomHor,zoomVert=this.zoomVert,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,panKey=chartOptions.panKey&&e[chartOptions.panKey+"Key"];chartX<plotLeft?chartX=plotLeft:chartX>plotLeft+plotWidth&&(chartX=plotLeft+plotWidth),chartY<plotTop?chartY=plotTop:chartY>plotTop+plotHeight&&(chartY=plotTop+plotHeight),this.hasDragged=Math.sqrt(Math.pow(mouseDownX-chartX,2)+Math.pow(mouseDownY-chartY,2)),this.hasDragged>10&&(clickedInside=chart.isInsidePlot(mouseDownX-plotLeft,mouseDownY-plotTop),chart.hasCartesianSeries&&(this.zoomX||this.zoomY)&&clickedInside&&!panKey&&(this.selectionMarker||(this.selectionMarker=chart.renderer.rect(plotLeft,plotTop,zoomHor?1:plotWidth,zoomVert?1:plotHeight,0).attr({fill:chartOptions.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&zoomHor&&(size=chartX-mouseDownX,this.selectionMarker.attr({width:mathAbs(size),x:(size>0?0:size)+mouseDownX})),this.selectionMarker&&zoomVert&&(size=chartY-mouseDownY,this.selectionMarker.attr({height:mathAbs(size),y:(size>0?0:size)+mouseDownY})),clickedInside&&!this.selectionMarker&&chartOptions.panning&&chart.pan(e,chartOptions.panning))},drop:function(e){var chart=this.chart,hasPinched=this.hasPinched;if(this.selectionMarker){var runZoom,selectionData={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},selectionBox=this.selectionMarker,selectionLeft=selectionBox.attr?selectionBox.attr("x"):selectionBox.x,selectionTop=selectionBox.attr?selectionBox.attr("y"):selectionBox.y,selectionWidth=selectionBox.attr?selectionBox.attr("width"):selectionBox.width,selectionHeight=selectionBox.attr?selectionBox.attr("height"):selectionBox.height;(this.hasDragged||hasPinched)&&(each(chart.axes,function(axis){if(axis.zoomEnabled){var horiz=axis.horiz,minPixelPadding="touchend"===e.type?axis.minPixelPadding:0,selectionMin=axis.toValue((horiz?selectionLeft:selectionTop)+minPixelPadding),selectionMax=axis.toValue((horiz?selectionLeft+selectionWidth:selectionTop+selectionHeight)-minPixelPadding);isNaN(selectionMin)||isNaN(selectionMax)||(selectionData[axis.coll].push({axis:axis,min:mathMin(selectionMin,selectionMax),max:mathMax(selectionMin,selectionMax)}),runZoom=!0)}}),runZoom&&fireEvent(chart,"selection",selectionData,function(args){chart.zoom(extend(args,hasPinched?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),hasPinched&&this.scaleGroups()}chart&&(css(chart.container,{cursor:chart._cursor}),chart.cancelClick=this.hasDragged>10,chart.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){charts[hoverChartIndex]&&charts[hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(e){var chart=this.chart,chartPosition=this.chartPosition,hoverSeries=chart.hoverSeries;e=this.normalize(e,chartPosition),chartPosition&&hoverSeries&&!this.inClass(e.target,"highcharts-tracker")&&!chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)&&this.reset()},onContainerMouseLeave:function(){var chart=charts[hoverChartIndex];chart&&(chart.pointer.reset(),chart.pointer.chartPosition=null)},onContainerMouseMove:function(e){var chart=this.chart;hoverChartIndex=chart.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===chart.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)||chart.openMenu||this.runPointActions(e)},inClass:function(element,className){for(var elemClassName;element;){if(elemClassName=attr(element,"class")){if(elemClassName.indexOf(className)!==-1)return!0;if(elemClassName.indexOf(PREFIX+"container")!==-1)return!1}element=element.parentNode}},onTrackerMouseOut:function(e){var series=this.chart.hoverSeries,relatedTarget=e.relatedTarget||e.toElement,relatedSeries=relatedTarget&&relatedTarget.point&&relatedTarget.point.series;!series||series.options.stickyTracking||this.inClass(relatedTarget,PREFIX+"tooltip")||relatedSeries===series||series.onMouseOut()},onContainerClick:function(e){var chart=this.chart,hoverPoint=chart.hoverPoint,plotLeft=chart.plotLeft,plotTop=chart.plotTop;e=this.normalize(e),e.cancelBubble=!0,chart.cancelClick||(hoverPoint&&this.inClass(e.target,PREFIX+"tracker")?(fireEvent(hoverPoint.series,"click",extend(e,{point:hoverPoint})),chart.hoverPoint&&hoverPoint.firePointEvent("click",e)):(extend(e,this.getCoordinates(e)),chart.isInsidePlot(e.chartX-plotLeft,e.chartY-plotTop)&&fireEvent(chart,"click",e)))},setDOMEvents:function(){var pointer=this,container=pointer.chart.container;container.onmousedown=function(e){pointer.onContainerMouseDown(e)},container.onmousemove=function(e){pointer.onContainerMouseMove(e)},container.onclick=function(e){pointer.onContainerClick(e)},addEvent(container,"mouseleave",pointer.onContainerMouseLeave),1===chartCount&&addEvent(doc,"mouseup",pointer.onDocumentMouseUp),hasTouch&&(container.ontouchstart=function(e){pointer.onContainerTouchStart(e)},container.ontouchmove=function(e){pointer.onContainerTouchMove(e)},1===chartCount&&addEvent(doc,"touchend",pointer.onDocumentTouchEnd))},destroy:function(){var prop;removeEvent(this.chart.container,"mouseleave",this.onContainerMouseLeave),chartCount||(removeEvent(doc,"mouseup",this.onDocumentMouseUp),removeEvent(doc,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(prop in this)this[prop]=null}},extend(Highcharts.Pointer.prototype,{pinchTranslate:function(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch)},pinchTranslateDirection:function(horiz,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch,forcedScale){var selectionWH,selectionXY,clipXY,outOfBounds,transformScale,scaleKey,chart=this.chart,xy=horiz?"x":"y",XY=horiz?"X":"Y",sChartXY="chart"+XY,wh=horiz?"width":"height",plotLeftTop=chart["plot"+(horiz?"Left":"Top")],scale=forcedScale||1,inverted=chart.inverted,bounds=chart.bounds[horiz?"h":"v"],singleTouch=1===pinchDown.length,touch0Start=pinchDown[0][sChartXY],touch0Now=touches[0][sChartXY],touch1Start=!singleTouch&&pinchDown[1][sChartXY],touch1Now=!singleTouch&&touches[1][sChartXY],setScale=function(){!singleTouch&&mathAbs(touch0Start-touch1Start)>20&&(scale=forcedScale||mathAbs(touch0Now-touch1Now)/mathAbs(touch0Start-touch1Start)),clipXY=(plotLeftTop-touch0Now)/scale+touch0Start,selectionWH=chart["plot"+(horiz?"Width":"Height")]/scale};setScale(),selectionXY=clipXY,selectionXY<bounds.min?(selectionXY=bounds.min,outOfBounds=!0):selectionXY+selectionWH>bounds.max&&(selectionXY=bounds.max-selectionWH,outOfBounds=!0),outOfBounds?(touch0Now-=.8*(touch0Now-lastValidTouch[xy][0]),singleTouch||(touch1Now-=.8*(touch1Now-lastValidTouch[xy][1])),setScale()):lastValidTouch[xy]=[touch0Now,touch1Now],inverted||(clip[xy]=clipXY-plotLeftTop,clip[wh]=selectionWH),scaleKey=inverted?horiz?"scaleY":"scaleX":"scale"+XY,transformScale=inverted?1/scale:scale,selectionMarker[wh]=selectionWH,selectionMarker[xy]=selectionXY,transform[scaleKey]=scale,transform["translate"+XY]=transformScale*plotLeftTop+(touch0Now-transformScale*touch0Start)},pinch:function(e){var self=this,chart=self.chart,pinchDown=self.pinchDown,followTouchMove=self.followTouchMove,touches=e.touches,touchesLength=touches.length,lastValidTouch=self.lastValidTouch,hasZoom=self.hasZoom,selectionMarker=self.selectionMarker,transform={},fireClickEvent=1===touchesLength&&(self.inClass(e.target,PREFIX+"tracker")&&chart.runTrackerClick||self.runChartClick),clip={};!hasZoom&&!followTouchMove||fireClickEvent||e.preventDefault(),map(touches,function(e){return self.normalize(e)}),"touchstart"===e.type?(each(touches,function(e,i){pinchDown[i]={chartX:e.chartX,chartY:e.chartY}}),lastValidTouch.x=[pinchDown[0].chartX,pinchDown[1]&&pinchDown[1].chartX],lastValidTouch.y=[pinchDown[0].chartY,pinchDown[1]&&pinchDown[1].chartY],each(chart.axes,function(axis){if(axis.zoomEnabled){var bounds=chart.bounds[axis.horiz?"h":"v"],minPixelPadding=axis.minPixelPadding,min=axis.toPixels(pick(axis.options.min,axis.dataMin)),max=axis.toPixels(pick(axis.options.max,axis.dataMax)),absMin=mathMin(min,max),absMax=mathMax(min,max);bounds.min=mathMin(axis.pos,absMin-minPixelPadding),bounds.max=mathMax(axis.pos+axis.len,absMax+minPixelPadding)}}),self.res=!0):pinchDown.length&&(selectionMarker||(self.selectionMarker=selectionMarker=extend({destroy:noop},chart.plotBox)),self.pinchTranslate(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch),self.hasPinched=hasZoom,self.scaleGroups(transform,clip),!hasZoom&&followTouchMove&&1===touchesLength?this.runPointActions(self.normalize(e)):self.res&&(self.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var chart=this.chart;hoverChartIndex=chart.index,1===e.touches.length?(e=this.normalize(e),chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){1!==e.touches.length&&2!==e.touches.length||this.pinch(e)},onDocumentTouchEnd:function(e){charts[hoverChartIndex]&&charts[hoverChartIndex].pointer.drop(e)}});var Legend=Highcharts.Legend=function(chart,options){this.init(chart,options)};Legend.prototype={init:function(chart,options){var legend=this,itemStyle=options.itemStyle,padding=pick(options.padding,8),itemMarginTop=options.itemMarginTop||0;this.options=options,options.enabled&&(legend.itemStyle=itemStyle,legend.itemHiddenStyle=merge(itemStyle,options.itemHiddenStyle),legend.itemMarginTop=itemMarginTop,legend.padding=padding,legend.initialItemX=padding,legend.initialItemY=padding-5,legend.maxItemWidth=0,legend.chart=chart,legend.itemHeight=0,legend.lastLineHeight=0,legend.symbolWidth=pick(options.symbolWidth,16),legend.pages=[],legend.render(),addEvent(legend.chart,"endResize",function(){legend.positionCheckboxes()}))},colorizeItem:function(item,visible){var key,val,legend=this,options=legend.options,legendItem=item.legendItem,legendLine=item.legendLine,legendSymbol=item.legendSymbol,hiddenColor=legend.itemHiddenStyle.color,textColor=visible?options.itemStyle.color:hiddenColor,symbolColor=visible?item.legendColor||item.color||"#CCC":hiddenColor,markerOptions=item.options&&item.options.marker,symbolAttr={fill:symbolColor};if(legendItem&&legendItem.css({fill:textColor,color:textColor}),legendLine&&legendLine.attr({stroke:symbolColor}),legendSymbol){if(markerOptions&&legendSymbol.isMarker){symbolAttr.stroke=symbolColor,markerOptions=item.convertAttribs(markerOptions);for(key in markerOptions)val=markerOptions[key],val!==UNDEFINED&&(symbolAttr[key]=val)}legendSymbol.attr(symbolAttr)}},positionItem:function(item){var legend=this,options=legend.options,symbolPadding=options.symbolPadding,ltr=!options.rtl,legendItemPos=item._legendItemPos,itemX=legendItemPos[0],itemY=legendItemPos[1],checkbox=item.checkbox;item.legendGroup&&item.legendGroup.translate(ltr?itemX:legend.legendWidth-itemX-2*symbolPadding-4,itemY),checkbox&&(checkbox.x=itemX,checkbox.y=itemY)},destroyItem:function(item){var checkbox=item.checkbox;each(["legendItem","legendLine","legendSymbol","legendGroup"],function(key){item[key]&&(item[key]=item[key].destroy())}),checkbox&&discardElement(item.checkbox)},destroy:function(){var legend=this,legendGroup=legend.group,box=legend.box;box&&(legend.box=box.destroy()),legendGroup&&(legend.group=legendGroup.destroy())},positionCheckboxes:function(scrollOffset){var translateY,alignAttr=this.group.alignAttr,clipHeight=this.clipHeight||this.legendHeight;alignAttr&&(translateY=alignAttr.translateY,each(this.allItems,function(item){var top,checkbox=item.checkbox;checkbox&&(top=translateY+checkbox.y+(scrollOffset||0)+3,css(checkbox,{left:alignAttr.translateX+item.checkboxOffset+checkbox.x-20+PX,top:top+PX,display:top>translateY-6&&top<translateY+clipHeight-6?"":NONE}))}))},renderTitle:function(){var bBox,options=this.options,padding=this.padding,titleOptions=options.title,titleHeight=0;titleOptions.text&&(this.title||(this.title=this.chart.renderer.label(titleOptions.text,padding-3,padding-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(titleOptions.style).add(this.group)),bBox=this.title.getBBox(),titleHeight=bBox.height,this.offsetWidth=bBox.width,this.contentGroup.attr({translateY:titleHeight})),this.titleHeight=titleHeight},renderItem:function(item){var itemHeight,bBox,itemWidth,legend=this,chart=legend.chart,renderer=chart.renderer,options=legend.options,horizontal="horizontal"===options.layout,symbolWidth=legend.symbolWidth,symbolPadding=options.symbolPadding,itemStyle=legend.itemStyle,itemHiddenStyle=legend.itemHiddenStyle,padding=legend.padding,itemDistance=horizontal?pick(options.itemDistance,20):0,ltr=!options.rtl,widthOption=options.width,itemMarginBottom=options.itemMarginBottom||0,itemMarginTop=legend.itemMarginTop,initialItemX=legend.initialItemX,li=item.legendItem,series=item.series&&item.series.drawLegendSymbol?item.series:item,seriesOptions=series.options,showCheckbox=legend.createCheckboxForItem&&seriesOptions&&seriesOptions.showCheckbox,useHTML=options.useHTML;li||(item.legendGroup=renderer.g("legend-item").attr({zIndex:1}).add(legend.scrollGroup),item.legendItem=li=renderer.text(options.labelFormat?format(options.labelFormat,item):options.labelFormatter.call(item),ltr?symbolWidth+symbolPadding:-symbolPadding,legend.baseline||0,useHTML).css(merge(item.visible?itemStyle:itemHiddenStyle)).attr({align:ltr?"left":"right",zIndex:2}).add(item.legendGroup),legend.baseline||(legend.baseline=renderer.fontMetrics(itemStyle.fontSize,li).f+3+itemMarginTop,li.attr("y",legend.baseline)),series.drawLegendSymbol(legend,item),legend.setItemEvents&&legend.setItemEvents(item,li,useHTML,itemStyle,itemHiddenStyle),legend.colorizeItem(item,item.visible),showCheckbox&&legend.createCheckboxForItem(item)),bBox=li.getBBox(),itemWidth=item.checkboxOffset=options.itemWidth||item.legendItemWidth||symbolWidth+symbolPadding+bBox.width+itemDistance+(showCheckbox?20:0),legend.itemHeight=itemHeight=mathRound(item.legendItemHeight||bBox.height),horizontal&&legend.itemX-initialItemX+itemWidth>(widthOption||chart.chartWidth-2*padding-initialItemX-options.x)&&(legend.itemX=initialItemX,legend.itemY+=itemMarginTop+legend.lastLineHeight+itemMarginBottom,legend.lastLineHeight=0),legend.maxItemWidth=mathMax(legend.maxItemWidth,itemWidth),legend.lastItemY=itemMarginTop+legend.itemY+itemMarginBottom,legend.lastLineHeight=mathMax(itemHeight,legend.lastLineHeight),item._legendItemPos=[legend.itemX,legend.itemY],horizontal?legend.itemX+=itemWidth:(legend.itemY+=itemMarginTop+itemHeight+itemMarginBottom,legend.lastLineHeight=itemHeight),legend.offsetWidth=widthOption||mathMax((horizontal?legend.itemX-initialItemX-itemDistance:itemWidth)+padding,legend.offsetWidth)},getAllItems:function(){var allItems=[];return each(this.chart.series,function(series){var seriesOptions=series.options;pick(seriesOptions.showInLegend,!defined(seriesOptions.linkedTo)&&UNDEFINED,!0)&&(allItems=allItems.concat(series.legendItems||("point"===seriesOptions.legendType?series.data:series)))}),allItems},render:function(){var allItems,display,legendWidth,legendHeight,legend=this,chart=legend.chart,renderer=chart.renderer,legendGroup=legend.group,box=legend.box,options=legend.options,padding=legend.padding,legendBorderWidth=options.borderWidth,legendBackgroundColor=options.backgroundColor;legend.itemX=legend.initialItemX,legend.itemY=legend.initialItemY,legend.offsetWidth=0,legend.lastItemY=0,legendGroup||(legend.group=legendGroup=renderer.g("legend").attr({zIndex:7}).add(),legend.contentGroup=renderer.g().attr({zIndex:1}).add(legendGroup),legend.scrollGroup=renderer.g().add(legend.contentGroup)),legend.renderTitle(),allItems=legend.getAllItems(),stableSort(allItems,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),options.reversed&&allItems.reverse(),legend.allItems=allItems,legend.display=display=!!allItems.length,each(allItems,function(item){legend.renderItem(item)}),legendWidth=options.width||legend.offsetWidth,legendHeight=legend.lastItemY+legend.lastLineHeight+legend.titleHeight,legendHeight=legend.handleOverflow(legendHeight),(legendBorderWidth||legendBackgroundColor)&&(legendWidth+=padding,legendHeight+=padding,box?legendWidth>0&&legendHeight>0&&(box[box.isNew?"attr":"animate"](box.crisp({width:legendWidth,height:legendHeight})),box.isNew=!1):(legend.box=box=renderer.rect(0,0,legendWidth,legendHeight,options.borderRadius,legendBorderWidth||0).attr({stroke:options.borderColor,"stroke-width":legendBorderWidth||0,fill:legendBackgroundColor||NONE}).add(legendGroup).shadow(options.shadow),box.isNew=!0),box[display?"show":"hide"]()),legend.legendWidth=legendWidth,legend.legendHeight=legendHeight,each(allItems,function(item){legend.positionItem(item)}),display&&legendGroup.align(extend({width:legendWidth,height:legendHeight},options),!0,"spacingBox"),chart.isResizing||this.positionCheckboxes()},handleOverflow:function(legendHeight){var clipHeight,lastY,legend=this,chart=this.chart,renderer=chart.renderer,options=this.options,optionsY=options.y,alignTop="top"===options.verticalAlign,spaceHeight=chart.spacingBox.height+(alignTop?-optionsY:optionsY)-this.padding,maxHeight=options.maxHeight,clipRect=this.clipRect,navOptions=options.navigation,animation=pick(navOptions.animation,!0),arrowSize=navOptions.arrowSize||12,nav=this.nav,pages=this.pages,allItems=this.allItems;return"horizontal"===options.layout&&(spaceHeight/=2),maxHeight&&(spaceHeight=mathMin(spaceHeight,maxHeight)),pages.length=0,legendHeight>spaceHeight&&!options.useHTML?(this.clipHeight=clipHeight=mathMax(spaceHeight-20-this.titleHeight-this.padding,0),this.currentPage=pick(this.currentPage,1),this.fullHeight=legendHeight,each(allItems,function(item,i){var y=item._legendItemPos[1],h=mathRound(item.legendItem.getBBox().height),len=pages.length;(!len||y-pages[len-1]>clipHeight&&(lastY||y)!==pages[len-1])&&(pages.push(lastY||y),len++),i===allItems.length-1&&y+h-pages[len-1]>clipHeight&&pages.push(y),y!==lastY&&(lastY=y)}),clipRect||(clipRect=legend.clipRect=renderer.clipRect(0,this.padding,9999,0),legend.contentGroup.clip(clipRect)),clipRect.attr({height:clipHeight}),nav||(this.nav=nav=renderer.g().attr({zIndex:1}).add(this.group),this.up=renderer.symbol("triangle",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(-1,animation)}).add(nav),this.pager=renderer.text("",15,10).css(navOptions.style).add(nav),this.down=renderer.symbol("triangle-down",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(1,animation)}).add(nav)),legend.scroll(0),legendHeight=spaceHeight):nav&&(clipRect.attr({height:chart.chartHeight}),nav.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),legendHeight},scroll:function(scrollBy,animation){var scrollOffset,pages=this.pages,pageCount=pages.length,currentPage=this.currentPage+scrollBy,clipHeight=this.clipHeight,navOptions=this.options.navigation,activeColor=navOptions.activeColor,inactiveColor=navOptions.inactiveColor,pager=this.pager,padding=this.padding;
currentPage>pageCount&&(currentPage=pageCount),currentPage>0&&(animation!==UNDEFINED&&setAnimation(animation,this.chart),this.nav.attr({translateX:padding,translateY:clipHeight+this.padding+7+this.titleHeight,visibility:VISIBLE}),this.up.attr({fill:1===currentPage?inactiveColor:activeColor}).css({cursor:1===currentPage?"default":"pointer"}),pager.attr({text:currentPage+"/"+pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:currentPage===pageCount?inactiveColor:activeColor}).css({cursor:currentPage===pageCount?"default":"pointer"}),scrollOffset=-pages[currentPage-1]+this.initialItemY,this.scrollGroup.animate({translateY:scrollOffset}),this.currentPage=currentPage,this.positionCheckboxes(scrollOffset))}};var LegendSymbolMixin=Highcharts.LegendSymbolMixin={drawRectangle:function(legend,item){var symbolHeight=legend.options.symbolHeight||12;item.legendSymbol=this.chart.renderer.rect(0,legend.baseline-5-symbolHeight/2,legend.symbolWidth,symbolHeight,legend.options.symbolRadius||0).attr({zIndex:3}).add(item.legendGroup)},drawLineMarker:function(legend){var radius,legendSymbol,attr,options=this.options,markerOptions=options.marker,legendOptions=legend.options,symbolWidth=legend.symbolWidth,renderer=this.chart.renderer,legendItemGroup=this.legendGroup,verticalCenter=legend.baseline-mathRound(.3*renderer.fontMetrics(legendOptions.itemStyle.fontSize,this.legendItem).b);options.lineWidth&&(attr={"stroke-width":options.lineWidth},options.dashStyle&&(attr.dashstyle=options.dashStyle),this.legendLine=renderer.path([M,0,verticalCenter,L,symbolWidth,verticalCenter]).attr(attr).add(legendItemGroup)),markerOptions&&markerOptions.enabled!==!1&&(radius=markerOptions.radius,this.legendSymbol=legendSymbol=renderer.symbol(this.symbol,symbolWidth/2-radius,verticalCenter-radius,2*radius,2*radius).add(legendItemGroup),legendSymbol.isMarker=!0)}};(/Trident\/7\.0/.test(userAgent)||isFirefox)&&wrap(Legend.prototype,"positionItem",function(proceed,item){var legend=this,runPositionItem=function(){item._legendItemPos&&proceed.call(legend,item)};runPositionItem(),setTimeout(runPositionItem)}),Chart.prototype={init:function(userOptions,callback){var options,seriesOptions=userOptions.series;userOptions.series=null,options=merge(defaultOptions,userOptions),options.series=userOptions.series=seriesOptions,this.userOptions=userOptions;var optionsChart=options.chart;this.margin=this.splashArray("margin",optionsChart),this.spacing=this.splashArray("spacing",optionsChart);var chartEvents=optionsChart.events;this.bounds={h:{},v:{}},this.callback=callback,this.isResizing=0,this.options=options,this.axes=[],this.series=[],this.hasCartesianSeries=optionsChart.showAxes;var eventType,chart=this;if(chart.index=charts.length,charts.push(chart),chartCount++,optionsChart.reflow!==!1&&addEvent(chart,"load",function(){chart.initReflow()}),chartEvents)for(eventType in chartEvents)addEvent(chart,eventType,chartEvents[eventType]);chart.xAxis=[],chart.yAxis=[],chart.animation=!useCanVG&&pick(optionsChart.animation,!0),chart.pointCount=chart.colorCounter=chart.symbolCounter=0,chart.firstRender()},initSeries:function(options){var series,chart=this,optionsChart=chart.options.chart,type=options.type||optionsChart.type||optionsChart.defaultSeriesType,constr=seriesTypes[type];return constr||error(17,!0),series=new constr,series.init(this,options),series},isInsidePlot:function(plotX,plotY,inverted){var x=inverted?plotY:plotX,y=inverted?plotX:plotY;return x>=0&&x<=this.plotWidth&&y>=0&&y<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&each(this.axes,function(axis){axis.adjustTickAmount()}),this.maxTicks=null},redraw:function(animation){var hasStackedSeries,hasDirtyStacks,serie,chart=this,axes=chart.axes,series=chart.series,pointer=chart.pointer,legend=chart.legend,redrawLegend=chart.isDirtyLegend,hasCartesianSeries=chart.hasCartesianSeries,isDirtyBox=chart.isDirtyBox,seriesLength=series.length,i=seriesLength,renderer=chart.renderer,isHiddenChart=renderer.isHidden(),afterRedraw=[];for(setAnimation(animation,chart),isHiddenChart&&chart.cloneRenderTo(),chart.layOutTitles();i--;)if(serie=series[i],serie.options.stacking&&(hasStackedSeries=!0,serie.isDirty)){hasDirtyStacks=!0;break}if(hasDirtyStacks)for(i=seriesLength;i--;)serie=series[i],serie.options.stacking&&(serie.isDirty=!0);each(series,function(serie){serie.isDirty&&"point"===serie.options.legendType&&(redrawLegend=!0)}),redrawLegend&&legend.options.enabled&&(legend.render(),chart.isDirtyLegend=!1),hasStackedSeries&&chart.getStacks(),hasCartesianSeries&&(chart.isResizing||(chart.maxTicks=null,each(axes,function(axis){axis.setScale()})),chart.adjustTickAmounts()),chart.getMargins(),hasCartesianSeries&&(each(axes,function(axis){axis.isDirty&&(isDirtyBox=!0)}),each(axes,function(axis){axis.isDirtyExtremes&&(axis.isDirtyExtremes=!1,afterRedraw.push(function(){fireEvent(axis,"afterSetExtremes",extend(axis.eventArgs,axis.getExtremes())),delete axis.eventArgs})),(isDirtyBox||hasStackedSeries)&&axis.redraw()})),isDirtyBox&&chart.drawChartBox(),each(series,function(serie){serie.isDirty&&serie.visible&&(!serie.isCartesian||serie.xAxis)&&serie.redraw()}),pointer&&pointer.reset(!0),renderer.draw(),fireEvent(chart,"redraw"),isHiddenChart&&chart.cloneRenderTo(!0),each(afterRedraw,function(callback){callback.call()})},get:function(id){var i,j,points,chart=this,axes=chart.axes,series=chart.series;for(i=0;i<axes.length;i++)if(axes[i].options.id===id)return axes[i];for(i=0;i<series.length;i++)if(series[i].options.id===id)return series[i];for(i=0;i<series.length;i++)for(points=series[i].points||[],j=0;j<points.length;j++)if(points[j].id===id)return points[j];return null},getAxes:function(){var optionsArray,axis,chart=this,options=this.options,xAxisOptions=options.xAxis=splat(options.xAxis||{}),yAxisOptions=options.yAxis=splat(options.yAxis||{});each(xAxisOptions,function(axis,i){axis.index=i,axis.isX=!0}),each(yAxisOptions,function(axis,i){axis.index=i}),optionsArray=xAxisOptions.concat(yAxisOptions),each(optionsArray,function(axisOptions){axis=new Axis(chart,axisOptions)}),chart.adjustTickAmounts()},getSelectedPoints:function(){var points=[];return each(this.series,function(serie){points=points.concat(grep(serie.points||[],function(point){return point.selected}))}),points},getSelectedSeries:function(){return grep(this.series,function(serie){return serie.selected})},getStacks:function(){var chart=this;each(chart.yAxis,function(axis){axis.stacks&&axis.hasVisibleSeries&&(axis.oldStacks=axis.stacks)}),each(chart.series,function(series){!series.options.stacking||series.visible!==!0&&chart.options.chart.ignoreHiddenSeries!==!1||(series.stackKey=series.type+pick(series.options.stack,""))})},setTitle:function(titleOptions,subtitleOptions,redraw){var chartTitleOptions,chartSubtitleOptions,chart=this,options=chart.options;chartTitleOptions=options.title=merge(options.title,titleOptions),chartSubtitleOptions=options.subtitle=merge(options.subtitle,subtitleOptions),each([["title",titleOptions,chartTitleOptions],["subtitle",subtitleOptions,chartSubtitleOptions]],function(arr){var name=arr[0],title=chart[name],titleOptions=arr[1],chartTitleOptions=arr[2];title&&titleOptions&&(chart[name]=title=title.destroy()),chartTitleOptions&&chartTitleOptions.text&&!title&&(chart[name]=chart.renderer.text(chartTitleOptions.text,0,0,chartTitleOptions.useHTML).attr({align:chartTitleOptions.align,class:PREFIX+name,zIndex:chartTitleOptions.zIndex||4}).css(chartTitleOptions.style).add())}),chart.layOutTitles(redraw)},layOutTitles:function(redraw){var requiresDirtyBox,titleOffset=0,title=this.title,subtitle=this.subtitle,options=this.options,titleOptions=options.title,subtitleOptions=options.subtitle,renderer=this.renderer,autoWidth=this.spacingBox.width-44;title&&(title.css({width:(titleOptions.width||autoWidth)+PX}).align(extend({y:renderer.fontMetrics(titleOptions.style.fontSize,title).b-3},titleOptions),!1,"spacingBox"),titleOptions.floating||titleOptions.verticalAlign||(titleOffset=title.getBBox().height)),subtitle&&(subtitle.css({width:(subtitleOptions.width||autoWidth)+PX}).align(extend({y:titleOffset+(titleOptions.margin-13)+renderer.fontMetrics(titleOptions.style.fontSize,subtitle).b},subtitleOptions),!1,"spacingBox"),subtitleOptions.floating||subtitleOptions.verticalAlign||(titleOffset=mathCeil(titleOffset+subtitle.getBBox().height))),requiresDirtyBox=this.titleOffset!==titleOffset,this.titleOffset=titleOffset,!this.isDirtyBox&&requiresDirtyBox&&(this.isDirtyBox=requiresDirtyBox,this.hasRendered&&pick(redraw,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var chart=this,optionsChart=chart.options.chart,widthOption=optionsChart.width,heightOption=optionsChart.height,renderTo=chart.renderToClone||chart.renderTo;defined(widthOption)||(chart.containerWidth=adapterRun(renderTo,"width")),defined(heightOption)||(chart.containerHeight=adapterRun(renderTo,"height")),chart.chartWidth=mathMax(0,widthOption||chart.containerWidth||600),chart.chartHeight=mathMax(0,pick(heightOption,chart.containerHeight>19?chart.containerHeight:400))},cloneRenderTo:function(revert){var clone=this.renderToClone,container=this.container;revert?clone&&(this.renderTo.appendChild(container),discardElement(clone),delete this.renderToClone):(container&&container.parentNode===this.renderTo&&this.renderTo.removeChild(container),this.renderToClone=clone=this.renderTo.cloneNode(0),css(clone,{position:ABSOLUTE,top:"-9999px",display:"block"}),clone.style.setProperty&&clone.style.setProperty("display","block","important"),doc.body.appendChild(clone),container&&clone.appendChild(container))},getContainer:function(){var container,chartWidth,chartHeight,renderTo,oldChartIndex,containerId,chart=this,optionsChart=chart.options.chart,indexAttrName="data-highcharts-chart";chart.renderTo=renderTo=optionsChart.renderTo,containerId=PREFIX+idCounter++,isString(renderTo)&&(chart.renderTo=renderTo=doc.getElementById(renderTo)),renderTo||error(13,!0),oldChartIndex=pInt(attr(renderTo,indexAttrName)),!isNaN(oldChartIndex)&&charts[oldChartIndex]&&charts[oldChartIndex].hasRendered&&charts[oldChartIndex].destroy(),attr(renderTo,indexAttrName,chart.index),renderTo.innerHTML="",optionsChart.skipClone||renderTo.offsetWidth||chart.cloneRenderTo(),chart.getChartSize(),chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,chart.container=container=createElement(DIV,{className:PREFIX+"container"+(optionsChart.className?" "+optionsChart.className:""),id:containerId},extend({position:RELATIVE,overflow:HIDDEN,width:chartWidth+PX,height:chartHeight+PX,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},optionsChart.style),chart.renderToClone||renderTo),chart._cursor=container.style.cursor,chart.renderer=optionsChart.forExport?new SVGRenderer(container,chartWidth,chartHeight,optionsChart.style,!0):new Renderer(container,chartWidth,chartHeight,optionsChart.style),useCanVG&&chart.renderer.create(chart,container,chartWidth,chartHeight)},getMargins:function(){var axisOffset,chart=this,spacing=chart.spacing,legend=chart.legend,margin=chart.margin,legendOptions=chart.options.legend,legendMargin=pick(legendOptions.margin,20),legendX=legendOptions.x,legendY=legendOptions.y,align=legendOptions.align,verticalAlign=legendOptions.verticalAlign,titleOffset=chart.titleOffset;chart.resetMargins(),axisOffset=chart.axisOffset,titleOffset&&!defined(margin[0])&&(chart.plotTop=mathMax(chart.plotTop,titleOffset+chart.options.title.margin+spacing[0])),legend.display&&!legendOptions.floating&&("right"===align?defined(margin[1])||(chart.marginRight=mathMax(chart.marginRight,legend.legendWidth-legendX+legendMargin+spacing[1])):"left"===align?defined(margin[3])||(chart.plotLeft=mathMax(chart.plotLeft,legend.legendWidth+legendX+legendMargin+spacing[3])):"top"===verticalAlign?defined(margin[0])||(chart.plotTop=mathMax(chart.plotTop,legend.legendHeight+legendY+legendMargin+spacing[0])):"bottom"===verticalAlign&&(defined(margin[2])||(chart.marginBottom=mathMax(chart.marginBottom,legend.legendHeight-legendY+legendMargin+spacing[2])))),chart.extraBottomMargin&&(chart.marginBottom+=chart.extraBottomMargin),chart.extraTopMargin&&(chart.plotTop+=chart.extraTopMargin),chart.hasCartesianSeries&&each(chart.axes,function(axis){axis.getOffset()}),defined(margin[3])||(chart.plotLeft+=axisOffset[3]),defined(margin[0])||(chart.plotTop+=axisOffset[0]),defined(margin[2])||(chart.marginBottom+=axisOffset[2]),defined(margin[1])||(chart.marginRight+=axisOffset[1]),chart.setChartSize()},reflow:function(e){var chart=this,optionsChart=chart.options.chart,renderTo=chart.renderTo,width=optionsChart.width||adapterRun(renderTo,"width"),height=optionsChart.height||adapterRun(renderTo,"height"),target=e?e.target:win,doReflow=function(){chart.container&&(chart.setSize(width,height,!1),chart.hasUserSize=null)};chart.hasUserSize||!width||!height||target!==win&&target!==doc||(width===chart.containerWidth&&height===chart.containerHeight||(clearTimeout(chart.reflowTimeout),e?chart.reflowTimeout=setTimeout(doReflow,100):doReflow()),chart.containerWidth=width,chart.containerHeight=height)},initReflow:function(){var chart=this,reflow=function(e){chart.reflow(e)};addEvent(win,"resize",reflow),addEvent(chart,"destroy",function(){removeEvent(win,"resize",reflow)})},setSize:function(width,height,animation){var chartWidth,chartHeight,fireEndResize,chart=this;chart.isResizing+=1,fireEndResize=function(){chart&&fireEvent(chart,"endResize",null,function(){chart.isResizing-=1})},setAnimation(animation,chart),chart.oldChartHeight=chart.chartHeight,chart.oldChartWidth=chart.chartWidth,defined(width)&&(chart.chartWidth=chartWidth=mathMax(0,mathRound(width)),chart.hasUserSize=!!chartWidth),defined(height)&&(chart.chartHeight=chartHeight=mathMax(0,mathRound(height))),(globalAnimation?animate:css)(chart.container,{width:chartWidth+PX,height:chartHeight+PX},globalAnimation),chart.setChartSize(!0),chart.renderer.setSize(chartWidth,chartHeight,animation),chart.maxTicks=null,each(chart.axes,function(axis){axis.isDirty=!0,axis.setScale()}),each(chart.series,function(serie){serie.isDirty=!0}),chart.isDirtyLegend=!0,chart.isDirtyBox=!0,chart.layOutTitles(),chart.getMargins(),chart.redraw(animation),chart.oldChartHeight=null,fireEvent(chart,"resize"),globalAnimation===!1?fireEndResize():setTimeout(fireEndResize,globalAnimation&&globalAnimation.duration||500)},setChartSize:function(skipAxes){var clipX,clipY,plotLeft,plotTop,plotWidth,plotHeight,plotBorderWidth,chart=this,inverted=chart.inverted,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,optionsChart=chart.options.chart,spacing=chart.spacing,clipOffset=chart.clipOffset;chart.plotLeft=plotLeft=mathRound(chart.plotLeft),chart.plotTop=plotTop=mathRound(chart.plotTop),chart.plotWidth=plotWidth=mathMax(0,mathRound(chartWidth-plotLeft-chart.marginRight)),chart.plotHeight=plotHeight=mathMax(0,mathRound(chartHeight-plotTop-chart.marginBottom)),chart.plotSizeX=inverted?plotHeight:plotWidth,chart.plotSizeY=inverted?plotWidth:plotHeight,chart.plotBorderWidth=optionsChart.plotBorderWidth||0,chart.spacingBox=renderer.spacingBox={x:spacing[3],y:spacing[0],width:chartWidth-spacing[3]-spacing[1],height:chartHeight-spacing[0]-spacing[2]},chart.plotBox=renderer.plotBox={x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight},plotBorderWidth=2*mathFloor(chart.plotBorderWidth/2),clipX=mathCeil(mathMax(plotBorderWidth,clipOffset[3])/2),clipY=mathCeil(mathMax(plotBorderWidth,clipOffset[0])/2),chart.clipBox={x:clipX,y:clipY,width:mathFloor(chart.plotSizeX-mathMax(plotBorderWidth,clipOffset[1])/2-clipX),height:mathMax(0,mathFloor(chart.plotSizeY-mathMax(plotBorderWidth,clipOffset[2])/2-clipY))},skipAxes||each(chart.axes,function(axis){axis.setAxisSize(),axis.setAxisTranslation()})},resetMargins:function(){var chart=this,spacing=chart.spacing,margin=chart.margin;chart.plotTop=pick(margin[0],spacing[0]),chart.marginRight=pick(margin[1],spacing[1]),chart.marginBottom=pick(margin[2],spacing[2]),chart.plotLeft=pick(margin[3],spacing[3]),chart.axisOffset=[0,0,0,0],chart.clipOffset=[0,0,0,0]},drawChartBox:function(){var mgn,bgAttr,chart=this,optionsChart=chart.options.chart,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,chartBackground=chart.chartBackground,plotBackground=chart.plotBackground,plotBorder=chart.plotBorder,plotBGImage=chart.plotBGImage,chartBorderWidth=optionsChart.borderWidth||0,chartBackgroundColor=optionsChart.backgroundColor,plotBackgroundColor=optionsChart.plotBackgroundColor,plotBackgroundImage=optionsChart.plotBackgroundImage,plotBorderWidth=optionsChart.plotBorderWidth||0,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotBox=chart.plotBox,clipRect=chart.clipRect,clipBox=chart.clipBox;mgn=chartBorderWidth+(optionsChart.shadow?8:0),(chartBorderWidth||chartBackgroundColor)&&(chartBackground?chartBackground.animate(chartBackground.crisp({width:chartWidth-mgn,height:chartHeight-mgn})):(bgAttr={fill:chartBackgroundColor||NONE},chartBorderWidth&&(bgAttr.stroke=optionsChart.borderColor,bgAttr["stroke-width"]=chartBorderWidth),chart.chartBackground=renderer.rect(mgn/2,mgn/2,chartWidth-mgn,chartHeight-mgn,optionsChart.borderRadius,chartBorderWidth).attr(bgAttr).addClass(PREFIX+"background").add().shadow(optionsChart.shadow))),plotBackgroundColor&&(plotBackground?plotBackground.animate(plotBox):chart.plotBackground=renderer.rect(plotLeft,plotTop,plotWidth,plotHeight,0).attr({fill:plotBackgroundColor}).add().shadow(optionsChart.plotShadow)),plotBackgroundImage&&(plotBGImage?plotBGImage.animate(plotBox):chart.plotBGImage=renderer.image(plotBackgroundImage,plotLeft,plotTop,plotWidth,plotHeight).add()),clipRect?clipRect.animate({width:clipBox.width,height:clipBox.height}):chart.clipRect=renderer.clipRect(clipBox),plotBorderWidth&&(plotBorder?plotBorder.animate(plotBorder.crisp({x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight,strokeWidth:-plotBorderWidth})):chart.plotBorder=renderer.rect(plotLeft,plotTop,plotWidth,plotHeight,0,-plotBorderWidth).attr({stroke:optionsChart.plotBorderColor,"stroke-width":plotBorderWidth,fill:NONE,zIndex:1}).add()),chart.isDirtyBox=!1},propFromSeries:function(){var klass,i,value,chart=this,optionsChart=chart.options.chart,seriesOptions=chart.options.series;each(["inverted","angular","polar"],function(key){for(klass=seriesTypes[optionsChart.type||optionsChart.defaultSeriesType],value=chart[key]||optionsChart[key]||klass&&klass.prototype[key],i=seriesOptions&&seriesOptions.length;!value&&i--;)klass=seriesTypes[seriesOptions[i].type],klass&&klass.prototype[key]&&(value=!0);chart[key]=value})},linkSeries:function(){var chart=this,chartSeries=chart.series;each(chartSeries,function(series){series.linkedSeries.length=0}),each(chartSeries,function(series){var linkedTo=series.options.linkedTo;isString(linkedTo)&&(linkedTo=":previous"===linkedTo?chart.series[series.index-1]:chart.get(linkedTo),linkedTo&&(linkedTo.linkedSeries.push(series),series.linkedParent=linkedTo))})},renderSeries:function(){each(this.series,function(serie){serie.translate(),serie.setTooltipPoints&&serie.setTooltipPoints(),serie.render()})},renderLabels:function(){var chart=this,labels=chart.options.labels;labels.items&&each(labels.items,function(label){var style=extend(labels.style,label.style),x=pInt(style.left)+chart.plotLeft,y=pInt(style.top)+chart.plotTop+12;delete style.left,delete style.top,chart.renderer.text(label.html,x,y).attr({zIndex:2}).css(style).add()})},render:function(){var chart=this,axes=chart.axes,renderer=chart.renderer,options=chart.options;chart.setTitle(),chart.legend=new Legend(chart,options.legend),chart.getStacks(),each(axes,function(axis){axis.setScale()}),chart.getMargins(),chart.maxTicks=null,each(axes,function(axis){axis.setTickPositions(!0),axis.setMaxTicks()}),chart.adjustTickAmounts(),chart.getMargins(),chart.drawChartBox(),chart.hasCartesianSeries&&each(axes,function(axis){axis.render()}),chart.seriesGroup||(chart.seriesGroup=renderer.g("series-group").attr({zIndex:3}).add()),chart.renderSeries(),chart.renderLabels(),chart.showCredits(options.credits),chart.hasRendered=!0},showCredits:function(credits){credits.enabled&&!this.credits&&(this.credits=this.renderer.text(credits.text,0,0).on("click",function(){credits.href&&(location.href=credits.href)}).attr({align:credits.position.align,zIndex:8}).css(credits.style).add().align(credits.position))},destroy:function(){var i,chart=this,axes=chart.axes,series=chart.series,container=chart.container,parentNode=container&&container.parentNode;for(fireEvent(chart,"destroy"),charts[chart.index]=UNDEFINED,chartCount--,chart.renderTo.removeAttribute("data-highcharts-chart"),removeEvent(chart),i=axes.length;i--;)axes[i]=axes[i].destroy();for(i=series.length;i--;)series[i]=series[i].destroy();each(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(name){var prop=chart[name];prop&&prop.destroy&&(chart[name]=prop.destroy())}),container&&(container.innerHTML="",removeEvent(container),parentNode&&discardElement(container));for(i in chart)delete chart[i]},isReadyToRender:function(){var chart=this;return!(!hasSVG&&win==win.top&&"complete"!==doc.readyState||useCanVG&&!win.canvg)||(useCanVG?CanVGController.push(function(){chart.firstRender()},chart.options.global.canvasToolsURL):doc.attachEvent("onreadystatechange",function(){doc.detachEvent("onreadystatechange",chart.firstRender),"complete"===doc.readyState&&chart.firstRender()}),!1)},firstRender:function(){var chart=this,options=chart.options,callback=chart.callback;chart.isReadyToRender()&&(chart.getContainer(),fireEvent(chart,"init"),chart.resetMargins(),chart.setChartSize(),chart.propFromSeries(),chart.getAxes(),each(options.series||[],function(serieOptions){chart.initSeries(serieOptions)}),chart.linkSeries(),fireEvent(chart,"beforeRender"),Highcharts.Pointer&&(chart.pointer=new Pointer(chart,options)),chart.render(),chart.renderer.draw(),callback&&callback.apply(chart,[chart]),each(chart.callbacks,function(fn){fn.apply(chart,[chart])}),chart.cloneRenderTo(!0),fireEvent(chart,"load"))},splashArray:function(target,options){var oVar=options[target],tArray=isObject(oVar)?oVar:[oVar,oVar,oVar,oVar];return[pick(options[target+"Top"],tArray[0]),pick(options[target+"Right"],tArray[1]),pick(options[target+"Bottom"],tArray[2]),pick(options[target+"Left"],tArray[3])]}},Chart.prototype.callbacks=[];var CenteredSeriesMixin=Highcharts.CenteredSeriesMixin={getCenter:function(){var handleSlicingRoom,isPercent,options=this.options,chart=this.chart,slicingRoom=2*(options.slicedOffset||0),plotWidth=chart.plotWidth-2*slicingRoom,plotHeight=chart.plotHeight-2*slicingRoom,centerOption=options.center,positions=[pick(centerOption[0],"50%"),pick(centerOption[1],"50%"),options.size||"100%",options.innerSize||0],smallestSize=mathMin(plotWidth,plotHeight);return map(positions,function(length,i){return isPercent=/%$/.test(length),handleSlicingRoom=i<2||2===i&&isPercent,(isPercent?[plotWidth,plotHeight,smallestSize,smallestSize][i]*pInt(length)/100:length)+(handleSlicingRoom?slicingRoom:0)})}},Point=function(){};Point.prototype={init:function(series,options,x){var colors,point=this;return point.series=series,point.applyOptions(options,x),point.pointAttr={},series.options.colorByPoint&&(colors=series.options.colors||series.chart.options.colors,point.color=point.color||colors[series.colorCounter++],series.colorCounter===colors.length&&(series.colorCounter=0)),series.chart.pointCount++,point},applyOptions:function(options,x){var point=this,series=point.series,pointValKey=series.options.pointValKey||series.pointValKey;return options=Point.prototype.optionsToObject.call(this,options),extend(point,options),point.options=point.options?extend(point.options,options):options,pointValKey&&(point.y=point[pointValKey]),point.x===UNDEFINED&&series&&(point.x=x===UNDEFINED?series.autoIncrement():x),point},optionsToObject:function(options){var firstItemType,ret={},series=this.series,pointArrayMap=series.pointArrayMap||["y"],valueCount=pointArrayMap.length,i=0,j=0;if("number"==typeof options||null===options)ret[pointArrayMap[0]]=options;else if(isArray(options))for(options.length>valueCount&&(firstItemType=typeof options[0],"string"===firstItemType?ret.name=options[0]:"number"===firstItemType&&(ret.x=options[0]),i++);j<valueCount;)ret[pointArrayMap[j++]]=options[i++];else"object"==typeof options&&(ret=options,options.dataLabels&&(series._hasPointLabels=!0),options.marker&&(series._hasPointMarkers=!0));return ret},destroy:function(){var prop,point=this,series=point.series,chart=series.chart,hoverPoints=chart.hoverPoints;chart.pointCount--,hoverPoints&&(point.setState(),erase(hoverPoints,point),hoverPoints.length||(chart.hoverPoints=null)),point===chart.hoverPoint&&point.onMouseOut(),(point.graphic||point.dataLabel)&&(removeEvent(point),point.destroyElements()),point.legendItem&&chart.legend.destroyItem(point);for(prop in point)point[prop]=null},destroyElements:function(){for(var prop,point=this,props=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i=6;i--;)prop=props[i],point[prop]&&(point[prop]=point[prop].destroy())},getLabelConfig:function(){var point=this;return{x:point.category,y:point.y,key:point.name||point.category,series:point.series,point:point,percentage:point.percentage,total:point.total||point.stackTotal}},tooltipFormatter:function(pointFormat){var series=this.series,seriesTooltipOptions=series.tooltipOptions,valueDecimals=pick(seriesTooltipOptions.valueDecimals,""),valuePrefix=seriesTooltipOptions.valuePrefix||"",valueSuffix=seriesTooltipOptions.valueSuffix||"";return each(series.pointArrayMap||["y"],function(key){key="{point."+key,(valuePrefix||valueSuffix)&&(pointFormat=pointFormat.replace(key+"}",valuePrefix+key+"}"+valueSuffix)),pointFormat=pointFormat.replace(key+"}",key+":,."+valueDecimals+"f}")}),format(pointFormat,{point:this,series:this.series})},firePointEvent:function(eventType,eventArgs,defaultFunction){var point=this,series=this.series,seriesOptions=series.options;(seriesOptions.point.events[eventType]||point.options&&point.options.events&&point.options.events[eventType])&&this.importEvents(),"click"===eventType&&seriesOptions.allowPointSelect&&(defaultFunction=function(event){point.select(null,event.ctrlKey||event.metaKey||event.shiftKey)}),fireEvent(this,eventType,eventArgs,defaultFunction)}};var Series=function(){};Series.prototype={isCartesian:!0,type:"line",pointClass:Point,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(chart,options){var eventType,events,series=this,chartSeries=chart.series,sortByIndex=function(a,b){return pick(a.options.index,a._i)-pick(b.options.index,b._i)};series.chart=chart,series.options=options=series.setOptions(options),series.linkedSeries=[],series.bindAxes(),extend(series,{name:options.name,state:NORMAL_STATE,pointAttr:{},visible:options.visible!==!1,selected:options.selected===!0}),useCanVG&&(options.animation=!1),events=options.events;for(eventType in events)addEvent(series,eventType,events[eventType]);(events&&events.click||options.point&&options.point.events&&options.point.events.click||options.allowPointSelect)&&(chart.runTrackerClick=!0),series.getColor(),series.getSymbol(),each(series.parallelArrays,function(key){series[key+"Data"]=[]}),series.setData(options.data,!1),series.isCartesian&&(chart.hasCartesianSeries=!0),chartSeries.push(series),series._i=chartSeries.length-1,stableSort(chartSeries,sortByIndex),this.yAxis&&stableSort(this.yAxis.series,sortByIndex),each(chartSeries,function(series,i){series.index=i,series.name=series.name||"Series "+(i+1)})},bindAxes:function(){var axisOptions,series=this,seriesOptions=series.options,chart=series.chart;each(series.axisTypes||[],function(AXIS){each(chart[AXIS],function(axis){axisOptions=axis.options,(seriesOptions[AXIS]===axisOptions.index||seriesOptions[AXIS]!==UNDEFINED&&seriesOptions[AXIS]===axisOptions.id||seriesOptions[AXIS]===UNDEFINED&&0===axisOptions.index)&&(axis.series.push(series),series[AXIS]=axis,axis.isDirty=!0)}),series[AXIS]||series.optionalAxis===AXIS||error(18,!0)})},updateParallelArrays:function(point,i){var series=point.series,args=arguments,fn="number"==typeof i?function(key){var val="y"===key&&series.toYData?series.toYData(point):point[key];series[key+"Data"][i]=val}:function(key){Array.prototype[i].apply(series[key+"Data"],Array.prototype.slice.call(args,2))};each(series.parallelArrays,fn)},autoIncrement:function(){var series=this,options=series.options,xIncrement=series.xIncrement;return xIncrement=pick(xIncrement,options.pointStart,0),series.pointInterval=pick(series.pointInterval,options.pointInterval,1),series.xIncrement=xIncrement+series.pointInterval,xIncrement},getSegments:function(){var i,series=this,lastNull=-1,segments=[],points=series.points,pointsLength=points.length;if(pointsLength)if(series.options.connectNulls){for(i=pointsLength;i--;)null===points[i].y&&points.splice(i,1);points.length&&(segments=[points])}else each(points,function(point,i){null===point.y?(i>lastNull+1&&segments.push(points.slice(lastNull+1,i)),lastNull=i):i===pointsLength-1&&segments.push(points.slice(lastNull+1,i+1))});series.segments=segments},setOptions:function(itemOptions){var options,chart=this.chart,chartOptions=chart.options,plotOptions=chartOptions.plotOptions,userOptions=chart.userOptions||{},userPlotOptions=userOptions.plotOptions||{},typeOptions=plotOptions[this.type];return this.userOptions=itemOptions,options=merge(typeOptions,plotOptions.series,itemOptions),this.tooltipOptions=merge(defaultOptions.tooltip,defaultOptions.plotOptions[this.type].tooltip,userOptions.tooltip,userPlotOptions.series&&userPlotOptions.series.tooltip,userPlotOptions[this.type]&&userPlotOptions[this.type].tooltip,itemOptions.tooltip),null===typeOptions.marker&&delete options.marker,options},getCyclic:function(prop,value,defaults){var i,userOptions=this.userOptions,indexName="_"+prop+"Index",counterName=prop+"Counter";value||(defined(userOptions[indexName])?i=userOptions[indexName]:(userOptions[indexName]=i=this.chart[counterName]%defaults.length,this.chart[counterName]+=1),value=defaults[i]),this[prop]=value},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||defaultPlotOptions[this.type].color,this.chart.options.colors)},getSymbol:function(){var seriesMarkerOption=this.options.marker;this.getCyclic("symbol",seriesMarkerOption.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(seriesMarkerOption.radius=0)},drawLegendSymbol:LegendSymbolMixin.drawLineMarker,setData:function(data,redraw,animation,updatePoints){var dataLength,i,pt,series=this,oldData=series.points,oldDataLength=oldData&&oldData.length||0,options=series.options,chart=series.chart,firstPoint=null,xAxis=series.xAxis,hasCategories=xAxis&&!!xAxis.categories,tooltipPoints=series.tooltipPoints,turboThreshold=options.turboThreshold,xData=this.xData,yData=this.yData,pointArrayMap=series.pointArrayMap,valueCount=pointArrayMap&&pointArrayMap.length;if(data=data||[],dataLength=data.length,redraw=pick(redraw,!0),updatePoints===!1||!dataLength||oldDataLength!==dataLength||series.cropped||series.hasGroupedData){if(series.xIncrement=null,series.pointRange=hasCategories?1:options.pointRange,series.colorCounter=0,each(this.parallelArrays,function(key){series[key+"Data"].length=0}),turboThreshold&&dataLength>turboThreshold){for(i=0;null===firstPoint&&i<dataLength;)firstPoint=data[i],i++;if(isNumber(firstPoint)){var x=pick(options.pointStart,0),pointInterval=pick(options.pointInterval,1);for(i=0;i<dataLength;i++)xData[i]=x,yData[i]=data[i],
x+=pointInterval;series.xIncrement=x}else if(isArray(firstPoint))if(valueCount)for(i=0;i<dataLength;i++)pt=data[i],xData[i]=pt[0],yData[i]=pt.slice(1,valueCount+1);else for(i=0;i<dataLength;i++)pt=data[i],xData[i]=pt[0],yData[i]=pt[1];else error(12)}else for(i=0;i<dataLength;i++)data[i]!==UNDEFINED&&(pt={series:series},series.pointClass.prototype.applyOptions.apply(pt,[data[i]]),series.updateParallelArrays(pt,i),hasCategories&&pt.name&&(xAxis.names[pt.x]=pt.name));for(isString(yData[0])&&error(14,!0),series.data=[],series.options.data=data,i=oldDataLength;i--;)oldData[i]&&oldData[i].destroy&&oldData[i].destroy();tooltipPoints&&(tooltipPoints.length=0),xAxis&&(xAxis.minRange=xAxis.userMinRange),series.isDirty=series.isDirtyData=chart.isDirtyBox=!0,animation=!1}else each(data,function(point,i){oldData[i].update(point,!1,null,!1)});redraw&&chart.redraw(animation)},processData:function(force){var croppedData,cropped,distance,closestPointRange,i,xExtremes,min,max,series=this,processedXData=series.xData,processedYData=series.yData,dataLength=processedXData.length,cropStart=0,xAxis=series.xAxis,options=series.options,cropThreshold=options.cropThreshold,activePointCount=0,isCartesian=series.isCartesian;if(isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force)return!1;for(xAxis&&(xExtremes=xAxis.getExtremes(),min=xExtremes.min,max=xExtremes.max),isCartesian&&series.sorted&&(!cropThreshold||dataLength>cropThreshold||series.forceCrop)&&(processedXData[dataLength-1]<min||processedXData[0]>max?(processedXData=[],processedYData=[]):(processedXData[0]<min||processedXData[dataLength-1]>max)&&(croppedData=this.cropData(series.xData,series.yData,min,max),processedXData=croppedData.xData,processedYData=croppedData.yData,cropStart=croppedData.start,cropped=!0,activePointCount=processedXData.length)),i=processedXData.length-1;i>=0;i--)distance=processedXData[i]-processedXData[i-1],!cropped&&processedXData[i]>min&&processedXData[i]<max&&activePointCount++,distance>0&&(closestPointRange===UNDEFINED||distance<closestPointRange)?closestPointRange=distance:distance<0&&series.requireSorting&&error(15);series.cropped=cropped,series.cropStart=cropStart,series.processedXData=processedXData,series.processedYData=processedYData,series.activePointCount=activePointCount,null===options.pointRange&&(series.pointRange=closestPointRange||1),series.closestPointRange=closestPointRange},cropData:function(xData,yData,min,max){var i,dataLength=xData.length,cropStart=0,cropEnd=dataLength,cropShoulder=pick(this.cropShoulder,1);for(i=0;i<dataLength;i++)if(xData[i]>=min){cropStart=mathMax(0,i-cropShoulder);break}for(;i<dataLength;i++)if(xData[i]>max){cropEnd=i+cropShoulder;break}return{xData:xData.slice(cropStart,cropEnd),yData:yData.slice(cropStart,cropEnd),start:cropStart,end:cropEnd}},generatePoints:function(){var dataLength,cursor,point,i,series=this,options=series.options,dataOptions=options.data,data=series.data,processedXData=series.processedXData,processedYData=series.processedYData,pointClass=series.pointClass,processedDataLength=processedXData.length,cropStart=series.cropStart||0,hasGroupedData=series.hasGroupedData,points=[];if(!data&&!hasGroupedData){var arr=[];arr.length=dataOptions.length,data=series.data=arr}for(i=0;i<processedDataLength;i++)cursor=cropStart+i,hasGroupedData?points[i]=(new pointClass).init(series,[processedXData[i]].concat(splat(processedYData[i]))):(data[cursor]?point=data[cursor]:dataOptions[cursor]!==UNDEFINED&&(data[cursor]=point=(new pointClass).init(series,dataOptions[cursor],processedXData[i])),points[i]=point),points[i].index=cursor;if(data&&(processedDataLength!==(dataLength=data.length)||hasGroupedData))for(i=0;i<dataLength;i++)i!==cropStart||hasGroupedData||(i+=processedDataLength),data[i]&&(data[i].destroyElements(),data[i].plotX=UNDEFINED);series.data=data,series.points=points},getExtremes:function(yData){var yDataLength,validValue,withinRange,dataMin,dataMax,x,y,i,j,xAxis=this.xAxis,yAxis=this.yAxis,xData=this.processedXData,activeYData=[],activeCounter=0,xExtremes=xAxis.getExtremes(),xMin=xExtremes.min,xMax=xExtremes.max;for(yData=yData||this.stackedYData||this.processedYData,yDataLength=yData.length,i=0;i<yDataLength;i++)if(x=xData[i],y=yData[i],validValue=null!==y&&y!==UNDEFINED&&(!yAxis.isLog||y.length||y>0),withinRange=this.getExtremesFromAll||this.cropped||(xData[i+1]||x)>=xMin&&(xData[i-1]||x)<=xMax,validValue&&withinRange)if(j=y.length)for(;j--;)null!==y[j]&&(activeYData[activeCounter++]=y[j]);else activeYData[activeCounter++]=y;this.dataMin=pick(dataMin,arrayMin(activeYData)),this.dataMax=pick(dataMax,arrayMax(activeYData))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var i,series=this,options=series.options,stacking=options.stacking,xAxis=series.xAxis,categories=xAxis.categories,yAxis=series.yAxis,points=series.points,dataLength=points.length,hasModifyValue=!!series.modifyValue,pointPlacement=options.pointPlacement,dynamicallyPlaced="between"===pointPlacement||isNumber(pointPlacement),threshold=options.threshold;for(i=0;i<dataLength;i++){var pointStack,stackValues,point=points[i],xValue=point.x,yValue=point.y,yBottom=point.low,stack=stacking&&yAxis.stacks[(series.negStacks&&yValue<threshold?"-":"")+series.stackKey];yAxis.isLog&&yValue<=0&&(point.y=yValue=null,error(10)),point.plotX=xAxis.translate(xValue,0,0,0,1,pointPlacement,"flags"===this.type),stacking&&series.visible&&stack&&stack[xValue]&&(pointStack=stack[xValue],stackValues=pointStack.points[series.index+","+i],yBottom=stackValues[0],yValue=stackValues[1],0===yBottom&&(yBottom=pick(threshold,yAxis.min)),yAxis.isLog&&yBottom<=0&&(yBottom=null),point.total=point.stackTotal=pointStack.total,point.percentage=pointStack.total&&point.y/pointStack.total*100,point.stackY=yValue,pointStack.setOffset(series.pointXOffset||0,series.barW||0)),point.yBottom=defined(yBottom)?yAxis.translate(yBottom,0,1,0,1):null,hasModifyValue&&(yValue=series.modifyValue(yValue,point)),point.plotY="number"==typeof yValue&&yValue!==1/0?yAxis.translate(yValue,0,1,0,1):UNDEFINED,point.clientX=dynamicallyPlaced?xAxis.translate(xValue,0,0,0,1):point.plotX,point.negative=point.y<(threshold||0),point.category=categories&&categories[point.x]!==UNDEFINED?categories[point.x]:point.x}series.getSegments()},animate:function(init){var clipRect,markerClipRect,sharedClipKey,series=this,chart=series.chart,renderer=chart.renderer,animation=series.options.animation,clipBox=series.clipBox||chart.clipBox,inverted=chart.inverted;animation&&!isObject(animation)&&(animation=defaultPlotOptions[series.type].animation),sharedClipKey=["_sharedClip",animation.duration,animation.easing,clipBox.height].join(","),init?(clipRect=chart[sharedClipKey],markerClipRect=chart[sharedClipKey+"m"],clipRect||(chart[sharedClipKey]=clipRect=renderer.clipRect(extend(clipBox,{width:0})),chart[sharedClipKey+"m"]=markerClipRect=renderer.clipRect(-99,inverted?-chart.plotLeft:-chart.plotTop,99,inverted?chart.chartWidth:chart.chartHeight)),series.group.clip(clipRect),series.markerGroup.clip(markerClipRect),series.sharedClipKey=sharedClipKey):(clipRect=chart[sharedClipKey],clipRect&&clipRect.animate({width:chart.plotSizeX},animation),chart[sharedClipKey+"m"]&&chart[sharedClipKey+"m"].animate({width:chart.plotSizeX+99},animation),series.animate=null)},afterAnimate:function(){var chart=this.chart,sharedClipKey=this.sharedClipKey,group=this.group,clipBox=this.clipBox;group&&this.options.clip!==!1&&(sharedClipKey&&clipBox||group.clip(clipBox?chart.renderer.clipRect(clipBox):chart.clipRect),this.markerGroup.clip()),fireEvent(this,"afterAnimate"),setTimeout(function(){sharedClipKey&&chart[sharedClipKey]&&(clipBox||(chart[sharedClipKey]=chart[sharedClipKey].destroy()),chart[sharedClipKey+"m"]&&(chart[sharedClipKey+"m"]=chart[sharedClipKey+"m"].destroy()))},100)},drawPoints:function(){var pointAttr,plotX,plotY,i,point,radius,symbol,isImage,graphic,pointMarkerOptions,hasPointMarker,enabled,isInside,series=this,points=series.points,chart=series.chart,options=series.options,seriesMarkerOptions=options.marker,seriesPointAttr=series.pointAttr[""],markerGroup=series.markerGroup,globallyEnabled=pick(seriesMarkerOptions.enabled,!series.requireSorting||series.activePointCount<.5*series.xAxis.len/seriesMarkerOptions.radius);if(seriesMarkerOptions.enabled!==!1||series._hasPointMarkers)for(i=points.length;i--;)point=points[i],plotX=mathFloor(point.plotX),plotY=point.plotY,graphic=point.graphic,pointMarkerOptions=point.marker||{},hasPointMarker=!!point.marker,enabled=globallyEnabled&&pointMarkerOptions.enabled===UNDEFINED||pointMarkerOptions.enabled,isInside=chart.isInsidePlot(mathRound(plotX),plotY,chart.inverted),enabled&&plotY!==UNDEFINED&&!isNaN(plotY)&&null!==point.y?(pointAttr=point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]||seriesPointAttr,radius=pointAttr.r,symbol=pick(pointMarkerOptions.symbol,series.symbol),isImage=0===symbol.indexOf("url"),graphic?graphic[isInside?"show":"hide"](!0).animate(extend({x:plotX-radius,y:plotY-radius},graphic.symbolName?{width:2*radius,height:2*radius}:{})):isInside&&(radius>0||isImage)&&(point.graphic=graphic=chart.renderer.symbol(symbol,plotX-radius,plotY-radius,2*radius,2*radius,hasPointMarker?pointMarkerOptions:seriesMarkerOptions).attr(pointAttr).add(markerGroup))):graphic&&(point.graphic=graphic.destroy())},convertAttribs:function(options,base1,base2,base3){var attr,option,conversion=this.pointAttrToOptions,obj={};options=options||{},base1=base1||{},base2=base2||{},base3=base3||{};for(attr in conversion)option=conversion[attr],obj[attr]=pick(options[option],base1[attr],base2[attr],base3[attr]);return obj},getAttribs:function(){var pointStateOptionsHover,i,point,pointAttr,attr,key,series=this,seriesOptions=series.options,normalOptions=defaultPlotOptions[series.type].marker?seriesOptions.marker:seriesOptions,stateOptions=normalOptions.states,stateOptionsHover=stateOptions[HOVER_STATE],seriesColor=series.color,normalDefaults={stroke:seriesColor,fill:seriesColor},points=series.points||[],seriesPointAttr=[],pointAttrToOptions=series.pointAttrToOptions,hasPointSpecificOptions=series.hasPointSpecificOptions,negativeColor=seriesOptions.negativeColor,defaultLineColor=normalOptions.lineColor,defaultFillColor=normalOptions.fillColor,turboThreshold=seriesOptions.turboThreshold;if(seriesOptions.marker?(stateOptionsHover.radius=stateOptionsHover.radius||normalOptions.radius+stateOptionsHover.radiusPlus,stateOptionsHover.lineWidth=stateOptionsHover.lineWidth||normalOptions.lineWidth+stateOptionsHover.lineWidthPlus):stateOptionsHover.color=stateOptionsHover.color||Color(stateOptionsHover.color||seriesColor).brighten(stateOptionsHover.brightness).get(),seriesPointAttr[NORMAL_STATE]=series.convertAttribs(normalOptions,normalDefaults),each([HOVER_STATE,SELECT_STATE],function(state){seriesPointAttr[state]=series.convertAttribs(stateOptions[state],seriesPointAttr[NORMAL_STATE])}),series.pointAttr=seriesPointAttr,i=points.length,!turboThreshold||i<turboThreshold||hasPointSpecificOptions)for(;i--;){if(point=points[i],normalOptions=point.options&&point.options.marker||point.options,normalOptions&&normalOptions.enabled===!1&&(normalOptions.radius=0),point.negative&&negativeColor&&(point.color=point.fillColor=negativeColor),hasPointSpecificOptions=seriesOptions.colorByPoint||point.color,point.options)for(key in pointAttrToOptions)defined(normalOptions[pointAttrToOptions[key]])&&(hasPointSpecificOptions=!0);hasPointSpecificOptions?(normalOptions=normalOptions||{},pointAttr=[],stateOptions=normalOptions.states||{},pointStateOptionsHover=stateOptions[HOVER_STATE]=stateOptions[HOVER_STATE]||{},seriesOptions.marker||(pointStateOptionsHover.color=pointStateOptionsHover.color||!point.options.color&&stateOptionsHover.color||Color(point.color).brighten(pointStateOptionsHover.brightness||stateOptionsHover.brightness).get()),attr={color:point.color},defaultFillColor||(attr.fillColor=point.color),defaultLineColor||(attr.lineColor=point.color),pointAttr[NORMAL_STATE]=series.convertAttribs(extend(attr,normalOptions),seriesPointAttr[NORMAL_STATE]),pointAttr[HOVER_STATE]=series.convertAttribs(stateOptions[HOVER_STATE],seriesPointAttr[HOVER_STATE],pointAttr[NORMAL_STATE]),pointAttr[SELECT_STATE]=series.convertAttribs(stateOptions[SELECT_STATE],seriesPointAttr[SELECT_STATE],pointAttr[NORMAL_STATE])):pointAttr=seriesPointAttr,point.pointAttr=pointAttr}},destroy:function(){var destroy,i,point,prop,axis,series=this,chart=series.chart,issue134=/AppleWebKit\/533/.test(userAgent),data=series.data||[];for(fireEvent(series,"destroy"),removeEvent(series),each(series.axisTypes||[],function(AXIS){axis=series[AXIS],axis&&(erase(axis.series,series),axis.isDirty=axis.forceRedraw=!0)}),series.legendItem&&series.chart.legend.destroyItem(series),i=data.length;i--;)point=data[i],point&&point.destroy&&point.destroy();series.points=null,clearTimeout(series.animationTimeout),each(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(prop){series[prop]&&(destroy=issue134&&"group"===prop?"hide":"destroy",series[prop][destroy]())}),chart.hoverSeries===series&&(chart.hoverSeries=null),erase(chart.series,series);for(prop in series)delete series[prop]},getSegmentPath:function(segment){var series=this,segmentPath=[],step=series.options.step;return each(segment,function(point,i){var lastPoint,plotX=point.plotX,plotY=point.plotY;series.getPointSpline?segmentPath.push.apply(segmentPath,series.getPointSpline(segment,point,i)):(segmentPath.push(i?L:M),step&&i&&(lastPoint=segment[i-1],"right"===step?segmentPath.push(lastPoint.plotX,plotY):"center"===step?segmentPath.push((lastPoint.plotX+plotX)/2,lastPoint.plotY,(lastPoint.plotX+plotX)/2,plotY):segmentPath.push(plotX,lastPoint.plotY)),segmentPath.push(point.plotX,point.plotY))}),segmentPath},getGraphPath:function(){var segmentPath,series=this,graphPath=[],singlePoints=[];return each(series.segments,function(segment){segmentPath=series.getSegmentPath(segment),segment.length>1?graphPath=graphPath.concat(segmentPath):singlePoints.push(segment[0])}),series.singlePoints=singlePoints,series.graphPath=graphPath,graphPath},drawGraph:function(){var series=this,options=this.options,props=[["graph",options.lineColor||this.color]],lineWidth=options.lineWidth,dashStyle=options.dashStyle,roundCap="square"!==options.linecap,graphPath=this.getGraphPath(),negativeColor=options.negativeColor;negativeColor&&props.push(["graphNeg",negativeColor]),each(props,function(prop,i){var attribs,graphKey=prop[0],graph=series[graphKey];graph?(stop(graph),graph.animate({d:graphPath})):lineWidth&&graphPath.length&&(attribs={stroke:prop[1],"stroke-width":lineWidth,fill:NONE,zIndex:1},dashStyle?attribs.dashstyle=dashStyle:roundCap&&(attribs["stroke-linecap"]=attribs["stroke-linejoin"]="round"),series[graphKey]=series.chart.renderer.path(graphPath).attr(attribs).add(series.group).shadow(!i&&options.shadow))})},clipNeg:function(){var translatedThreshold,posAttr,negAttr,above,below,options=this.options,chart=this.chart,renderer=chart.renderer,negativeColor=options.negativeColor||options.negativeFillColor,graph=this.graph,area=this.area,posClip=this.posClip,negClip=this.negClip,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,chartSizeMax=mathMax(chartWidth,chartHeight),yAxis=this.yAxis;negativeColor&&(graph||area)&&(translatedThreshold=mathRound(yAxis.toPixels(options.threshold||0,!0)),translatedThreshold<0&&(chartSizeMax-=translatedThreshold),above={x:0,y:0,width:chartSizeMax,height:translatedThreshold},below={x:0,y:translatedThreshold,width:chartSizeMax,height:chartSizeMax},chart.inverted&&(above.height=below.y=chart.plotWidth-translatedThreshold,renderer.isVML&&(above={x:chart.plotWidth-translatedThreshold-chart.plotLeft,y:0,width:chartWidth,height:chartHeight},below={x:translatedThreshold+chart.plotLeft-chartWidth,y:0,width:chart.plotLeft+translatedThreshold,height:chartWidth})),yAxis.reversed?(posAttr=below,negAttr=above):(posAttr=above,negAttr=below),posClip?(posClip.animate(posAttr),negClip.animate(negAttr)):(this.posClip=posClip=renderer.clipRect(posAttr),this.negClip=negClip=renderer.clipRect(negAttr),graph&&this.graphNeg&&(graph.clip(posClip),this.graphNeg.clip(negClip)),area&&(area.clip(posClip),this.areaNeg.clip(negClip))))},invertGroups:function(){function setInvert(){var size={width:series.yAxis.len,height:series.xAxis.len};each(["group","markerGroup"],function(groupName){series[groupName]&&series[groupName].attr(size).invert()})}var series=this,chart=series.chart;series.xAxis&&(addEvent(chart,"resize",setInvert),addEvent(series,"destroy",function(){removeEvent(chart,"resize",setInvert)}),setInvert(),series.invertGroups=setInvert)},plotGroup:function(prop,name,visibility,zIndex,parent){var group=this[prop],isNew=!group;return isNew&&(this[prop]=group=this.chart.renderer.g(name).attr({visibility:visibility,zIndex:zIndex||.1}).add(parent)),group[isNew?"attr":"animate"](this.getPlotBox()),group},getPlotBox:function(){var chart=this.chart,xAxis=this.xAxis,yAxis=this.yAxis;return chart.inverted&&(xAxis=yAxis,yAxis=this.xAxis),{translateX:xAxis?xAxis.left:chart.plotLeft,translateY:yAxis?yAxis.top:chart.plotTop,scaleX:1,scaleY:1}},render:function(){var group,series=this,chart=series.chart,options=series.options,animation=options.animation,animDuration=animation&&!!series.animate&&chart.renderer.isSVG&&pick(animation.duration,500)||0,visibility=series.visible?VISIBLE:HIDDEN,zIndex=options.zIndex,hasRendered=series.hasRendered,chartSeriesGroup=chart.seriesGroup;group=series.plotGroup("group","series",visibility,zIndex,chartSeriesGroup),series.markerGroup=series.plotGroup("markerGroup","markers",visibility,zIndex,chartSeriesGroup),animDuration&&series.animate(!0),series.getAttribs(),group.inverted=!!series.isCartesian&&chart.inverted,series.drawGraph&&(series.drawGraph(),series.clipNeg()),each(series.points,function(point){point.redraw&&point.redraw()}),series.drawDataLabels&&series.drawDataLabels(),series.visible&&series.drawPoints(),series.drawTracker&&series.options.enableMouseTracking!==!1&&series.drawTracker(),chart.inverted&&series.invertGroups(),options.clip===!1||series.sharedClipKey||hasRendered||group.clip(chart.clipRect),animDuration&&series.animate(),hasRendered||(animDuration?series.animationTimeout=setTimeout(function(){series.afterAnimate()},animDuration):series.afterAnimate()),series.isDirty=series.isDirtyData=!1,series.hasRendered=!0},redraw:function(){var series=this,chart=series.chart,wasDirtyData=series.isDirtyData,group=series.group,xAxis=series.xAxis,yAxis=series.yAxis;group&&(chart.inverted&&group.attr({width:chart.plotWidth,height:chart.plotHeight}),group.animate({translateX:pick(xAxis&&xAxis.left,chart.plotLeft),translateY:pick(yAxis&&yAxis.top,chart.plotTop)})),series.translate(),series.setTooltipPoints&&series.setTooltipPoints(!0),series.render(),wasDirtyData&&fireEvent(series,"updatedData")}},StackItem.prototype={destroy:function(){destroyObjectProperties(this,this.axis)},render:function(group){var options=this.options,formatOption=options.format,str=formatOption?format(formatOption,this):options.formatter.call(this);this.label?this.label.attr({text:str,visibility:HIDDEN}):this.label=this.axis.chart.renderer.text(str,null,null,options.useHTML).css(options.style).attr({align:this.textAlign,rotation:options.rotation,visibility:HIDDEN}).add(group)},setOffset:function(xOffset,xWidth){var alignAttr,stackItem=this,axis=stackItem.axis,chart=axis.chart,inverted=chart.inverted,neg=this.isNegative,y=axis.translate(axis.usePercentage?100:this.total,0,0,0,1),yZero=axis.translate(0),h=mathAbs(y-yZero),x=chart.xAxis[0].translate(this.x)+xOffset,plotHeight=chart.plotHeight,stackBox={x:inverted?neg?y:y-h:x,y:inverted?plotHeight-x-xWidth:neg?plotHeight-y-h:plotHeight-y,width:inverted?h:xWidth,height:inverted?xWidth:h},label=this.label;label&&(label.align(this.alignOptions,null,stackBox),alignAttr=label.alignAttr,label[this.options.crop===!1||chart.isInsidePlot(alignAttr.x,alignAttr.y)?"show":"hide"](!0))}},Axis.prototype.buildStacks=function(){var series=this.series,reversedStacks=pick(this.options.reversedStacks,!0),i=series.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)series[reversedStacks?i:series.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<series.length;i++)series[i].setPercentStacks()}},Axis.prototype.renderStackTotals=function(){var stackKey,oneStack,stackCategory,axis=this,chart=axis.chart,renderer=chart.renderer,stacks=axis.stacks,stackTotalGroup=axis.stackTotalGroup;stackTotalGroup||(axis.stackTotalGroup=stackTotalGroup=renderer.g("stack-labels").attr({visibility:VISIBLE,zIndex:6}).add()),stackTotalGroup.translate(chart.plotLeft,chart.plotTop);for(stackKey in stacks){oneStack=stacks[stackKey];for(stackCategory in oneStack)oneStack[stackCategory].render(stackTotalGroup)}},Series.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var isNegative,stack,other,key,pointKey,i,x,y,series=this,xData=series.processedXData,yData=series.processedYData,stackedYData=[],yDataLength=yData.length,seriesOptions=series.options,threshold=seriesOptions.threshold,stackOption=seriesOptions.stack,stacking=seriesOptions.stacking,stackKey=series.stackKey,negKey="-"+stackKey,negStacks=series.negStacks,yAxis=series.yAxis,stacks=yAxis.stacks,oldStacks=yAxis.oldStacks;for(i=0;i<yDataLength;i++)x=xData[i],y=yData[i],pointKey=series.index+","+i,isNegative=negStacks&&y<threshold,key=isNegative?negKey:stackKey,stacks[key]||(stacks[key]={}),stacks[key][x]||(oldStacks[key]&&oldStacks[key][x]?(stacks[key][x]=oldStacks[key][x],stacks[key][x].total=null):stacks[key][x]=new StackItem(yAxis,yAxis.options.stackLabels,isNegative,x,stackOption)),stack=stacks[key][x],stack.points[pointKey]=[stack.cum||0],"percent"===stacking?(other=isNegative?stackKey:negKey,negStacks&&stacks[other]&&stacks[other][x]?(other=stacks[other][x],stack.total=other.total=mathMax(other.total,stack.total)+mathAbs(y)||0):stack.total=correctFloat(stack.total+(mathAbs(y)||0))):stack.total=correctFloat(stack.total+(y||0)),stack.cum=(stack.cum||0)+(y||0),stack.points[pointKey].push(stack.cum),stackedYData[i]=stack.cum;"percent"===stacking&&(yAxis.usePercentage=!0),this.stackedYData=stackedYData,yAxis.oldStacks={}}},Series.prototype.setPercentStacks=function(){var series=this,stackKey=series.stackKey,stacks=series.yAxis.stacks,processedXData=series.processedXData;each([stackKey,"-"+stackKey],function(key){for(var x,stack,pointExtremes,totalFactor,i=processedXData.length;i--;)x=processedXData[i],stack=stacks[key]&&stacks[key][x],pointExtremes=stack&&stack.points[series.index+","+i],pointExtremes&&(totalFactor=stack.total?100/stack.total:0,pointExtremes[0]=correctFloat(pointExtremes[0]*totalFactor),pointExtremes[1]=correctFloat(pointExtremes[1]*totalFactor),series.stackedYData[i]=pointExtremes[1])})},extend(Chart.prototype,{addSeries:function(options,redraw,animation){var series,chart=this;return options&&(redraw=pick(redraw,!0),fireEvent(chart,"addSeries",{options:options},function(){series=chart.initSeries(options),chart.isDirtyLegend=!0,chart.linkSeries(),redraw&&chart.redraw(animation)})),series},addAxis:function(options,isX,redraw,animation){var axis,key=isX?"xAxis":"yAxis",chartOptions=this.options;axis=new Axis(this,merge(options,{index:this[key].length,isX:isX})),chartOptions[key]=splat(chartOptions[key]||{}),chartOptions[key].push(options),pick(redraw,!0)&&this.redraw(animation)},showLoading:function(str){var chart=this,options=chart.options,loadingDiv=chart.loadingDiv,loadingOptions=options.loading,setLoadingSize=function(){loadingDiv&&css(loadingDiv,{left:chart.plotLeft+PX,top:chart.plotTop+PX,width:chart.plotWidth+PX,height:chart.plotHeight+PX})};loadingDiv||(chart.loadingDiv=loadingDiv=createElement(DIV,{className:PREFIX+"loading"},extend(loadingOptions.style,{zIndex:10,display:NONE}),chart.container),chart.loadingSpan=createElement("span",null,loadingOptions.labelStyle,loadingDiv),addEvent(chart,"redraw",setLoadingSize)),chart.loadingSpan.innerHTML=str||options.lang.loading,chart.loadingShown||(css(loadingDiv,{opacity:0,display:""}),animate(loadingDiv,{opacity:loadingOptions.style.opacity},{duration:loadingOptions.showDuration||0}),chart.loadingShown=!0),setLoadingSize()},hideLoading:function(){var options=this.options,loadingDiv=this.loadingDiv;loadingDiv&&animate(loadingDiv,{opacity:0},{duration:options.loading.hideDuration||100,complete:function(){css(loadingDiv,{display:NONE})}}),this.loadingShown=!1}}),extend(Point.prototype,{update:function(options,redraw,animation,runEvent){function update(){point.applyOptions(options),isObject(options)&&!isArray(options)&&(point.redraw=function(){graphic&&(options&&options.marker&&options.marker.symbol?point.graphic=graphic.destroy():graphic.attr(point.pointAttr[point.state||""])),options&&options.dataLabels&&point.dataLabel&&(point.dataLabel=point.dataLabel.destroy()),point.redraw=null}),i=point.index,series.updateParallelArrays(point,i),seriesOptions.data[i]=point.options,series.isDirty=series.isDirtyData=!0,!series.fixedBox&&series.hasCartesianSeries&&(chart.isDirtyBox=!0),"point"===seriesOptions.legendType&&chart.legend.destroyItem(point),redraw&&chart.redraw(animation)}var i,point=this,series=point.series,graphic=point.graphic,chart=series.chart,seriesOptions=series.options;redraw=pick(redraw,!0),runEvent===!1?update():point.firePointEvent("update",{options:options},update)},remove:function(redraw,animation){var i,point=this,series=point.series,points=series.points,chart=series.chart,data=series.data;setAnimation(animation,chart),redraw=pick(redraw,!0),point.firePointEvent("remove",null,function(){i=inArray(point,data),data.length===points.length&&points.splice(i,1),data.splice(i,1),series.options.data.splice(i,1),series.updateParallelArrays(point,"splice",i,1),point.destroy(),series.isDirty=!0,series.isDirtyData=!0,redraw&&chart.redraw()})}}),extend(Series.prototype,{addPoint:function(options,redraw,shift,animation){var point,isInTheMiddle,x,i,series=this,seriesOptions=series.options,data=series.data,graph=series.graph,area=series.area,chart=series.chart,names=series.xAxis&&series.xAxis.names,currentShift=graph&&graph.shift||0,dataOptions=seriesOptions.data,xData=series.xData;if(setAnimation(animation,chart),shift&&each([graph,area,series.graphNeg,series.areaNeg],function(shape){shape&&(shape.shift=currentShift+1)}),area&&(area.isArea=!0),redraw=pick(redraw,!0),point={series:series},series.pointClass.prototype.applyOptions.apply(point,[options]),x=point.x,i=xData.length,series.requireSorting&&x<xData[i-1])for(isInTheMiddle=!0;i&&xData[i-1]>x;)i--;series.updateParallelArrays(point,"splice",i,0,0),series.updateParallelArrays(point,i),names&&point.name&&(names[x]=point.name),dataOptions.splice(i,0,options),isInTheMiddle&&(series.data.splice(i,0,null),series.processData()),"point"===seriesOptions.legendType&&series.generatePoints(),shift&&(data[0]&&data[0].remove?data[0].remove(!1):(data.shift(),series.updateParallelArrays(point,"shift"),dataOptions.shift())),series.isDirty=!0,series.isDirtyData=!0,redraw&&(series.getAttribs(),chart.redraw())},remove:function(redraw,animation){var series=this,chart=series.chart;redraw=pick(redraw,!0),series.isRemoving||(series.isRemoving=!0,fireEvent(series,"remove",null,function(){series.destroy(),chart.isDirtyLegend=chart.isDirtyBox=!0,chart.linkSeries(),redraw&&chart.redraw(animation)})),series.isRemoving=!1},update:function(newOptions,redraw){var n,series=this,chart=this.chart,oldOptions=this.userOptions,oldType=this.type,proto=seriesTypes[oldType].prototype,preserve=["group","markerGroup","dataLabelsGroup"];each(preserve,function(prop){preserve[prop]=series[prop],delete series[prop]}),newOptions=merge(oldOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},newOptions),this.remove(!1);for(n in proto)proto.hasOwnProperty(n)&&(this[n]=UNDEFINED);extend(this,seriesTypes[newOptions.type||oldType].prototype),each(preserve,function(prop){series[prop]=preserve[prop]}),this.init(chart,newOptions),chart.linkSeries(),pick(redraw,!0)&&chart.redraw(!1)}}),extend(Axis.prototype,{update:function(newOptions,redraw){var chart=this.chart;newOptions=chart.options[this.coll][this.options.index]=merge(this.userOptions,newOptions),this.destroy(!0),this._addedPlotLB=UNDEFINED,this.init(chart,extend(newOptions,{events:UNDEFINED})),chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},remove:function(redraw){for(var chart=this.chart,key=this.coll,axisSeries=this.series,i=axisSeries.length;i--;)axisSeries[i]&&axisSeries[i].remove(!1);erase(chart.axes,this),erase(chart[key],this),chart.options[key].splice(this.options.index,1),each(chart[key],function(axis,i){axis.options.index=i}),this.destroy(),chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},setTitle:function(newTitleOptions,redraw){this.update({title:newTitleOptions},redraw)},setCategories:function(categories,redraw){this.update({categories:categories},redraw)}});var LineSeries=extendClass(Series);seriesTypes.line=LineSeries,defaultPlotOptions.area=merge(defaultSeriesOptions,{threshold:0});var AreaSeries=extendClass(Series,{type:"area",getSegments:function(){var plotX,plotY,i,x,series=this,segments=[],segment=[],keys=[],xAxis=this.xAxis,yAxis=this.yAxis,stack=yAxis.stacks[this.stackKey],pointMap={},points=this.points,connectNulls=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<points.length;i++)pointMap[points[i].x]=points[i];for(x in stack)null!==stack[x].total&&keys.push(+x);keys.sort(function(a,b){return a-b}),each(keys,function(x){var stackPoint,y=0;if(!connectNulls||pointMap[x]&&null!==pointMap[x].y)if(pointMap[x])segment.push(pointMap[x]);else{for(i=series.index;i<=yAxis.series.length;i++)if(stackPoint=stack[x].points[i+","+x]){y=stackPoint[1];break}plotX=xAxis.translate(x),plotY=yAxis.toPixels(y,!0),segment.push({y:null,plotX:plotX,clientX:plotX,plotY:plotY,yBottom:plotY,onMouseOver:noop})}}),segment.length&&segments.push(segment)}else Series.prototype.getSegments.call(this),segments=this.segments;this.segments=segments},getSegmentPath:function(segment){var i,yBottom,segmentPath=Series.prototype.getSegmentPath.call(this,segment),areaSegmentPath=[].concat(segmentPath),options=this.options,segLength=segmentPath.length,translatedThreshold=this.yAxis.getThreshold(options.threshold);if(3===segLength&&areaSegmentPath.push(L,segmentPath[1],segmentPath[2]),options.stacking&&!this.closedStacks)for(i=segment.length-1;i>=0;i--)yBottom=pick(segment[i].yBottom,translatedThreshold),i<segment.length-1&&options.step&&areaSegmentPath.push(segment[i+1].plotX,yBottom),areaSegmentPath.push(segment[i].plotX,yBottom);else this.closeSegment(areaSegmentPath,segment,translatedThreshold);return this.areaPath=this.areaPath.concat(areaSegmentPath),segmentPath},closeSegment:function(path,segment,translatedThreshold){path.push(L,segment[segment.length-1].plotX,translatedThreshold,L,segment[0].plotX,translatedThreshold)},drawGraph:function(){this.areaPath=[],Series.prototype.drawGraph.apply(this);var series=this,areaPath=this.areaPath,options=this.options,negativeColor=options.negativeColor,negativeFillColor=options.negativeFillColor,props=[["area",this.color,options.fillColor]];(negativeColor||negativeFillColor)&&props.push(["areaNeg",negativeColor,negativeFillColor]),each(props,function(prop){var areaKey=prop[0],area=series[areaKey];area?area.animate({d:areaPath}):series[areaKey]=series.chart.renderer.path(areaPath).attr({fill:pick(prop[2],Color(prop[1]).setOpacity(pick(options.fillOpacity,.75)).get()),zIndex:0}).add(series.group)})},drawLegendSymbol:LegendSymbolMixin.drawRectangle});seriesTypes.area=AreaSeries,defaultPlotOptions.column=merge(defaultSeriesOptions,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,
pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var ColumnSeries=extendClass(Series,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Series.prototype.init.apply(this,arguments);var series=this,chart=series.chart;chart.hasRendered&&each(chart.series,function(otherSeries){otherSeries.type===series.type&&(otherSeries.isDirty=!0)})},getColumnMetrics:function(){var stackKey,columnIndex,series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,reversedXAxis=xAxis.reversed,stackGroups={},columnCount=0;options.grouping===!1?columnCount=1:each(series.chart.series,function(otherSeries){var otherOptions=otherSeries.options,otherYAxis=otherSeries.yAxis;otherSeries.type===series.type&&otherSeries.visible&&yAxis.len===otherYAxis.len&&yAxis.pos===otherYAxis.pos&&(otherOptions.stacking?(stackKey=otherSeries.stackKey,stackGroups[stackKey]===UNDEFINED&&(stackGroups[stackKey]=columnCount++),columnIndex=stackGroups[stackKey]):otherOptions.grouping!==!1&&(columnIndex=columnCount++),otherSeries.columnIndex=columnIndex)});var categoryWidth=mathMin(mathAbs(xAxis.transA)*(xAxis.ordinalSlope||options.pointRange||xAxis.closestPointRange||xAxis.tickInterval||1),xAxis.len),groupPadding=categoryWidth*options.groupPadding,groupWidth=categoryWidth-2*groupPadding,pointOffsetWidth=groupWidth/columnCount,optionPointWidth=options.pointWidth,pointPadding=defined(optionPointWidth)?(pointOffsetWidth-optionPointWidth)/2:pointOffsetWidth*options.pointPadding,pointWidth=pick(optionPointWidth,pointOffsetWidth-2*pointPadding),colIndex=(reversedXAxis?columnCount-(series.columnIndex||0):series.columnIndex)||0,pointXOffset=pointPadding+(groupPadding+colIndex*pointOffsetWidth-categoryWidth/2)*(reversedXAxis?-1:1);return series.columnMetrics={width:pointWidth,offset:pointXOffset}},translate:function(){var series=this,chart=series.chart,options=series.options,borderWidth=series.borderWidth=pick(options.borderWidth,series.activePointCount>.5*series.xAxis.len?0:1),yAxis=series.yAxis,threshold=options.threshold,translatedThreshold=series.translatedThreshold=yAxis.getThreshold(threshold),minPointLength=pick(options.minPointLength,5),metrics=series.getColumnMetrics(),pointWidth=metrics.width,seriesBarW=series.barW=mathMax(pointWidth,1+2*borderWidth),pointXOffset=series.pointXOffset=metrics.offset,xCrisp=-(borderWidth%2?.5:0),yCrisp=borderWidth%2?.5:1;chart.renderer.isVML&&chart.inverted&&(yCrisp+=1),options.pointPadding&&(seriesBarW=mathCeil(seriesBarW)),Series.prototype.translate.apply(series),each(series.points,function(point){var right,bottom,fromTop,yBottom=pick(point.yBottom,translatedThreshold),plotY=mathMin(mathMax(-999-yBottom,point.plotY),yAxis.len+999+yBottom),barX=point.plotX+pointXOffset,barW=seriesBarW,barY=mathMin(plotY,yBottom),barH=mathMax(plotY,yBottom)-barY;mathAbs(barH)<minPointLength&&minPointLength&&(barH=minPointLength,barY=mathRound(mathAbs(barY-translatedThreshold)>minPointLength?yBottom-minPointLength:translatedThreshold-(yAxis.translate(point.y,0,1,0,1)<=translatedThreshold?minPointLength:0))),point.barX=barX,point.pointWidth=pointWidth,point.tooltipPos=chart.inverted?[yAxis.len-plotY,series.xAxis.len-barX-barW/2]:[barX+barW/2,plotY+yAxis.pos-chart.plotTop],right=mathRound(barX+barW)+xCrisp,barX=mathRound(barX)+xCrisp,barW=right-barX,fromTop=mathAbs(barY)<.5,bottom=mathRound(barY+barH)+yCrisp,barY=mathRound(barY)+yCrisp,barH=bottom-barY,fromTop&&(barY-=1,barH+=1),point.shapeType="rect",point.shapeArgs={x:barX,y:barY,width:barW,height:barH}})},getSymbol:noop,drawLegendSymbol:LegendSymbolMixin.drawRectangle,drawGraph:noop,drawPoints:function(){var shapeArgs,pointAttr,series=this,chart=this.chart,options=series.options,renderer=chart.renderer,animationLimit=options.animationLimit||250;each(series.points,function(point){var borderAttr,plotY=point.plotY,graphic=point.graphic;plotY===UNDEFINED||isNaN(plotY)||null===point.y?graphic&&(point.graphic=graphic.destroy()):(shapeArgs=point.shapeArgs,borderAttr=defined(series.borderWidth)?{"stroke-width":series.borderWidth}:{},pointAttr=point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]||series.pointAttr[NORMAL_STATE],graphic?(stop(graphic),graphic.attr(borderAttr)[chart.pointCount<animationLimit?"animate":"attr"](merge(shapeArgs))):point.graphic=graphic=renderer[point.shapeType](shapeArgs).attr(pointAttr).attr(borderAttr).add(series.group).shadow(options.shadow,null,options.stacking&&!options.borderRadius))})},animate:function(init){var translatedThreshold,series=this,yAxis=this.yAxis,options=series.options,inverted=this.chart.inverted,attr={};hasSVG&&(init?(attr.scaleY=.001,translatedThreshold=mathMin(yAxis.pos+yAxis.len,mathMax(yAxis.pos,yAxis.toPixels(options.threshold))),inverted?attr.translateX=translatedThreshold-yAxis.len:attr.translateY=translatedThreshold,series.group.attr(attr)):(attr.scaleY=1,attr[inverted?"translateX":"translateY"]=yAxis.pos,series.group.animate(attr,series.options.animation),series.animate=null))},remove:function(){var series=this,chart=series.chart;chart.hasRendered&&each(chart.series,function(otherSeries){otherSeries.type===series.type&&(otherSeries.isDirty=!0)}),Series.prototype.remove.apply(series,arguments)}});seriesTypes.column=ColumnSeries,defaultPlotOptions.bar=merge(defaultPlotOptions.column);var BarSeries=extendClass(ColumnSeries,{type:"bar",inverted:!0});seriesTypes.bar=BarSeries,defaultPlotOptions.scatter=merge(defaultSeriesOptions,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});var ScatterSeries=extendClass(Series,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Series.prototype.drawGraph.call(this)}});seriesTypes.scatter=ScatterSeries,defaultPlotOptions.pie=merge(defaultSeriesOptions,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var PiePoint=extendClass(Point,{init:function(){Point.prototype.init.apply(this,arguments);var toggleSlice,point=this;return point.y<0&&(point.y=null),extend(point,{visible:point.visible!==!1,name:pick(point.name,"Slice")}),toggleSlice=function(e){point.slice("select"===e.type)},addEvent(point,"select",toggleSlice),addEvent(point,"unselect",toggleSlice),point},setVisible:function(vis){var point=this,series=point.series,chart=series.chart;point.visible=point.options.visible=vis=vis===UNDEFINED?!point.visible:vis,series.options.data[inArray(point,series.data)]=point.options,each(["graphic","dataLabel","connector","shadowGroup"],function(key){point[key]&&point[key][vis?"show":"hide"](!0)}),point.legendItem&&chart.legend.colorizeItem(point,vis),!series.isDirty&&series.options.ignoreHiddenPoint&&(series.isDirty=!0,chart.redraw())},slice:function(sliced,redraw,animation){var translation,point=this,series=point.series,chart=series.chart;setAnimation(animation,chart),redraw=pick(redraw,!0),point.sliced=point.options.sliced=sliced=defined(sliced)?sliced:!point.sliced,series.options.data[inArray(point,series.data)]=point.options,translation=sliced?point.slicedTranslation:{translateX:0,translateY:0},point.graphic.animate(translation),point.shadowGroup&&point.shadowGroup.animate(translation)},haloPath:function(size){var shapeArgs=this.shapeArgs,chart=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(chart.plotLeft+shapeArgs.x,chart.plotTop+shapeArgs.y,shapeArgs.r+size,shapeArgs.r+size,{innerR:this.shapeArgs.r,start:shapeArgs.start,end:shapeArgs.end})}}),PieSeries={type:"pie",isCartesian:!1,pointClass:PiePoint,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:noop,animate:function(init){var series=this,points=series.points,startAngleRad=series.startAngleRad;init||(each(points,function(point){var graphic=point.graphic,args=point.shapeArgs;graphic&&(graphic.attr({r:series.center[3]/2,start:startAngleRad,end:startAngleRad}),graphic.animate({r:args.r,start:args.start,end:args.end},series.options.animation))}),series.animate=null)},setData:function(data,redraw,animation,updatePoints){Series.prototype.setData.call(this,data,!1,animation,updatePoints),this.processData(),this.generatePoints(),pick(redraw,!0)&&this.chart.redraw(animation)},generatePoints:function(){var i,points,len,point,total=0,ignoreHiddenPoint=this.options.ignoreHiddenPoint;for(Series.prototype.generatePoints.call(this),points=this.points,len=points.length,i=0;i<len;i++)point=points[i],total+=ignoreHiddenPoint&&!point.visible?0:point.y;for(this.total=total,i=0;i<len;i++)point=points[i],point.percentage=total>0?point.y/total*100:0,point.total=total},translate:function(positions){this.generatePoints();var start,end,angle,radiusX,radiusY,i,point,series=this,cumulative=0,precision=1e3,options=series.options,slicedOffset=options.slicedOffset,connectorOffset=slicedOffset+options.borderWidth,startAngle=options.startAngle||0,startAngleRad=series.startAngleRad=mathPI/180*(startAngle-90),endAngleRad=series.endAngleRad=mathPI/180*(pick(options.endAngle,startAngle+360)-90),circ=endAngleRad-startAngleRad,points=series.points,labelDistance=options.dataLabels.distance,ignoreHiddenPoint=options.ignoreHiddenPoint,len=points.length;for(positions||(series.center=positions=series.getCenter()),series.getX=function(y,left){return angle=math.asin(mathMin((y-positions[1])/(positions[2]/2+labelDistance),1)),positions[0]+(left?-1:1)*(mathCos(angle)*(positions[2]/2+labelDistance))},i=0;i<len;i++)point=points[i],start=startAngleRad+cumulative*circ,ignoreHiddenPoint&&!point.visible||(cumulative+=point.percentage/100),end=startAngleRad+cumulative*circ,point.shapeType="arc",point.shapeArgs={x:positions[0],y:positions[1],r:positions[2]/2,innerR:positions[3]/2,start:mathRound(start*precision)/precision,end:mathRound(end*precision)/precision},angle=(end+start)/2,angle>1.5*mathPI?angle-=2*mathPI:angle<-mathPI/2&&(angle+=2*mathPI),point.slicedTranslation={translateX:mathRound(mathCos(angle)*slicedOffset),translateY:mathRound(mathSin(angle)*slicedOffset)},radiusX=mathCos(angle)*positions[2]/2,radiusY=mathSin(angle)*positions[2]/2,point.tooltipPos=[positions[0]+.7*radiusX,positions[1]+.7*radiusY],point.half=angle<-mathPI/2||angle>mathPI/2?1:0,point.angle=angle,connectorOffset=mathMin(connectorOffset,labelDistance/2),point.labelPos=[positions[0]+radiusX+mathCos(angle)*labelDistance,positions[1]+radiusY+mathSin(angle)*labelDistance,positions[0]+radiusX+mathCos(angle)*connectorOffset,positions[1]+radiusY+mathSin(angle)*connectorOffset,positions[0]+radiusX,positions[1]+radiusY,labelDistance<0?"center":point.half?"right":"left",angle]},drawGraph:null,drawPoints:function(){var groupTranslation,graphic,shadowGroup,shapeArgs,series=this,chart=series.chart,renderer=chart.renderer,shadow=series.options.shadow;shadow&&!series.shadowGroup&&(series.shadowGroup=renderer.g("shadow").add(series.group)),each(series.points,function(point){graphic=point.graphic,shapeArgs=point.shapeArgs,shadowGroup=point.shadowGroup,shadow&&!shadowGroup&&(shadowGroup=point.shadowGroup=renderer.g("shadow").add(series.shadowGroup)),groupTranslation=point.sliced?point.slicedTranslation:{translateX:0,translateY:0},shadowGroup&&shadowGroup.attr(groupTranslation),graphic?graphic.animate(extend(shapeArgs,groupTranslation)):point.graphic=graphic=renderer[point.shapeType](shapeArgs).setRadialReference(series.center).attr(point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]).attr({"stroke-linejoin":"round"}).attr(groupTranslation).add(series.group).shadow(shadow,shadowGroup),void 0!==point.visible&&point.setVisible(point.visible)})},sortByAngle:function(points,sign){points.sort(function(a,b){return void 0!==a.angle&&(b.angle-a.angle)*sign})},drawLegendSymbol:LegendSymbolMixin.drawRectangle,getCenter:CenteredSeriesMixin.getCenter,getSymbol:noop};PieSeries=extendClass(Series,PieSeries),seriesTypes.pie=PieSeries,Series.prototype.drawDataLabels=function(){var pointOptions,generalOptions,str,dataLabelsGroup,series=this,seriesOptions=series.options,cursor=seriesOptions.cursor,options=seriesOptions.dataLabels,points=series.points,hasRendered=series.hasRendered||0;(options.enabled||series._hasPointLabels)&&(series.dlProcessOptions&&series.dlProcessOptions(options),dataLabelsGroup=series.plotGroup("dataLabelsGroup","data-labels",options.defer?HIDDEN:VISIBLE,options.zIndex||6),pick(options.defer,!0)&&(dataLabelsGroup.attr({opacity:+hasRendered}),hasRendered||addEvent(series,"afterAnimate",function(){series.visible&&dataLabelsGroup.show(),dataLabelsGroup[seriesOptions.animation?"animate":"attr"]({opacity:1},{duration:200})})),generalOptions=options,each(points,function(point){var enabled,labelConfig,attr,name,rotation,dataLabel=point.dataLabel,connector=point.connector,isNew=!0;if(pointOptions=point.options&&point.options.dataLabels,enabled=pick(pointOptions&&pointOptions.enabled,generalOptions.enabled),dataLabel&&!enabled)point.dataLabel=dataLabel.destroy();else if(enabled){if(options=merge(generalOptions,pointOptions),rotation=options.rotation,labelConfig=point.getLabelConfig(),str=options.format?format(options.format,labelConfig):options.formatter.call(labelConfig,options),options.style.color=pick(options.color,options.style.color,series.color,"black"),dataLabel)defined(str)?(dataLabel.attr({text:str}),isNew=!1):(point.dataLabel=dataLabel=dataLabel.destroy(),connector&&(point.connector=connector.destroy()));else if(defined(str)){attr={fill:options.backgroundColor,stroke:options.borderColor,"stroke-width":options.borderWidth,r:options.borderRadius||0,rotation:rotation,padding:options.padding,zIndex:1};for(name in attr)attr[name]===UNDEFINED&&delete attr[name];dataLabel=point.dataLabel=series.chart.renderer[rotation?"text":"label"](str,0,-999,null,null,null,options.useHTML).attr(attr).css(extend(options.style,cursor&&{cursor:cursor})).add(dataLabelsGroup).shadow(options.shadow)}dataLabel&&series.alignDataLabel(point,dataLabel,options,null,isNew)}}))},Series.prototype.alignDataLabel=function(point,dataLabel,options,alignTo,isNew){var alignAttr,chart=this.chart,inverted=chart.inverted,plotX=pick(point.plotX,-999),plotY=pick(point.plotY,-999),bBox=dataLabel.getBBox(),visible=this.visible&&(point.series.forceDL||chart.isInsidePlot(plotX,mathRound(plotY),inverted)||alignTo&&chart.isInsidePlot(plotX,inverted?alignTo.x+1:alignTo.y+alignTo.height-1,inverted));visible&&(alignTo=extend({x:inverted?chart.plotWidth-plotY:plotX,y:mathRound(inverted?chart.plotHeight-plotX:plotY),width:0,height:0},alignTo),extend(options,{width:bBox.width,height:bBox.height}),options.rotation?dataLabel[isNew?"attr":"animate"]({x:alignTo.x+options.x+alignTo.width/2,y:alignTo.y+options.y+alignTo.height/2}).attr({align:options.align}):(dataLabel.align(options,null,alignTo),alignAttr=dataLabel.alignAttr,"justify"===pick(options.overflow,"justify")?this.justifyDataLabel(dataLabel,options,alignAttr,bBox,alignTo,isNew):pick(options.crop,!0)&&(visible=chart.isInsidePlot(alignAttr.x,alignAttr.y)&&chart.isInsidePlot(alignAttr.x+bBox.width,alignAttr.y+bBox.height)))),visible||(dataLabel.attr({y:-999}),dataLabel.placed=!1)},Series.prototype.justifyDataLabel=function(dataLabel,options,alignAttr,bBox,alignTo,isNew){var off,justified,chart=this.chart,align=options.align,verticalAlign=options.verticalAlign;off=alignAttr.x,off<0&&("right"===align?options.align="left":options.x=-off,justified=!0),off=alignAttr.x+bBox.width,off>chart.plotWidth&&("left"===align?options.align="right":options.x=chart.plotWidth-off,justified=!0),off=alignAttr.y,off<0&&("bottom"===verticalAlign?options.verticalAlign="top":options.y=-off,justified=!0),off=alignAttr.y+bBox.height,off>chart.plotHeight&&("top"===verticalAlign?options.verticalAlign="bottom":options.y=chart.plotHeight-off,justified=!0),justified&&(dataLabel.placed=!isNew,dataLabel.align(options,null,alignTo))},seriesTypes.pie&&(seriesTypes.pie.prototype.drawDataLabels=function(){var point,connector,connectorPath,dataLabel,dataLabelWidth,labelPos,labelHeight,x,y,visibility,rankArr,i,j,series=this,data=series.data,chart=series.chart,options=series.options.dataLabels,connectorPadding=pick(options.connectorPadding,10),connectorWidth=pick(options.connectorWidth,1),plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,softConnector=pick(options.softConnector,!0),distanceOption=options.distance,seriesCenter=series.center,radius=seriesCenter[2]/2,centerY=seriesCenter[1],outside=distanceOption>0,halves=[[],[]],overflow=[0,0,0,0],sort=function(a,b){return b.y-a.y};if(series.visible&&(options.enabled||series._hasPointLabels)){for(Series.prototype.drawDataLabels.apply(series),each(data,function(point){point.dataLabel&&point.visible&&halves[point.half].push(point)}),i=2;i--;){var slotsLength,pos,bottom,slotIndex,slots=[],usedSlots=[],points=halves[i],length=points.length;if(length){for(series.sortByAngle(points,i-.5),j=labelHeight=0;!labelHeight&&points[j];)labelHeight=points[j]&&points[j].dataLabel&&(points[j].dataLabel.getBBox().height||21),j++;if(distanceOption>0){for(bottom=mathMin(centerY+radius+distanceOption,chart.plotHeight),pos=mathMax(0,centerY-radius-distanceOption);pos<=bottom;pos+=labelHeight)slots.push(pos);if(slotsLength=slots.length,length>slotsLength){for(rankArr=[].concat(points),rankArr.sort(sort),j=length;j--;)rankArr[j].rank=j;for(j=length;j--;)points[j].rank>=slotsLength&&points.splice(j,1);length=points.length}for(j=0;j<length;j++){point=points[j],labelPos=point.labelPos;var distance,slotI,closest=9999;for(slotI=0;slotI<slotsLength;slotI++)distance=mathAbs(slots[slotI]-labelPos[1]),distance<closest&&(closest=distance,slotIndex=slotI);if(slotIndex<j&&null!==slots[j])slotIndex=j;else if(slotsLength<length-j+slotIndex&&null!==slots[j])for(slotIndex=slotsLength-length+j;null===slots[slotIndex];)slotIndex++;else for(;null===slots[slotIndex];)slotIndex++;usedSlots.push({i:slotIndex,y:slots[slotIndex]}),slots[slotIndex]=null}usedSlots.sort(sort)}for(j=0;j<length;j++){var slot,naturalY;point=points[j],labelPos=point.labelPos,dataLabel=point.dataLabel,visibility=point.visible===!1?HIDDEN:VISIBLE,naturalY=labelPos[1],distanceOption>0?(slot=usedSlots.pop(),slotIndex=slot.i,y=slot.y,(naturalY>y&&null!==slots[slotIndex+1]||naturalY<y&&null!==slots[slotIndex-1])&&(y=mathMin(mathMax(0,naturalY),chart.plotHeight))):y=naturalY,x=options.justify?seriesCenter[0]+(i?-1:1)*(radius+distanceOption):series.getX(y===centerY-radius-distanceOption||y===centerY+radius+distanceOption?naturalY:y,i),dataLabel._attr={visibility:visibility,align:labelPos[6]},dataLabel._pos={x:x+options.x+({left:connectorPadding,right:-connectorPadding}[labelPos[6]]||0),y:y+options.y-10},dataLabel.connX=x,dataLabel.connY=y,null===this.options.size&&(dataLabelWidth=dataLabel.width,x-dataLabelWidth<connectorPadding?overflow[3]=mathMax(mathRound(dataLabelWidth-x+connectorPadding),overflow[3]):x+dataLabelWidth>plotWidth-connectorPadding&&(overflow[1]=mathMax(mathRound(x+dataLabelWidth-plotWidth+connectorPadding),overflow[1])),y-labelHeight/2<0?overflow[0]=mathMax(mathRound(-y+labelHeight/2),overflow[0]):y+labelHeight/2>plotHeight&&(overflow[2]=mathMax(mathRound(y+labelHeight/2-plotHeight),overflow[2])))}}}(0===arrayMax(overflow)||this.verifyDataLabelOverflow(overflow))&&(this.placeDataLabels(),outside&&connectorWidth&&each(this.points,function(point){connector=point.connector,labelPos=point.labelPos,dataLabel=point.dataLabel,dataLabel&&dataLabel._pos?(visibility=dataLabel._attr.visibility,x=dataLabel.connX,y=dataLabel.connY,connectorPath=softConnector?[M,x+("left"===labelPos[6]?5:-5),y,"C",x,y,2*labelPos[2]-labelPos[4],2*labelPos[3]-labelPos[5],labelPos[2],labelPos[3],L,labelPos[4],labelPos[5]]:[M,x+("left"===labelPos[6]?5:-5),y,L,labelPos[2],labelPos[3],L,labelPos[4],labelPos[5]],connector?(connector.animate({d:connectorPath}),connector.attr("visibility",visibility)):point.connector=connector=series.chart.renderer.path(connectorPath).attr({"stroke-width":connectorWidth,stroke:options.connectorColor||point.color||"#606060",visibility:visibility}).add(series.dataLabelsGroup)):connector&&(point.connector=connector.destroy())}))}},seriesTypes.pie.prototype.placeDataLabels=function(){each(this.points,function(point){var _pos,dataLabel=point.dataLabel;dataLabel&&(_pos=dataLabel._pos,_pos?(dataLabel.attr(dataLabel._attr),dataLabel[dataLabel.moved?"animate":"attr"](_pos),dataLabel.moved=!0):dataLabel&&dataLabel.attr({y:-999}))})},seriesTypes.pie.prototype.alignDataLabel=noop,seriesTypes.pie.prototype.verifyDataLabelOverflow=function(overflow){var ret,center=this.center,options=this.options,centerOption=options.center,minSize=options.minSize||80,newSize=minSize;return null!==centerOption[0]?newSize=mathMax(center[2]-mathMax(overflow[1],overflow[3]),minSize):(newSize=mathMax(center[2]-overflow[1]-overflow[3],minSize),center[0]+=(overflow[3]-overflow[1])/2),null!==centerOption[1]?newSize=mathMax(mathMin(newSize,center[2]-mathMax(overflow[0],overflow[2])),minSize):(newSize=mathMax(mathMin(newSize,center[2]-overflow[0]-overflow[2]),minSize),center[1]+=(overflow[0]-overflow[2])/2),newSize<center[2]?(center[2]=newSize,this.translate(center),each(this.points,function(point){point.dataLabel&&(point.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):ret=!0,ret}),seriesTypes.column&&(seriesTypes.column.prototype.alignDataLabel=function(point,dataLabel,options,alignTo,isNew){var chart=this.chart,inverted=chart.inverted,dlBox=point.dlBox||point.shapeArgs,below=point.below||point.plotY>pick(this.translatedThreshold,chart.plotSizeY),inside=pick(options.inside,!!this.options.stacking);dlBox&&(alignTo=merge(dlBox),inverted&&(alignTo={x:chart.plotWidth-alignTo.y-alignTo.height,y:chart.plotHeight-alignTo.x-alignTo.width,width:alignTo.height,height:alignTo.width}),inside||(inverted?(alignTo.x+=below?0:alignTo.width,alignTo.width=0):(alignTo.y+=below?alignTo.height:0,alignTo.height=0))),options.align=pick(options.align,!inverted||inside?"center":below?"right":"left"),options.verticalAlign=pick(options.verticalAlign,inverted||inside?"middle":below?"top":"bottom"),Series.prototype.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew)});var TrackerMixin=Highcharts.TrackerMixin={drawTrackerPoint:function(){var series=this,chart=series.chart,pointer=chart.pointer,cursor=series.options.cursor,css=cursor&&{cursor:cursor},onMouseOver=function(e){var point,target=e.target;for(chart.hoverSeries!==series&&series.onMouseOver();target&&!point;)point=target.point,target=target.parentNode;point!==UNDEFINED&&point!==chart.hoverPoint&&point.onMouseOver(e)};each(series.points,function(point){point.graphic&&(point.graphic.element.point=point),point.dataLabel&&(point.dataLabel.element.point=point)}),series._hasTracking||(each(series.trackerGroups,function(key){series[key]&&(series[key].addClass(PREFIX+"tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}).css(css),hasTouch&&series[key].on("touchstart",onMouseOver))}),series._hasTracking=!0)},drawTrackerGraph:function(){var singlePoint,i,series=this,options=series.options,trackByArea=options.trackByArea,trackerPath=[].concat(trackByArea?series.areaPath:series.graphPath),trackerPathLength=trackerPath.length,chart=series.chart,pointer=chart.pointer,renderer=chart.renderer,snap=chart.options.tooltip.snap,tracker=series.tracker,cursor=options.cursor,css=cursor&&{cursor:cursor},singlePoints=series.singlePoints,onMouseOver=function(){chart.hoverSeries!==series&&series.onMouseOver()},TRACKER_FILL="rgba(192,192,192,"+(hasSVG?1e-4:.002)+")";if(trackerPathLength&&!trackByArea)for(i=trackerPathLength+1;i--;)trackerPath[i]===M&&trackerPath.splice(i+1,0,trackerPath[i+1]-snap,trackerPath[i+2],L),(i&&trackerPath[i]===M||i===trackerPathLength)&&trackerPath.splice(i,0,L,trackerPath[i-2]+snap,trackerPath[i-1]);for(i=0;i<singlePoints.length;i++)singlePoint=singlePoints[i],trackerPath.push(M,singlePoint.plotX-snap,singlePoint.plotY,L,singlePoint.plotX+snap,singlePoint.plotY);tracker?tracker.attr({d:trackerPath}):(series.tracker=renderer.path(trackerPath).attr({"stroke-linejoin":"round",visibility:series.visible?VISIBLE:HIDDEN,stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:NONE,"stroke-width":options.lineWidth+(trackByArea?0:2*snap),zIndex:2}).add(series.group),each([series.tracker,series.markerGroup],function(tracker){tracker.addClass(PREFIX+"tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}).css(css),hasTouch&&tracker.on("touchstart",onMouseOver)}))}};seriesTypes.column&&(ColumnSeries.prototype.drawTracker=TrackerMixin.drawTrackerPoint),seriesTypes.pie&&(seriesTypes.pie.prototype.drawTracker=TrackerMixin.drawTrackerPoint),seriesTypes.scatter&&(ScatterSeries.prototype.drawTracker=TrackerMixin.drawTrackerPoint),extend(Legend.prototype,{setItemEvents:function(item,legendItem,useHTML,itemStyle,itemHiddenStyle){var legend=this;(useHTML?legendItem:item.legendGroup).on("mouseover",function(){item.setState(HOVER_STATE),legendItem.css(legend.options.itemHoverStyle)}).on("mouseout",function(){legendItem.css(item.visible?itemStyle:itemHiddenStyle),item.setState()}).on("click",function(event){var strLegendItemClick="legendItemClick",fnLegendItemClick=function(){item.setVisible()};event={browserEvent:event},item.firePointEvent?item.firePointEvent(strLegendItemClick,event,fnLegendItemClick):fireEvent(item,strLegendItemClick,event,fnLegendItemClick)})},createCheckboxForItem:function(item){var legend=this;item.checkbox=createElement("input",{type:"checkbox",checked:item.selected,defaultChecked:item.selected},legend.options.itemCheckboxStyle,legend.chart.container),addEvent(item.checkbox,"click",function(event){var target=event.target;fireEvent(item,"checkboxClick",{checked:target.checked},function(){item.select()})})}}),defaultOptions.legend.itemStyle.cursor="pointer",extend(Chart.prototype,{showResetZoom:function(){var chart=this,lang=defaultOptions.lang,btnOptions=chart.options.chart.resetZoomButton,theme=btnOptions.theme,states=theme.states,alignTo="chart"===btnOptions.relativeTo?null:"plotBox";this.resetZoomButton=chart.renderer.button(lang.resetZoom,null,null,function(){chart.zoomOut()},theme,states&&states.hover).attr({align:btnOptions.position.align,title:lang.resetZoomTitle}).add().align(btnOptions.position,!1,alignTo)},zoomOut:function(){var chart=this;fireEvent(chart,"selection",{resetSelection:!0},function(){chart.zoom()})},zoom:function(event){var hasZoomed,resetZoomButton,chart=this,pointer=chart.pointer,displayButton=!1;!event||event.resetSelection?each(chart.axes,function(axis){hasZoomed=axis.zoom()}):each(event.xAxis.concat(event.yAxis),function(axisData){var axis=axisData.axis,isXAxis=axis.isXAxis;(pointer[isXAxis?"zoomX":"zoomY"]||pointer[isXAxis?"pinchX":"pinchY"])&&(hasZoomed=axis.zoom(axisData.min,axisData.max),axis.displayBtn&&(displayButton=!0))}),resetZoomButton=chart.resetZoomButton,displayButton&&!resetZoomButton?chart.showResetZoom():!displayButton&&isObject(resetZoomButton)&&(chart.resetZoomButton=resetZoomButton.destroy()),hasZoomed&&chart.redraw(pick(chart.options.chart.animation,event&&event.animation,chart.pointCount<100))},pan:function(e,panning){var doRedraw,chart=this,hoverPoints=chart.hoverPoints;hoverPoints&&each(hoverPoints,function(point){point.setState()}),each("xy"===panning?[1,0]:[1],function(isX){var mousePos=e[isX?"chartX":"chartY"],axis=chart[isX?"xAxis":"yAxis"][0],startPos=chart[isX?"mouseDownX":"mouseDownY"],halfPointRange=(axis.pointRange||0)/2,extremes=axis.getExtremes(),newMin=axis.toValue(startPos-mousePos,!0)+halfPointRange,newMax=axis.toValue(startPos+chart[isX?"plotWidth":"plotHeight"]-mousePos,!0)-halfPointRange;axis.series.length&&newMin>mathMin(extremes.dataMin,extremes.min)&&newMax<mathMax(extremes.dataMax,extremes.max)&&(axis.setExtremes(newMin,newMax,!1,!1,{trigger:"pan"}),doRedraw=!0),chart[isX?"mouseDownX":"mouseDownY"]=mousePos}),doRedraw&&chart.redraw(!1),css(chart.container,{cursor:"move"})}}),extend(Point.prototype,{select:function(selected,accumulate){var point=this,series=point.series,chart=series.chart;selected=pick(selected,!point.selected),point.firePointEvent(selected?"select":"unselect",{accumulate:accumulate},function(){point.selected=point.options.selected=selected,series.options.data[inArray(point,series.data)]=point.options,point.setState(selected&&SELECT_STATE),accumulate||each(chart.getSelectedPoints(),function(loopPoint){loopPoint.selected&&loopPoint!==point&&(loopPoint.selected=loopPoint.options.selected=!1,series.options.data[inArray(loopPoint,series.data)]=loopPoint.options,loopPoint.setState(NORMAL_STATE),loopPoint.firePointEvent("unselect"))})})},onMouseOver:function(e){var point=this,series=point.series,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;hoverPoint&&hoverPoint!==point&&hoverPoint.onMouseOut(),point.firePointEvent("mouseOver"),!tooltip||tooltip.shared&&!series.noSharedTooltip||tooltip.refresh(point,e),point.setState(HOVER_STATE),chart.hoverPoint=point},onMouseOut:function(){var chart=this.series.chart,hoverPoints=chart.hoverPoints;this.firePointEvent("mouseOut"),hoverPoints&&inArray(this,hoverPoints)!==-1||(this.setState(),chart.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var eventType,point=this,options=merge(point.series.options.point,point.options),events=options.events;point.events=events;for(eventType in events)addEvent(point,eventType,events[eventType]);this.hasImportedEvents=!0}},setState:function(state,move){var radius,haloOptions,newSymbol,pointAttr,point=this,plotX=point.plotX,plotY=point.plotY,series=point.series,stateOptions=series.options.states,markerOptions=defaultPlotOptions[series.type].marker&&series.options.marker,normalDisabled=markerOptions&&!markerOptions.enabled,markerStateOptions=markerOptions&&markerOptions.states[state],stateDisabled=markerStateOptions&&markerStateOptions.enabled===!1,stateMarkerGraphic=series.stateMarkerGraphic,pointMarker=point.marker||{},chart=series.chart,halo=series.halo;state=state||NORMAL_STATE,pointAttr=point.pointAttr[state]||series.pointAttr[state],state===point.state&&!move||point.selected&&state!==SELECT_STATE||stateOptions[state]&&stateOptions[state].enabled===!1||state&&(stateDisabled||normalDisabled&&markerStateOptions.enabled===!1)||state&&pointMarker.states&&pointMarker.states[state]&&pointMarker.states[state].enabled===!1||(point.graphic?(radius=markerOptions&&point.graphic.symbolName&&pointAttr.r,point.graphic.attr(merge(pointAttr,radius?{x:plotX-radius,y:plotY-radius,width:2*radius,height:2*radius}:{})),stateMarkerGraphic&&stateMarkerGraphic.hide()):(state&&markerStateOptions&&(radius=markerStateOptions.radius,newSymbol=pointMarker.symbol||series.symbol,stateMarkerGraphic&&stateMarkerGraphic.currentSymbol!==newSymbol&&(stateMarkerGraphic=stateMarkerGraphic.destroy()),stateMarkerGraphic?stateMarkerGraphic[move?"animate":"attr"]({x:plotX-radius,y:plotY-radius}):newSymbol&&(series.stateMarkerGraphic=stateMarkerGraphic=chart.renderer.symbol(newSymbol,plotX-radius,plotY-radius,2*radius,2*radius).attr(pointAttr).add(series.markerGroup),stateMarkerGraphic.currentSymbol=newSymbol)),stateMarkerGraphic&&stateMarkerGraphic[state&&chart.isInsidePlot(plotX,plotY,chart.inverted)?"show":"hide"]()),
haloOptions=stateOptions[state]&&stateOptions[state].halo,haloOptions&&haloOptions.size?(halo||(series.halo=halo=chart.renderer.path().add(series.seriesGroup)),halo.attr(extend({fill:Color(point.color||series.color).setOpacity(haloOptions.opacity).get()},haloOptions.attributes))[move?"animate":"attr"]({d:point.haloPath(haloOptions.size)})):halo&&halo.attr({d:[]}),point.state=state)},haloPath:function(size){var series=this.series,chart=series.chart,plotBox=series.getPlotBox(),inverted=chart.inverted;return chart.renderer.symbols.circle(plotBox.translateX+(inverted?series.yAxis.len-this.plotY:this.plotX)-size,plotBox.translateY+(inverted?series.xAxis.len-this.plotX:this.plotY)-size,2*size,2*size)}}),extend(Series.prototype,{onMouseOver:function(){var series=this,chart=series.chart,hoverSeries=chart.hoverSeries;hoverSeries&&hoverSeries!==series&&hoverSeries.onMouseOut(),series.options.events.mouseOver&&fireEvent(series,"mouseOver"),series.setState(HOVER_STATE),chart.hoverSeries=series},onMouseOut:function(){var series=this,options=series.options,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;hoverPoint&&hoverPoint.onMouseOut(),series&&options.events.mouseOut&&fireEvent(series,"mouseOut"),!tooltip||options.stickyTracking||tooltip.shared&&!series.noSharedTooltip||tooltip.hide(),series.setState(),chart.hoverSeries=null},setState:function(state){var attribs,series=this,options=series.options,graph=series.graph,graphNeg=series.graphNeg,stateOptions=options.states,lineWidth=options.lineWidth;if(state=state||NORMAL_STATE,series.state!==state){if(series.state=state,stateOptions[state]&&stateOptions[state].enabled===!1)return;state&&(lineWidth=stateOptions[state].lineWidth||lineWidth+(stateOptions[state].lineWidthPlus||0)),graph&&!graph.dashstyle&&(attribs={"stroke-width":lineWidth},graph.attr(attribs),graphNeg&&graphNeg.attr(attribs))}},setVisible:function(vis,redraw){var showOrHide,series=this,chart=series.chart,legendItem=series.legendItem,ignoreHiddenSeries=chart.options.chart.ignoreHiddenSeries,oldVisibility=series.visible;series.visible=vis=series.userOptions.visible=vis===UNDEFINED?!oldVisibility:vis,showOrHide=vis?"show":"hide",each(["group","dataLabelsGroup","markerGroup","tracker"],function(key){series[key]&&series[key][showOrHide]()}),chart.hoverSeries===series&&series.onMouseOut(),legendItem&&chart.legend.colorizeItem(series,vis),series.isDirty=!0,series.options.stacking&&each(chart.series,function(otherSeries){otherSeries.options.stacking&&otherSeries.visible&&(otherSeries.isDirty=!0)}),each(series.linkedSeries,function(otherSeries){otherSeries.setVisible(vis,!1)}),ignoreHiddenSeries&&(chart.isDirtyBox=!0),redraw!==!1&&chart.redraw(),fireEvent(series,showOrHide)},setTooltipPoints:function(renew){var pointsLength,low,high,point,pointX,nextPoint,i,series=this,points=[],xAxis=series.xAxis,xExtremes=xAxis&&xAxis.getExtremes(),axisLength=xAxis?xAxis.tooltipLen||xAxis.len:series.chart.plotSizeX,tooltipPoints=[];if(series.options.enableMouseTracking!==!1&&!series.singularTooltips){for(renew&&(series.tooltipPoints=null),each(series.segments||series.points,function(segment){points=points.concat(segment)}),xAxis&&xAxis.reversed&&(points=points.reverse()),series.orderTooltipPoints&&series.orderTooltipPoints(points),pointsLength=points.length,i=0;i<pointsLength;i++)if(point=points[i],pointX=point.x,pointX>=xExtremes.min&&pointX<=xExtremes.max)for(nextPoint=points[i+1],low=high===UNDEFINED?0:high+1,high=points[i+1]?mathMin(mathMax(0,mathFloor((point.clientX+(nextPoint?nextPoint.wrappedClientX||nextPoint.clientX:axisLength))/2)),axisLength):axisLength;low>=0&&low<=high;)tooltipPoints[low++]=point;series.tooltipPoints=tooltipPoints}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(selected){var series=this;series.selected=selected=selected===UNDEFINED?!series.selected:selected,series.checkbox&&(series.checkbox.checked=selected),fireEvent(series,selected?"select":"unselect")},drawTracker:TrackerMixin.drawTrackerGraph}),defaultPlotOptions.bubble=merge(defaultPlotOptions.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0});var BubblePoint=extendClass(Point,{haloPath:function(){return Point.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)}});seriesTypes.bubble=extendClass(seriesTypes.scatter,{type:"bubble",pointClass:BubblePoint,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(fill){var markerOptions=this.options.marker,fillOpacity=pick(markerOptions.fillOpacity,.5);return fill=fill||markerOptions.fillColor||this.color,1!==fillOpacity&&(fill=Color(fill).setOpacity(fillOpacity).get("rgba")),fill},convertAttribs:function(){var obj=Series.prototype.convertAttribs.apply(this,arguments);return obj.fill=this.applyOpacity(obj.fill),obj},getRadii:function(zMin,zMax,minSize,maxSize){var len,i,pos,zRange,zData=this.zData,radii=[],sizeByArea="width"!==this.options.sizeBy;for(i=0,len=zData.length;i<len;i++)zRange=zMax-zMin,pos=zRange>0?(zData[i]-zMin)/(zMax-zMin):.5,sizeByArea&&pos>=0&&(pos=Math.sqrt(pos)),radii.push(math.ceil(minSize+pos*(maxSize-minSize))/2);this.radii=radii},animate:function(init){var animation=this.options.animation;init||(each(this.points,function(point){var graphic=point.graphic,shapeArgs=point.shapeArgs;graphic&&shapeArgs&&(graphic.attr("r",1),graphic.animate({r:shapeArgs.r},animation))}),this.animate=null)},translate:function(){var i,point,radius,data=this.data,radii=this.radii;for(seriesTypes.scatter.prototype.translate.call(this),i=data.length;i--;)point=data[i],radius=radii?radii[i]:0,point.negative=point.z<(this.options.zThreshold||0),radius>=this.minPxSize/2?(point.shapeType="circle",point.shapeArgs={x:point.plotX,y:point.plotY,r:radius},point.dlBox={x:point.plotX-radius,y:point.plotY-radius,width:2*radius,height:2*radius}):point.shapeArgs=point.plotY=point.dlBox=UNDEFINED},drawLegendSymbol:function(legend,item){var radius=pInt(legend.itemStyle.fontSize)/2;item.legendSymbol=this.chart.renderer.circle(radius,legend.baseline-radius,radius).attr({zIndex:3}).add(item.legendGroup),item.legendSymbol.isMarker=!0},drawPoints:seriesTypes.column.prototype.drawPoints,alignDataLabel:seriesTypes.column.prototype.alignDataLabel}),Axis.prototype.beforePadding=function(){var axis=this,axisLength=this.len,chart=this.chart,pxMin=0,pxMax=axisLength,isXAxis=this.isXAxis,dataKey=isXAxis?"xData":"yData",min=this.min,extremes={},smallestSize=math.min(chart.plotWidth,chart.plotHeight),zMin=Number.MAX_VALUE,zMax=-Number.MAX_VALUE,range=this.max-min,transA=axisLength/range,activeSeries=[];this.tickPositions&&(each(this.series,function(series){var zData,seriesOptions=series.options;!series.bubblePadding||!series.visible&&chart.options.chart.ignoreHiddenSeries||(axis.allowZoomOutside=!0,activeSeries.push(series),isXAxis&&(each(["minSize","maxSize"],function(prop){var length=seriesOptions[prop],isPercent=/%$/.test(length);length=pInt(length),extremes[prop]=isPercent?smallestSize*length/100:length}),series.minPxSize=extremes.minSize,zData=series.zData,zData.length&&(zMin=pick(seriesOptions.zMin,math.min(zMin,math.max(arrayMin(zData),seriesOptions.displayNegative===!1?seriesOptions.zThreshold:-Number.MAX_VALUE))),zMax=pick(seriesOptions.zMax,math.max(zMax,arrayMax(zData))))))}),each(activeSeries,function(series){var radius,data=series[dataKey],i=data.length;if(isXAxis&&series.getRadii(zMin,zMax,extremes.minSize,extremes.maxSize),range>0)for(;i--;)"number"==typeof data[i]&&(radius=series.radii[i],pxMin=Math.min((data[i]-min)*transA-radius,pxMin),pxMax=Math.max((data[i]-min)*transA+radius,pxMax))}),activeSeries.length&&range>0&&pick(this.options.min,this.userMin)===UNDEFINED&&pick(this.options.max,this.userMax)===UNDEFINED&&(pxMax-=axisLength,transA*=(axisLength+pxMin-pxMax)/axisLength,this.min+=pxMin/transA,this.max+=pxMax/transA))},extend(Highcharts,{Axis:Axis,Chart:Chart,Color:Color,Point:Point,Tick:Tick,Renderer:Renderer,Series:Series,SVGElement:SVGElement,SVGRenderer:SVGRenderer,arrayMin:arrayMin,arrayMax:arrayMax,charts:charts,dateFormat:dateFormat,format:format,pathAnim:pathAnim,getOptions:getOptions,hasBidiBug:hasBidiBug,isTouchDevice:isTouchDevice,numberFormat:numberFormat,seriesTypes:seriesTypes,setOptions:setOptions,addEvent:addEvent,removeEvent:removeEvent,createElement:createElement,discardElement:discardElement,css:css,each:each,extend:extend,map:map,merge:merge,pick:pick,splat:splat,extendClass:extendClass,pInt:pInt,wrap:wrap,svg:hasSVG,canvas:useCanVG,vml:!hasSVG&&!useCanVG,product:PRODUCT,version:VERSION})}(),module.exports=window.Highcharts,window.Highcharts=previousHighcharts},457:function(module,exports){module.exports='<div style="width:380px;">\n    <h3 style="padding-left:20px;">Event Summary</h3>\n\n    <div class="divider" style="border-bottom:2px solid #ccc;margin-bottom:15px;"></div>\n\n    <div style="padding-left:20px;">\n        <table class="eventDetailsWrapper" style="width:200px;">\n            <tr>\n                <td>Sample size</td>\n                <td class="sampleSize">\n                    <%- _(pageModel.get(\'read\')).t() %> bytes\n                </td>\n            </tr>\n            <tr>\n                <td>Events</td>\n                <td class="eventCount"><%- _(pageModel.get(\'eventCount\')).t() %></td>\n            </tr>\n            <tr>\n                <td colspan="2" style="padding-top:20px;">\n                    <div style="padding-bottom:10px;">Event time distribution</div>\n                    <div class="chartPlaceholder"></div>\n                    <div class="chartRangePlaceholder"></div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan="2" style="padding-top:20px;padding-bottom:20px;">\n                    <div style="padding-bottom:10px;">Number of lines per event</div>\n                    <table class="linecountDistributionTable">\n                        <thead>\n                            <tr>\n                                <td># of lines </td>\n                                <td># of events</td>\n                                <td>% of events</td>\n                            </tr>\n                        </thead>\n                        <tbody></tbody>\n                    </table>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>'},"models/data_explorer/PropsSource":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/services/configs/Props")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,PropsModel){var SOURCE_STANZA_PREFIX="source::",createStanzaFromName=function(name){return SOURCE_STANZA_PREFIX+name},PropsSource=PropsModel.extend({initialize:function(attrs,options){PropsModel.prototype.initialize.call(this,attrs,options)},getSource:function(){var stanzaName=this.entry.get("name"),start=stanzaName.indexOf(SOURCE_STANZA_PREFIX);return start!=-1?stanzaName.slice(start+SOURCE_STANZA_PREFIX.length):stanzaName}},{createStanzaFromName:createStanzaFromName});return PropsSource}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/configs/Props":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({url:"configs/conf-props",urlRoot:"configs/conf-props",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/data/vix_indexes/DirectoryItems":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/data/vix_indexes/DirectoryItem"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(DirectoryItem,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({model:DirectoryItem,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/data/vix_indexes/DirectoryItem":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)},sync:function(method){throw new Error("DirectoryItem doesn't support the method : "+method)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/add_data/WizardModel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel){return BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments),this.isStepValid=!1,this.PREVIEWABLE_INPUTS=["file_upload","file_monitor","file_oneshot"],this.WINDOWS_INPUTS=["evt_logs_local","evt_logs_remote","perfmon_local","perfmon_remote","regmon","admon","hostmon","netmon","printmon"],this.set({currentStep:"initial"},{silent:!0}),this.on("change:currentStep",function(){this.isStepValid=!1},this),this.on("change:isDirectory change:isArchive change:isBinary change:isUNCPath change:isWildcardPath",function(){this.set("previewEnabled",this.isPreviewEnabled())},this)},stepForward:function(valid){valid&&(this.isStepValid=!0),this.trigger("stepForward")},stepBack:function(){this.trigger("stepBack")},setInputMode:function(mode){if([0,1,2].indexOf(mode)==-1)throw"unknown input mode";this.set({inputMode:mode})},isUploadMode:function(){return 0===parseInt(this.get("inputMode"),10)},isLocalMode:function(){return 1===parseInt(this.get("inputMode"),10)},isForwardMode:function(){return 2===parseInt(this.get("inputMode"),10)},isDirectory:function(){return this.get("isDirectory")},isPreviewEnabled:function(){return 2!==this.get("inputMode")&&(!(this.get("isDirectory")||this.get("isArchive")||this.get("isWildcardPath")||this.get("isUNCPath")||this.get("isBinary"))&&this.PREVIEWABLE_INPUTS.indexOf(this.get("inputType"))>-1)},isWindowsInput:function(){var inputType=this.get("inputType");return this.WINDOWS_INPUTS.indexOf(inputType)>-1},resetFlags:function(){_.each(["previewsid","isBinary","isArchive","isDirectory","isWildcardPath","isUNCPath","inputType"],function(flag){this.unset(flag)}.bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/data_explorer/ExplorerState":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseModel,splunkUtils,splunkd_utils){return BaseModel.extend({defaults:{selectedStep:void 0,selectedVirtualIndex:void 0,selectedVixName:void 0,selectedProvider:void 0,selectedPath:void 0,selectedSource:void 0,selectedSourceType:void 0,selectedRootPath:void 0,appContext:void 0,appName:void 0,sharing:splunkd_utils.APP,rootPaths:[]},initialize:function(attrs,options){BaseModel.prototype.initialize.call(this,attrs,options)},getSourceFile:function(){var source=this.get("selectedSource");source=splunkUtils.trim(source,"/");var sourceArray=source.split("/");return sourceArray.length>0?sourceArray[sourceArray.length-1]:""},toString:function(){return"selectedStep ["+this.get("selectedStep")+"] selectedVirtualIndex ["+this.get("selectedVirtualIndex")+"] selectedVixName ["+this.get("selectedVixName")+"] selectedProvider ["+this.get("selectedProvider")+"] selectedPath ["+this.get("selectedPath")+"] selectedSource ["+this.get("selectedSource")+"] selectedSourceType ["+this.get("selectedSourceType")+"] selectedRootPath ["+this.get("selectedRootPath")+"] appContext ["+this.get("appContext")+"] appName ["+this.get("appName")+"] sharing ["+this.get("sharing")+"] rootPaths ["+this.get("rootPaths")+"]"}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/data_explorer/PreparePreview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseModel,splunkDUtils){var syncCreate=function(model,options){var url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}};url=_.isFunction(model.url)?model.url():model.url,$.extend(!0,defaults,options),defaults.url=splunkDUtils.fullpath(url),defaults.data=splunkDUtils.normalizeValuesForPOST(defaults.data),defaults.processData=!0;var bbXHR=Backbone.sync.call(null,"create",model,defaults);return bbXHR.done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()};return BaseModel.extend({defaults:{previewSID:void 0},initialize:function(attrs,options){BaseModel.prototype.initialize.call(this,attrs,options)},sync:function(method,model,options){switch(method){case"create":return syncCreate.call(this,model,options);default:throw new Error("invalid method: "+method)}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/indexing/Preview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseModel,splunkUtils,splunkDUtils){var extractAppOwner=function(options){var appOwner={};return options&&options.data&&(appOwner=$.extend(appOwner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0}),delete options.data.app,delete options.data.owner,delete options.data.sharing),appOwner},makeSecondPreviewRequest=function(model,appOwner,opts,deferredResponse){var data=$.extend({output_mode:"json"},appOwner),fetchDfd=model.fetch({data:data,type:"POST",success:function(model,response,options){opts.success(response)},error:function(model,response,options){opts.error(response)}});fetchDfd.done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),fetchDfd.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)})},syncCreate=function(model,options){var url,appOwner={},deferredResponse=$.Deferred(),defaults={getSourceTypeSettings:!0,data:{output_mode:"json"}};url=_.isFunction(model.url)?model.url():model.url,appOwner=extractAppOwner(options),$.extend(!0,defaults,options),defaults.url=splunkDUtils.fullpath(url,appOwner),defaults.type="POST",defaults.data=splunkDUtils.normalizeValuesForPOST(defaults.data),defaults.data["props.NO_BINARY_CHECK"]="1",defaults.data["job.id"]&&delete defaults.data["input.path"];var createDfd=(new BaseModel).save({},{url:defaults.url,processData:!0,type:defaults.type,data:defaults.data,success:function(createModel,response,options){var messages=response&&response.messages,jobId=messages&&messages[0]&&messages[0].text;model.set("id",jobId),defaults.getSourceTypeSettings?makeSecondPreviewRequest(model,appOwner,defaults,deferredResponse):deferredResponse.resolve.apply(deferredResponse)},error:function(createModel,response,options){defaults.error(response)}});return createDfd.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()},syncRead=function(model,options){var url,appOwner={},defaults={data:{output_mode:"json"}};if(model.isNew())throw new Error("You cannot read a Preview without an id.");return url=_.isFunction(model.url)?model.url():model.url,appOwner=extractAppOwner(options),$.extend(!0,defaults,options),defaults.url=splunkDUtils.fullpath(url+"/"+model.id,appOwner),Backbone.sync.call(this,"read",model,defaults)};return BaseModel.extend({url:"indexing/preview",initialize:function(){BaseModel.prototype.initialize.apply(this,arguments),this.initializeAssociated()},sync:function(method,model,options){switch(method){case"create":return syncCreate.call(this,model,options);case"read":return syncRead.call(this,model,options);default:throw new Error("invalid method: "+method)}},initializeAssociated:function(){var RootClass=this.constructor;this.associated=this.associated||{},this.links=this.links||new RootClass.Links,this.associated.links=this.links,this.generator=this.generator||new RootClass.Generator,this.associated.generator=this.generator,this.entry||(this.entry=new RootClass.Entry,$.extend(this.entry,{links:new RootClass.Entry.Links,content:new RootClass.Entry.Content}),this.entry.associated.links=this.entry.links,this.entry.associated.content=this.entry.content),this.associated.entry=this.entry},parse:function(response){if(response=$.extend(!0,{},response),this.initializeAssociated(),response&&response.entry&&0!==response.entry.length){var response_entry=response.entry[0];return response_entry.links.alternate&&(this.set("id",response_entry.links.alternate),response.id=response_entry.links.alternate),this.links.set(response.links),delete response.links,this.generator.set(response.generator),delete response.generator,this.entry.links.set(response_entry.links),delete response_entry.links,this.entry.content.set(response_entry.content),delete response_entry.content,this.entry.set(response_entry),delete response.entry,response}}},{Links:BaseModel,Generator:BaseModel,Entry:BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{Links:BaseModel,Content:BaseModel})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Datapreview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("routers/BaseSearch"),__webpack_require__("views/datapreview/save/SaveDialog"),__webpack_require__("views/datapreview/Confirm"),__webpack_require__("views/datapreview/save/ConfirmUnsaved"),__webpack_require__("views/datapreview/Master"),__webpack_require__("models/datapreview/Preview"),__webpack_require__("models/knowledgeobjects/Sourcetype"),__webpack_require__("models/services/search/jobs/Result"),__webpack_require__("collections/knowledgeobjects/Sourcetypes"),__webpack_require__("collections/services/AppLocals"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseSearch,SaveDialog,ConfirmView,ConfirmUnsavedView,MasterView,PreviewModel,SourcetypeModel,ResultModel,SourcetypesCollection,AppLocalCollection,splunkdUtils,splunkUtil){return BaseSearch.extend({initialize:function(options){options=this.options=options||{},BaseSearch.prototype.initialize.apply(this,arguments),options.model&&(this.model=$.extend(this.model,options.model)),"undefined"==typeof options.canChangeSource&&(options.canChangeSource=!0),this.el=options.el||".main-section-body",this.children={},this.setPageTitle(_("Data Preview").t()),this.enableAppBar=!1,this.enableFooter=!1,this.fetchUser=!0,this.fetchAppLocals=!0,this.source_prefix="source.",this.source_regexes=[/^source\./],this.model.preview=new PreviewModel,this.model.sourceModel=new Backbone.Model,this.model.sourcetypeModel=new SourcetypeModel,this.model.metaInfoResults=new ResultModel,this.model.timelineResults=new ResultModel,this.model.eventSummaryModel=new Backbone.Model,this.model.previewPrimer=this.model.previewPrimer||new Backbone.Model,this.collection.sourcetypesCollection=new SourcetypesCollection,this.deferreds.sourcetypeModel=$.Deferred(),this.deferreds.sourcetypesCollection=$.Deferred(),this.children.masterView=new MasterView({model:this.model,collection:this.collection,deferreds:this.deferreds,enableHeader:options.enableHeader,canChangeSource:options.canChangeSource}),this.autoSourcetype=!1,this.model.preview.entry.on("change:name",function(model,value){value&&this.model.previewPrimer.set("sid",value)},this)},page:function(locale,app,page){BaseSearch.prototype.page.apply(this,arguments),this.baseActivateDeferred=$.Deferred(),this.baseDeactivateDeferred=$.Deferred(),this.shouldRender?this.baseDeactivateDeferred.resolve():this.deactivate();var appOwner={app:this.model.application.get("app"),owner:this.model.application.get("owner")};"resolved"!==this.deferreds.uiPrefs.state()&&this.model.uiPrefs.bootstrap(this.deferreds.uiPrefs,this.model.application.get("page"),this.model.application.get("app"),this.model.application.get("owner")),"resolved"!==this.deferreds.workflowActions.state()&&this.collection.workflowActions.fetch({data:$.extend({},appOwner,{sort_key:"name",search:"disabled=false",count:-1}),success:function(model,response){this.deferreds.workflowActions.resolve()}.bind(this),error:function(model,response){this.deferreds.workflowActions.resolve()}.bind(this)}),"resolved"!==this.deferreds.sourcetypesCollection.state()&&this.collection.sourcetypesCollection.fetch({data:{search:"pulldown_type=1",count:1e3}}).done(this.deferreds.sourcetypesCollection.resolve),$.when(this.baseDeactivateDeferred).then(function(){this.bootstrapDeferred=$.Deferred(),$.when(this.deferreds.uiPrefs).then(function(){this.model.classicUrl.fetch({success:function(model,response){this.model.classicUrl.set({"display.events.timelineEarliestTime":void 0,"display.events.timelineLatestTime":void 0,"display.prefs.events.offset":void 0,"display.prefs.statistics.offset":void 0,"display.statistics.sortColumn":void 0,"display.statistics.sortDirection":void 0,"display.events.table.sortColumn":void 0,"display.events.table.sortDirection":void 0});var sid=this.model.previewPrimer.get("sid"),file=this.model.previewPrimer.get("name"),sourcetype=this.model.previewPrimer.get("sourcetype");sid?this.model.classicUrl.set("sid",sid):file&&this.model.classicUrl.set("source.input",file),sourcetype&&this.model.classicUrl.set("sourcetype",sourcetype),this.syncFromClassicURL()}.bind(this)})}.bind(this)),$.when(this.deferreds.user,this.deferreds.workflowActions,this.deferreds.pageViewRendered,this.bootstrapDeferred).then(function(){this.baseActivateDeferred.resolve()}.bind(this)),$.when(this.deferreds.pageViewRendered).then(function(){this.shouldRender&&this.options.enableAppBar!==!1&&$(".preload").replaceWith(this.pageView.el)}.bind(this))}.bind(this)),$.when(this.baseActivateDeferred).then(function(){this.model.wizard&&"datapreview"!==this.model.wizard.get("currentStep")||(this.children.masterView.activate({deep:!0}),this.activate.call(this),this.children.masterView.render().replaceContentsOf($(this.el)),this.$el=this.children.masterView.$el,this.trigger("rendered"),$(document).trigger("rendered"))}.bind(this))},confirmSavedState:function(callback){this.children.dialogConfrimUnsaved&&this.children.dialogConfrimUnsaved.detach();var noSourcetypeSelected="undefined"==typeof this.model.previewPrimer.get("sourcetype");return this.model.previewPrimer.get("unsavedSourcetype")||noSourcetypeSelected?void(noSourcetypeSelected?this.showSaveDialog(function(){callback()}.bind(this)):this.children.dialogConfrimUnsaved=(new ConfirmUnsavedView).on("confirmed",function(confirmed){confirmed?this.showSaveDialog(function(){callback()}.bind(this)):(this.model.previewPrimer.set("unsavedSourcetype",!1),callback())}.bind(this)).render().$el.appendTo("body")):void callback()},showSaveDialog:function(callback){this.children.dialogSaveSourcetype&&this.children.dialogSaveSourcetype.detach(),this.children.dialogSaveSourcetype=new SaveDialog({model:this.model,collection:this.collection}).on("savedSourcetype",function(sourcetypeId){this.model.previewPrimer.set("unsavedSourcetype",!1),this.collection.sourcetypesCollection.fetch({data:{search:"pulldown_type=1",count:1e3}}).done(function(){var dfd=this.model.sourcetypeModel.set("id",sourcetypeId).fetch();"function"==typeof callback&&(this.model.previewPrimer.set("unsavedSourcetype",!1),this.model.previewPrimer.set("sourcetype",sourcetypeId),$.when(dfd).then(function(){callback(!0)}.bind(this))),this.autoSourcetype&&this.collection.sourcetypesCollection.add(this.autoSourcetype)}.bind(this))}.bind(this)).render().$el.appendTo("body")},confirmOverwrite:function(name,callback){this.children.dialogSaveSourcetype.hide(),this.children.dialogConfirmOverwrite&&this.children.dialogConfirmOverwrite.remove(),this.children.dialogConfirmOverwrite=new ConfirmView({keyboard:!1,backdrop:"static",message:splunkUtil.sprintf(_("Sourcetype named %s already exists. Do you want to overwrite the existing one?").t(),name),title:_("Overwrite existing sourcetype?").t()}).on("hidden",function(){this.children.dialogSaveSourcetype.show()}.bind(this)).on("confirmed",function(confirmed){callback(confirmed?!0:!1)}).render().$el.appendTo("body")},activate:function(){this.model.sourceModel.on("change",function(model,options){this.populateClassicUrlFromSource(),this.startNewPreview(null,{ignoreCurrentSourcetype:!0,applyDetectedSourcetype:!0})},this),this.model.sourcetypeModel.on("sync",function(model,resp,options){this.model.previewPrimer.set("unsavedSourcetype",!1),this.populateReportFromSourcetype()},this),this.model.sourcetypeModel.on("change",function(){this.model.previewPrimer.set("unsavedSourcetype",!0)},this),this.model.sourcetypeModel.entry.content.on("change",function(model,options){options&&options.skipPreview||this.model.sourcetypeModel.isParsing()||this.startNewPreview()},this),this.model.sourcetypeModel.entry.on("change:name",function(model,value,options){var checkName=(value||"").toLowerCase();"default"===checkName||"__auto__learned__"===checkName?(this.model.previewPrimer.get("sourcetype")&&this.model.previewPrimer.unset("sourcetype"),this.model.previewPrimer.get("sourcetypeApp")&&this.model.previewPrimer.unset("sourcetypeApp")):this.model.previewPrimer.set({sourcetype:value,sourcetypeApp:this.model.sourcetypeModel.entry.acl.get("app")}),options&&options.skipPreview||this.model.sourcetypeModel.isParsing()||(this.sourcetypeBootstrap(null,value),
"__auto__learned__"!==value&&this.startNewPreview(null,{applyPassedInSourcetype:!0,sourcetypeId:value}))},this),this.model.summary.fields.on("reset",function(){this.populateSelectedFieldsFromSummary()},this),this.model.result.on("forcefetch",function(){this.fetchResult()},this),this.model.report.entry.content.on("change:display.prefs.events.offset change:display.events.maxLines change:display.prefs.events.count change:display.events.timelineEarliestTime change:display.events.timelineLatestTime change:display.general.type change:display.events.table.sortColumn change:display.events.table.sortDirection",_.debounce(function(model,value,options){this.fetchResult()},0),this),this.model.searchJob.on("prepared",function(){this.pollSearchJob()},this),this.collection.selectedFields.on("add remove reset",this.populateReportFromSelectedFields,this),this.model.previewPrimer.on("showSaveDialog",function(e){this.showSaveDialog.apply(this,arguments)}.bind(this)),this.model.previewPrimer.on("confirmSavedState",function(){this.confirmSavedState.apply(this,arguments)}.bind(this)),this.model.previewPrimer.on("confirmOverwrite",function(){this.confirmOverwrite.apply(this,arguments)}.bind(this))},deactivate:function(){this.shouldRender||(this.model.sourceModel.off(null,null,this),this.model.sourcetypeModel.off(null,null,this),this.model.sourcetypeModel.entry.content.off(null,null,this),this.model.summary.fields.off(null,null,this),this.model.result.off(null,null,this),this.model.report.entry.content.off(null,null,this),this.model.searchJob.off(null,null,this),this.collection.selectedFields.off(null,null,this),this.model.preview.off(null,null,this),this.model.previewPrimer.off("showSaveDialog"),this.model.previewPrimer.off("confirmSavedState"),this.model.previewPrimer.off("confirmOverwrite")),this.children.masterView.deactivate({deep:!0}),BaseSearch.prototype.deactivate.apply(this,arguments)},detach:function(){this.$el.detach()},render:function(){return this.children.masterView.render()},syncFromClassicURL:function(){var sourcetypeIdFromUrl=this.model.classicUrl.get("sourcetype"),sourceAttrsFromUrl=this.model.classicUrl.filterByWildcards(this.source_regexes,{strip:this.source_prefix}),jobIdFromUrl=this.model.classicUrl.get("sid"),attrsFromUIPrefs=this.model.uiPrefs.entry.content.filterByWildcards(this.job_filter),sourcetypeFetchDeferred=$.Deferred(),reportFetchDeferred=$.Deferred(),previewCreateDeferred=$.Deferred(),jobFetchDeferred=$.Deferred();sourceAttrsFromUrl&&this.model.sourceModel.set(sourceAttrsFromUrl),attrsFromUIPrefs&&this.model.report.entry.content.set(attrsFromUIPrefs),this.sourcetypeBootstrap(sourcetypeFetchDeferred,sourcetypeIdFromUrl),this.reportBootstrap(reportFetchDeferred),this.jobBootstrap(jobFetchDeferred,jobIdFromUrl),$.when(sourcetypeFetchDeferred).done(function(){this.startNewPreview(previewCreateDeferred,{applyDetectedSourcetype:!sourcetypeIdFromUrl,sid:jobIdFromUrl})}.bind(this)),$.when(previewCreateDeferred,reportFetchDeferred,jobFetchDeferred).done(function(){this.pollSearchJob(),this.populateReportFromSourcetype(),this.bootstrapDeferred.resolve()}.bind(this))},isFileJson:function(name){name=name||"";var ext=name.substring(name.lastIndexOf(".")+1);return"json"===ext.toLowerCase()},startNewPreview:function(deferredResponse,options){options||(options={});var previewXhr,sourcetypeId,props={},previewInput=this.model.sourceModel.get("input")||this.model.previewPrimer.get("name"),sid=this.model.searchJob.get("id")||this.model.previewPrimer.get("sid"),defaults={ignoreCurrentSourcetype:!1,applyDetectedSourcetype:!1,applyPassedInSourcetype:!1};if(_.defaults(options,defaults),!previewInput&&!sid)return void(deferredResponse&&deferredResponse.resolve());this.model.preview.clear(),options.applyPassedInSourcetype?sourcetypeId=options.sourcetypeId:options.ignoreCurrentSourcetype||(props=this.model.sourcetypeModel.getExplicitProps(),sourcetypeId=this.model.sourcetypeModel.entry.get("name")),sourcetypeId&&"__auto__learned__"!==sourcetypeId&&(props.sourcetype=options.sourcetypeId),this.model.preview.setProps(props);var sourcetypeOveride;this.isFileJson(previewInput)&&(sourcetypeOveride="_json");try{previewXhr=this.model.preview.preview(previewInput,sid,sourcetypeOveride)}catch(e){return this.model.preview.trigger("error",this.model.preview,_(e.message).t()),void(deferredResponse&&deferredResponse.resolve())}$.when(previewXhr).fail(function(){this.model.preview.error.get("messages")||this.model.preview.trigger("error",this.model.preview,_("Failed to load preview").t()),deferredResponse&&deferredResponse.resolve()}.bind(this)).done(function(){if(this.model.preview.isNew())return this.model.preview.trigger("error",this.model.preview,_("Failed to load preview").t()),void(deferredResponse&&deferredResponse.resolve());if(options.applyDetectedSourcetype){var sourcetypeIdNew="",preferredSourcetype=this.model.preview.getPreferredSourcetype();if(preferredSourcetype)this.deferreds.sourcetypesCollection.done(function(){var inCollection=this.collection.sourcetypesCollection.get(preferredSourcetype);if(!inCollection){var sourcetypeModel=new SourcetypeModel({id:preferredSourcetype});sourcetypeModel.fetch().done(function(){this.collection.sourcetypesCollection.add(sourcetypeModel)}.bind(this))}}.bind(this));else{this.autoSourcetype=new SourcetypeModel({id:"__auto__learned__"}),this.autoSourcetype.entry.set("name","__auto__learned__");var specialStanza=!1,props=this.model.preview.entry.content.attributes.inherited;_.each(props,function(val,key){"default"!==val.stanza&&(specialStanza=!0,this.autoSourcetype.entry.content.set(key,val.value))}.bind(this)),specialStanza===!1?sourcetypeIdNew="default":(this.model.previewPrimer.set("unsavedSourcetype",!0),this.collection.sourcetypesCollection.add(this.autoSourcetype),this.model.sourcetypeModel.clear({skipPreview:!0}),this.model.sourcetypeModel.entry.set("name","__auto__learned__"),this.model.sourcetypeModel.set(this.autoSourcetype.attributes),sourcetypeIdNew="__auto__learned__")}preferredSourcetype&&preferredSourcetype!==sourcetypeId&&(sourcetypeIdNew=preferredSourcetype),"__auto__learned__"!==sourcetypeIdNew&&this.sourcetypeBootstrap(null,sourcetypeIdNew)}var jobIdFromPreview=this.model.preview.entry.get("name")||this.model.preview.id;this.model.searchJob.unregisterJobProgressLinksChild(null,this),this.model.searchJob.handleJobDestroy(),this.model.searchJob.clear(),this.model.searchJob.set("id",jobIdFromPreview),this.model.searchJob.startPolling(),this.setupEventsSummaryModel.call(this),deferredResponse&&deferredResponse.resolve()}.bind(this))},setupEventsSummaryModel:function(){var metaInfoResultsDfd=new $.Deferred,timelineResultsDfd=new $.Deferred,updateModel=_.debounce(function(){$.when(metaInfoResultsDfd,timelineResultsDfd).done(function(){var timelineResults=this.model.timelineResults,infoResults=this.model.metaInfoResults,eventCount=infoResults.results.at(0)?infoResults.results.at(0).get("total")[0]:_("N/A").t();this.model.eventSummaryModel.set({buckets:timelineResults.get("buckets"),lineCountCollection:infoResults.results,eventCount:eventCount,size:parseInt(this.model.searchJob.entry.content.get("dataPreviewBytesInSource")||0,10),read:parseInt(this.model.searchJob.entry.content.get("dataPreviewBytesRead")||0,10),isCompressed:!!parseInt(this.model.searchJob.entry.content.get("dataPreviewRequiredDecompress"),10),isComplete:!!parseInt(this.model.searchJob.entry.content.get("dataPreviewReachedEof"),10)})}.bind(this))}.bind(this),500);this.model.searchJob.on("jobProgress:results",function(id){this.model.metaInfoResults.set("id",id),this.model.metaInfoResults.fetch({data:{search:"chart count by linecount | eventstats sum(count) as total | eval perc = count / total |sort linecount",count:1e4}}).done(function(){metaInfoResultsDfd.resolve(),updateModel.call(this)}.bind(this))}.bind(this)),this.model.searchJob.on("jobProgress:timeline",function(id){this.model.timelineResults.set("id",id),this.model.timelineResults.fetch({data:{count:1e4}}).done(function(){timelineResultsDfd.resolve(),updateModel.call(this)}.bind(this))}.bind(this))},sourcetypeBootstrap:function(deferredResponse,sourcetypeId){if(sourcetypeId){if(this.model.sourcetypeModel.isNew()||this.model.sourcetypeModel.clear({skipPreview:!0}),"__auto__learned__"===sourcetypeId){var xx=this.collection.sourcetypesCollection.get("__auto__learned__");return this.model.sourcetypeModel.entry.set("name","__auto__learned__",{skipPreview:!0}),this.model.sourcetypeModel.set("id",sourcetypeId,{skipPreview:!0}),this.model.sourcetypeModel.set(xx.attributes,{skipPreview:!0}),void(deferredResponse&&deferredResponse.resolve())}this.model.sourcetypeModel.set("id",sourcetypeId),this.model.sourcetypeModel.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},error:function(model,response){this.model.classicUrl.save({sourcetype:void 0},{replaceState:!0})}.bind(this)}).always(function(){deferredResponse&&deferredResponse.resolve()})}else deferredResponse&&deferredResponse.resolve()},jobBootstrap:function(deferredResponse,jobId){jobId?(this.model.searchJob.set("id",jobId),this.model.searchJob.fetch({error:function(model,response){this.model.classicUrl.save({sid:void 0},{replaceState:!0}),this.model.searchJob.unset("id"),this.jobBootstrapErrors=[splunkdUtils.createMessageObject(splunkdUtils.WARNING,_("The job could not be loaded. A new job has started based on preview parameters.").t())]}.bind(this)}).always(function(){deferredResponse.resolve()})):deferredResponse.resolve()},reportBootstrap:function(deferredResponse){this.model.report.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){this.initializeReport()}.bind(this)}).always(function(){deferredResponse.resolve()})},populateClassicUrlFromSource:function(){var attrs={"source.type":this.model.sourceModel.get("type"),"source.input":this.model.sourceModel.get("input")};this.model.classicUrl.save(attrs)},populateClassicUrlFromSourcetype:function(){var attrs={sourcetype:this.model.sourcetypeModel.entry.get("name")};this.model.classicUrl.save(attrs)},populateReportFromSourcetype:function(){this.model.report.entry.content.set({"display.events.type":this.model.sourcetypeModel.isStructuredDataFormat()?"table":"list"})},populateSelectedFieldsFromSummary:function(){var EventModel=ResultModel.Results.Result,fields=this.model.summary.fields,attrs=_.object(fields.pluck("name"),[]),result=new EventModel(attrs),models=[];_.each(result.notSystemOrTime(),function(field){models.push({name:field})},this),this.collection.selectedFields.reset(models)},initializeReport:function(){this.model.report.entry.content.set({"display.general.type":"events","display.events.type":"list","display.events.rowNumbers":!0,"display.prefs.events.offset":"0","display.prefs.statistics.offset":"0","display.events.table.sortDirection":"asc","display.statistics.sortDirection":"asc","display.events.list.drilldown":"none","display.events.raw.drilldown":"none","display.events.table.drilldown":"0","display.statistics.drilldown":"none","display.visualizations.charting.drilldown":"none"})},pollSearchJob:function(){this.model.searchJob.isNew()||this.model.searchJob.isPreparing()||this.registerSearchJobFriends({registerResultsJsonCols:!1,registerResultJsonRows:!1,registerTimeline:!1})},fetchResult:function(options){return options=options||{},$.extend(!0,options,{data:{field_list:""}}),BaseSearch.prototype.fetchResult.call(this,options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datapreview/Preview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/services/indexing/Preview"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,PreviewModel,splunkUtils,undefined){return PreviewModel.extend({initialize:function(){PreviewModel.prototype.initialize.apply(this,arguments),this.resetCache(),this.entry.content.on("change",function(){this.resetCache()},this)},resetCache:function(){this._propsExplicit={},this._propsPreset={},this._propsDefault={},this._preferredSourcetype=undefined},clear:function(){return this.resetCache(),PreviewModel.prototype.clear.apply(this,arguments)},preview:function(inputFile,sid,sourcetypeOverride){var attrs={"input.path":inputFile};sid&&(attrs["job.id"]=sid),sourcetypeOverride&&(attrs["props.sourcetype"]=sourcetypeOverride);var props=this.getProps("custom");return _.each(props,function(value,key){typeof value!==undefined&&null!==value&&(attrs["props."+key]=value)}),this.clear(),this.save({},{data:attrs})},getProps:function(type){var props=this.entry.content.attributes,preferredSourcetype=this.getPreferredSourcetype(),preferredSourcetypeKey=this.constructor.PREFERRED_SOURCETYPE;switch("explicit"!==type&&"custom"!==type||_.isEmpty(this._propsExplicit)&&(this._propsExplicit=_.reduce(props.explicit,function(memo,propObj,prop){return prop!==preferredSourcetypeKey&&(memo[prop]=propObj.value),memo},{})),"preset"!==type&&"custom"!==type&&"inherited"!=type||_.isEmpty(this._propsPreset)&&(this._propsPreset=_.reduce(props.inherited,function(memo,propObj,prop){return propObj.stanza&&propObj.stanza===preferredSourcetype&&(memo[prop]=propObj.value),memo},{})),"default"!==type&&"inherited"!=type||_.isEmpty(this._propsDefault)&&(this._propsDefault=_.reduce(props.inherited,function(memo,propObj,prop){return propObj.stanza&&propObj.stanza===preferredSourcetype||(memo[prop]=propObj.value),memo},{})),type){case"explicit":return this._propsExplicit;case"preset":return this._propsPreset;case"default":return this._propsDefault;case"custom":return $.extend({},this._propsPreset,this._propsExplicit);case"inherited":return $.extend({},this._propsDefault,this._propsPreset);default:throw new Error("invalid props type: "+type)}},setProps:function(newProps){var attrsExplicitCloned=$.extend(!0,{},this.entry.content.attributes.explicit),attrsInherited=this.getProps("inherited");_.each(newProps,function(value,key){_.has(attrsInherited,key)&&attrsInherited[key]===value||(_.has(attrsExplicitCloned,key)?attrsExplicitCloned[key].value=value:attrsExplicitCloned[key]={stanza:"",value:value})}),this.entry.content.set("explicit",attrsExplicitCloned)},getPreferredSourcetype:function(){var propObj,props=this.entry.content.attributes;return"undefined"==typeof this._preferredSourcetype&&props&&props.explicit&&(propObj=props.explicit[this.constructor.PREFERRED_SOURCETYPE],this._preferredSourcetype=propObj&&propObj.value),this._preferredSourcetype}},{PREFERRED_SOURCETYPE:"PREFERRED_SOURCETYPE"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/save/SaveDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/datapreview/save/Master"),__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,SaveView,Modal){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.call(this,arguments),this.children.save=new SaveView({model:this.model,collection:this.collection}),this.children.save.on("savedSourcetype",function(sourcetypeId){this.remove(),this.trigger("savedSourcetype",sourcetypeId)}.bind(this))},events:$.extend({},Modal.prototype.events,{"click .btn-save":function(){this.children.save.save()}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(this.children.save.render().el),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Save Source Type").t()),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary btn-save">'+_("Save").t()+"</a>"),this.show(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/save/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("models/knowledgeobjects/Sourcetype"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,module,Base,FlashMessages,ControlGroup,SyntheticSelectControl,SourcetypeModel,splunkUtil){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.canUseApps=this.model.user.canUseApps(),this.children.flashMessages=new FlashMessages({helperOptions:{postProcess:function(errors){if(errors&&errors.length>0){for(var realErrors=[],i=0,len=errors.length;i<len;i++){var error=errors[i];if(error&&error.get){var message=error.get("html")||"";message.indexOf("An object with name=")<0&&realErrors.push(error)}}return realErrors}return errors}}}),this.children.sourcetypeName=new ControlGroup({label:_("Name").t(),controlType:"Text",controlOptions:{model:this.model.sourcetypeModel.entry,modelAttribute:"name",className:"fieldName",save:!1,updateModel:!1}}),this.children.description=new ControlGroup({label:_("Description").t(),controlType:"Text",controlOptions:{model:this.model.sourcetypeModel.entry.content,modelAttribute:"description",className:"fieldDesc",save:!1,updateModel:!1}});var categoryItems=this.buildCategoryItems();this.children.categorySelect=new ControlGroup({label:_("Category").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.sourcetypeModel.entry.content,modelAttribute:"category",items:categoryItems,className:"fieldCategorySelect",toggleClassName:"btn",popdownOptions:{attachDialogTo:"body"},save:!1,updateModel:!1}});var appItems=this.buildAppItems();this.children.appSelect=new ControlGroup({label:_("App").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.sourcetypeModel.entry.acl,modelAttribute:"app",items:appItems,className:"fieldAppSelect",toggleClassName:"btn",popdownOptions:{attachDialogTo:"body"},save:!1,updateModel:!1}});var currentName=this.model.sourcetypeModel.entry.get("name");"default"!==currentName&&"__auto__learned__"!==currentName||(this.children.sourcetypeName.childList[0].setValue(""),this.children.categorySelect.childList[0].setValue("Custom"),this.canUseApps?this.children.appSelect.childList[0].setValue(this.model.application.get("app")):this.children.appSelect.childList[0].setValue("search"))},buildAppItems:function(){var items=[];return this.collection.appLocals.each(function(app){items.push({value:app.entry.get("name"),label:app.entry.content.get("label")})}),items.push({value:"system",label:"system"}),_.sortBy(items,function(item){return(item.label||"").toLowerCase()})},buildCategoryItems:function(){return this.collection.sourcetypesCollection.getCategories()},save:function(){var self=this,sourcetypeName=this.children.sourcetypeName.childList[0].getValue(),app=this.children.appSelect.childList[0].getValue(),owner="nobody",propsToSave=this.model.sourcetypeModel.getExplicitProps();propsToSave.pulldown_type="true",propsToSave.description=this.children.description.childList[0].getValue(),propsToSave.category=this.children.categorySelect.childList[0].getValue();var newModel=new SourcetypeModel;newModel.entry.set("name",sourcetypeName),newModel.entry.acl.set("app",app),newModel.entry.content.set(propsToSave),newModel.set("name",sourcetypeName),this.children.flashMessages.register(newModel),newModel.entry.isValid(!0)&&newModel.save({},{data:{app:app,owner:owner}}).done(function(){self.onSaveDone.apply(self,[newModel])}).fail(function(jqXhr){409===parseInt(jqXhr.status,10)&&self.confirmOverwrite(sourcetypeName,function(confirmed){if(confirmed){var fullId=["/servicesNS",encodeURIComponent(owner),encodeURIComponent(app),"saved/sourcetypes",encodeURIComponent(sourcetypeName)].join("/");newModel.set({id:fullId}).save({data:{app:app,owner:owner}}).done(function(){self.onSaveDone.apply(self,[newModel])})}})})},onSaveDone:function(newModel){var id=newModel&&newModel.entry&&newModel.entry.get("name");this.trigger("savedSourcetype",id)},confirmOverwrite:function(name,callback){this.model.previewPrimer.trigger("confirmOverwrite",name,callback)},render:function(){return this.$el.append(this.children.flashMessages.render().el),this.$el.append(this.children.sourcetypeName.render().el),this.$el.append(this.children.description.render().el),this.$el.append(this.children.categorySelect.render().el),this.$el.append(this.children.appSelect.render().el),this.canUseApps||this.children.appSelect.$el.hide(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/Confirm":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" confirm-wrapper",initialize:function(options){$.fn.modal.Constructor.prototype.enforceFocus=function(){},Modal.prototype.initialize.call(this,arguments),this.on("hidden",function(){this.remove()})},events:$.extend({},Modal.prototype.events,{"click .btn-ok":function(){this.hide(),this.trigger("confirmed",!0)},"click .modal-btn-cancel":function(){this.hide(),this.trigger("confirmed",!1)}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(this.options.title||""),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).text(this.options.message||""),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary btn-ok">'+_("OK").t()+"</a>"),this.show(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/save/ConfirmUnsaved":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){this.title=_("Save changes?").t(),this.options=this.options||{},this.options.backdrop="static",this.options.keyboard=!1,this.options.show=!0,Modal.prototype.initialize.call(this,arguments)},events:$.extend({},Modal.prototype.events,{"click .btn-save":function(){this.trigger("confirmed",!0),this.remove()},"click .btn-dontsave":function(){this.trigger("confirmed",!1),this.remove()}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(_("You have not saved your source type changes, would you like save before continuing?").t()),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Save Source Type").t()),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary btn-dontsave">'+_("Proceed without saving").t()+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary btn-save">'+_("Save").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/datapreview/Header"),__webpack_require__("views/datapreview/results/Master"),__webpack_require__("views/datapreview/settings/Master"),__webpack_require__(476),__webpack_require__("views/datapreview/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,FlashMessage,HeaderView,ResultsView,SettingsView,dataPreviewTemplate,css){return BaseView.extend({moduleId:module.id,template:dataPreviewTemplate,initialize:function(options){this.options=options||{},BaseView.prototype.initialize.apply(this,arguments),this.deferreds=this.options.deferreds,this.children.header=new HeaderView({collection:this.collection,model:this.model,deferreds:this.deferreds,canChangeSource:this.options.canChangeSource}),this.children.settings=new SettingsView({collection:this.collection,model:this.model,deferreds:this.deferreds}),this.children.results=new ResultsView({collection:this.collection,model:this.model,deferreds:this.deferreds}),_.each(this.children,function(child,key){child.deactivate({deep:!0})}),$(window).on("resize",_(_.debounce(this.resize,50)).bind(this))},render:function(){return this.children.settings&&this.children.settings.detach(),this.$el.html(this.compiledTemplate({})),this.renderHeader(),this.$(".layoutColLeft").append(this.children.settings.render().el),this.$(".layoutColRight").append(this.children.results.render().el),this.children.results.children.eventsViewer.updateContainerHeight(),this},renderHeader:function(){var layoutHeader=this.$(".layoutHeader");layoutHeader.append(this.children.header.render().el)},resize:function(){this.children.results.children.eventsViewer.updateContainerHeight()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/Header":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/datapreview/eventsummary/Master"),__webpack_require__("views/shared/add_data/input_forms/SourceSelectorDialog"),__webpack_require__(458),__webpack_require__("util/string_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,EventSummary,SourceSelectorDialog,headerTemplate,stringUtils){return Base.extend({moduleId:module.id,template:headerTemplate,events:{"click .change-source":"showSourceSelectorDialog","click .btnEventSummary":function(e){this.children.eventSummaryView.show(this.$(".btnEventSummary")),e.preventDefault()}},initialize:function(){Base.prototype.initialize.apply(this,arguments);var self=this;this.model.sourceModel.on("change:ui.name",function(){self.setSourceLabel()}),this.children.eventSummaryView=new EventSummary({model:this.model,collection:this.collection}),this.children.eventSummaryView.render().appendTo($("body"))},render:function(){return this.$el.html(this.compiledTemplate({sourceLabel:this.getSourceLabelText(),canChangeSource:this.options.canChangeSource,descriptionText:this.model.previewPrimer.get("descriptionText")})),this},setSourceLabel:function(){this.$(".source-label").text(this.getSourceLabelText())},getSourceLabelText:function(){var label=this.model.sourceModel.get("input")||this.model.previewPrimer.get("name")||"";return stringUtils.truncateString(label,50,15,35)},showSourceSelectorDialog:function(){this.children.sourceSelectorDialog||(this.children.sourceSelectorDialog=new SourceSelectorDialog({model:this.model,collection:this.collection,deferreds:this.options.deferreds,browserType:"files"}),$("body").append(this.children.sourceSelectorDialog.render().el)),this.children.sourceSelectorDialog.show()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/eventsummary/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/PopTart"),__webpack_require__("shim/highcharts"),__webpack_require__("stubs/i18n"),__webpack_require__(457)],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,PopTart,Highcharts,i18n,template){return PopTart.extend({moduleId:module.id,template:template,initialize:function(options){PopTart.prototype.initialize.apply(this,arguments),this.model.eventSummaryModel.on("change",this.render.bind(this))},render:function(){if(this.model.eventSummaryModel.get("buckets"))return this.$el.html(PopTart.prototype.template),this.$(".popdown-dialog-body").removeClass("popdown-dialog-padded"),this.$(".popdown-dialog-body").append(this.compiledTemplate({pageModel:this.model.eventSummaryModel})),this.addChart.call(this),this.addLineCountTable.call(this),this},addLineCountTable:function(){var linecounts=$(".linecountDistributionTable tbody").html(""),lines=this.model.eventSummaryModel.get("lineCountCollection");lines.each(function(row){linecounts.append($("<tr/>").append($("<td/>").text(i18n.format_number(row.get("linecount")))).append($("<td/>").text(i18n.format_number(row.get("count")))).append($("<td/>").text(i18n.format_percent(row.get("perc")))))})},addChart:function(){var buckets=this.model.timelineResults.get("buckets"),timeline_data=[],timeline_dates=[],max_count=0,earliestTime=(buckets[0]||{}).earliest_time,latestTime=(buckets[buckets.length-1]||{}).earliest_time;$.each(buckets,function(idx,bucket){timeline_data.push(0==bucket.total_count?null:bucket.total_count),timeline_dates.push(i18n.format_datetime(bucket.earliest_time,"short")),max_count=Math.max(max_count,bucket.total_count)}),parseInt((buckets[0]||{}).duration,10)>=2419200?(earliestTime=i18n.format_date(earliestTime,"M/yyyy"),latestTime=i18n.format_date(latestTime,"M/yyyy")):(earliestTime=i18n.format_datetime(earliestTime,"short"),latestTime=i18n.format_datetime(latestTime,"short")),this.createChart(timeline_dates,max_count,timeline_data),$(".chartRangePlaceholder").empty().append($('<span class="start_time"/>').text(earliestTime)).append($('<span class="pull-right end_time" />').text(latestTime))},createChart:function(timeline_dates,max_count,timeline_data){var chartColors=this.model.serverInfo.isLite()?[[0,"#F58220"],[1,"#D66700"]]:[[0,"#6FAA1A"],[1,"#447800"]];this.chart=new Highcharts.Chart({chart:{renderTo:this.$(".chartPlaceholder")[0],type:"column",height:75,width:320,animation:!1,spacingTop:10,spacingRight:5,spacingBottom:10,spacingLeft:1,backgroundColor:"#edede7"},credits:{enabled:!1},title:{text:null},legend:{enabled:!1},plotOptions:{column:{animation:!1,shadow:!1,groupPadding:0,pointPadding:0,borderWidth:0,minPointLength:2}},xAxis:{title:null,categories:timeline_dates,labels:{enabled:!1},lineWidth:1,lineColor:"#999"},yAxis:{title:null,gridLineWidth:0,lineWidth:1,lineColor:"#999",max:max_count,labels:{style:{fontSize:"9px",color:"#333"}}},tooltip:{borderWidth:1,formatter:function(){
return this.x+": <b>"+this.y+"</b>"},style:{padding:"3px"}},series:[{name:_("Event count"),data:timeline_data}],colors:[{linearGradient:[0,0,0,500],stops:chartColors}]})},checkStatus:function(){}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"shim/highcharts":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/splunk"),__webpack_require__(456)],__WEBPACK_AMD_DEFINE_RESULT__=function(Splunk,Highcharts){return Splunk.Highcharts=Highcharts,Highcharts}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},458:function(module,exports){module.exports='<div class="section-header" style="padding-left:20px; padding-bottom:10px">\n    <div class="firstRow" style="color: rgb(51, 51, 51);height: 28px;font: normal normal 200 24px/normal Roboto, Droid, \'Helvetica Neue\', Helvetica, Arial, sans-serif;margin: 0px;">\n        <!-- div class="mainHeader" style="float:left;">\n            <%= _(\'Knowledge Workbench:\').t() %>\n        </div -->\n        <div class="secondaryHeader">\n            <%- _(\'Set Source Type\').t() %>\n        </div>\n    </div>\n    <div class="secndRow">\n        <p style="width:900px;"><%- descriptionText %></p>\n        <div class="SourceDetails">\n            <div style="float:left">\n                <label class="control-label" style="display: inline-block;"><%- _(\'Source\').t() %>:</label>\n                <span class="source-label"><%- sourceLabel %></span>&nbsp;\n                <%if (canChangeSource){%>\n                <a class="change-source" ><%- _(\'change\').t() %></a>\n                <%}%>\n            </div>\n            <div style="float:right;padding-right:38px;">\n                <a href="#" class="btnEventSummary"><%- _(\'View Event Summary\').t() %></a>\n            </div>\n            <div style="clear:both;"></div>\n        </div>\n        <div class="SourceInfo" style="display:none;"></div>\n    </div>\n</div>\n\n'},"controllers/DataExplorerController":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/Base"),__webpack_require__("collections/knowledgeobjects/Sourcetypes"),__webpack_require__("collections/services/data/vix/Indexes"),__webpack_require__("collections/services/data/vix/Providers"),__webpack_require__("collections/services/data/vix_indexes/DirectoryItems"),__webpack_require__("collections/services/AppLocals"),__webpack_require__("controllers/Base"),__webpack_require__("models/add_data/WizardModel"),__webpack_require__("models/Base"),__webpack_require__("models/classicurl"),__webpack_require__("models/data_explorer/ExplorerState"),__webpack_require__("models/data_explorer/PreparePreview"),__webpack_require__("models/data_explorer/PropsSource"),__webpack_require__("models/services/data/inputs/BaseInputModel"),__webpack_require__("models/services/indexing/Preview"),__webpack_require__("models/services/search/jobs/Result"),__webpack_require__("models/SplunkDBase"),__webpack_require__("routers/Datapreview"),__webpack_require__("views/data_explorer/AdditionalSettings"),__webpack_require__("views/data_explorer/Browse"),__webpack_require__("views/data_explorer/Confirmation"),__webpack_require__("views/data_explorer/Preview"),__webpack_require__("views/data_explorer/ReviewSettings"),__webpack_require__("views/data_explorer/SelectVirtualIndex"),__webpack_require__("views/shared/controls/StepWizardControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/ViewStack"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseCollection,SourcetypesCollection,IndexesCollection,ProviderCollection,DirectoryItems,AppsCollection,BaseController,BaseModel,WizardModel,classicurlModel,ExplorerState,PreparePreview,PropsSource,BaseInputModel,PreviewModel,JobsResultModel,SplunkDBaseModel,Datapreview,AdditionalSettings,Browse,Confirmation,PreviewWrapper,ReviewSettings,SelectVirtualIndex,StepWizardControl,FlashMessagesView,ViewStack,splunkDUtils){var DataExplorerController=BaseController.extend({moduleId:module.id,createDataPreview:!0,initialize:function(options){BaseController.prototype.initialize.call(this,options),this.deferreds={},this.deferreds.previewStep=$.Deferred(),this.deferreds.vixCollection=void 0,this.deferreds.appsCollection=void 0,this.deferreds.providerCollection=void 0,this.initModelsAndCollections(),$.when(this.deferreds.vixCollection,this.deferreds.appsCollection,this.deferreds.providerCollection).then(function(){this.children.wizardSteps=new StepWizardControl({label:_("Explore Data").t(),model:this.model.explorerState,modelAttribute:"selectedStep",collection:this.collection.wizardStepsCollection});var selectVixCollection={vix:this.collection.vixCollection,providers:this.collection.providerCollection,directoryItems:this.collection.directoryItems};this.children.selectVixFlashMessages=new FlashMessagesView(selectVixCollection),this.children.selectVirtualIndex=new SelectVirtualIndex({model:{state:this.model.explorerState,application:this.model.application},modelAttribute:{selectedVirtualIndex:"selectedVirtualIndex",selectedProvider:"selectedProvider"},collection:selectVixCollection,flashMessagesView:this.children.selectVixFlashMessages}),this.children.browse=new Browse({collection:{directoryItems:this.collection.directoryItems},model:{application:this.model.application,state:this.model.explorerState,metadata:this.collection.directoryItems.fetchData},fileModelAttribute:"selectedSource",directoryModelAttribute:"selectedPath",rootPathModelAttribute:"selectedRootPath",rootPathsModelAttribute:"rootPaths"}),this.children.browse.on("pathClicked",this.browsePathClickedHandler,this),this.children.preview=new PreviewWrapper({model:{preparePreview:this.model.preparePreview,preview:this.model.preview}}),this.children.additionalSettings=new AdditionalSettings({model:{application:this.model.application,state:this.model.explorerState,acl:this.model.newSource.entry.acl,user:this.model.user},modelAttribute:{appContext:"appContext",sharing:"sharing"},collection:{apps:this.collection.appsCollection}}),this.children.reviewSettings=new ReviewSettings({model:{application:this.model.application,explorerState:this.model.explorerState,source:this.model.source,acl:this.model.source.acl},modelAttribute:"review",collection:{apps:this.collection.appsCollection}}),this.children.confirmation=new Confirmation({model:{explorerState:this.model.explorerState,source:this.model.source,application:this.model.application}}),this.viewSteps=[this.children.selectVirtualIndex,this.children.browse,this.children.preview,this.children.additionalSettings,this.children.reviewSettings,this.children.confirmation],this.children.viewStack=new ViewStack({panes:this.viewSteps,selectedIndex:this.model.explorerState.get("selectedStep")}),this.debouncedRender()}.bind(this))},initModelsAndCollections:function(){this.model.explorerState=new ExplorerState({selectedStep:DataExplorerController.SELECT_VIRTUALINDEX_STEP}),this.model.explorerState.on("change:selectedPath",this.onSelectedPathChanged,this),this.model.explorerState.on("change:selectedRootPath",this.onSelectedRootPathChanged,this),this.model.explorerState.on("change:selectedSource",this.onSelectedSourceChanged,this),this.model.explorerState.on("change:selectedSourceType",this.onSelectedSourceTypeChanged,this),this.model.explorerState.on("change:selectedStep",this.onSelectedStepChanged,this),this.model.explorerState.on("change:selectedVirtualIndex",this.onSelectedVirtualIndexChanged,this),this.model.explorerState.on("change:appContext",this.onAppContextChanged,this),this.model.explorerState.on("change:sharing",this.onSharingChanged,this);var WizardStep=BaseModel.extend({idAttribute:"value"}),wizardSteps=[new WizardStep({value:DataExplorerController.SELECT_VIRTUALINDEX_STEP,label:_("Select Virtual Index").t(),enabled:!0,nextLabel:_("Next").t(),validate:_(this.validateVirtualIndex).bind(this)}),new WizardStep({value:DataExplorerController.SELECT_SOURCE_STEP,label:_("Select a File").t(),enabled:!1,nextLabel:_("Next").t(),validate:_(this.validateBrowse).bind(this)}),new WizardStep({value:DataExplorerController.PREVIEW_STEP,label:_("Preview Data").t(),enabled:!1,nextLabel:_("Next").t(),validate:_(this.validatePreview).bind(this)}),new WizardStep({value:DataExplorerController.INPUT_SETTINGS_STEP,label:_("Enter Context Settings").t(),enabled:!1,nextLabel:_("Next").t()}),new WizardStep({value:DataExplorerController.REVIEW_STEP,label:_("Review").t(),enabled:!1,nextLabel:_("Finish").t(),validate:_(this.validateReview).bind(this)}),new WizardStep({value:DataExplorerController.CONFIRMATION_STEP,label:_("Confirmation").t(),enabled:!0,showNextButton:!1,showPreviousButton:!1})];this.collection.wizardStepsCollection=new BaseCollection(wizardSteps),this.collection.vixCollection=new IndexesCollection,this.collection.vixCollection.fetchData.set({count:-1},{silent:!0}),this.deferreds.vixCollection=this.collection.vixCollection.fetch(),this.collection.providerCollection=new ProviderCollection,this.collection.providerCollection.fetchData.set({count:-1,search:"vix.family=hadoop"},{silent:!0}),this.deferreds.providerCollection=this.collection.providerCollection.fetch(),this.collection.directoryItems=new DirectoryItems,this.collection.directoryItems.fetchData.set({count:30},{silent:!0}),this.model.preparePreview=new PreparePreview,this.model.preview=new PreviewModel,this.model.classicUrl=classicurlModel,this.model.deploymentClass=new Backbone.Model,this.model.indexResultModel=new JobsResultModel,this.model.input=new BaseInputModel,this.model.previewPrimer=new Backbone.Model,this.model.previewPrimer.on("change:sourcetype",this.onPreviewPrimerChanged,this),this.collection.sourcetypesCollection=new SourcetypesCollection,this.collection.appsCollection=new AppsCollection,this.collection.appsCollection.fetchData.set("count",-1,{silent:!0}),this.deferreds.appsCollection=this.collection.appsCollection.fetch({data:{search:"visible=true AND disabled=0"}}),this.model.newSource=new PropsSource,this.model.source=new PropsSource},validateVirtualIndex:function(stepModel,isSteppingNext){var selectedVixName=this.model.explorerState.get("selectedVirtualIndex"),selectedVix=this.collection.vixCollection.get(selectedVixName),directoryPaths=selectedVix.entry.content.get("vix.input.roots");this.collection.directoryItems.url=selectedVix.id+"/browse",this.model.explorerState.set({selectedRootPath:directoryPaths[0],selectedPath:directoryPaths[0],selectedVixName:selectedVix.entry.get("name"),selectedSource:void 0,selectedSourceType:void 0,rootPaths:directoryPaths.slice(0)}),this.clearBrowseErrors()},validateBrowse:function(stepModel,isSteppingNext){if(isSteppingNext&&this.createDataPreview){this.previewRouter&&(this.previewRouter.shouldRender=!1,this.previewRouter.deactivate(),this.previewRouter.detach(),delete this.previewRouter,this.children.preview.detachRouter());var selectedVixName=this.model.explorerState.get("selectedVirtualIndex"),selectedVix=this.collection.vixCollection.get(selectedVixName);this.model.preparePreview.url=selectedVix.id+"/prepare_preview",this.model.preview.clear();var previewDeferred,selectedPath=this.model.explorerState.get("selectedSource"),validateDeferred=$.Deferred(),preparePreviewDeferred=this.model.preparePreview.save({},{data:{path:selectedPath,output_mode:"json"}});preparePreviewDeferred.done(_(function(model){previewDeferred=this.model.preview.save({},{getSourceTypeSettings:!1,data:{"job.id":this.model.preparePreview.get("sid")}}),previewDeferred.done(_(function(model){this.model.previewPrimer.set({sid:this.model.preview.get("id"),name:this.model.explorerState.getSourceFile(),sourcetype:void 0,descriptionText:DataExplorerController.PREVIEW_DESCRIPTION}),this.createPreviewRouter(),this.deferreds.previewStep.done(_(function(){validateDeferred.resolve()}).bind(this))}).bind(this))}).bind(this)),this.createDataPreview=!1}},validatePreview:function(stepModel,isSteppingNext){if(isSteppingNext){var unsavedSourcetype=this.model.previewPrimer.get("unsavedSourcetype"),deferredResult=$.Deferred();if(unsavedSourcetype)return deferredResult.fail(),this.model.previewPrimer.trigger("confirmSavedState",function(){this.children.wizardSteps.step(DataExplorerController.INPUT_SETTINGS_STEP)}.bind(this)),deferredResult}},validateReview:function(stepModel,isSteppingNext){if(isSteppingNext){var reviewDeferred=$.Deferred(),path=this.model.explorerState.get("selectedSource"),stanzaName=PropsSource.createStanzaFromName(path);this.model.source.entry.content.set("name",stanzaName);var sourceType=this.model.explorerState.get("selectedSourceType"),sharing=this.model.explorerState.get("sharing"),owner=sharing==splunkDUtils.USER?this.model.application.get("owner"):"nobody",appName=this.model.explorerState.get("appName");return this.model.source.save({},{data:{app:appName,owner:owner,sourcetype:sourceType}}).done(_(function(){if(sharing==splunkDUtils.GLOBAL){this.model.newSource.entry.acl.set("sharing",sharing);var data=this.model.newSource.entry.acl.toDataPayload();this.model.source.acl.save({},{data:data}).done(_(function(){reviewDeferred.resolve()}).bind(this))}else reviewDeferred.resolve()}).bind(this)),reviewDeferred.promise()}},onSelectedStepChanged:function(model,newSelectedStep){this.children.viewStack.setSelectedIndex(newSelectedStep)},onSelectedSourceChanged:function(model,newSelectedSource){var previewStep=this.collection.wizardStepsCollection.get(DataExplorerController.PREVIEW_STEP);if(previewStep.set("enabled",!_(newSelectedSource).isUndefined()),4===this.model.explorerState.get("selectedStep")){var inputSettingsStep=this.collection.wizardStepsCollection.get(DataExplorerController.INPUT_SETTINGS_STEP);inputSettingsStep.set("enabled",!1)}else this.model.explorerState.set({selectedSourceType:void 0});this.createDataPreview=!0,this.clearPreviewErrors(),this.clearSourceErrors(),this.children.confirmation.render()},onSelectedSourceTypeChanged:function(model,newSelectedSourceType){var inputSettingsStep=this.collection.wizardStepsCollection.get(DataExplorerController.INPUT_SETTINGS_STEP);inputSettingsStep.set("enabled",!_(newSelectedSourceType).isUndefined())},onSelectedVirtualIndexChanged:function(model,newSelectedVirtualIndex){if(!_(newSelectedVirtualIndex).isUndefined()){var selectedVix=this.collection.vixCollection.get(newSelectedVirtualIndex),selectSourceStep=this.collection.wizardStepsCollection.get(DataExplorerController.SELECT_SOURCE_STEP),directoryPaths=selectedVix.entry.content.get("vix.input.roots");_(directoryPaths).isUndefined()||0==directoryPaths.length?(this.children.selectVixFlashMessages.flashMsgHelper.addGeneralMessage(DataExplorerController.MISSING_PATHS_ID,{type:splunkDUtils.ERROR,html:_("The virtual index you have selected does not contain a path.").t()}),selectSourceStep.set("enabled",!1)):(this.children.selectVixFlashMessages.flashMsgHelper.removeGeneralMessage(DataExplorerController.MISSING_PATHS_ID),selectSourceStep.set("enabled",!0)),this.model.explorerState.set({selectedRootPath:void 0,selectedPath:void 0,selectedVixName:selectedVix.entry.get("name"),selectedSourceType:void 0},{silent:!0})}this.clearBrowseErrors(),this.clearPreviewErrors(),this.clearSourceErrors()},onAppContextChanged:function(model,newAppContext){var theAppName="",appModel=this.collection.appsCollection.get(newAppContext);appModel&&(theAppName=appModel.entry.get("name")),this.model.explorerState.set("appName",theAppName),this.model.newSource.fetch({data:{app:theAppName,owner:this.model.application.get("owner")}}),this.checkInputSettings(),this.children.confirmation.debouncedRender(),this.clearSourceErrors()},onSharingChanged:function(model,newSharing){this.checkInputSettings(),this.clearSourceErrors()},checkInputSettings:function(){var reviewStep=this.collection.wizardStepsCollection.get(DataExplorerController.REVIEW_STEP),appContext=this.model.explorerState.get("appContext"),sharing=this.model.explorerState.get("sharing");reviewStep.set("enabled",!_(appContext).isUndefined()&&!_(sharing).isUndefined())},createPreviewRouter:function(){this.history={},this.previewDeferreds={},this.previewRouter=new Datapreview({el:$("<div></div>"),routes:function(){},enableHeader:!0,enableAppBar:!1,enableFooter:!1,model:this.model,collection:this.collection,history:this.history,deferreds:this.previewDeferreds,canChangeSource:!1}),this.previewRouter.on("rendered",function(){this.deferreds.previewStep.resolve(),this.children.preview.appendRouter(this.previewRouter)},this),this.previewRouter.page(this.model.application.get("locale"),this.model.application.get("app"),this.model.application.get("page"))},onSelectedRootPathChanged:function(model,newRootPath){this.model.explorerState.set({selectedPath:newRootPath,selectedSource:void 0})},onSelectedPathChanged:function(model,newSelectedPath){this.collection.directoryItems.fetchData.set({path:newSelectedPath,offset:0})},onPreviewPrimerChanged:function(model,newSourceType,options){this.model.explorerState.set("selectedSourceType",newSourceType)},browsePathClickedHandler:function(type,fullPath){"file"==type?this.model.explorerState.set({selectedSource:fullPath}):this.model.explorerState.set({selectedPath:fullPath,selectedSource:void 0})},clearBrowseErrors:function(){this.collection.directoryItems.clearErrors()},clearPreviewErrors:function(){this.model.preparePreview.clearErrors(),this.model.preview.clearErrors()},clearSourceErrors:function(){this.model.source.clearErrors()},render:function(){return this.children.wizardSteps&&this.children.wizardSteps.detach(),this.$el.html(this.compiledTemplate({})),this.children.viewStack&&(this.children.wizardSteps.render().appendTo(this.$(".wizard-steps-placeholder")),this.children.viewStack.render().appendTo(this.$(".viewstack-placeholder"))),this},template:'\t                    <div class="wizard-steps-placeholder"></div>\t                    <div class="viewstack-placeholder"></div>\t                '},{SELECT_VIRTUALINDEX_STEP:0,SELECT_SOURCE_STEP:1,PREVIEW_STEP:2,INPUT_SETTINGS_STEP:3,REVIEW_STEP:4,CONFIRMATION_STEP:5,MISSING_PATHS_ID:"__MISSING_PATHS_ID__",PREVIEW_DESCRIPTION:_('This page lets you see how Hunk sees your data when searching. If the events look correct and have the right timestamps, click "Next" to proceed. If not, use the options below to define proper event breaks and timestamps. If you cannot find an appropriate source type for your data, create a new one by clicking "Save As".').t()});return DataExplorerController}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/DataExplorer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("routers/Base"),__webpack_require__("controllers/DataExplorerController")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,BaseRouter,DataExplorerController){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Explore Data").t()),this.fetchUser=!0,this.enableFooter=!1,this.enableAppBar=!1},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),$.when(this.deferreds.pageViewRendered).done(_(function(){$(".preload").replaceWith(this.pageView.el),this.dataExplorer=new DataExplorerController({model:this.model,collection:this.collection}),this.pageView.$(".main-section-body").append(this.dataExplorer.render().el)}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/results/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/Base"),__webpack_require__("views/shared/eventsviewer/Master"),__webpack_require__("views/search/results/eventspane/controls/Master"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseModel,FlashMessagesCollection,BaseView,EventsViewer,EventControls,FlashMessagesView){return BaseView.extend({moduleId:module.id,className:"search-results-wrapper",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.deferreds=this.options.deferreds,this.model.state=new BaseModel,this.collection.flashMessages=new FlashMessagesCollection,this.children.eventsViewer=new EventsViewer({model:{result:this.model.result,summary:this.model.summary,report:this.model.report,searchJob:this.model.searchJob,application:this.model.application,state:this.model.state},collection:{selectedFields:this.collection.selectedFields,workflowActions:this.collection.workflowActions},headerMode:"static",selectableFields:!1,allowRowExpand:!1,showWarnings:!0,defaultDrilldown:!1,highlightExtractedTime:!0,allowModalize:!1}),this.children.eventControls=new EventControls({model:{report:this.model.report,searchJob:this.model.searchJob,timeline:this.model.timeline,state:this.model.state},disableDock:!0,showDrilldown:!1}),this.children.timelineState=new FlashMessagesView({collection:this.collection.flashMessages})},activate:function(options){return options||(options={}),delete options.deep,this.ensureDeactivated({deep:!0}),this.model.searchJob.on("prepared",function(){this.active&&this.visibility()},this),this.model.report.entry.content.on("change:display.events.timelineEarliestTime change:display.events.timelineLatestTime",_.debounce(function(){var tl_et=this.model.report.entry.content.get("display.events.timelineEarliestTime"),tl_lt=this.model.report.entry.content.get("display.events.timelineLatestTime");tl_et&&tl_lt||(this.children.timelineState.$el.hide(),this.active&&this.visibility())}.bind(this),0),this),this.model.timeline.buckets.on("reset",function(){var tl_et=this.model.report.entry.content.get("display.events.timelineEarliestTime"),tl_lt=this.model.report.entry.content.get("display.events.timelineLatestTime");tl_et&&tl_lt&&0===this.model.timeline.availableCount(tl_et,tl_lt).length?(_.chain(this.children).omit(["timeline"]).each(function(child){child.$el.hide()}),this.children.timelineState.$el.show(),this.collection.flashMessages.reset([{key:"waiting",type:"info",html:_("No results in current time range.").t()}])):(this.children.timelineState.$el.hide(),this.visibility())},this),this.model.report.entry.content.on("change:display.page.search.showFields",function(){this.visibility()},this),this.model.searchJob.entry.content.on("change:eventCount change:dispatchState",_.debounce(function(){if(this.active)if(this.visibility(),"DONE"===this.model.searchJob.entry.content.get("dispatchState")){var eventCount=parseInt(this.model.searchJob.entry.content.get("eventCount"),10);eventCount<1&&this.collection.flashMessages.reset([{key:"noresults",type:"info",html:_("No results found. Please change source type, adjust source type settings, or check your source file.").t()}])}else this.collection.flashMessages.reset()}.bind(this),0),this),this.visibility(),BaseView.prototype.activate.call(this,options)},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.model.state.off(null,null,this),this.model.report.entry.content.off(null,null,this),this.model.timeline.buckets.off(null,null,this),this.model.searchJob.entry.content.off(null,null,this),this.model.state.clear(),this):BaseView.prototype.deactivate.apply(this,arguments)},visibility:function(activation){this.children.timelineState.activate({deep:!0}),0===this.model.searchJob.entry.content.get("eventCount")?(this.children.eventControls.deactivate({deep:!0}).$el.hide(),this.children.eventsViewer.deactivate({deep:!0}).$el.hide()):0===this.model.searchJob.entry.content.get("eventAvailableCount")?(this.children.eventControls.deactivate({deep:!0}).$el.hide(),this.children.eventsViewer.deactivate({deep:!0}).$el.hide()):(this.children.eventControls.activate({deep:!0}).$el.show(),this.children.eventsViewer.activate({deep:!0}).$el.show())},render:function(){return this.$el.append(this.children.timelineState.render().el),this.$el.append(this.children.eventControls.render().el),this.$el.append(this.children.eventsViewer.render().el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/settings/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/datapreview/settings/SettingsPanels"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__(475),__webpack_require__("views/shared/knowledgeobjects/SourcetypeMenu"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,SettingsPanels,FlashMessage,settingsTemplate,SourcetypeMenu,splunkdUtils){return BaseView.extend({moduleId:module.id,template:settingsTemplate,className:"settings-wrapper",events:{"click .btn-saveAs":"showSaveDialog"},initialize:function(){function isDefaultSorucetypeName(){var name=this.model.sourcetypeModel.entry.get("name");return"default"===name||"__auto__learned__"===name}BaseView.prototype.initialize.apply(this,arguments),this.children.settingsPanels=new SettingsPanels({collection:this.collection,model:this.model}),this.errorTypes=[splunkdUtils.FATAL,splunkdUtils.ERROR,splunkdUtils.NOT_FOUND],this.children.flashMessage=new FlashMessage({model:{searchJob:this.model.searchJob,searchJobControl:this.model.searchJob.control,report:this.model.report,preview:this.model.preview,source:this.model.sourceModel,sourcetype:this.model.sourcetypeModel},whitelist:this.errorTypes}),this.model.sourcetypeModel.on("sync",function(){isDefaultSorucetypeName.call(this)?(this.model.report.entry.content.set("display.events.type","list"),this.updateSaveButton(!0)):this.updateSaveButton(!1)}.bind(this)),this.model.sourcetypeModel.on("change",function(){isDefaultSorucetypeName.call(this)&&this.model.report.entry.content.set("display.events.type","list"),this.updateSaveButton(!0)}.bind(this))},showSaveDialog:function(e){e.preventDefault(),this.model.previewPrimer.trigger("showSaveDialog",e)},updateSaveButton:_.debounce(function(highlight){highlight?this.$(".btn-saveAs").addClass("btn-primary"):this.$(".btn-saveAs").removeClass("btn-primary")},100),renderSourcetypeMenu:function(){this.options.deferreds.sourcetypesCollection.done(function(){this.children.sourcetypeMenu||(this.children.sourcetypeMenu=new SourcetypeMenu({model:this.model.sourcetypeModel.entry,modelAttribute:"name",collection:this.collection,deferreds:this.options.deferreds,addNewSourcetypeLink:!0,addLabel:!0})),this.$(".source-type").append(this.children.sourcetypeMenu.render().el)}.bind(this))},render:function(){return this.children.sourcetypeMenu&&this.children.sourcetypeMenu.detach(),this.children.settingsPanels&&this.children.settingsPanels.detach(),this.$el.html(this.compiledTemplate({})),this.renderSourcetypeMenu(),this.$(".settingsPanels").append(this.children.settingsPanels.render().el),this.$(".flashMessageWrapper").append(this.children.flashMessage.render().el),this.$(".tooltip-link").tooltip({animation:!1,container:"body",placement:"bottom"}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"pages/explore_data.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1091);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/data_explorer/SelectVirtualIndex":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/services/data/vix/Indexes"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils"),__webpack_require__(1090)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Indexes,splunkUtil,BaseView,ControlGroup,SyntheticSelectControl,FlashMessagesView,route,splunkDUtils,SelectVixTemplate){var NO_PROVIDERS_ERROR="__no_providers_error",NO_VIX_ERROR="__no_vix_error",SelectVirtualIndex=BaseView.extend({moduleId:module.id,template:SelectVixTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessagesView=this.options.flashMessagesView,this.providerItems=[],this.getAndLoadProviders(),this.children.providerSelect=new ControlGroup({controlType:"SyntheticSelect",label:_("Provider ").t(),controlOptions:{toggleClassName:"btn",menuClassName:"dropdown-menu-prov-vix",items:this.providerItems,popdownOptions:{attachDialogTo:"body"},prompt:"Select Provider",value:"select provider",model:this.model.state,modelAttribute:"selectedProvider"}}),this.children.vixSelect=new SyntheticSelectControl({toggleClassName:"btn",menuClassName:"dropdown-menu-prov-vix",popdownOptions:{attachDialogTo:"body"},prompt:"Select Virtual Index",items:[{label:"",value:void 0}],model:this.model.state,value:"select index",modelAttribute:"selectedVirtualIndex"}),this.children.vixSelectGroup=new ControlGroup({label:_("Virtual Index").t(),controls:[this.children.vixSelect]}),this.model.state.on("change:selectedProvider",this.populateVixSelect,this),this.collection.vix.on("reset add remove change",this.onCollectionChange,this)},onCollectionChange:function(){this.getAndLoadProviders(),this.debouncedRender()},getAndLoadProviders:function(){var providers={},providerCollection=this.collection.providers;this.collection.vix.each(function(vixModel){providerCollection.each(function(providerModel){if(providerModel.entry.get("name")===vixModel.entry.content.get("vix.provider")){var theProvider=vixModel.entry.content.get("vix.provider"),theProviderDescription=vixModel.entry.content.get("vix.provider.description");providers[theProvider]||(providers[theProvider]={label:theProvider,value:theProvider,description:theProviderDescription})}})});var secondaryArray=[];$.each(providers,function(key,value){secondaryArray.push(value)}),this.providerItems=secondaryArray},populateVixSelect:function(){var theSelectedProvider=this.model.state.get("selectedProvider");this.model.state.set("selectedVirtualIndex",void 0),this.model.state.set("selectedVixName",void 0);var vixArray=[],secondaryArray=[];void 0!==theSelectedProvider&&(this.collection.vix.each(function(vixModel){if(vixModel.entry.content.get("vix.provider")===theSelectedProvider){var vixID=vixModel.id,theVixName=vixModel.entry.get("name"),vixDesc=vixModel.entry.content.get("vix.description"),disabled=vixModel.entry.content.get("disabled");
vixArray.push({value:vixID,label:theVixName,description:vixDesc,enabled:!disabled})}}),$.each(vixArray,function(key,value){secondaryArray.push(value,key)}),this.children.vixSelect.enable()),this.children.vixSelect.setItems(secondaryArray)},render:function(){var showSelectControls=!0,pageRouter=route.getContextualPageRouter(this.model.application);this.children.vixSelectGroup&&this.children.vixSelectGroup.detach(),this.children.providerSelect&&this.children.providerSelect.detach();var helpUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.exploredata.selectvirtualindex");if(this.$el.html(this.compiledTemplate({helpUrl:helpUrl})),this.children.providerSelect.render().appendTo(this.$(".synthetic-select-placeholder1")),this.children.vixSelectGroup.render().appendTo(this.$(".synthetic-select-placeholder2")),void 0===this.model.state.get("selectedProvider")?this.children.vixSelect.disable():this.children.vixSelect.enable(),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),0==this.collection.providers.length){showSelectControls=!1;var providerUrl=pageRouter.manager("vix_provider_new"),providerMsg=splunkUtil.sprintf(_("The admin has not created any Hadoop providers. <a href='%s'> Create a provider.</a>").t(),providerUrl);this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(NO_PROVIDERS_ERROR,{type:splunkDUtils.WARNING,html:providerMsg})}else this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(NO_PROVIDERS_ERROR);if(this.collection.providers.length>0&&0==this.collection.vix.length){showSelectControls=!1;var vixUrl=pageRouter.manager("vix_index_new"),vixMsg=splunkUtil.sprintf(_("The admin has not created any virtual indexes for the Hadoop providers. <a href='%s'> Create a virtual index.</a>").t(),vixUrl);this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(NO_VIX_ERROR,{type:splunkDUtils.WARNING,html:vixMsg})}else this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(NO_VIX_ERROR);return showSelectControls?(this.children.providerSelect.$el.show(),this.children.vixSelectGroup.$el.show(),this.$(".label-instructions").show()):(this.children.providerSelect.$el.hide(),this.children.vixSelectGroup.$el.hide(),this.$(".label-instructions").hide()),this}});return SelectVirtualIndex}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/datapreview/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(477);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/data_explorer/EditSourceModal":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,ControlGroup){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.call(this,arguments),this.state=new Backbone.Model,this.children.snippet=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"text",model:this.state},controlClass:"controls-block",label:_("Source").t(),tooltip:_("Edit the path to the data source. Note that if you change the path, you cannot go back in the wizard.").t(),help:_("Example: /home/data/apache/.../logs/...").t()})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.editSource.set("editedSource",this.state.get("text")),this.hide()}}),setText:function(){this.textToShow=this.model.editSource.get("originalSource"),this.state.set("text",this.textToShow)},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Source").t()),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).html(_(this.dialogFormBodyTemplate).template({})),this.children.snippet.render().appendTo(this.$(".source-text-placeholder")),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this.setText(),this},dialogFormBodyTemplate:'\t                <div class="source-text-placeholder"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/AdditionalSettings":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/SyntheticRadioControl"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__(1087),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,SyntheticSelectControl,SyntheticRadioControl,ControlGroup,AdditionalSettingsTemplate,FlashMessagesView,route,splunkd_utils){return BaseView.extend({moduleId:module.id,template:AdditionalSettingsTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.appItems=[],this.getAndLoadApps(),0!==this.collection.apps.length&&this.getAndLoadApps(),this.listenTo(this.model.acl,"change",this.aclChanged),this.children.appContextSelect=new ControlGroup({controlType:"SyntheticSelect",label:_("App Context: ").t(),controlOptions:{model:this.model.state,modelAttribute:this.options.modelAttribute.appContext,toggleClassName:"btn",items:this.appItems,popdownOptions:{attachDialogTo:"body"},prompt:"Select..."}});var permission_tabs=[{label:_("App").t(),value:splunkd_utils.APP,className:"app"},{label:_("All apps").t(),value:splunkd_utils.GLOBAL,className:"global"}];this.children.sharingRadio=new SyntheticRadioControl({enabled:!1,model:this.model.state,modelAttribute:this.options.modelAttribute.sharing,items:permission_tabs}),this.children.sharingRadioGroup=new ControlGroup({controls:[this.children.sharingRadio],controlClass:"controls-thirdblock",label:_("Sharing Context:").t()}),this.children.flashMessagesView=new FlashMessagesView({model:this.model})},getAndLoadApps:function(){var app={},appArray=[];this.collection.apps.each(function(appModel){var theAppName=appModel.entry.get("name"),appID=appModel.id;app={value:appID,label:theAppName},appModel.entry.acl.get("can_write")&&appArray.push(app)});var secondaryArray=[];$.each(appArray,function(key,value){secondaryArray.push(value)}),this.appItems=secondaryArray},aclChanged:function(){_(this.model.state.get(this.options.modelAttribute.appContext)).isUndefined()?this.children.sharingRadio.disable():this.children.sharingRadio.enable(),this.model.acl.get("can_share_app")||this.children.sharingRadio.$(".app").attr("disabled",!0),this.model.acl.get("can_share_global")||this.children.sharingRadio.$(".global").attr("disabled",!0),this.model.acl.get("modifiable")||this.children.sharingRadio.$(".btn").attr("disabled",!0)},render:function(){this.children.appContextSelect&&this.children.appContextSelect.detach(),this.children.sharingRadioGroup&&this.children.sharingRadioGroup.detach();var helpUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.exploredata.contextsettings");return this.$el.html(this.compiledTemplate({helpUrl:helpUrl})),this.children.appContextSelect.render().appendTo(this.$(".context-placeholder")),this.children.sharingRadioGroup.render().appendTo(this.$(".sharing-placeholder")),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/ReviewSettings":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__(1089),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/data_explorer/EditSourceModal"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,ReviewSettingsTemplate,TextAreaControl,FlashMessagesView,EditSourceModal,route){return BaseView.extend({moduleId:module.id,template:ReviewSettingsTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.state=new Backbone.Model({text:""}),this.children.propsText=new TextAreaControl({model:this.state,modelAttribute:"text"}),this.children.flashMessagesView=new FlashMessagesView({model:this.model}),this.editedText="",this.listenTo(this.model.explorerState,"change:appName change:selectedProvider change:selectedSource change:selectedSourceType change:selectedVirtualIndex change:sharing",this.debouncedRender)},updateSource:function(){this.model.explorerState.set("selectedSource",this.editSourceModel.get("editedSource"))},events:{"click  .edit":function(e){e.preventDefault(),this.editedText=this.model.explorerState.get("selectedSource"),this.editSourceModel=new Backbone.Model({originalSource:this.editedText,editedSource:""}),this.editSourceModel.on("change:editedSource",this.updateSource,this),this.children.editSourceDialog=new EditSourceModal({model:{editSource:this.editSourceModel},onHiddenRemove:!0}),this.children.editSourceDialog.render().appendTo($("body")),this.children.editSourceDialog.show()}},getAndLoadPropsText:function(){var stateModel=this.model.explorerState;if(void 0!==stateModel.get("selectedSourceType")){var sourceString=stateModel.get("selectedSource"),propConfString="[source::"+sourceString+"]\n",sourceTypeString=stateModel.get("selectedSourceType");propConfString+="sourcetype = "+sourceTypeString,this.state.set("text",propConfString),this.children.propsText.disable()}},render:function(){var stateModel=this.model.explorerState;this.getAndLoadPropsText();var helpUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.exploredata.review"),template=this.compiledTemplate({sourcetype:stateModel.get("selectedSourceType"),appContext:stateModel.get("appName"),theProvider:stateModel.get("selectedProvider"),vix:stateModel.get("selectedVixName"),sharingSetting:stateModel.get("sharing"),source:this.model.explorerState.get("selectedSource"),helpUrl:helpUrl});return this.$el.html(template),this.children.propsText.render().appendTo(this.$(".textarea-placeholder")),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/Browse":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/services/data/vix_indexes/DirectoryItems"),__webpack_require__("models/services/data/vix_indexes/DirectoryItem"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/data_explorer/components/DirectoryItemsTable"),__webpack_require__("views/data_explorer/DirectoryBreadcrumb"),__webpack_require__("shim/splunk.util"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,DirectoryItems,DirectoryItem,BaseView,FlashMessagesView,CollectionPaginator,ControlGroup,SyntheticSelectControl,DirectoryItemsTable,DirectoryBreadcrumb,splunkUtil,route){return BaseView.extend({moduleId:module.id,className:"section-padded",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.directoryItemsTable=new DirectoryItemsTable({collection:this.collection.directoryItems,model:{metadata:this.model.metadata}}),this.children.directoryItemsTable.on("pathClicked",this.pathClickedHandler,this),this.children.directoryBreadcrumb=new DirectoryBreadcrumb({model:this.model.state,directoryModelAttribute:this.options.directoryModelAttribute,rootPathModelAttribute:this.options.rootPathModelAttribute,selectedSourceAttribute:this.options.fileModelAttribute}),this.children.directoryBreadcrumb.on("pathClicked",this.pathClickedFromBreadcrumbHandler,this),this.children.selectRootPath=new SyntheticSelectControl({model:this.model.state,modelAttribute:this.options.rootPathModelAttribute,toggleClassName:"btn"}),this.children.selectRootPathGroup=new ControlGroup({controls:[this.children.selectRootPath],label:_("Select Directory").t()}),this.children.collectionPaginator=new CollectionPaginator({collection:this.collection.directoryItems,model:this.model.metadata}),this.children.flashMessagesView=new FlashMessagesView({collection:this.collection.directoryItems}),this.listenTo(this.model.state,"change:"+this.options.rootPathsModelAttribute,this.updateSelectRootPath),this.updateSelectRootPath()},pathClickedHandler:function(type,fullPath){this.trigger("pathClicked",type,fullPath)},pathClickedFromBreadcrumbHandler:function(type,fullPath){"dir"==type&&this.children.directoryItemsTable.updateActiveRow(-1),this.pathClickedHandler(type,fullPath)},updateSelectRootPath:function(){if(this.showSelectRootPaths()){var rootPaths=this.model.state.get(this.options.rootPathsModelAttribute),rootPathItems=_(rootPaths).map(function(rootPath){return{value:rootPath,label:rootPath}},this);this.children.selectRootPath.setItems(rootPathItems)}this.debouncedRender()},showSelectRootPaths:function(){var rootPaths=this.model.state.get(this.options.rootPathsModelAttribute);return _(rootPaths).isArray()&&rootPaths.length>1},render:function(){this.children.selectRootPathGroup&&this.children.selectRootPathGroup.detach(),this.children.directoryBreadcrumb&&this.children.directoryBreadcrumb.detach(),this.children.directoryItemsTable&&this.children.directoryItemsTable.detach(),this.children.collectionPaginator&&this.children.collectionPaginator.detach();var helpUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.exploredata.browse");return this.$el.html(this.compiledTemplate({helpUrl:helpUrl})),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),this.showSelectRootPaths()?(this.children.selectRootPathGroup.show(),this.children.selectRootPathGroup.render().appendTo(this.$(".select-root-path-placeholder"))):this.children.selectRootPathGroup.hide(),this.children.directoryBreadcrumb.render().appendTo(this.$(".breadcrumb-placeholder")),this.children.directoryItemsTable.render().appendTo(this.$(".directory-items-table-placeholder")),this.children.collectionPaginator.render().appendTo(this.$(".collection-paginator-placeholder")),this},template:'\t            <div class="section-padded section-header">\t                <h2 class="section-title"><%- _("2. Select a File").t() %></h2>\t                <div class="main-container">\t                    <div class="label-instructions">\t                        <%- _("Click on a file or directory and drill down to the file you want to view and configure.").t() %>\t                        <a href="<%= helpUrl %>" target="_blank"> <%- _("Learn more.").t()%><i class="icon-external"></i></a>\t                    </div>\t                    <div class="flash-messages-placeholder"></div>\t                        <div class="pull-left">\t                            <div class="select-root-path-placeholder"></div>\t                            <div class="breadcrumb-placeholder"></div>\t                            <div class="post-breadcrumb-placeholder"></div>\t                        </div>\t                        <div class="pull-right collection-paginator-placeholder"></div>\t                    <div class="directory-items-table-wrapper">\t                    <div class="directory-items-table-placeholder"></div>\t                </div>\t            </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/components/DirectoryItemsTable":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/data_explorer/components/DirectoryItemRow"),__webpack_require__("views/shared/TableHead"),__webpack_require__("helpers/grid/RowIterator")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,DirectoryItemRow,TableHead,RowIterator){return Base.extend({moduleId:module.id,directoryItemRows:[],initialize:function(options){Base.prototype.initialize.call(this,options),this.collection.on("request",function(){this.hideTable()},this),this.collection.on("sync",function(){this.showTable()},this),this.collection.on("reset add remove",function(){this.debouncedRender()},this),this.children.head=new TableHead({model:this.model.metadata,columns:[{label:_("Type").t(),className:"col-type",sortKey:"hasSubNodes"},{label:_("Name").t(),className:"col-name",sortKey:"basename"},{label:_("Owner").t(),className:"col-owner",sortKey:"owner"},{label:_("Size").t(),className:"col-file-size",sortKey:"size"},{label:_("Permissions").t(),className:"col-permissions"},{label:_("Last Modified Time").t(),className:"col-last-modified-time",sortKey:"mtime"}]})},rowClickedHandler:function(type,index,fullPath){"dir"==type?this.updateActiveRow(-1):this.updateActiveRow(index),this.trigger("pathClicked",type,fullPath)},updateActiveRow:function(index){_(this.directoryItemRows).each(function(directoryItemRow,rowIndex){rowIndex==index?directoryItemRow.$el.addClass("active"):directoryItemRow.$el.removeClass("active")},this)},showTable:function(){this.$(".directory-items-table-placeholder").show(),this.$(".loading-placeholder").hide()},hideTable:function(){this.$(".directory-items-table-placeholder").hide(),this.$(".loading-placeholder").show()},render:function(){var html;_(this.directoryItemRows).each(function(directoryItemRow){directoryItemRow.off(),directoryItemRow.detach(),this.stopListening(directoryItemRow,"rowClicked")},this),this.directoryItemRows=[];var rowIterator=new RowIterator;return this.el.innerHTML||(html=this.compiledTemplate({}),this.$el.html(html)),rowIterator.eachRow(this.collection,function(directoryItem,index,rowNumber){var directoryItemRow=new DirectoryItemRow({model:directoryItem,index:index,rowNumber:rowNumber});this.directoryItemRows.push(directoryItemRow),this.listenTo(directoryItemRow,"rowClicked",this.rowClickedHandler),this.$(".directory-items-table-placeholder").append(directoryItemRow.render().el)},this),this.$(".directory-items-table-head-placeholder").replaceWith(this.children.head.render().el),this},template:'\t            <table class="table table-chrome table-striped table-row-expanding">\t                <thead class="directory-items-table-head-placeholder"></thead>\t                <tbody class="directory-items-table-placeholder"></tbody>\t            </table>\t            <div class="loading-placeholder"><%- _("Loading...").t() %></div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/components/DirectoryItemRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/time"),__webpack_require__("util/format_numbers_utils"),__webpack_require__("stubs/i18n")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,splunkUtil,timeUtil,format_numbers_utils,i18n){return Base.extend({tagName:"tr",moduleId:module.id,_CUSTOM_DATE_FORMATS:{"EEE MMM d":{day_before_month:"EEE d MMM",ja_JP:"EEE MMM d日",ko_KR:"EEE MMM d일",zh_CN:"EEE MMM d日",zh_TW:"EEE MMM d日"},MMMM:{},yyyy:{ja_JP:"yyyy年",ko_KR:"yyyy년",zh_CN:"yyyy年",zh_TW:"yyyy年"}},events:{"click td a":function(event){event.preventDefault();var $target=$(event.target);this.trigger("rowClicked",$target.attr("data-item-type"),$target.attr("data-item-index"),$target.attr("data-full-path"))}},initialize:function(options){Base.prototype.initialize.call(this,options),this.model.on("change",function(){this.debouncedRender()},this),this.timeZoneOffset=splunkUtil.getConfigValue("SERVER_TIMEZONE_OFFSET")},epochToDateTime:function(time,timeZoneOffset){var date=new Date(Math.floor(1e3*(time+timeZoneOffset))),dateTime=new DateTime({date:date,year:date.getUTCFullYear(),month:date.getUTCMonth()+1,day:date.getUTCDate(),hour:date.getUTCHours(),minute:date.getUTCMinutes(),second:date.getUTCSeconds(),microsecond:1e3*date.getUTCMilliseconds()});return dateTime.weekday=function(){var d=this.date.getUTCDay()-1;return d<0&&(d=6),d},dateTime},formatFileSize:function(){var fileSizeInt=this.model.entry.content.get("size");return format_numbers_utils.bytesToFileSize(fileSizeInt)},render:function(){var content=this.model.entry.content,formattedTime=i18n.format_datetime(this.epochToDateTime(content.get("mtime"),this.timeZoneOffset),"medium"),theFileSize=this.formatFileSize(),html=this.compiledTemplate({index:this.options.index,fullPath:this.model.entry.get("name"),type:content.get("hasSubNodes")?"folder":"file",name:content.get("basename"),owner:content.get("owner"),canBrowse:content.get("canBrowse"),fileSize:content.get("hasSubNodes")&&0===content.get("size")?_("--").t():theFileSize,permissions:content.get("permissions"),lastModifiedTime:formattedTime});return this.$el.html(html),this},template:'\t                <% if(type === "folder"){%>\t                    <td class="col-type"><i class="icon-folder"></i></td>\t                <%} else { %>\t                    <td class="col-type"><i class="icon-document"></i></td> \t                <% } %>\t                <td class="col-name">\t                    <% if (canBrowse) {%>\t                        <a href="#" data-full-path="<%- fullPath %>" \t                                    data-item-type="<%- type %>" \t                                    data-item-index="<%- index %>"><%- name %></a>\t                    <%} else { %>\t                        <span><%- name %></span>\t                    <% } %>\t                </td>\t                <td class="col-owner"><%- owner %></td>\t                <td class="col-file-size"><%- fileSize %></td>\t                <td class="col-permissions"><%- permissions %></td>\t                <td class="col-last-modified-time"><%- lastModifiedTime %></td>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/DirectoryBreadcrumb":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,splunkUtils){var PROTOCOL_HOST_DIVIDER="://",ROOT_URL="/";return BaseView.extend({moduleId:module.id,events:{"click li a":function(e){e.preventDefault(),this.trigger("pathClicked","dir",$(e.target).attr("data-full-path"))}},initialize:function(options){BaseView.prototype.initialize.call(this,options);var eventType="change:"+this.options.directoryModelAttribute+" change:"+this.options.rootPathModelAttribute+" change:"+this.options.selectedSourceAttribute;this.model.on(eventType,this.debouncedRender,this)},splitPath:function(path){var host="",arrayPath=[],dividerIndex=path.indexOf(PROTOCOL_HOST_DIVIDER);if(dividerIndex!=-1){var firstSlash=path.indexOf("/",dividerIndex+PROTOCOL_HOST_DIVIDER.length);firstSlash!=-1&&(host=path.slice(0,firstSlash),path=path.slice(firstSlash+1),arrayPath=path.split("/"),arrayPath.unshift(host))}else arrayPath=path.split("/");return arrayPath},render:function(){this.$(".breadcrumbs").empty(),this.$el.html(this.compiledTemplate({}));var activePath,firstClickableIndex,currentPathIndex,lastPathIndex,rowTemplate,partialPath="",selectedPath=this.model.get(this.options.directoryModelAttribute),rootPath=this.model.get(this.options.rootPathModelAttribute),selectedSource=this.model.get(this.options.selectedSourceAttribute),activePathArray=[],rootPathArray=[],isRootClickable=rootPath==ROOT_URL,isFullPath=!!rootPath&&rootPath.indexOf(PROTOCOL_HOST_DIVIDER)!=-1;return _(selectedPath).isUndefined()||(selectedPath=splunkUtils.trim(selectedPath,"/"),isRootClickable||(rootPath=splunkUtils.trim(rootPath,"/")),activePath=selectedPath,isRootClickable?firstClickableIndex=0:(rootPathArray=this.splitPath(rootPath),firstClickableIndex=Math.max(0,rootPathArray.length-1)),_.isUndefined(selectedSource)||(activePath=splunkUtils.trim(selectedSource,"/")),""!=activePath&&(activePathArray=this.splitPath(activePath)),isRootClickable&&activePathArray.unshift(ROOT_URL),lastPathIndex=_.isUndefined(selectedSource)?activePathArray.length-1:activePathArray.length-2,_(activePathArray).each(function(path,index){var fullPath="";if(isFullPath&&0==index?partialPath+=path:path!=ROOT_URL&&(partialPath+="/"+path),currentPathIndex=activePathArray.indexOf(path),currentPathIndex==-1)throw new Error("Breadcrumb error: Path ["+path+"] is not in Selected Path ["+selectedPath+"]");path!=ROOT_URL&&(fullPath=partialPath+"/"),rowTemplate=path==ROOT_URL?currentPathIndex==lastPathIndex?_(this.nonclickableRootTemplate).template({}):_(this.clickableRootTemplate).template({}):currentPathIndex<firstClickableIndex||currentPathIndex==lastPathIndex?_(this.nonclickableTemplate).template({name:path,selectedPath:fullPath,source:selectedSource}):_(selectedSource).isUndefined()||currentPathIndex!=activePathArray.length-1?_(this.clickableTemplate).template({name:path,selectedPath:fullPath,source:selectedSource}):_(this.lastCrumbTemplate).template({name:path,selectedPath:fullPath,source:selectedSource}),this.$(".breadcrumbs").append(rowTemplate)},this)),this},template:'\t                <ul class="nav nav-pills breadcrumbs">\t                </ul>\t            ',clickableTemplate:'<li><table><tr><td><a href="#" data-full-path="<%= selectedPath%>"><%= name %></a></td><td  style="width: auto">\t            <%-_("/").t() %></td></tr></li></table> \t            ',nonclickableTemplate:'<li><table><tr><td><%= name %></td><td  style="width: auto">\t            <%-_("/").t() %></td></tr></table></li>\t            ',clickableRootTemplate:'<li><table><tr><td><a href="#" data-full-path="/">/</a></td></tr></li></table> \t            ',nonclickableRootTemplate:"<li><table><tr><td>/</td></tr></li></table> \t            ",lastCrumbTemplate:'<li><table><tr><td class="last-crumb""><%= name %></td><td  style="width: auto" ></td></tr></table></li>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/Confirmation":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__(1088),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,ConfirmationTemplate,route){return BaseView.extend({moduleId:module.id,template:ConfirmationTemplate,initialize:function(options){BaseView.prototype.initialize.call(this,options)},render:function(){var index=this.model.explorerState.get("selectedVixName"),source=this.model.explorerState.get("selectedSource");this.model.explorerState.get("selectedSourceType");source&&(source=source.split("...").join("*"));var search_string='search index="'+index+'" source="'+source+'"';return this.$el.html(this.compiledTemplate({route:route,root:this.model.application.get("root"),locale:this.model.application.get("locale"),app:this.model.application.get("app"),searchapp:this.model.explorerState.get("appName"),system:"system",search:search_string})),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_explorer/Preview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,FlashMessagesView){return BaseView.extend({moduleId:module.id,clearErrorState:!1,routerView:void 0,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.flashMessagesView=new FlashMessagesView({model:this.model}),this.listenTo(this.children.flashMessagesView,"change",this.updateState)},appendRouter:function(routerView){this.routerView=routerView,this.updateState(),this.$(".router-placeholder").append(routerView.el)},detachRouter:function(){this.routerView=void 0,this.updateState()},updateState:function(){this.children.flashMessagesView.flashMsgCollection.length>0?(this.$(".loading").hide(),this.$(".router-placeholder").hide()):this.routerView?(this.$(".loading").hide(),this.$(".router-placeholder").show()):(this.$(".loading").show(),this.$(".router-placeholder").hide())},render:function(){return this.children.flashMessagesView&&this.children.flashMessagesView.detach(),this.$el.html(this.compiledTemplate({})),this.$(".router-placeholder").hide(),this.children.flashMessagesView.appendTo(this.$(".flash-messages-placeholder")),this},template:'\t               <div class="preview-container">\t                    <div class="section-padded">\t                        <div class="flash-messages-placeholder"></div>\t                        <div class="loading"><%- _("Loading...").t() %></div>\t                    </div>\t                </div>\t                <div class="router-placeholder layoutBodyColumns layoutRow addDataBody"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},475:function(module,exports){module.exports='<div class="flashMessageWrapper"></div>\n<div class="source-info" style="padding:15px;">\n    <div style="float:left;">\n        <span class="source-type"></span>\n    </div>\n    <div class="pull-right">\n        <div class="btn-group ">\n            <a href="#" class="btn btn-primary btn-saveAs">\n                <%= _(\'Save As\').t() %>\n            </a>\n        </div>\n        <div style="clear:both"></div>\n    </div>\n    <div style="clear: both;"></div>\n</div>\n<div class="settingsPanels"></div>\n';
},476:function(module,exports){module.exports='<div class="layoutHeader layoutRow"></div>\n<div class="layoutBodyColumns layoutRow flexRow">\n    <div class="layoutCol layoutColLeft scroll-y scroll-x"></div>\n    <div class="layoutCol layoutColRight"></div>\n</div>'},477:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.search-results-wrapper{z-index:99;clear:none}.source-label{font-weight:700}.header-table-static .header-table-wrapper{border:0}.shared-adddata-inputforms-sourseselectordialog .modal-body{padding:0;margin:0}.datapreview-settings-advancedfields input[type=text]{width:80%}.select2-container{width:88%}.select2-container .select2-choice .select2-arrow{display:none}.datapreview{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;height:100%;background-color:#fff}.datapreview .shared-page,.datapreview body,.datapreview html{height:100%!important}.datapreview .scroll-x{overflow-x:auto;-webkit-overflow-scrolling:touch}.datapreview .scroll-y{overflow-y:auto;-webkit-overflow-scrolling:touch}.datapreview .layoutBodyColumns{background-color:#fff;overflow:auto}.datapreview .layoutColLeft{width:400px}.datapreview .layoutColRight{-ms-flex:1;flex:1;min-width:0}.datapreview .layoutBodyColumns,.datapreview .main-section-body,.datapreview .shared-page{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1}.datapreview .flexRow{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-positive:1;flex-grow:1}.datapreview .layoutColRight{border-left:1px solid #ccc}.datapreview .layoutBodyColumns{border-top:1px solid #ccc;top:110px}.settings-wrapper{height:100%}.linecountDistributionTable td{text-align:center}.datapreview-settings .form-horizontal .control-label{width:90px}.datapreview-settings .form-horizontal .controls{margin-left:100px}.datapreview-settings-advanced input[type=text]{width:80%}.linecountDistributionTable{width:200px}.linecountDistributionTable td{padding-bottom:4px}.copyToClipboardDialog textarea{width:85%;height:200px}.settingsPanels{border-top:1px solid #333;border-bottom:1px solid #333}.accordion .accordion-group.active .accordion-toggle:hover{background-color:#ddd;cursor:pointer}.shared-adddata-inputforms-sourceselectordialog{top:40px;bottom:40px}.shared-adddata-inputforms-sourceselectordialog .modal-body{padding:0;max-height:none}.shared-adddata-inputforms-sourceselectordialog .modal-footer{position:absolute;bottom:0;left:0;right:0}.shared-adddata-inputforms-sourceselectordialog .modal-body{position:absolute;top:53px;bottom:47px;left:0;right:0;height:auto}.shared-adddata-inputforms-sourceselectordialog .shared-flashmessages{padding:10px 20px;margin:0;position:absolute;bottom:0;left:0;right:0}.datapreview-results .alerts{margin-left:20px}.shared-adddata-inputforms-sourceselector-sourceselector .filepath{padding:10px 20px;margin:0;position:absolute;bottom:0;left:0;right:0;background-color:#f3f3f3;min-height:16px}.shared-adddata-inputforms-sourceselector-sourceselector .filepath .uneditable-input{width:747px;margin-bottom:0}.input-container .shared-findinput{text-align:center;margin:5px}.input-container .shared-findinput .search-query{width:190px}.treeview{border-bottom:1px solid #ccc;overflow:auto;position:absolute;top:0;bottom:36px;left:0;right:0}.treeview ul{list-style-type:none;margin:0 0 0 17px}.treeview ul ul{margin:0 0 0 24px}.treeview>ul{margin-bottom:-1px}.treeview .jqtree-element{border-bottom:1px solid #d5d5d5;line-height:20px;padding-left:24px;position:relative}.treeview a.jqtree-toggler{color:transparent;width:14px;overflow:hidden;text-decoration:none;display:inline-block;white-space:nowrap;vertical-align:middle;background-color:#0095cf;border-radius:2px;line-height:14px;position:absolute;left:3px;top:3px}.treeview a.jqtree-toggler:before{display:inline-block;color:#fff;content:"\\2C5";font-family:Splunk Icons;padding-right:20px;vertical-align:middle;text-align:center;width:14px}.treeview a.jqtree-toggler:hover{background-color:#004d6b}.treeview a.jqtree-toggler.jqtree-closed:before{content:"\\203A"}.treeview .jqtree-title{display:block;color:#0095cf;cursor:pointer}.treeview .jqtree-selected{background-color:rgba(61,171,255,.12)}.treeview .selectedPath{width:650px}.jqtree-closed>ul{display:none}.noEventsMessage{margin:20px;display:none}.datapreview-save .shared-flashmessages,.datapreview-settings .shared-flashmessages{width:auto;word-wrap:break-word}.datapreview-save .control-group{clear:both}.datapreview-save .control-label{float:left;width:30%;margin-right:20px;text-align:right;line-height:2}.treeview a.jqtree-toggler{background-color:#333;border-radius:0}.treeview a.jqtree-toggler:hover{background-color:#333}',""])},1087:function(module,exports){module.exports='\n\n<div class="main">\n    <div class="section-padded section-header">\n        <h2 class="section-title"><%= _(\'4. Enter Context Settings\').t() %></h2>\n\n        <div class="label-instructions">\n            <%-_(\'Determine who can use the settings you have configured for this source.\').t() %>\n            <a href="<%= helpUrl %>" target="_blank"> <%- _("Learn more.").t()%><i class="icon-external"></i></a>\n        </div>\n        <div class="flash-messages-placeholder"></div>\n    </div>\n\n    <div class="section appcontext-section">\n            <h3 class="context-title">\n            <%= _(\'Application context\').t() %>\n        </h3>\n        <div class="section-body">\n                <div class="section-desc">\n\n                </div>\n                <div class="section-props">\n                    <table>\n                        <tr>\n                            <td>\n                                <div class="section-desc"><%=_(\'Optionally select an app to which you want to apply your source configuration. If you chose an app, the configuration (sourcetype, partition, etc) file will only be applied to the source from that app. If you do not select an app, the configuration by default is applied to the source in all apps.\').t() %></td>\n                            </td>\n                            <td>\n                                <div class="context-placeholder"></div>\n                                    </td>\n\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n\n        <div class="section sharing-section">\n            <h3 class="context-title">\n                <%= _(\'Sharing Context\').t() %>\n            </h3>\n            <div class="section-body">\n                <div class="section-desc">\n\n                </div>\n                <div class="section-props">\n                    <table>\n                        <tr>\n                            <td>\n                                <div class="section-desc"> <%=_(\'Select permissions for your configuration.\').t() %></div>\n                            </td>\n                            <td>\n                                <div class="sharing-placeholder"></div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},1088:function(module,exports){module.exports='<div class="main">\n    <div class="section-header">\n\n    </div>\n    <div class="section">\n<div class="success-container">\n\n<i class="icon-check-circle"></i>\n\n<div class="success-top">\n    <div class="success-header"><%= _(\'Success! Your new configuration has been saved.\').t() %></div>\n\n    <div><%= _(\'To change this configuration, click Explore More Data and repeat the steps to replace your configuration.\').t() %></div>\n</div>\n    <br>\n    <div class="success-option add-more-data">\n        <a class="btn btn-primary btn-success btn-explore" href="<%- route.exploreData(root, locale, system) %>"><%= _(\'Explore More Data\').t() %></a>\n        <%= _(\'Browse, configure, or reconfigure another file.\').t() %>\n    </div>\n<br>\n    <div class="success-option add-more-data">\n        <a class="btn btn-primary btn-success btn-search" href="<%- route.search(root, locale, searchapp, {data: {q: search, earliest: \'0\', latest: \'\'}}) %>"><%= _(\'Search\').t() %></a>\n        <%= _(\'Start searching your data.\').t() %>\n    </div>\n<br>\n    <div class="success-option add-more-data">\n        <a class="btn btn-primary  btn-success btn-home" href="<%- route.home(root, locale) %>"><%= _(\'Home\').t() %></a>\n        <%= _(\'Return to the Home page.\').t() %>\n    </div>\n    </div>\n</div>\n    </div>'},1089:function(module,exports){module.exports='\n<div class="main">\n    <div class="section-header">\n        <h2 class="section-title"><%= _(\'5. Review\').t() %></h2>\n        <div class="label-instructions">\n            <%= _(\'Review your saved configuration details.\').t() %>\n            <a href="<%= helpUrl %>" target="_blank"> <%- _("Learn more.").t()%><i class="icon-external"></i></a>\n        </div>\n        <div class="flash-messages-placeholder"></div>\n    </div>\n    <div class="section">\n        <div class="section-props">\n                <table>\n                    <tr>\n                        <td class="review-label"><%= _(\'Provider\').t() %></td>\n                        <td class="review-value"><%= theProvider %></td>\n                    </tr>\n                    <tr>\n                        <td class="review-label"><%- _("Virtual Index").t() %></td>\n                        <td class="review-value"><%- vix %></td>\n                    </tr>\n                    <tr>\n                        <td class="review-label"><%= _(\'Source\').t() %></td>\n                        <td class="review-value"><%= source %></td>\n                        <td class="edit-link"><a href="#" class="edit"><%= _(\'Edit\').t() %></a>\n                    </tr>\n                    <tr>\n                        <td class="review-label"><%= _(\'Sourcetype\').t() %></td>\n                        <td class="review-value"><%= sourcetype %></td>\n                    </tr>\n                    <tr>\n                        <td class="review-label"><%= _(\'App context\').t() %></td>\n                        <td class="review-value"><%- appContext %></td>\n                    </tr>\n                    <tr>\n                        <td class="review-label"><%- _("Sharing Preference").t() %></td>\n                        <td class="review-value"><%- sharingSetting %></td>\n                    </tr>\n              \n                    <tr></tr>\n                </table>\n\n            </div>\n    </div>\n        <div class="section">\n            <div class="section-props">\n                <tr>\n                        <h3 class="label-instructions"><%= _(\'The following configuration has been added to your props.conf file. You can copy these to the clipboard for reuse.\').t() %>\n                        </h3>\n                           <div class="textarea-placeholder textarea"></div>\n                </tr>\n            </div>\n        </div>\n    </div>\n'},1090:function(module,exports){module.exports='\n<div class="main">\n<div class="section-padded section-header">\n    <h2 class="section-title">\n        <%- _("1. Select a Provider and Virtual Index").t() %>\n    </h2>\n    <div class="main-container">\n    <div class="label-instructions">\n        <%-_("You can browse your Provider\'s files and configure settings for those files. To get started, select your Provider and Virtual Index.").t() %>\n        <a href="<%= helpUrl %>" target="_blank"> <%- _(\'Learn more.\').t()%><i class="icon-external"></i></a>\n    </div>\n    <div class="flash-messages-placeholder"></div>\n    <div class="error-placeholder">\n\n    </div>\n    <div class="components-placeholder">\n        <table>\n            <tr>\n                <td>\n                    <div class="synthetic-select-placeholder1"></div>\n                </td>\n                <td>\n                    <div class="synthetic-select-placeholder2"></div>\n                </td>\n            </tr>\n        </table>\n\n    </div>\n    </div>\n</div>\n</div>\n'},1091:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".shared-page,body,html{height:100%!important}.scroll-x{overflow-x:auto}.scroll-x,.scroll-y{-webkit-overflow-scrolling:touch}.scroll-y{overflow-y:auto}.layoutBodyColumns{background-color:#fff;overflow:auto}.layoutColLeft{width:400px}.layoutColRight{-ms-flex:1;flex:1;min-width:0}.layoutBodyColumns,.main-section-body,.shared-page{-ms-flex-direction:column;flex-direction:column}.flexRow,.layoutBodyColumns,.main-section-body,.shared-page{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1}.flexRow{-ms-flex-direction:row;flex-direction:row}.wizard-steps-placeholder{min-height:85px;margin-left:1em;display:inline-block}.viewstack-placeholder{background-color:#fff;top:0;bottom:0;min-height:600px}.components-placeholder{margin-top:3em}.dataexplorer-selectvirtualindex label{font-weight:700}.dataexplorer-selectvirtualindex td{width:150px;padding-right:20px}.dataexplorer-selectvirtualindex .section-header{padding:20px}.dataexplorer-selectvirtualindex .section-title{border-bottom:none;font-weight:200px}.dataexplorer-selectvirtualindex .label-instructions{padding-top:10px;padding-left:30px;padding-bottom:10px}.dataexplorer-browse label{font-weight:700}.dataexplorer-browse .section-title{border-bottom:none;font-weight:200px}.dataexplorer-browse .main-container{padding-left:30px}.dataexplorer-browse .label-instructions{padding-top:10px;padding-bottom:10px}.dataexplorer-browse .loading-placeholder{margin-left:auto;margin-right:auto;padding-right:30px;width:100%}.dataexplorer-browse .root-path-container{padding-top:10px}.dataexplorer-browse .root-path-container .select-root-path-label{font-weight:600}.dataexplorer-browse .root-path-container .select-root-path-placeholder{padding-top:5px}.dataexplorer-browse .directory-items-table-wrapper{clear:both}.dataexplorer-browse .collection-paginator-placeholder{margin-top:8px;margin-bottom:8px}.dataexplorer-directorybreadcrumb .breadcrumbs{padding-top:10px}.dataexplorer-directorybreadcrumb td{padding-right:10px;width:auto}.dataexplorer-directorybreadcrumb .last-crumb{font-weight:700}.dataexplorer-components-directoryitemrow td .col-type{width:20px}.dataexplorer-components-directoryitemstable .table-striped .dataexplorer-components-directoryitemrow.active>td{background-color:#3863a0}.dataexplorer-components-directoryitemstable .table-striped .dataexplorer-components-directoryitemrow.active>td,.dataexplorer-components-directoryitemstable .table-striped .dataexplorer-components-directoryitemrow.active>td>a{color:#fff}.dataexplorer-components-directoryitemstable td{overflow:hidden}.dataexplorer-components-directoryitemstable .col-name{width:40%;text-overflow:ellipsis;white-space:nowrap}.dataexplorer-components-directoryitemstable .col-type{width:4em}.dataexplorer-components-directoryitemstable .col-owner{width:20%;text-overflow:ellipsis}.dataexplorer-components-directoryitemstable .col-file-size{width:7em}.dataexplorer-components-directoryitemstable .col-permissions{width:6em}.dataexplorer-components-directoryitemstable .col-last-modified-time{width:30%;text-overflow:ellipsis;white-space:nowrap}header{top:0;height:25px}.main-section-body,header{position:absolute;left:0;right:0}.main-section-body{top:25px;bottom:0}.dataexplorer-preview .section-header{padding:20px}.dataexplorer-preview .section-title{border-bottom:none;font-weight:200px}.dataexplorer-preview .label-instructions{padding-top:10px;padding-left:30px;padding-bottom:10px}.dataexplorer-preview .loading{margin-left:20px}.preview-container,.router-placeholder{top:85px}.dataexplorer-additionalsettings .main{padding:20px;min-height:800px}.dataexplorer-additionalsettings .title{font-weight:400;font-size:20px}.dataexplorer-additionalsettings .label-instructions{padding-top:10px;padding-left:30px;padding-bottom:10px}.dataexplorer-additionalsettings .section-title{border-bottom:none;font-weight:200px}.dataexplorer-additionalsettings .section{margin-bottom:40px;padding:20px}.dataexplorer-additionalsettings .context-title{width:100%;padding-left:30px}.dataexplorer-additionalsettings .section-body{margin-right:100px;float:left}.dataexplorer-additionalsettings .section-desc{width:400px;padding-left:10px}.dataexplorer-additionalsettings .section-props{float:left}.dataexplorer-additionalsettings .context_placeholder,.dataexplorer-additionalsettings .sharing_placeholder{padding-left:30px}.dataexplorer-additionalsettings .appcontext-section,.dataexplorer-additionalsettings .sharing-section{padding-left:20px}@media{.dataexplorer-additionalsettings h3{font-size:16px;font-weight:400}.dataexplorer-additionalsettings td{width:300px;padding-left:20px}}.dataexplorer-reviewsettings .section-header{padding:20px}.dataexplorer-reviewsettings .main{padding:20px;min-height:800px}.dataexplorer-reviewsettings .label-instructions{padding-top:10px;padding-left:30px;padding-bottom:10px}.dataexplorer-reviewsettings .section-title{border-bottom:none;font-weight:200px}.dataexplorer-reviewsettings .section{clear:both}.dataexplorer-reviewsettings .edit-link{width:200px;padding-left:20px;height:25px;padding-top:20px;padding-bottom:20px}.dataexplorer-reviewsettings .section-props{padding:20px}.dataexplorer-reviewsettings .section-change{float:left}.dataexplorer-reviewsettings .desc{width:300px}.dataexplorer-reviewsettings .review-label{text-align:right;font-weight:700;padding:20px}.dataexplorer-reviewsettings .source-value{text-align:right;font-weight:700;padding:30px 20px 20px;width:300px}.dataexplorer-reviewsettings .edit-link-placeholder,.dataexplorer-reviewsettings .review-value{width:200px;padding-left:30px;height:25px;padding-top:20px;padding-bottom:20px}@media{.dataexplorer-reviewsettings .control .uneditable-input.uneditable-input-multiline{height:150px;width:400px;padding-left:30px}}.dataexplorer-reviewsettings .textarea-placeholder{padding-left:30px}.dataexplorer-editsourcemodal textarea{height:30px;width:350px;overflow:auto}.dataexplorer-confirmation .shared-appbar{display:none}.dataexplorer-confirmation .success-container{width:700px;margin:0 auto;margin-top:70px}.dataexplorer-confirmation .icon-check-circle{float:left;font-size:50px;color:#65a637;margin-right:15px;line-height:33px}.dataexplorer-confirmation .success-top{float:left;margin-bottom:25px}.dataexplorer-confirmation .success-header{font-family:Roboto;font-weight:200px;font-size:24px;margin-bottom:5px}.dataexplorer-confirmation .success-option{margin-top:25px}.dataexplorer-confirmation .btn-success{width:120px;margin-right:15px}",""])}});