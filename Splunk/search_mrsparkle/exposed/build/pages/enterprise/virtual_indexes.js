webpackJsonp([73],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/enterprise")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("routers/VirtualIndexes"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,VixRouter,router_utils){new VixRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1157:function(module,exports){module.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <col class="col-flex col-info <%- headerCellClass %>">\n        <col class="col-slim col-selected">\n        <col class="col-flex col-name">\n        <col class="col-flex col-index">\n        <col class="col-slim col-status">\n        <col class="col-slim col-actions">\n        <col class="col-slim col-provider">\n        <col class="col-slim col-bandwidth">\n    </colgroup>\n    <thead>\n    <% if (collection.length > 0) { %>\n    <tr>\n        <th class="<%- headerCellClass %>"><i class="icon-info"></i></th>\n        <th class="select-all-checkbox"></th>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <a href="#"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n            <th class="sorts" <%- sortKeyAttribute %>="vix.output.buckets.from.indexes">\n        <a href="#"><%= _(\'Index\').t() %><i class="icon-sorts"></i></a>\n        </th>\n            <th class="sorts" <%- sortKeyAttribute %>="disabled">\n        <a href="#"><%= _(\'Status\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th><%= _(\'Actions\').t() %></th>\n        <th class="sorts" <%- sortKeyAttribute %>="vix.provider">\n            <a href="#"><%= _(\'Provider\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="bandwidth-header"><%= _(\'Max Bandwidth (Provider)\').t() %>\n            <a href="#" class="tooltip-link"><%- _("?").t() %></a>\n        </th>\n    </tr>\n    <% } %>\n    </thead>\n    <tbody class="archive-grid-table-body">\n\n    </tbody>\n\n</table>\n'},1158:function(module,exports){module.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <col class="col-flex col-name">\n        <col class="col-slim col-status">\n        <col class="col-slim col-actions">\n        <col class="col-slim col-provider">\n    </colgroup>\n    <thead>\n    <% if (collection.length > 0) { %>\n    <tr>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <a href="#"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="sorts" <%- sortKeyAttribute %>="disabled">\n        <a href="#"><%= _(\'Status\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="col-actions"><%= _(\'Actions\').t() %></th>\n        <th class="sorts" <%- sortKeyAttribute %>="vix.provider">\n            <a href="#"><%= _(\'Provider\').t() %><i class="icon-sorts"></i></a>\n        </th>\n    </tr>\n    <% } %>\n    </thead>\n    <tbody>\n    <% eachRow(collection, function(model, index, rowNumber, isExpanded) { %>\n    <tr class="list-item">\n        <td>\n            <a href="<%= makeEditLink(model.entry.get(\'name\'))%>"><%- stringUtils.truncateTrailingString(model.entry.get(\'name\'), maxIndexLength) %></a>\n        </td>\n        <td data-id="<%- model.get(\'id\') %>">\n            <% if (model.entry.content.get(\'disabled\')) { %>\n                <%= _(\'Disabled\').t() %> <a href="#" class="enableAction"><%= _(\'Enable\').t() %></a>\n            <% } else { %>\n                <%= _(\'Enabled\').t() %> <a href="#" class="disableAction"><%= _(\'Disable\').t() %></a>\n            <% } %>\n        </td>\n        <td class="actions" data-id="<%- model.get(\'id\') %>">\n            <a href="#" class="searchAction"><%= _(\'Search\').t() %></a>\n            <a href="#" class="deleteAction"><%= _(\'Delete\').t() %></a>\n        </td>\n        <td>\n            <a href="<%= makeProviderLink(model.entry.content.get(\'vix.provider\'))%>"><%- stringUtils.truncateTrailingString(model.entry.content.get(\'vix.provider\'), maxProviderLength) %></a>\n        </td>\n    </tr>\n    <% }) %>\n    </tbody>\n\n</table>\n'},1159:function(module,exports){module.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <col class="col-flex">\n        <col class="col-slim">\n        <col class="col-100">\n        <col class="col-slim">\n    </colgroup>\n    <thead>\n    <% if (collection.length > 0) { %>\n    <tr>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <a href="#"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th>\n            <%= _(\'Actions\').t() %>\n        </th>\n        <th class="sorts" <%- sortKeyAttribute %>="vix.family">\n            <a href="#"><%= _(\'Provider family\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <% if (showVixTab) { %>\n        <th class="sorts" <%- sortKeyAttribute %>="virtual_indexes">\n            <a href="#"><%= _(\'Indexes\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <% } %>\n    </tr>\n    <% } %>\n    </thead>\n    <tbody>\n    <% eachRow(collection, function(model, index, rowNumber, isExpanded) { %>\n    <tr class="list-item">\n        <td><a href="<%= makeEditLink(model.entry.get(\'name\'))%>"><%- stringUtils.truncateTrailingString(model.entry.get(\'name\'), maxLength) %></a> </td>\n        <td data-id="<%- model.get(\'id\') %>">\n            <% if (model.entry.content.get(\'index_references\') == 0) { %>\n            <a href="#" class="deleteAction"><%= _(\'Delete\').t() %></a>\n            <% } else { %>\n            <span class="tooltip-link muted" rel="tooltip" data-title="<%- _(\'Cannot delete the provider - it is used by one or more archive and/or virtual indexes.\').t() %>"><%= _(\'Delete\').t() %></span>\n            <% } %>\n            <a href="<%- makeCloneLink(model.entry.get(\'name\'))%>"><%= _(\'Clone\').t() %></a>\n        </td>\n        <td><%- model.entry.content.get(\'vix.family\') %> </td>\n        <% if (showVixTab) { %>\n        <td data-name="<%-model.entry.get(\'name\')%>"><a href="#" class="index_references"><%- model.entry.content.get(\'virtual_indexes\') %></a></td>\n        <% } %>\n    </tr>\n    <% }) %>\n    </tbody>\n\n</table>\n'},1160:function(module,exports){module.exports='\n<div class="section-header section-padded">\n    <div class="btn-toolbar pull-right">\n        <div class="btn-group">\n            <a href="<%=docLink%>" class="btn" target="_blank"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n        </div>\n    </div>\n    <h2 class="section-title"><%= _(\'Virtual Indexes\').t() %></h2>\n\n    <div id="gettingstarted-content" style="margin: 10px 0px;"><%= _(\'Virtual indexes are used to connect Splunk with data received from providers, or external storage systems, such as Hadoop or Cassandra. You must have specific licenses for these providers to use this feature.\').t() %>\n    </div>\n\n    <a href="<%=learnMoreLink%>" class="btn btn-primary" target="_blank"><%= _(\'Learn More\').t() %></a>\n</div>\n'},1161:function(module,exports){module.exports='<div class="section-header section-padded">\n  <div class="pull-right">\n      <a href="<%=docLink%>" class="doc" target="_blank"><%=_(\'Documentation\').t() %> <i class="icon-external"></i></a>\n  </div>\n  <h2 class="section-title"><%= _(\'Virtual indexes\').t() %></h2>\n</div>\n\n<ul class="nav nav-tabs">\n  <li class="active" id="providers-tab">\n    <a href="#vix_providers" data-toggle="tab"><%= _(\'Providers\').t() %> (<span class=\'provider_count\'><%-provider_count%></span>)</a>\n  </li>\n  <li id="indexes-tab">\n    <a href="#vix_indexes" data-toggle="tab"><%= _(\'Virtual Indexes\').t() %><% if (showVixTab) { %> (<span class=\'indexes_count\'><%-indexes_count%></span>)<% } %></a>\n  </li>\n  <li id="archive-tab">\n    <a href="#vix_archives" data-toggle="tab"><%= _(\'Archived Indexes\').t() %> (<span class=\'archive_count\'><%-archive_count%></span>)</a>\n  </li>\n  <li id="impersonation-tab">\n    <a href="#vix_impersonation" data-toggle="tab"> <%= _(\'Pass Through Authentication\').t() %> </a>\n  </li>\n</ul>\n<div class="tab-content" id="configurations-tabs-contents">\n  <div class="tab-pane" id="vix_providers"></div>\n  <div class="tab-pane" id="vix_indexes"></div>\n  <div class="tab-pane" id="vix_archives"></div>\n  <div class="tab-pane" id="vix_impersonation"></div>\n</div>\n'},"models/services/admin/Impersonation":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("util/splunkd_utils"),__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,splunkd_utils,BaseModel){var syncCreate=function(model,options){var bbXHR,url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json",name:model.entry.get("name")}};url=_.isFunction(model.url)?model.url():model.url;var app_and_owner={};return options.data&&(app_and_owner=$.extend(app_and_owner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0})),defaults.url=splunkd_utils.fullpath(url,app_and_owner),defaults.processData=!0,$.extend(!0,defaults.data,this.entry.content.toJSON()),$.extend(!0,defaults,options),delete defaults.data.app,delete defaults.data.owner,delete defaults.data.sharing,defaults.data=splunkd_utils.normalizeValuesForPOST(defaults.data),bbXHR=Backbone.sync.call(null,"create",model,defaults),bbXHR.done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()},syncUpdate=function(model,options){var bbXHR,url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}},id=model.id;return url=splunkd_utils.fullpath(id,{}),$.extend(!0,defaults.data,model.entry.content.toJSON()),$.extend(!0,defaults,options),defaults.processData=!0,defaults.type="POST",defaults.url=url,defaults.data=splunkd_utils.normalizeValuesForPOST(defaults.data),bbXHR=Backbone.sync.call(null,"update",model,defaults),bbXHR.done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()},Model=BaseModel.extend({url:"admin/conf-impersonation",initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){switch(method){case"create":return syncCreate.call(this,model,options);case"update":return syncUpdate.call(this,model,options);default:return BaseModel.prototype.sync.apply(this,arguments)}},setName:function(val,options){if(null==val)return this;var key="name";return val="provider:"+val,this.entry.set(key,val,options),this},getName:function(){var val=this.entry.get("name");return"string"==typeof val&&"provider:"===val.slice(0,9)&&(val=val.slice(9)),val},getHadoopUser:function(splunkUser){var data=this.entry.content.get(splunkUser);if(data)var hadoopUser=JSON.parse(data).user;return hadoopUser},getHadoopQueue:function(splunkUser){var data=this.entry.content.get(splunkUser);if(data)var hadoopQueue=JSON.parse(data).queue;return hadoopQueue},setAllAttributes:function(provider,splunkUser,hadoopUser,hadoopQueue){this.setName(provider),this.entry.content.set(splunkUser,JSON.stringify({user:hadoopUser,queue:hadoopQueue}))}});return Model}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/classicurl"),__webpack_require__("views/Base"),__webpack_require__("views/virtual_indexes/ArchiveTab"),__webpack_require__("views/virtual_indexes/IndexesTab"),__webpack_require__("views/virtual_indexes/ProvidersTab"),__webpack_require__("views/virtual_indexes/UserImpersonationTab"),__webpack_require__("views/virtual_indexes/DeleteDialog"),__webpack_require__("views/virtual_indexes/EditArchiveDialog"),__webpack_require__("views/virtual_indexes/EditCutoffDialog"),__webpack_require__("views/virtual_indexes/NoLicense"),__webpack_require__(1161),__webpack_require__("uri/route"),__webpack_require__("shim/bootstrap.tab"),__webpack_require__("views/virtual_indexes/Master.pcss"),__webpack_require__("views/virtual_indexes/shared.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,classicurlModel,BaseView,ArchiveTabView,IndexesTabView,ProvidersTabView,UserImpersonationTabView,DeleteDialog,EditArchiveDialog,EditCutoffDialog,NoLicenseView,MasterTemplate,route,bootstrapTab,css,cssShared){return BaseView.extend({moduleId:module.id,template:MasterTemplate,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.showVixTab=this.model.user.canUseVirtualIndexes(),this.listenTo(this.collection.providers.paging,"change:total",this.updateProvidersCount),this.listenTo(this.collection.indexes.paging,"change:total",this.updateIndexesCount),this.listenTo(this.collection.archives.paging,"change:total",this.updateArchiveCount),this.showVixTab?this.children.indexesTabView=new IndexesTabView({collection:this.collection,model:this.model}):this.children.indexesTabView=new NoLicenseView({model:{application:this.model.application}}),this.children.archiveTabView=new ArchiveTabView({collection:this.collection,model:this.model}),this.children.providersTabView=new ProvidersTabView({collection:this.collection,model:this.model,showVixTab:this.showVixTab}),this.children.userImpersonationTabView=new UserImpersonationTabView({collection:this.collection,model:this.model,userImpersonationDfd:this.options.userImpersonationDfd,splunkUsersDfd:this.options.splunkUsersDfd}),this.children.deleteDialog=new DeleteDialog({model:this.model}),this.collection.providers.on("deleteRequest",function(victimModel){this.children.deleteDialog=new DeleteDialog({collection:this.collection.providers,model:victimModel,onHiddenRemove:!0,type:"provider"}),$("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},this),this.collection.indexes.on("deleteRequest",function(victimModel){this.children.deleteDialog=new DeleteDialog({collection:this.collection.indexes,model:victimModel,onHiddenRemove:!0,type:"index"}),$("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},this),this.collection.archives.on("deleteRequest",function(victimModel){this.children.deleteDialog=new DeleteDialog({collection:this.collection.archives,model:victimModel,onHiddenRemove:!0,type:"archive"}),$("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},this),this.collection.indexes.on("search",this.onSearch,this),this.collection.archives.on("search",this.onSearch,this),this.collection.archives.on("editArchive",this.onEditArchive,this),this.collection.archives.on("editCutoffSec",this.onEditArchiveCutoff,this)},events:{"click #providers-tab a":function(){classicurlModel.save({t:"providers"})},"click #indexes-tab a":function(){classicurlModel.save({t:"indexes"})},"click #archive-tab a":function(){classicurlModel.save({t:"archives"})},"click #impersonation-tab a":function(){classicurlModel.save({t:"impersonation"})}},updateProvidersCount:function(){var el=this.$el.find(".provider_count");el.text(this.collection.providers.paging.get("total"))},updateIndexesCount:function(){var el=this.$el.find(".indexes_count");el.text(this.collection.indexes.paging.get("total"))},updateArchiveCount:function(){var el=this.$el.find(".archive_count");el.text(this.collection.archives.paging.get("total"))},makeDocLink:function(location){return route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),location)},onSearch:function(search){var url=route.search(this.model.application.get("root"),this.model.application.get("locale"),"search",{data:{q:"index="+search}});window.open(url,"_blank")},onEditArchive:function(archive){this.children.editDialog=new EditArchiveDialog({model:{archive:archive}}),$("body").append(this.children.editDialog.render().el),this.children.editDialog.show()},onEditArchiveCutoff:function(archive){this.children.editCutoffDialog=new EditCutoffDialog({model:{archive:archive,application:this.model.application,limits:this.model.limits}}),$("body").append(this.children.editCutoffDialog.render().el),this.children.editCutoffDialog.show()},render:function(){var urlDfd=$.Deferred();classicurlModel.fetch({success:function(model,response){var t=classicurlModel.get("t");urlDfd.resolve({t:t})}});var html=this.compiledTemplate({provider_count:this.collection.providers.paging.get("total"),indexes_count:this.collection.indexes.paging.get("total"),archive_count:this.collection.archives.paging.get("total"),docLink:this.makeDocLink("manager.virtualindex.dashboard"),showVixTab:this.showVixTab}),$html=$(html);return $.when(urlDfd).done(function(args){return 0==$html.filter(".nav-tabs").find('a[href="#vix_'+args.t+'"]').length?void $html.find("#vix_providers").addClass("active"):($html.filter(".nav-tabs").find('a[href="#vix_'+args.t+'"]').tab("show"),void $html.find("#vix_"+args.t).addClass("active"))}),this.options.dataModelsDfd.done(function(){$html.find("#vix_indexes").append(this.children.indexesTabView.render().el)}.bind(this)),$.when(this.options.limitsDfd,this.options.archiveAttemptDfd).done(function(){$html.find("#vix_archives").append(this.children.archiveTabView.render().el)}.bind(this)),$html.find("#vix_providers").append(this.children.providersTabView.render().el),$html.find("#vix_impersonation").append(this.children.userImpersonationTabView.render().el),this.$el.html($html),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/DeleteDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("views/shared/Modal"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,Modal,splunkUtil){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.apply(this,arguments)},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.collection.trigger("deleteApproved",this.model),this.hide()}}),getVictimName:function(){return this.model.entry.get("name")},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Delete ").t()+this.options.type);var html=this.compiledTemplate({name:this.getVictimName(),type:this.options.type,splunkUtil:splunkUtil});return this.$(Modal.BODY_SELECTOR).append(html),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Delete").t()+"</a>"),this},template:"<%= splunkUtil.sprintf(_('Are you sure you want to delete the %s named ').t(), type) %> <i><%= name %></i> ?"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/ArchiveTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/virtual_indexes/DeleteAllDialog"),__webpack_require__("models/services/data/vix/IndexActions"),__webpack_require__("views/Base"),__webpack_require__("views/virtual_indexes/ArchiveGrid"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/DropDownMenu"),__webpack_require__("views/shared/FindInput"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/BooleanRadioControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,DeleteAllDialog,IndexActions,BaseView,ArchiveGrid,Paginator,DropDownMenu,Filter,ControlGroup,SyntheticSelectControl,BooleanRadioControl,FlashMessagesView,route){return BaseView.extend({moduleId:module.id,className:"section-padded",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.selectedArchives={},this.isAnyArchiveSelected=!1,this.children.filter=new Filter({model:this.collection.archives.fetchData,key:["name","vix.provider"]}),this.children.pageCount=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group",items:[{value:10,label:_("10 per page").t()},{value:20,label:_("20 per page").t()},{value:50,label:_("50 per page").t()},{value:100,label:_("100 per page").t()}],model:this.collection.archives.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.unifiedSearchControl=new BooleanRadioControl({trueLabel:_("On").t(),falseLabel:_("Off").t(),model:this.model.limits.entry.content,modelAttribute:"unified_search"}),this.children.unifiedSearch=new ControlGroup({controls:[this.unifiedSearchControl],label:_("Unified Search:").t()}),this.unifiedSearchControl.on("change",function(){this.model.limits.save()}.bind(this)),this.children.paginator=new Paginator({collection:this.collection.archives}),this.children.archiveGrid=new ArchiveGrid({collection:this.collection,model:this.model}),this.listenTo(this.children.archiveGrid,"selectedChange",this.onSelectedChange),this.children.bulkEditButton=new DropDownMenu({className:"pull-left",label:_("Bulk Actions").t(),items:this.getBulkEditItems(),dropdownClassName:"dropdown-menu-narrow"}),this.children.bulkEditButton.on("itemClicked",this.bulkEditButtonClickHandler,this),this.collection.archives.on("deleteRequest",function(victimModel){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new FlashMessagesView({model:victimModel}),this.$el.prepend(this.children.flashMessages.render().el)},this),this.collection.archives.on("filterRequest",function(search){this.children.filter.$input.val(search),this.children.filter.set(search)},this),this.collection.archives.on("change reset",function(){0==this.collection.archives.length?(this.children.filter.isEmpty()?this.children.filter.$el.hide():"",this.children.paginator.$el.hide(),this.children.pageCount.$el.hide(),this.children.bulkEditButton.$el.hide(),this.$(".divider").hide()):(this.children.filter.$el.css("display",""),this.children.paginator.$el.css("display",""),this.children.pageCount.$el.css("display",""),this.children.bulkEditButton.$el.css("display",""),this.$(".divider").css("display","")),this.selectedArchives={},this.updateBulkEditItems()},this),this.collection.providers.on("change reset",function(){0==this.collection.providers.length?this.$(".buttons-placeholder").hide():this.$(".buttons-placeholder").show()},this)},onSelectedChange:function(archiveID,selected){selected?this.selectedArchives[archiveID]=!0:delete this.selectedArchives[archiveID],this.updateBulkEditItems()},updateBulkEditItems:function(){var anySelected=_(this.selectedArchives).size()>0;anySelected!=this.isAnyArchiveSelected&&this.children.bulkEditButton.setItems(this.getBulkEditItems()),this.isAnyArchiveSelected=anySelected},bulkEditButtonClickHandler:function(item){switch(item){case"enable":this.bulkEdit(!0);break;case"disable":this.bulkEdit(!1);break;case"delete":this.children.deleteAllDialog=new DeleteAllDialog,this.listenTo(this.children.deleteAllDialog,"deleteConfirmed",this.onDeleteConfirmed),$("body").append(this.children.deleteAllDialog.render().el),this.children.deleteAllDialog.show();break;case"search":this.bulkSearch()}},getBulkEditItems:function(){var enabled=_(this.selectedArchives).size()>0;return[{label:_("Enable").t(),value:"enable",enabled:enabled},{label:_("Disable").t(),value:"disable",enabled:enabled},{label:_("Delete").t(),value:"delete",enabled:enabled},{label:_("Search").t(),value:"search",enabled:enabled}]},bulkEdit:function(enable){var saveDeferred=$.Deferred(),archiveCount=_(this.selectedArchives).size();_(this.selectedArchives).each(function(value,selectedArchive){var archiveModel=this.collection.archives.get(selectedArchive),links=archiveModel.entry.links,actionURL=links.get(enable?"enable":"disable");actionURL?(this.indexActions=new IndexActions,this.indexActions.set("id",actionURL),this.indexActions.save().then(_(function(){archiveCount--,0==archiveCount&&saveDeferred.resolve()}).bind(this))):archiveCount--,$.when(saveDeferred).done(_(function(){this.collection.archives.safeFetch()}).bind(this))},this)},onDeleteConfirmed:function(){var deleteDeferred=$.Deferred(),archiveCount=_(this.selectedArchives).size();_(this.selectedArchives).each(function(value,selectedArchive){var archiveModel=this.collection.archives.get(selectedArchive);archiveModel.destroy().then(_(function(){archiveCount--,0==archiveCount&&deleteDeferred.resolve()}).bind(this))},this),$.when(deleteDeferred).done(_(function(){this.collection.archives.safeFetch()}).bind(this))},bulkSearch:function(){var query=_.map(this.selectedArchives,function(val,selectedArchive){var archiveModel=this.collection.archives.get(selectedArchive);return"index="+archiveModel.entry.get("name")},this).join(" OR "),url=route.search(this.model.application.get("root"),this.model.application.get("locale"),"search",{data:{q:query}});window.open(url,"_blank")},render:function(){this.children.filter&&this.children.filter.detach(),this.children.pageCount&&this.children.pageCount.detach(),this.children.paginator&&this.children.paginator.detach(),this.children.archiveGrid&&this.children.archiveGrid.detach(),this.children.bulkEditButton&&this.children.bulkEditButton.detach();var dashboardURL=route.page(this.model.application.get("root"),this.model.application.get("locale"),"search","splunk_archiver_dashboard"),html=this.compiledTemplate({dashboardURL:dashboardURL});return this.$el.html(html),this.children.filter.render().replaceAll(this.$(".filter-placeholder")),this.children.bulkEditButton.render().replaceAll(this.$(".bulk-edit-button-placeholder")),this.children.pageCount.render().replaceAll(this.$(".page-count-placeholder")),this.children.paginator.render().replaceAll(this.$(".paginator-placeholder")),this.children.archiveGrid.replaceAll(this.$(".archiveGrid-placeholder")),this.children.unifiedSearch.render().appendTo(this.$(".unified-search-placeholder")),this},template:'\t                <div class="filter-placeholder"></div>\t                <div class="buttons-placeholder pull-right">\t                    <span class="unified-search-placeholder form-horizontal"></span>\t                    <a href="<%- dashboardURL %>" class="btn btn-primary "><%- _("View Dashboards").t()%></a>\t                    <a href="archive_new" class="btn btn-primary "><%- _("New Archived Index").t()%></a>\t                </div>\t                <div class="divider"></div>\t                <div class="bulk-edit-button-placeholder"></div>\t                <div class="page-count-placeholder"></div>\t                <div class="paginator-placeholder"></div>\t                <div class="archiveGrid-placeholder"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/DeleteAllDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("views/shared/Modal"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,Modal,splunkUtil){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.apply(this,arguments)},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.trigger("deleteConfirmed"),this.hide()}}),render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Delete Archives").t());var html=this.compiledTemplate();return this.$(Modal.BODY_SELECTOR).append(html),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Delete").t()+"</a>"),this},template:'<%- _("Are you sure you want to delete all of the selected Archives?").t() %>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/ArchiveGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/virtual_indexes/ArchiveGridRow"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__(1157),__webpack_require__("uri/route"),__webpack_require__("util/hunk_util"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,RowIterator,ArchiveGridRow,FlashMessagesView,SyntheticCheckboxControl,ColumnSort,RowExpandCollapse,template,route,hunk_util,splunkDUtils){return BaseView.extend({moduleId:module.id,template:template,className:"push-margins",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.numProviders=0,
this.children.columnSort=new ColumnSort({el:this.el,model:this.collection.archives.fetchData,autoUpdate:!1}),this.children.selectAllCheckbox=new SyntheticCheckboxControl,this.children.selectAllCheckbox.on("change",this.onSelectAllCheckBoxChange,this),this.children.flashMessages=new FlashMessagesView({className:"message-single"}),this.collection.providers.on("change reset",function(){this.numProviders=this.collection.providers.length,this.updateNoIndexesMessage()},this),this.collection.archives.on("change reset",function(){0==this.collection.archives.length?this.updateNoIndexesMessage():this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_archive"),this.children.selectAllCheckbox.setValue(!1,!0,{silent:!0}),this.render()},this),this.collection.providers.on("change reset",this.debouncedRender,this),this.model.limits.on("change unified_search",this.debouncedRender,this)},events:{"click .searchAction":function(e){var id=this.getIDFromTarget(e);this.collection.archives.trigger("search",this.collection.archives.get(id).entry.get("name")),e.preventDefault()},"click .deleteAction":function(e){var id=this.getIDFromTarget(e);this.collection.archives.trigger("deleteRequest",this.collection.archives.get(id)),e.preventDefault()},"click .disableAction":function(e){var id=this.getIDFromTarget(e);this.collection.archives.trigger("disableRequest",this.collection.archives.get(id)),e.preventDefault()},"click .enableAction":function(e){var id=this.getIDFromTarget(e);this.collection.archives.trigger("enableRequest",this.collection.archives.get(id)),e.preventDefault()},"click a.provider-link":function(e){document.location.href=route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:$(e.target).attr("data-provider")}}),e.preventDefault()}},updateNoIndexesMessage:function(){if(0==this.collection.archives.length){var learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.archive"),errMessage=_("No indexes are archived.").t()+(0==this.numProviders?_(" You must have at least one provider to create an archive. ").t():"")+'<a href="'+learnMoreLink+'" target="_blank">'+_("Learn more.").t()+' <i class="icon-external"></i></a>';this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_archive",{type:splunkDUtils.ERROR,html:errMessage})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_archive")},onSelectAllCheckBoxChange:function(newValue,oldValue){_(this.archiveRows).each(function(archiveRow){archiveRow.setCheckBoxValue(newValue)},this)},onEditOlderThan:function(archive){this.collection.archives.trigger("editArchive",this.collection.archives.get(archive))},onEditCutoffSec:function(archive){this.collection.archives.trigger("editCutoffSec",this.collection.archives.get(archive))},onSelectedChange:function(archiveID,selected){this.trigger("selectedChange",archiveID,selected)},getIDFromTarget:function(event){return $(event.target).closest("tr").data("row-expand-collapse-id")},render:function(){this.children.selectAllCheckbox.detach();var rowIterator=new RowIterator({});this.archiveRows=[];var html=this.compiledTemplate({_:_,collection:this.collection.archives,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR,headerCellClass:RowExpandCollapse.HEADER_CELL_CLASS}),$html=$(html),nextArchiveAttempt="";this.model.archiveAttempt&&(nextArchiveAttempt=this.model.archiveAttempt.entry.content.get("next_scheduled_time")),rowIterator.eachRow(this.collection.archives,function(archive,index,rowNumber,isExpanded){var provider=this.collection.providersAll.getProviderByName(archive.entry.content.get("vix.provider")),bandWidth="";provider&&(bandWidth=hunk_util.formatBandWidth(provider.entry.content.get("vix.output.buckets.max.network.bandwidth")));var archiveRow=new ArchiveGridRow({model:{archive:archive,limits:this.model.limits},index:index,isExpanded:isExpanded,rowNumber:rowNumber,bandWidth:bandWidth,nextArchiveAttempt:nextArchiveAttempt});this.archiveRows.push(archiveRow),this.listenTo(archiveRow,"action:editOlderThan",this.onEditOlderThan),this.listenTo(archiveRow,"action:editCutoffSec",this.onEditCutoffSec),this.listenTo(archiveRow,"selectedChange",this.onSelectedChange),$html.find(".archive-grid-table-body").append(archiveRow.render().el)},this),this.children.columnSort.update($html),this.$el.html($html),this.children.flashMessages.render().appendTo(this.$el),this.children.selectAllCheckbox.render().appendTo(this.$(".select-all-checkbox"));var toolTipText=_("Determine the amount of bandwidth to give archived indexes for a particular provider").t();return this.$(".tooltip-link").tooltip({animation:!1,title:toolTipText,container:"body"}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/ArchiveGridRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("shim/splunk.util"),__webpack_require__("util/time_hunk"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("views/shared/delegates/RowExpandCollapse")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,splunkUtils,timeUtil,BaseView,SyntheticCheckboxControl,RowExpandCollapse){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"list-item",events:function(){var events={};return events["click td."+RowExpandCollapse.TOGGLE_CELL_CLASS]="toggleCellClickHandler",events["click a.edit-older-than-btn"]=function(){this.trigger("action:editOlderThan",this.model.archive.get("id"))},events["click a.edit-cutoff-sec-btn"]=function(){this.trigger("action:editCutoffSec",this.model.archive.get("id"))},events}(),initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.checkBoxSelected=new SyntheticCheckboxControl,this.listenTo(this.children.checkBoxSelected,"change",this.onCheckBoxSelectedChange)},setCheckBoxValue:function(newValue){this.children.checkBoxSelected.setValue(newValue)},toggleCellClickHandler:function(e){e.preventDefault(),this.isExpanded=!this.isExpanded,this.debouncedRender()},onCheckBoxSelectedChange:function(){this.trigger("selectedChange",this.model.archive.get("id"),this.children.checkBoxSelected.getValue())},render:function(){this.children.checkBoxSelected.detach();var olderThan=timeUtil.formatSeconds(this.model.archive.entry.content.get("vix.output.buckets.older.than")),unifiedSearchEnabled=this.model.limits.getUnifiedSearch(),cutoff="Off ";if(unifiedSearchEnabled&&this.model.archive.entry.content.get("vix.unified.search.cutoff_sec")){var cutoffSec=timeUtil.formatSeconds(this.model.archive.entry.content.get("vix.unified.search.cutoff_sec"));cutoff=splunkUtils.sprintf(_("Cutoff at %s").t(),cutoffSec)}var html=this.compiledTemplate({model:this.model.archive,isExpanded:this.isExpanded,olderThan:olderThan,cutoff:cutoff,unifiedSearchEnabled:unifiedSearchEnabled,maxBandwidth:this.options.bandWidth,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,expandedCellBody:RowExpandCollapse.EXPANDED_CELL_MARKUP,collapsedCellBody:RowExpandCollapse.COLLAPSED_CELL_MARKUP,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR,nextArchiveAttempt:this.options.nextArchiveAttempt});return this.$el.html(html),this.$el.attr(RowExpandCollapse.ROW_ID_ATTR,this.model.archive.get("id")),this.isExpanded?this.$el.addClass(RowExpandCollapse.EXPANDED_ROW_CLASS):this.$el.removeClass(RowExpandCollapse.EXPANDED_ROW_CLASS),this.children.checkBoxSelected.render().appendTo(this.$(".selected-checkbox")),this},template:'\t                <% if(isExpanded) { %>\t                        <td class="<%- toggleCellClass %>"><%= expandedCellBody %></td>\t                    <% } else { %>\t                        <td class="<%- toggleCellClass %>"><%= collapsedCellBody %></td>\t                <% } %>\t                <td class="selected-checkbox"></td>\t                <td><%- model.entry.get("name") %>\t                    <% if(isExpanded) { %>\t                        <div class="expanded-info">\t                            <dl class="list-dotted">\t                                <dt><%- _("Destination Path").t() %></dt>\t                                <dd><%- model.entry.content.get("vix.output.buckets.path") %></dd>\t                                <dt><%- _("Older Than").t() %></dt>\t                                <dd><%- olderThan %>\t                                    <a class="edit-older-than-btn" href="#"><%- _("Edit").t() %></a>\t                                </dd>\t                                <dt><%- _("Unified Search").t() %></dt>\t                                <dd><%- cutoff%>\t                                    <a class="edit-cutoff-sec-btn" href="#"><%- _("Edit").t() %></a>\t                                </dd>\t                                <% if (!_.isEmpty(nextArchiveAttempt)) { %>\t                                    <dt><%- _("Next Archive Attempt").t() %></dt>\t                                    <dd><%- nextArchiveAttempt %></dd>\t                                <% } %>\t                            </dl>\t                        </div>\t                    <% } %>\t                </td>\t                <td><%- model.entry.content.get("vix.output.buckets.from.indexes") %></td>\t                <td>\t                    <% if (model.entry.content.get("disabled")) { %>\t                        <%= _("Disabled").t() %> <a href="#" class="enableAction"><%= _("Enable").t() %></a>\t                    <% } else { %>\t                        <%= _("Enabled").t() %> <a href="#" class="disableAction"><%= _("Disable").t() %></a>\t                    <% } %>\t                </td>\t                <td class="actions">\t                    <a href="#" class="searchAction"><%= _("Search").t() %></a>\t                    <a href="#" class="deleteAction"><%= _("Delete").t() %></a>\t                </td>\t                <td><a href="#" class="provider-link" data-provider="<%- model.entry.content.get("vix.provider")%>">\t                    <%- model.entry.content.get("vix.provider") %> </a></td>\t                <td><a href="#" class="provider-link" data-provider="<%- model.entry.content.get("vix.provider")%>">\t                    <%- maxBandwidth %></a></td>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/time_hunk":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util"),__webpack_require__("stubs/i18n")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,_,splunkUtils,i18n){var YEAR=31536e3,MONTH=2592e3,WEEK=604800,DAY=86400,HOUR=3600,MINUTE=60,SECOND=1,YEAR_STRING=_("Year").t(),YEARS_STRING=_("Years").t(),MONTH_STRING=_("Month").t(),MONTHS_STRING=_("Months").t(),WEEK_STRING=_("Week").t(),WEEKS_STRING=_("Weeks").t(),DAY_STRING=_("Day").t(),DAYS_STRING=_("Days").t(),HOUR_STRING=_("Hour").t(),HOURS_STRING=_("Hours").t(),MINUTE_STRING=_("Minute").t(),MINUTES_STRING=_("Minutes").t(),SECOND_STRING=_("Second").t(),SECONDS_STRING=_("Seconds").t(),formatSeconds=function(value){var timeRange=parseInt(value,10)||0,unit=timeRange>=YEAR&&timeRange%YEAR==0?{value:YEAR,single:YEAR_STRING,plural:YEARS_STRING}:timeRange>=MONTH&&timeRange%MONTH==0?{value:MONTH,single:MONTH_STRING,plural:MONTHS_STRING}:timeRange>=WEEK&&timeRange%WEEK==0?{value:WEEK,single:WEEK_STRING,plural:WEEKS_STRING}:timeRange>=DAY&&timeRange%DAY==0?{value:DAY,single:DAY_STRING,plural:DAYS_STRING}:timeRange>=HOUR&&timeRange%HOUR==0?{value:HOUR,single:HOUR_STRING,plural:HOURS_STRING}:timeRange>=MINUTE&&timeRange%MINUTE==0?{value:MINUTE,single:MINUTE_STRING,plural:MINUTES_STRING}:{value:SECOND,single:SECOND_STRING,plural:SECONDS_STRING},number=timeRange/unit.value;return splunkUtils.sprintf(i18n.ungettext("%(count)s %(single)s","%(count)s %(plural)s",number),{count:number,single:unit.single,plural:unit.plural})};return{formatSeconds:formatSeconds}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1162:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".virtualindexes-archivegrid,.virtualindexes-indexesgrid,.virtualindexes-providersgrid{clear:both;padding-top:10px}.message-single{margin:20px}.tab-content{overflow:visible}.tab-content .tab-pane{min-height:416px}.section-padded .divider{clear:both;margin:10px -20px}.tab-pane{min-height:420px}.col-slim{width:140px}.col-100{width:100px}.enableAction,td a+a,td span+a{margin-left:10px}.disableAction{margin-left:13px}.virtualindexes-userimpersonationtab .uneditable-input{width:600px;padding-left:0;padding-right:0}.virtualindexes-archivegrid .expanded-info{padding-top:1em}.virtualindexes-archivegrid .col-info,.virtualindexes-archivegrid .col-selected{width:1em}.virtualindexes-archivegrid .checkbox{padding:0}.virtualindexes-archivegrid .bandwidth-header{white-space:nowrap}.virtualindexes-archivegridrow .checkbox{margin-top:-5px}.virtualindexes-archivegridrow .list-dotted dt{width:140px}.unified-search-placeholder{display:inline-block}.unified-search-placeholder .control-group .control-label{margin-right:3px}.unified-search-placeholder .control-group .controls{margin-left:170px;margin-right:2px}",""])},"util/hunk_util":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,_,splunkUtils){var KB=1e3,MB=1e6,GB=1e9,TB=1e12,KB_STRING=_("Kbit/s").t(),MB_STRING=_("Mbit/s").t(),GB_STRING=_("Gbit/s").t(),TB_STRING=_("Tbit/s").t(),formatBandWidth=function(value){var bandWidth=parseInt(value,10)||0,unit=bandWidth>=TB&&bandWidth%TB==0?{value:TB,label:TB_STRING}:bandWidth>=GB&&bandWidth%GB==0?{value:GB,label:GB_STRING}:bandWidth>=MB&&bandWidth%MB==0?{value:MB,label:MB_STRING}:{value:KB,label:KB_STRING},number=bandWidth/unit.value;return 0==number?_("unlimited").t():splunkUtils.sprintf("%d %s",number,unit.label)};return{formatBandWidth:formatBandWidth}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/VirtualIndexes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/classicurl"),__webpack_require__("models/services/data/vix/IndexActions"),__webpack_require__("models/services/configs/SearchLimit"),__webpack_require__("models/search/Report"),__webpack_require__("collections/services/data/vix/Archives"),__webpack_require__("collections/services/data/vix/Providers"),__webpack_require__("collections/services/data/vix/Indexes"),__webpack_require__("collections/services/datamodel/DataModels"),__webpack_require__("collections/services/configs/Indexes"),__webpack_require__("collections/services/admin/conf-impersonations"),__webpack_require__("collections/services/authentication/Users"),__webpack_require__("views/virtual_indexes/Master"),__webpack_require__("views/virtual_indexes/NoLicense"),__webpack_require__("routers/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,classicurlModel,IndexActions,LimitsConf,ReportModel,ArchivesCollection,ProviderCollection,IndexCollection,DataModelCollection,IndexesConfCollection,UserImpersonationCollection,SplunkUsers,VixMasterView,NoLicenseView,BaseRouter){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Virtual indexes").t()),this.enableAppBar=!1,this.fetchUser=!0,this.fetchServerInfo=!0,this.indexesConfCollection=new IndexesConfCollection,this.deferreds.indexesConfCollection=this.indexesConfCollection.fetch({data:{search:"name=provider-family*",f:"name"}})},loadMainPage:function(){this.providers=new ProviderCollection,this.indexes=new IndexCollection,this.archives=new ArchivesCollection,this.providersAll=new ProviderCollection,this.indexActions=new IndexActions,this.userImpersonationCollection=new UserImpersonationCollection,this.splunkUsers=new SplunkUsers,this.limits=new LimitsConf,this.dataModels=new DataModelCollection,this.archiveAttempt=new ReportModel,this.deferreds.providers=$.Deferred(),this.deferreds.providersAll=$.Deferred(),this.deferreds.userImpersonation=$.Deferred(),this.deferreds.splunkUsers=$.Deferred(),this.deferreds.limitsDfd=$.Deferred(),this.deferreds.dataModelsDfd=$.Deferred(),this.deferreds.archiveAttemptDfd=$.Deferred(),this.userImpersonationCollection.fetch().done(function(){this.deferreds.userImpersonation.resolve()}.bind(this)),this.splunkUsers.fetch().done(function(){this.deferreds.splunkUsers.resolve()}.bind(this)),this.providers.fetchData.set({count:10},{silent:!0}),this.indexes.fetchData.set({count:10},{silent:!0}),this.deferreds.indexes=this.indexes.fetch(),this.providers.fetch().done(function(){this.deferreds.providers.resolve()}.bind(this)),this.providersAll.fetchData.set({count:-1},{silent:!0}),this.providersAll.fetch().done(function(){this.deferreds.providersAll.resolve()}.bind(this)),this.archives.fetchData.set({count:10},{silent:!0}),this.deferreds.archives=this.archives.fetch(),this.limits.fetch().done(function(){this.deferreds.limitsDfd.resolve()}.bind(this)),this.dataModels.fetchData.set({owner:"-",count:0,offset:0},{silent:!0}),this.dataModels.fetch().done(function(){this.deferreds.dataModelsDfd.resolve()}.bind(this)),this.archiveAttempt.set("id",ReportModel.buildId(ReportModel.ARCHIVE_KICKOFF_SEARCH_ID,"splunk_archiver","nobody")),this.deferreds.archiveAttemptDfd=this.archiveAttempt.fetch({data:{app:"splunk_archiver",owner:"nobody"}}),this.providers.on("deleteApproved",function(victimModel){victimModel.destroy().done(_(function(){this.providers.fetch(),this.providersAll.fetch().done(function(){this.deferreds.providersAll.resolve()}.bind(this))}).bind(this))},this),this.indexes.on("deleteApproved",this.onDeleteApproved,this),this.indexes.on("disableRequest",function(model){this.onRequestChange(model,!1)},this),this.indexes.on("enableRequest",function(model){this.onRequestChange(model,!0)},this),this.archives.on("deleteApproved",this.onDeleteApproved,this),this.archives.on("disableRequest",function(model){this.onRequestChange(model,!1)},this),this.archives.on("enableRequest",function(model){this.onRequestChange(model,!0)},this),this.masterView=new VixMasterView({model:{application:this.model.application,limits:this.limits,user:this.model.user,archiveAttempt:this.archiveAttempt},collection:{providers:this.providers,indexes:this.indexes,archives:this.archives,providersAll:this.providersAll,userImpersonation:this.userImpersonationCollection,splunkUsers:this.splunkUsers,dataModels:this.dataModels},providersDfd:this.deferreds.providers,providersAllDfd:this.deferreds.providersAll,userImpersonationDfd:this.deferreds.userImpersonation,splunkUsersDfd:this.deferreds.splunkUsers,limitsDfd:this.deferreds.limitsDfd,dataModelsDfd:this.deferreds.dataModelsDfd,archiveAttemptDfd:this.deferreds.archiveAttemptDfd})},fetchCollections:function(){this.providers.fetch(),this.indexes.fetch(),this.archives.fetch()},onRequestChange:function(victimModel,enable){var links=victimModel.entry.links,actionURL=links.get(enable?"enable":"disable");actionURL&&(this.indexActions.set("id",actionURL),this.indexActions.save().done(_(function(){this.fetchCollections()}).bind(this)))},onDeleteApproved:function(victimModel){victimModel.destroy().done(_(function(){this.fetchCollections()}).bind(this))},loadNoLicense:function(){this.masterView=new NoLicenseView({model:{application:this.model.application}})},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),this.deferreds.pageViewRendered.done(_(function(){$(".preload").replaceWith(this.pageView.el)}).bind(this)),$.when(this.deferreds.pageViewRendered,this.deferreds.indexesConfCollection).done(_(function(){this.indexesConfCollection.length>0?this.loadMainPage():this.loadNoLicense(),this.pageView.$(".main-section-body").append(this.masterView.render().el)}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/IndexesGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__("views/shared/dialogs/TextDialog"),__webpack_require__(1158),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/string_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,RowIterator,FlashMessagesView,ColumnSort,TextDialog,template,route,splunkDUtils,stringUtils){return BaseView.extend({moduleId:module.id,template:template,className:"push-margins",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.numProviders=0,this.children.columnSort=new ColumnSort({el:this.el,model:this.collection.indexes.fetchData,autoUpdate:!1}),this.children.flashMessages=new FlashMessagesView({className:"message-single"}),this.collection.providers.on("change reset",function(){this.numProviders=this.collection.providers.length,this.updateNoIndexesMessage()},this),this.collection.indexes.on("change reset",function(){0==this.collection.indexes.length?this.updateNoIndexesMessage():this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_indexes"),this.render()},this)},events:{"click .searchAction":function(e){var id=$(e.target).parent("td").data("id");this.collection.indexes.trigger("search",this.collection.indexes.get(id).entry.get("name")),e.preventDefault()},"click .deleteAction":function(e){var id=$(e.target).parent("td").data("id");this.collection.indexes.trigger("deleteRequest",this.collection.indexes.get(id)),e.preventDefault()},"click .disableAction":function(e){var id=$(e.target).parent("td").data("id");this.collection.indexes.trigger("disableRequest",this.collection.indexes.get(id)),e.preventDefault()},"click .enableAction":function(e){var id=$(e.target).parent("td").data("id");this.collection.indexes.trigger("enableRequest",this.collection.indexes.get(id)),e.preventDefault()}},hasDependentDataModel:function(vixName){return _(this.collection.dataModels.models).any(function(dataModel){return!!dataModel.entry.content.acceleration.get("enabled")&&_(dataModel.entry.content.objects.models).any(function(obj){if(obj.attributes&&obj.attributes.constraints&&obj.attributes.constraints.length){var search=obj.attributes.constraints[0].search||"";if(search.startsWith("index="))return search.slice("index=".length)===vixName}return!1},this)},this)},showDataModelWarningModal:function(){this.children.warnAccelerationDialog=new TextDialog({id:"modal_warn"}),this.children.warnAccelerationDialog.settings.set("primaryButtonLabel",void 0),this.children.warnAccelerationDialog.settings.set("cancelButtonLabel",void 0),this.children.warnAccelerationDialog.on("hidden",this.destroyWarnAccelerationDialogHandler,this),this.children.warnAccelerationDialog.settings.set("titleLabel",_("Data Model Acceleration Warning").t()),this.children.warnAccelerationDialog.setText(_("This Virtual Index has an accelerated data model that depends on it. Please turn off acceleration on all dependent data models before changing the virtual index.").t()),$("body").append(this.children.warnAccelerationDialog.render().el),this.children.warnAccelerationDialog.show()},makeEditLink:function(id){return route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_index_new",{data:{id:id}})},makeProviderLink:function(id){return route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:id}})},updateNoIndexesMessage:function(){if(0==this.collection.indexes.length){var learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.indexes"),errMessage=_("No indexes.").t()+(0==this.numProviders?_(" You must have at least one provider to create indexes. ").t():"")+'<a href="'+learnMoreLink+'" target="_blank">'+_("Learn more.").t()+' <i class="icon-external"></i></a>';this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_indexes",{type:splunkDUtils.ERROR,html:errMessage})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_indexes")},render:function(){var rowIterator=new RowIterator({}),html=this.compiledTemplate({_:_,collection:this.collection.indexes,eachRow:rowIterator.eachRow,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR,makeEditLink:_(this.makeEditLink).bind(this),makeProviderLink:_(this.makeProviderLink).bind(this),stringUtils:stringUtils,maxIndexLength:80,maxProviderLength:25}),$html=$(html);return this.children.columnSort.update($html),this.$el.html($html),this.$el.append(this.children.flashMessages.render().el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/data/vix/IndexActions":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,BaseModel,splunkDUtils){return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){var defaults={data:{output_mode:"json"}};switch(method){case"update":defaults.processData=!0,defaults.type="POST",defaults.url=splunkDUtils.fullpath(model.id),$.extend(!0,defaults,options);break;default:throw new Error("invalid method: "+method)}return Backbone.sync.call(this,method,model,defaults)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/ProvidersTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/virtual_indexes/ProvidersGrid"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/FindInput"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ProvidersGrid,Paginator,Filter,SyntheticSelectControl,FlashMessagesView,route){return BaseView.extend({moduleId:module.id,className:"section-padded",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.filter=new Filter({model:this.collection.providers.fetchData}),this.children.pageCount=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:10,label:_("10 per page").t()},{value:20,label:_("20 per page").t()},{value:50,label:_("50 per page").t()},{value:100,label:_("100 per page").t()}],model:this.collection.providers.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.paginator=new Paginator({collection:this.collection.providers}),this.children.providersGrid=new ProvidersGrid({collection:this.collection,model:this.model,showVixTab:this.options.showVixTab}),this.collection.providers.on("deleteRequest",function(victimModel){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new FlashMessagesView({model:victimModel}),this.$el.prepend(this.children.flashMessages.render().el)},this),this.collection.providers.on("change reset",function(){0==this.collection.providers.length?(this.children.filter.isEmpty()?this.children.filter.$el.hide():"",this.children.paginator.$el.hide(),this.children.pageCount.$el.hide(),this.$(".divider").hide()):(this.children.filter.$el.show(),this.children.paginator.$el.show(),this.children.pageCount.$el.show(),this.$(".divider").show())},this)},render:function(){var exploreDataUrl=route.exploreData(this.model.application.get("root"),this.model.application.get("locale"));this.children.filter&&this.children.filter.detach(),this.children.pageCount&&this.children.pageCount.detach(),this.children.paginator&&this.children.paginator.detach(),this.children.providersGrid&&this.children.providersGrid.detach();var html=this.compiledTemplate({exploreDataUrl:exploreDataUrl,showVixTab:this.options.showVixTab});return this.$el.html(html),this.children.filter.render().replaceAll(this.$(".filter-placeholder")),this.children.pageCount.render().replaceAll(this.$(".page-count-placeholder")),this.children.paginator.render().replaceAll(this.$(".paginator-placeholder")),this.children.providersGrid.replaceAll(this.$(".providersGrid-placeholder")),this},template:'\t                <div class="filter-placeholder"></div>\t                <div class="buttons-plaecholder pull-right">\t                    <a href="vix_provider_new" class="btn btn-primary "><%- _("New Provider").t()%></a>\t                    <% if (showVixTab) { %>\t                        <a href="<%= exploreDataUrl %>" class="btn btn-primary"><%- _("Explore Data").t()%></a>\t                    <% } %>\t                </div>\t                <div class="divider"></div>\t                <div class="page-count-placeholder"></div>\t                <div class="paginator-placeholder"></div>\t                <div class="providersGrid-placeholder"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/ProvidersGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__(1159),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/string_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,RowIterator,FlashMessagesView,ColumnSort,template,route,splunkDUtils,stringUtils,splunkUtil,bootstrapTooltip){return BaseView.extend({moduleId:module.id,template:template,className:"push-margins",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.columnSort=new ColumnSort({
el:this.el,model:this.collection.providers.fetchData,autoUpdate:!1}),this.children.flashMessages=new FlashMessagesView({className:"message-single"}),this.collection.providers.on("change reset",function(){this.debouncedRender()},this)},events:{"click .deleteAction":function(e){var id=$(e.target).parent("td").data("id");this.collection.providers.trigger("deleteRequest",this.collection.providers.get(id)),e.preventDefault()},"click a.index_references":function(e){var providerName=$(e.target).parent("td").data("name");this.collection.indexes.trigger("filterRequest",providerName),$('.nav-tabs a[href="#vix_indexes"]').tab("show"),e.preventDefault()}},makeEditLink:function(id){return route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:id}})},makeCloneLink:function(id){return route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:id,mode:"clone"}})},render:function(){var rowIterator=new RowIterator({}),html=this.compiledTemplate({_:_,collection:this.collection.providers,eachRow:rowIterator.eachRow,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR,makeEditLink:_(this.makeEditLink).bind(this),makeCloneLink:_(this.makeCloneLink).bind(this),stringUtils:stringUtils,maxLength:100,showVixTab:this.options.showVixTab}),$html=$(html);if(this.children.columnSort.update($html),this.$el.html($html),this.$el.append(this.children.flashMessages.render().el),this.$(".tooltip-link").tooltip({animation:!1,container:"body"}),0==this.collection.providers.length){var learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.providers"),errMessage=splunkUtil.sprintf(_("No providers. %s or %s.").t(),'<a href="'+learnMoreLink+'" target="_blank">'+_("Learn more").t()+' <i class="icon-external"></i></a>','<a href="vix_provider_new">'+_("Create new provider").t()+"</a>");this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_providers",{type:splunkDUtils.ERROR,html:errMessage})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_providers");return this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/configs/Indexes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/configs/Indexes"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"configs/conf-indexes",model:Model,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/UserImpersonationTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),_=__webpack_require__("require/underscore"),UserImpersonationModel=__webpack_require__("models/services/admin/Impersonation"),BaseView=__webpack_require__("views/Base"),Backbone=__webpack_require__("require/backbone"),ControlGroup=__webpack_require__("views/shared/controls/ControlGroup"),FlashMessagesView=__webpack_require__("views/shared/FlashMessages"),splunkUtils=(__webpack_require__("models/SplunkDBase"),__webpack_require__("shim/splunk.util")),route=__webpack_require__("uri/route"),NO_PROVIDERS_ERROR="__no_providers_error";return BaseView.extend({moduleId:module.id,className:"section-padded",initialize:function(options){BaseView.prototype.initialize.call(this,options),this._providerListViewDfd=$.Deferred(),this._usersListViewDfd=$.Deferred(),this._mediator=new Backbone.Model,this.children.flashMessagesView=new FlashMessagesView({collection:this.collection}),$.when(this.options.providersAllDfd,this.options.splunkUsersDfd,this.options.userImpersonationDfd).done(function(){this._initProviderList(),this._initAvailableUsersList()}.bind(this)),this._initHadoopUser(),this._initQueue(),this.listenTo(this._mediator,"change:provider reset:provider change:splunkUser reset:splunkUser",this._onChooseProviderAndUser),this.listenTo(this.collection.providersAll,"change reset remove",this._initProviderList)},events:{"click .btn-primary":function(e){e.preventDefault(),this._enableImpersonation(),this._copyFromMediatorToModel()}},_initProviderList:function(){this._providerListItems=this.collection.providersAll.filter(function(model){return 1==model.entry.content.get("vix.splunk.impersonation")}).map(function(model){return{value:model.entry.get("name"),label:model.entry.get("name")}}),this.children.providerList=new ControlGroup({className:"provider-list control-group",controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{modelAttribute:"provider",model:this._mediator,items:this._providerListItems,className:"btn-group view-count",menuWidth:"narrow",toggleClassName:"btn",prompt:_("Select a Provider").t()},label:_("Providers").t()}),this._providerListViewDfd.resolve(),this.$el.find(".provider-list-container").empty().append(this.children.providerList.render().el),this.updateView()},_initAvailableUsersList:function(){this._usersListThisProvider=this.collection.splunkUsers.map(function(model){return{value:model.entry.get("name"),label:model.entry.get("name")}}),this.children.usersList=new ControlGroup({className:"users-list control-group",controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{modelAttribute:"splunkUser",model:this._mediator,items:this._usersListThisProvider,className:"btn-group view-count",menuWidth:"narrow",toggleClassName:"btn",prompt:_("Select a User").t()},label:_("Users").t()}),this._usersListViewDfd.resolve()},_initHadoopUser:function(){this.children.hadoopUser=new ControlGroup({className:"hadoop-user-name control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{modelAttribute:"hadoopUser",model:this._mediator,save:!1},label:_("Hadoop User").t()})},_initQueue:function(){this.children.hadoopQueue=new ControlGroup({className:"queue control-group",controlType:"Text",controlClass:"controls-block",controlOptions:{modelAttribute:"hadoopQueue",model:this._mediator,save:!1},label:_("Queue").t()})},_onChooseProviderAndUser:function(e){var hadoopUser,hadoopQueue,name=this._mediator.get("provider"),user=this._mediator.get("splunkUser"),provider=this.collection.userImpersonation.find(function(model){return model.getName("name")===name});name&&user&&(this.children.hadoopUser.enable(),this.children.hadoopQueue.enable(),this.$el.find("a.btn-primary").removeClass("disabled")),provider&&(hadoopUser=provider.getHadoopUser(user),hadoopQueue=provider.getHadoopQueue(user)),this._mediator.set("hadoopUser",hadoopUser),this._mediator.set("hadoopQueue",hadoopQueue)},_copyFromMediatorToModel:function(){var name=this._mediator.get("provider"),splunkUser=this._mediator.get("splunkUser"),hadoopUser=this._mediator.get("hadoopUser"),hadoopQueue=this._mediator.get("hadoopQueue"),impersonation=this.collection.userImpersonation.find(function(model){return model.getName("name")===name}),userImpersonationModel=impersonation?impersonation:new UserImpersonationModel;userImpersonationModel.setAllAttributes(name,splunkUser,hadoopUser,hadoopQueue),userImpersonationModel.save({},{data:{app:"search",owner:"nobody"}}).done(_(function(){this.collection.userImpersonation.fetch()}).bind(this)),this.$el.find("#save-message").html(_("saved!").t()).hide().show("").delay(1e3).hide("slow")},_enableImpersonation:function(){var provider=this._mediator.get("provider");this.collection.providersAll.each(function(model){model.entry.get("name")===provider&&(model.entry.content.set("vix.splunk.impersonation",1),model.save())},this)},updateView:function(){var providersLength=this._providerListItems.length,pageRouter=route.getContextualPageRouter(this.model.application);if(providersLength>0)this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(NO_PROVIDERS_ERROR),this.$(".admin-content").show();else{var providerUrl=pageRouter.manager("virtual_indexes",{data:{t:"providers"}}),providerMsg=splunkUtils.sprintf(_("The admin has not created any Hadoop providers with Pass Through Authentication enabled. <a href='%s'> Manage providers.</a>").t(),providerUrl);this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(NO_PROVIDERS_ERROR,{type:splunkUtils.WARNING,html:providerMsg}),this.$(".admin-content").hide()}},render:function(){var $html=$(this.compiledTemplate());return this.$el.empty(),$.when(this._providerListViewDfd,this._usersListViewDfd).done(function(){$html.children(".provider-list-container").append(this.children.providerList.render().el),$html.children(".users-list").append(this.children.usersList.render().el),$html.children(".hadoop-user").append(this.children.hadoopUser.render().el),$html.children(".queue").append(this.children.hadoopQueue.render().el),this._mediator.get("provider")&&this._mediator.get("splunkUser")||(this.children.hadoopUser.disable(),this.children.hadoopQueue.disable())}.bind(this)),this.$el.html($html),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),this},template:'<div class="flash-messages-placeholder"></div><div class="admin-content dashboard-panel clearfix"><div class="provider-list-container"></div><div class="users-list"></div><div class="hadoop-user"></div><div class="queue"></div><div class="button-wrapper"><a href="#" class="btn btn-primary pull-right disabled">'+_("Save").t()+'</a><div class="pull-left" id="save-message" style="font-size: 20px; font-weight: bold; background-color:#ffff99;"></div></div></div>'})}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/EditArchiveDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("models/virtual_indexes/EditArchive"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/virtual_indexes/custom_controls/TimeSecondsControl"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,EditArchive,FlashMessages,Modal,ControlGroup,TimeSecondsControl,splunkUtil){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.model.editArchive=new EditArchive({"vix.output.buckets.older.than":this.model.archive.entry.content.get("vix.output.buckets.older.than")}),this.timeThresholdControl=new TimeSecondsControl({modelAttribute:"vix.output.buckets.older.than",model:this.model.editArchive}),this.children.timeThreshold=new ControlGroup({className:"control-group",controlClass:"controls-block",controls:[this.timeThresholdControl],label:_("Older Than").t(),help:_("Archive if the bucket is older than this value").t()}),this.children.flashMessages=new FlashMessages({model:this.model.editArchive})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.editArchive.set({},{validate:!0})&&(this.model.archive.entry.content.set({"vix.output.buckets.older.than":this.model.editArchive.get("vix.output.buckets.older.than")}),$.when(this.model.archive.save()).done(_(function(){this.hide()}).bind(this)))}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Archive - ").t()+this.model.archive.entry.get("name")),this.$(Modal.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(Modal.BODY_SELECTOR).append(this.children.timeThreshold.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Save").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/virtual_indexes/EditArchive":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseModel){return BaseModel.extend({defaults:{"vix.output.buckets.older.than":void 0},validation:{"vix.output.buckets.older.than":{min:1,msg:_("Older Than must be a number").t()}},initialize:function(attrs,options){BaseModel.prototype.initialize.call(this,attrs,options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/EditCutoffDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("models/virtual_indexes/EditCutoffSec"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/virtual_indexes/custom_controls/OptionalTimeSecondsControl"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,BaseModel,EditCutoffSec,FlashMessages,Modal,OptionalTimeSecondsControl,route){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME,initialize:function(options){Modal.prototype.initialize.apply(this,arguments);var cutoffSec=this.model.archive.entry.content.get("vix.unified.search.cutoff_sec"),unifiedSearchEnabled=this.model.limits.getUnifiedSearch();this.model.editCutoffSec=new EditCutoffSec({"vix.unified.search.cutoff_sec":cutoffSec});var helpText=_("Query against virtual index for events older than this value.").t(),docLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.unifiedsearch.about"),helpLink=' <a href="'+docLink+'" class="doc" target="_blank">'+_("Learn More").t()+' <i class="icon-external"></i></a>';this.children.timeThreshold=new OptionalTimeSecondsControl({enabled:unifiedSearchEnabled&&cutoffSec,modelAttribute:"vix.unified.search.cutoff_sec",model:this.model.editCutoffSec,checkboxLabel:_("Enable Unified Search").t(),checkboxHelp:_("Unified Search may increase search runtime.").t(),timeLabel:_("Cutoff Time").t(),timeHelp:helpText+helpLink}),this.children.flashMessages=new FlashMessages({model:this.model.editCutoffSec})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.children.timeThreshold.isEnabled()?this.model.editCutoffSec.set({},{validate:!0})&&(this.saveDfd=$.Deferred(),this.model.limits.getUnifiedSearch()?this.saveDfd.resolve():(this.model.limits.entry.content.set({unified_search:1}),$.when(this.model.limits.save()).done(_(function(){this.saveDfd.resolve()}).bind(this))),$.when(this.saveDfd).done(_(function(){this.saveCutoffSec(this.model.editCutoffSec.get("vix.unified.search.cutoff_sec"))}).bind(this))):this.saveCutoffSec("")}}),saveCutoffSec:function(val){this.model.archive.entry.content.set({"vix.unified.search.cutoff_sec":val}),$.when(this.model.archive.save()).done(_(function(){this.hide()}).bind(this))},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Archive - ").t()+this.model.archive.entry.get("name")),this.$(Modal.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(Modal.BODY_SELECTOR).append(this.children.timeThreshold.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/virtual_indexes/EditCutoffSec":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseModel){return BaseModel.extend({defaults:{"vix.unified.search.cutoff_sec":void 0},validation:{"vix.unified.search.cutoff_sec":{min:1,msg:_("Cutoff Sec must be a number greater than 0.").t()}},initialize:function(attrs,options){BaseModel.prototype.initialize.call(this,attrs,options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/custom_controls/OptionalTimeSecondsControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/Control"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("views/virtual_indexes/custom_controls/TimeSecondsControl"),module],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel,BaseView,Control,ControlGroup,SyntheticCheckboxControl,TimeSecondsControl,module){return Control.extend({moduleId:module.id,initialize:function(){this.model.editCutoffSec=new BaseModel({enabled:this.options.enabled}),this.enableUnifiedCheckbox=new SyntheticCheckboxControl({model:this.model.editCutoffSec,modelAttribute:"enabled",label:this.options.checkboxLabel}),this.children.enabledGroup=new ControlGroup({controls:[this.enableUnifiedCheckbox],help:this.options.checkboxHelp}),this.listenTo(this.model.editCutoffSec,"change enabled",this.setTimeThresholdVisibility),this.unifiedSearchCutoffControl=new TimeSecondsControl({modelAttribute:this.options.modelAttribute,model:this.options.model}),this.children.timeCutoff=new ControlGroup({className:"control-group",controlClass:"controls-block",controls:[this.unifiedSearchCutoffControl],label:this.options.timeLabel,tooltip:this.options.timeTooltip,help:this.options.timeHelp})},setTimeThresholdVisibility:function(){this.model.editCutoffSec.get("enabled")?this.children.timeCutoff.enable():this.children.timeCutoff.disable()},isEnabled:function(){return this.model.editCutoffSec.get("enabled")},render:function(){return this.$el.append(this.children.enabledGroup.render().el),this.$el.append(this.children.timeCutoff.render().el),this.setTimeThresholdVisibility(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/NoLicense":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__(1160),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,module,BaseView,Template,route){return BaseView.extend({moduleId:module.id,template:Template,initialize:function(options){BaseView.prototype.initialize.call(this,options)},events:{"click .primary-button":function(e){e.preventDefault()}},makeDocLink:function(location){return route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),location)},render:function(){var html=this.compiledTemplate({docLink:this.makeDocLink("manager.virtualindex.dashboard"),learnMoreLink:this.makeDocLink("learnmore.virtualindex.overview")});this.$el.html(html)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/configs/Indexes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({url:"configs/conf-indexes",urlRoot:"configs/conf-indexes",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/admin/conf-impersonations":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/admin/Impersonation"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(impersonationModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)},url:"admin/conf-impersonation",model:impersonationModel})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/virtual_indexes/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1162);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/virtual_indexes/IndexesTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/virtual_indexes/IndexesGrid"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/FindInput"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,IndexesGrid,Paginator,Filter,SyntheticSelectControl,FlashMessagesView,route){return BaseView.extend({moduleId:module.id,className:"section-padded",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.filter=new Filter({model:this.collection.indexes.fetchData,key:["name","vix.provider"]}),this.children.pageCount=new SyntheticSelectControl({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:10,label:_("10 per page").t()},{value:20,label:_("20 per page").t()},{value:50,label:_("50 per page").t()},{value:100,label:_("100 per page").t()}],model:this.collection.indexes.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.paginator=new Paginator({collection:this.collection.indexes}),this.children.indexesGrid=new IndexesGrid({collection:this.collection,model:this.model}),this.collection.indexes.on("deleteRequest",function(victimModel){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new FlashMessagesView({model:victimModel}),this.$el.prepend(this.children.flashMessages.render().el)},this),this.collection.indexes.on("filterRequest",function(search){this.children.filter.$input.val(search)},this),this.collection.indexes.on("change reset",function(){0==this.collection.indexes.length?(this.children.filter.isEmpty()?this.children.filter.$el.hide():"",this.children.paginator.$el.hide(),this.children.pageCount.$el.hide(),this.$(".divider").hide()):(this.children.filter.$el.show(),this.children.paginator.$el.show(),this.children.pageCount.$el.show(),this.$(".divider").show())},this),this.collection.providers.on("change reset",function(){0==this.collection.providers.length?this.$("a[href=vix_index_new]").hide():this.$("a[href=vix_index_new]").show()},this)},render:function(){var exploreDataUrl=route.exploreData(this.model.application.get("root"),this.model.application.get("locale"));this.children.filter&&this.children.filter.detach(),this.children.pageCount&&this.children.pageCount.detach(),this.children.paginator&&this.children.paginator.detach(),this.children.indexesGrid&&this.children.indexesGrid.detach();var html=this.compiledTemplate({exploreDataUrl:exploreDataUrl});return this.$el.html(html),this.children.filter.render().replaceAll(this.$(".filter-placeholder")),this.children.pageCount.render().replaceAll(this.$(".page-count-placeholder")),this.children.paginator.render().replaceAll(this.$(".paginator-placeholder")),this.children.indexesGrid.replaceAll(this.$(".indexesGrid-placeholder")),this},template:'\t                <div class="filter-placeholder"></div>\t                <div class="buttons-plaecholder pull-right">\t                    <a href="vix_index_new" class="btn btn-primary "><%- _("New Virtual Index").t()%></a>\t                    <a href="<%= exploreDataUrl %>" class="btn btn-primary"><%- _("Explore Data").t()%></a>\t                </div>\t                <div class="divider"></div>\t                <div class="page-count-placeholder"></div>\t                <div class="paginator-placeholder"></div>\t                <div class="indexesGrid-placeholder"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});