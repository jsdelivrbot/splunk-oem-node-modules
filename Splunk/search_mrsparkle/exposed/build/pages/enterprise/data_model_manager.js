webpackJsonp([29],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/enterprise")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),__webpack_require__("routers/DataModelManager"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,DataModelManager,routerUtils){new DataModelManager;routerUtils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1045:function(module,exports){module.exports='<div class="section-header section-padded">\n<% if (displayNewDataModel) { %>\n\t<div class="buttons-wrapper pull-right">\n\t\t<a href="#" class="btn upload-data-model-button"><%- _("Upload Data Model").t() %></a>\n\t\t<a href="#" class="btn btn-primary new-data-model-button"><%- _("New Data Model").t() %></a>\n\t</div>\n<% } %>\n\t<h2 class="section-title"><%- _("Data Models").t() %></h2>\n\t<%- _("Data models enable users to easily create reports in the Pivot tool.").t() %> \n\t<a href="<%- docUrl %>" target="_blank" class="help-link"><%- _("Learn More").t() %> <i class="icon-external"></i></a>\n</div>\n<div class="main-section">\n\t<div class="table-toolbar">\n\t\t<div class="filter-container">\n\t\t\t<div class="collection-count"></div>\n\t\t\t<span class="select-app-filter-placeholder"></span>\n\t\t\t<span class="select-visible-filter-placeholder"></span>\n\t\t\t<span class="select-owner-filter-placeholder"></span>\n\t\t\t<span class="text-name-filter-placeholder"></span>\n\t\t\t<div class="select-page-count"></div>\n\t\t</div>\n\t\t<div class="paginator-container">\n\n\t\t</div> \t\t\n\t</div>\n             \t\n\t<div class="dm-list-placeholder"></div>\n</div>'},"views/data_model_manager/DataModelManager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/Base"),__webpack_require__("views/data_model_manager/components/DataModelTable"),__webpack_require__("views/data_model_manager/DataModelActionController"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/dataenrichment/preview/components/SelectPageCount"),__webpack_require__("views/shared/CollectionCount"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils"),__webpack_require__("uri/route"),__webpack_require__(1045),__webpack_require__("views/data_model_manager/DataModelManager.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,DataModel,BaseView,DataModelTable,DataModelActionController,CollectionPaginator,SyntheticSelectControl,TextControl,SelectPageCount,CollectionCount,splunkUtil,splunkDUtils,route,template,css){return BaseView.extend({moduleId:module.id,template:template,dataModelToEdit:void 0,events:{"click .new-data-model-button":function(e){e.preventDefault(),this.children.dataModelController.trigger("action:createDataModel")},"click .upload-data-model-button":function(e){e.preventDefault(),this.children.dataModelController.trigger("action:uploadDataModel")}},editDataModelHandler:function(dataModel){var editUrl,sharing=dataModel.entry.acl.get("sharing"),app=sharing==splunkDUtils.GLOBAL?this.model.application.get("app"):dataModel.entry.acl.get("app");dataModel.getType()===DataModel.DOCUMENT_TYPES.DATAMODEL?editUrl=route.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),app,{data:{model:dataModel.get("id")}}):dataModel.getType()===DataModel.DOCUMENT_TYPES.TABLE&&(editUrl=route.table(this.model.application.get("root"),this.model.application.get("locale"),app,{data:{t:dataModel.id}})),window.location=editUrl},fetchDataModelHandler:function(modelName){var dataModel=this.collection.dataModels.get(modelName);if(dataModel)return dataModel.fetch({data:{concise:!0}})},updateDataModelHandler:function(modelName,accelerationChanges,contentChanges){var dataModel=this.collection.dataModels.get(modelName);dataModel&&(accelerationChanges&&dataModel.entry.content.acceleration.set(accelerationChanges),contentChanges&&dataModel.entry.content.set(contentChanges))},appFilterChange:function(value,oldValue){this.children.selectVisibleFilter.setItems(this.getVisibleItems(""!=value)),""==value&&this.model.metadata.set("visible","true")},getVisibleItems:function(enableCreated){return[{label:_("Created in the App").t(),value:"false",enabled:enableCreated},{label:_("Visible in the App").t(),value:"true",enabled:!0}]},showCreateDataModelDialog:function(){this.children.dataModelController.trigger("action:createDataModel")},initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.dataModelController=new DataModelActionController({model:{application:this.model.application,user:this.model.user},collection:{apps:this.collection.apps,vix:this.collection.vix,archives:this.collection.archives}}),this.children.dataModelController.on("action:clonedDataModel action:dataModelPermissionsChange action:deletedDataModel",function(){this.trigger("action:fetchDataModels")},this),this.children.dataModelController.on("action:fetchDataModel",this.fetchDataModelHandler,this),this.children.dataModelController.on("action:updateDataModel",this.updateDataModelHandler,this),this.children.dataModelController.on("action:createdDataModel",this.editDataModelHandler,this),this.children.dataModelController.on("action:uploadedDataModel",this.editDataModelHandler,this),this.children.dmList=new DataModelTable({collection:this.collection.dataModels,model:{application:this.model.application,metadata:this.model.metadata,settings:this.model.settings,user:this.model.user}}),this.children.dmList.on("all",function(){var eventType=arguments[0],modelName=arguments[1];if("action:editDataModel"==eventType)this.editDataModelHandler(modelName);else if("action:deleteDataModel"==eventType){var dataModel=this.collection.dataModels.get(modelName);this.children.dataModelController.trigger("action:deleteDataModel",dataModel)}else this.children.dataModelController.trigger.apply(this.children.dataModelController,arguments)},this);var staticAppItems=[{label:_("All").t(),value:""}],dynamicAppItems=this.collection.apps.map(function(model,key,list){return{label:splunkUtil.sprintf(_("%s (%s)").t(),model.entry.content.get("label"),model.entry.get("name")),value:model.entry.get("name")}}),appItems=[staticAppItems,dynamicAppItems];this.children.selectAppFilter=new SyntheticSelectControl({label:_("App").t()+": ",toggleClassName:"btn-pill",menuWidth:"wide",model:this.model.metadata,modelAttribute:"appSearch",items:appItems}),this.children.selectAppFilter.on("change",this.appFilterChange,this),this.children.selectVisibleFilter=new SyntheticSelectControl({toggleClassName:"btn-pill",menuWidth:"narrow",model:this.model.metadata,modelAttribute:"visible",items:this.getVisibleItems(""!=this.model.metadata.get("appSearch"))});var staticUserItems=[{label:_("Any").t(),value:"*"},{label:_("None (nobody)").t(),value:"nobody"}],dynamicUserItems=this.collection.users.map(function(model,key,list){return{label:splunkUtil.sprintf(_("%s (%s)").t(),model.entry.content.get("realname"),model.entry.get("name")),value:model.entry.get("name")}}),userItems=[staticUserItems,dynamicUserItems];this.children.selectOwnerFilter=new SyntheticSelectControl({label:_("Owner").t()+": ",toggleClassName:"btn-pill",menuWidth:"narrow",model:this.model.metadata,modelAttribute:"ownerSearch",items:userItems}),this.children.textNameFilter=new TextControl({model:this.model.metadata,modelAttribute:"nameFilter",inputClassName:"search-query",placeholder:_("filter").t()}),this.children.collectionPaginator=new CollectionPaginator({collection:this.collection.dataModels,model:this.model.metadata}),this.children.collectionCount=new CollectionCount({collection:this.collection.dataModels,countLabel:_("Data Models").t()}),this.children.selectPageCount=new SelectPageCount({model:this.model.metadata})},render:function(){this.children.selectAppFilter.detach(),this.children.selectVisibleFilter.detach(),this.children.selectOwnerFilter.detach(),this.children.textNameFilter.detach(),this.children.collectionPaginator.detach();var docUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.datamodel.about"),html=this.compiledTemplate({docUrl:docUrl,displayNewDataModel:this.model.settings.get("canCreateDataModel")});return this.$el.html(html),this.children.dmList.render().appendTo(this.$(".dm-list-placeholder")),this.children.selectAppFilter.render().appendTo(this.$(".select-app-filter-placeholder")),this.children.selectVisibleFilter.render().appendTo(this.$(".select-visible-filter-placeholder")),this.children.selectOwnerFilter.render().appendTo(this.$(".select-owner-filter-placeholder")),this.children.textNameFilter.render().appendTo(this.$(".text-name-filter-placeholder")),this.children.collectionPaginator.render().appendTo(this.$(".paginator-container")),this.children.collectionCount.render().appendTo(this.$(".collection-count")),this.children.selectPageCount.render().appendTo(this.$(".select-page-count")),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_manager/components/DataModelTable":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("views/Base"),__webpack_require__("views/data_model_manager/components/DataModelRow"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("views/shared/TableHead"),__webpack_require__("helpers/grid/RowIterator")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,Base,DataModelRow,RowExpandCollapse,TableHead,RowIterator){return Base.extend({moduleId:module.id,dataModelRows:[],initialize:function(options){Base.prototype.initialize.call(this,options),this.collection.on("reset add remove",this.debouncedRender,this)},render:function(){var rowIterator=new RowIterator,html=this.compiledTemplate({}),$html=$(html);return"undefined"!=typeof this.children.head&&($(this.children.head.el).remove(),this.children.head.remove()),this.children.head=new TableHead({model:this.model.metadata,columns:[{label:_("i").t(),className:RowExpandCollapse.HEADER_CELL_CLASS,html:RowExpandCollapse.HEADER_CELL_MARKUP},{label:_("Title").t(),className:"col-title",sortKey:"displayName"},{label:_("Type").t(),className:"col-type",sortKey:"dataset.type"},{label:_("Accelerate").t(),className:"col-accelerate",html:'<i class="icon-lightning"></i>'},{label:_("Actions").t(),className:"col-actions"},{label:_("App").t(),className:"col-app",sortKey:"eai:acl.app,name"},{label:_("Owner").t(),className:"col-owner",sortKey:"eai:acl.owner,name"},{label:_("Sharing").t(),className:"col-sharing",sortKey:"eai:acl.sharing,name"}]}),_(this.dataModelRows).each(function(dataModelRow){dataModelRow.off(),dataModelRow.detach()},this),this.dataModelRows=[],rowIterator.eachRow(this.collection,function(dataModel,index,rowNumber,isExpanded){var dataModelRow=new DataModelRow({model:{dataModel:dataModel,application:this.model.application,settings:this.model.settings,user:this.model.user},isExpanded:isExpanded,index:index,rowNumber:rowNumber});dataModelRow.on("all",function(){this.trigger.apply(this,arguments)},this),this.dataModelRows.push(dataModelRow),$html.find(".data-model-table-body").append(dataModelRow.render().el)},this),$html.find(".data-model-table-head-placeholder").replaceWith(this.children.head.render().el),this.$el.html($html),this},template:'\t            <table class="table table-chrome table-striped table-row-expanding">\t                <thead class="data-model-table-head-placeholder"></thead>\t                <tbody class="data-model-table-body"></tbody>\t            </table>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_manager/components/DataModelRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("stubs/i18n"),__webpack_require__("uri/route"),__webpack_require__("views/Base"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("views/shared/DropDownMenu"),__webpack_require__("views/data_model_manager/components/AccelerationInfo"),__webpack_require__("views/shared/datasetcontrols/accelerationinfo/dialogs/rebuild/Master"),__webpack_require__("models/Base"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/services/summarization/TStatsSummarization")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,splunkDUtils,splunkUtils,i18n,route,BaseView,RowExpandCollapse,DropDownMenu,AccelerationInfo,RebuildAccelerationDialog,BaseModel,DataModel,TStatsSummarization){return BaseView.extend({tagName:"tr",moduleId:module.id,isExpanded:!1,events:function(){var events={};return events["click td."+RowExpandCollapse.TOGGLE_CELL_CLASS+", td.col-accelerate"]="toggleCellClickHandler",events["click a.edit-permissions-btn"]=function(){this.trigger("action:editPermissions",this.model.dataModel.get("id"))},events["click a.rebuild-btn"]=function(){this.rebuildAcceleration()},events["click a.update-btn"]=function(){this.fetchAccelerationInfo()},events["click a.edit-acceleration-btn"]=function(){this.trigger("action:editAcceleration",this.model.dataModel.get("id"))},events["click a.clone-btn"]=function(){this.trigger("action:cloneDataModel",this.model.dataModel.get("id"))},events}(),initialize:function(options){BaseView.prototype.initialize.call(this,options),this.model.accelerationInfo=new BaseModel,this.model.accelerationInfo.on("change",this.debouncedRender,this),this.model.dataModel.entry.acl.on("change",function(){this.debouncedRender()},this),this.model.dataModel.entry.content.on("change",this.debouncedRender,this),this.model.dataModel.entry.content.acceleration.on("change",this.debouncedRender,this);var items,isDataModel=this.model.dataModel.getType()===DataModel.DOCUMENT_TYPES.DATAMODEL,subItems0=[],subItems1=[],subItems2=[];isDataModel?subItems0.push({label:_("Edit Datasets").t(),value:"editDataModel"}):this.model.user.canAccessSplunkDatasetExtensions()&&subItems0.push({label:_("Edit Dataset").t(),value:"editDataModel"}),!this.model.dataModel.isAccelerated()&&isDataModel&&subItems1.push({label:_("Edit Title or Description").t(),value:"editDataModelTitle"}),this.model.dataModel.canChangePermissions()&&subItems1.push({label:_("Edit Permissions").t(),value:"editPermissions"}),this.model.user.canAccelerateDataModel()&&subItems1.push({label:_("Edit Acceleration").t(),value:"editAcceleration"}),this.model.settings.get("canCreateDataModel")&&isDataModel&&subItems2.push({label:_("Clone").t(),value:"cloneDataModel"}),this.model.dataModel.canDelete()&&isDataModel&&subItems2.push({label:_("Delete").t(),value:"deleteDataModel"}),items=[],subItems0.length>0&&items.push(subItems0),subItems1.length>0&&items.push(subItems1),subItems2.length>0&&items.push(subItems2),this.children.editDropDownMenu=new DropDownMenu({label:_("Edit").t(),items:items,dropdownClassName:"dropdown-menu-narrow",anchorClassName:"dropdown-toggle",className:"dropdown",popdownOptions:{attachDialogTo:"body"}}),this.children.editDropDownMenu.on("itemClicked",this.editDropDownMenuClickHandler,this)},editDropDownMenuClickHandler:function(itemData){"editDataModel"==itemData?this.trigger("action:"+itemData,this.model.dataModel):this.trigger("action:"+itemData,this.model.dataModel.get("id"))},toggleCellClickHandler:function(e){e.preventDefault(),this.isExpanded=!this.isExpanded,this.debouncedRender()},fetchAccelerationInfo:function(){this.model.tstatsSummarization&&this.model.tstatsSummarization.fetch()},rebuildAcceleration:function(){this.model.tstatsSummarization&&(this.children.rebuildDialog=new RebuildAccelerationDialog({model:{tstatsSummarization:this.model.tstatsSummarization},onHiddenRemove:!0}),this.children.rebuildDialog.on("refreshRequested",this.fetchAccelerationInfo,this),this.children.rebuildDialog.render().appendTo($("body")).show())},accelerateCheckboxClickHandler:function(){this.model.dataModel.entry.content.acceleration.get("enabled")?this.toggleCellClickHandler():this.trigger("action:openAccelerateDialog",this.model.dataModel.get("id"))},render:function(){var description,pivotUrl,editUrl,content=this.model.dataModel.entry.content,modelName=content.get("modelName"),accelerationEnabled=content.acceleration.get("enabled"),acceleratePending=!accelerationEnabled,displayType=this.model.dataModel.getDatasetDisplayType(),editable=!0,displayName=content.get("displayName"),objectSummary=content.objectSummary,app=this.model.dataModel.entry.acl.get("app"),owner=this.model.dataModel.entry.acl.get("owner"),sharing=this.model.dataModel.entry.acl.get("sharing"),eventCount=0,transactionCount=0,searchCount=0,objectsString="",permissionString=splunkDUtils.getPermissionLabel(sharing,owner);this.model.dataModel.getType()===DataModel.DOCUMENT_TYPES.DATAMODEL?(editUrl=route.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{model:this.model.dataModel.id}}),pivotUrl=route.pivot(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{model:this.model.dataModel.id}}),description=content.get("description")):this.model.dataModel.getType()===DataModel.DOCUMENT_TYPES.TABLE&&(this.model.user.canAccessSplunkDatasetExtensions()||(editable=!1),editUrl=route.table(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{t:this.model.dataModel.id}}),pivotUrl=route.pivot(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{dataset:this.model.dataModel.entry.get("name"),type:"datamodel"}}),description=content.get("dataset.description")),objectSummary&&(eventCount=objectSummary.get("Event-Based"),transactionCount=objectSummary.get("Transaction-Based"),searchCount=objectSummary.get("Search-Based")),eventCount>0&&(objectsString+=splunkUtils.sprintf(i18n.ungettext("1 Event","%s Events",eventCount),eventCount)),transactionCount>0&&(""!=objectsString&&(objectsString+=", "),objectsString+=splunkUtils.sprintf(i18n.ungettext("1 Transaction","%s Transactions",transactionCount),transactionCount)),searchCount>0&&(""!=objectsString&&(objectsString+=", "),objectsString+=splunkUtils.sprintf(i18n.ungettext("1 Search Event","%s Search Events",searchCount),searchCount)),""==objectsString&&(objectsString="(None)");var html=(this.model.settings.get("canCreateDataModel"),this.compiledTemplate({modelName:modelName,displayName:displayName,description:description,displayType:displayType,editable:editable,canWrite:this.model.dataModel.canWrite(),canChangePerms:this.model.dataModel.canChangePermissions(),canCloneDataModel:this.model.settings.get("canCreateDataModel"),canAccelerate:this.model.dataModel.canAccelerate(),userCanAccelerate:this.model.user.canAccelerateDataModel()&&this.model.dataModel.canWrite(),app:app,owner:owner,sharing:splunkDUtils.getSharingLabel(this.model.dataModel.entry.acl.get("sharing")),accelerationEnabled:accelerationEnabled,acceleratePending:acceleratePending,accelerationInfo:this.model.accelerationInfo,pivotUrl:pivotUrl,editUrl:editUrl,isExpanded:this.isExpanded,objectsString:objectsString,permissionString:permissionString,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,expandedCellBody:RowExpandCollapse.EXPANDED_CELL_MARKUP,collapsedCellBody:RowExpandCollapse.COLLAPSED_CELL_MARKUP,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR,sprintf:splunkUtils.sprintf}));if(this.$el.html(html),this.$el.attr(RowExpandCollapse.ROW_ID_ATTR,modelName),this.isExpanded){this.$el.addClass(RowExpandCollapse.EXPANDED_ROW_CLASS);var tstatsNamespace="tstats:DM_"+app+"_"+this.model.dataModel.entry.content.get("modelName"),tStatsId=this.model.dataModel.id.replace("datamodel/model","admin/summarization"),tStatsUrl=tStatsId.substr(0,tStatsId.lastIndexOf("/")+1);tStatsId=tStatsUrl.concat(tstatsNamespace),this.model.tstatsSummarization||(this.model.tstatsSummarization=new TStatsSummarization({id:tStatsId}),this.children.accelerationInfo=new AccelerationInfo({model:this.model.tstatsSummarization})),this.model.tstatsSummarization.fetch(),this.$(".acceleration-info-placeholder").replaceWith(this.children.accelerationInfo.render().el)}else this.$el.removeClass(RowExpandCollapse.EXPANDED_ROW_CLASS);return this.$(".edit-dropdown-placeholder").replaceWith(this.children.editDropDownMenu.render().el),this},template:'\t                    <% if(isExpanded) { %>\t                        <td class="<%- toggleCellClass %>"><%= expandedCellBody %></td>\t                    <% } else { %>\t                        <td class="<%- toggleCellClass %>"><%= collapsedCellBody %></td>\t                    <% } %>\t                    <td class="col-title">\t                        <% if (canWrite && editable) { %>\t                            <a href="<%- editUrl %>" class="data-model-title"><%- displayName %></a>\t                        <% } else { %>\t                            <span class="data-model-title"><%- displayName %></span>\t                        <% } %>\t                        <% if(isExpanded) { %>\t                            <div class="expanded-info">\t                                <div><%- description %></div>\t                                <h5><%- _("MODEL").t() %></h5>\t                                <dl class="list-dotted">\t                                    <dt><%- _("Datasets").t() %></dt>\t                                    <dd><%- objectsString %> \t                                    <% if (canWrite && editable) { %>\t                                        <a class="edit-btn" href="<%- editUrl %>"><%- _("Edit").t() %></a>\t                                    <% } %>\t                                    </dd>\t                                    <dt><%- _("Permissions").t() %></dt>\t                                    <dd><%- permissionString %>\t                                    <% if (canChangePerms) { %>\t                                        <a class="edit-permissions-btn" href="#"><%- _("Edit").t() %></a>\t                                    <% } %>\t                                    </dd>\t                                 </dl>\t                                 <h5><%- _("ACCELERATION").t() %></h5>\t                                 <% if (canAccelerate) { %>\t                                     <% if (accelerationEnabled) { %>\t                                         <% if (userCanAccelerate) { %>\t                                             <% if (!acceleratePending) { %>\t                                                <a class="rebuild-btn" href="#"><%- _("Rebuild").t() %></a>\t                                                <a class="update-btn" href="#"><%- _("Update").t() %></a>\t                                             <% } %>\t                                             <a class="edit-acceleration-btn" href="#"><%- _("Edit").t() %></a>\t                                         <% } %>\t                                         <% if (acceleratePending) { %>\t                                                <div>Status Not Implemented Yet</div>\t                                            <% } else { %>\t                                                <div class="acceleration-info-placeholder"></div>\t                                            <% } %>\t                                     <% } else { %>\t                                        <span><%- _("Model is not accelerated.").t() %></span>\t                                        <% if (userCanAccelerate) { %>\t                                            <a class="edit-acceleration-btn" href="#"><%- _("Add").t() %></a>\t                                        <% } %>\t                                     <% } %>\t                                 <% } else { %>\t                                    <%- _("You can only accelerate data models that:").t() %>\t                                    <ul>\t                                        <li><%- _("Are shared to other users.").t() %>\t                                        <li><%- _("Contain at least one event-based dataset or one search-based dataset that does not use reporting commands.").t() %>\t                                    </ul>\t                                 <% } %>\t                            </div>\t                        <% } %>\t                    </td>\t                    <td class="col-type">\t                        <%- displayType %>\t                    </td>\t                    <td class="col-accelerate">\t                        <i class="icon-lightning \t                                <% if (accelerationEnabled) { %>\t                                    icon-lightning-selected \t                                <% } %>\t                            "></i>\t                    </td>\t                    <td class="col-actions">\t                        <% if (canWrite) { %>\t                            <span class="edit-dropdown-placeholder"></span>\t                        <% } else if (canCloneDataModel) { %>\t                            <a class="clone-btn" href="#"><%- _("Clone").t() %></a>\t                        <% } %>\t                        <a class="pivot-btn" href="<%- pivotUrl %>"><%- _("Pivot").t() %></a>\t                    </td>\t                    <td class="col-app">\t                        <span class="data-model-app"><%- app %></span>\t                    </td>\t                    <td class="col-owner">\t                        <span class="data-model-owner"><%- owner %></span>\t                    </td>\t                    <td class="col-sharing">\t                        <span class="data-model-sharing"><%- sharing %></span>\t                    </td>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_manager/components/AccelerationInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/time"),__webpack_require__("stubs/i18n"),__webpack_require__("util/format_numbers_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,splunkUtils,time_utils,i18n,numUtils){return BaseView.extend({tagName:"dl",className:"list-dotted",moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.model.on("change",this.debouncedRender,this)},formattedTimeString:function(timestr){return timestr?i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(time_utils.isoToDateObject(timestr))):""},render:function(){var accessCount=this.model.entry.content.get("summary.access_count"),accessDateString=this.model.entry.content.get("summary.access_time"),accessDate=0===accessCount||void 0===accessDateString?"-":this.formattedTimeString(accessDateString),updatedString=this.model.entry.content.get("summary.mod_time"),updatedDate=void 0===updatedString?"-":this.formattedTimeString(updatedString),html=this.compiledTemplate({summary:this.model.entry.content,summarySizeString:numUtils.bytesToFileSize(this.model.entry.content.get("summary.size")),lastAccessed:accessDate,lastUpdated:updatedDate,sprintf:splunkUtils.sprintf});return this.$el.html(html),this},template:'\t                <% if (summary.get("summary.id")) { %>\t                    <dt><%- _("Status").t() %></dt>\t                    <dd><% if (summary.get("summary.complete")) { %>\t                            <%- sprintf(_("%s%% Completed").t(), (summary.get("summary.complete")*100).toFixed(2)) %>\t                        <% } else { %>\t                            <%- _("Building").t() %>\t                        <% } %>\t                    </dd>\t                    <dt><%- _("Access Count").t() %></dt>\t                    <dd><%- sprintf(_("%s. Last Access: %s").t(), \t                    summary.get("summary.access_count"), lastAccessed) %></dd>\t                    <dt><%- _("Size on Disk").t() %></dt>\t                    <dd><%- summarySizeString %></dd>\t                    <dt><%- _("Summary Range").t() %></dt>\t                    <dd><%- sprintf(_("%s second(s)").t(), summary.get("summary.time_range")) %></dd>\t                    <dt><%- _("Buckets").t() %></dt>\t                    <dd><%- summary.get("summary.buckets") %></dd>\t                    <dt><%- _("Updated").t() %></dt>\t                    <dd><%- lastUpdated %></dd>\t                 <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/accelerationinfo/dialogs/rebuild/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/MultiStepModal"),__webpack_require__("views/shared/datasetcontrols/accelerationinfo/dialogs/rebuild/Confirmation"),__webpack_require__("views/shared/datasetcontrols/accelerationinfo/dialogs/rebuild/Failure")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,MultiStepModal,Confirmation,Failure){return MultiStepModal.extend({moduleId:module.id,initialize:function(){MultiStepModal.prototype.initialize.apply(this,arguments),this.children.confirmation=new Confirmation({model:{tstatsSummarization:this.model.tstatsSummarization
}}),this.children.failure=new Failure,this.children.confirmation.on("closeModal",function(){this.trigger("refreshRequested"),this.remove()},this),this.children.confirmation.on("failedRebuild",function(){this.stepViewStack.setSelectedView(this.children.failure),this.children.failure.focus()},this)},getStepViews:function(){return[this.children.confirmation,this.children.failure]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/accelerationinfo/dialogs/rebuild/Confirmation":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("util/format_numbers_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,ModalView,FlashMessage,numUtils,splunkUtils){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.flashMessage=new FlashMessage({model:this.model.tstatsSummarization})},events:{"click .modal-btn-primary:not(.disabled)":function(e){this.submit(),e.preventDefault()}},submit:function(){this.$rebuildButton=this.$(".modal-btn-primary"),this.$rebuildButton.addClass("disabled");var resultXHR=this.model.tstatsSummarization.destroy();$.when(resultXHR).then(function(){this.trigger("closeModal")}.bind(this),function(){this.trigger("failedRebuild")}.bind(this))},render:function(){var summarySize=this.model.tstatsSummarization.entry.content.get("summary.size"),rebuildButton='<a href="#" class="btn btn-primary modal-btn-primary pull-right">'+_("Rebuild").t()+"</a>";return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Rebuild Data Model Summary").t()),$(_.template(this.warningTemplate,{_:_,summarySizeString:numUtils.bytesToFileSize(summarySize),splunkUtils:splunkUtils})).appendTo(this.$(ModalView.BODY_SELECTOR)),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CANCEL),this.$(ModalView.FOOTER_SELECTOR).append(rebuildButton),this.children.flashMessage.render().prependTo(this.$(ModalView.BODY_SELECTOR)),this},warningTemplate:'\t                <div class="alert alert-warning">\t                    <i class="icon-alert"></i>\t                    <%- splunkUtils.sprintf(_("If you carry out this rebuild operation,\t                     the Splunk software will delete the current acceleration summary (%s) \t                     for this data model and rebuild it.  If this data model has a large \t                     summary, this process can take a long time.").t(), summarySizeString) %> \t                    <div class="ask-confirmation"><%- _("Do you want to proceed and rebuild the summary for this datamodel anyway?").t() %></div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/accelerationinfo/dialogs/rebuild/Failure":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,ModalView){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click .modal-btn-primary":function(){this.trigger("closeModal")}},focus:function(){this.$(".modal-btn-primary").focus()},render:function(){return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Rebuild Failed").t()),this.$(ModalView.BODY_SELECTOR).html(_("There was an error rebuilding the data model.  Please close this dialog and try again.").t()),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CLOSE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/summarization/TStatsSummarization":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,SplunkDBaseModel){return SplunkDBaseModel.extend({url:"admin/summarization",fetch:function(options){return options=$.extend(!0,{data:{time_format:"iso8601"}},options),SplunkDBaseModel.prototype.fetch.call(this,options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/DataModelManager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("models/classicurl"),__webpack_require__("models/Base"),__webpack_require__("models/services/AppLocal"),__webpack_require__("models/shared/User"),__webpack_require__("models/shared/EAIFilterFetchData"),__webpack_require__("collections/services/datamodel/DataModels"),__webpack_require__("collections/services/data/vix/Indexes"),__webpack_require__("collections/services/data/vix/Archives"),__webpack_require__("collections/services/AppLocals"),__webpack_require__("collections/services/authentication/Users"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/data_model_manager/DataModelManager"),__webpack_require__("routers/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,_,classicUrl,BaseModel,AppLocal,User,EAIFilterFetchData,DataModelCollection,VixIndexCollection,ArchivesCollection,AppsCollection,UsersCollection,FlashMessagesView,DataModelManager,BaseRouter,splunkUtils,splunkDUtils){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Data Models").t()),this.metadataModel=new EAIFilterFetchData,this.metadataModel.set({sortKey:"displayName",sortDirection:"asc",count:"20",offset:0,ownerSearch:"*",visible:!0}),this.dataModelsCollection=new DataModelCollection,this.vixCollection=new VixIndexCollection,this.archivesCollection=new ArchivesCollection,this.classicUrl=classicUrl,this.appLocal=new AppLocal,this.appsCollection=new AppsCollection,this.user=new User({},{serverInfoModel:this.model.serverInfo,appLocalsCollection:this.appsCollection}),this.usersCollection=new UsersCollection,this.settingsModel=new Backbone.Model,this.pageFirstTime=!0,this.enableAppBar=!1},page:function(locale,app,page){"system"==app&&splunkUtils.redirect_to("app/search/"+page),BaseRouter.prototype.page.apply(this,arguments);var appOwner={app:this.model.application.get("app"),owner:this.model.application.get("owner")},appsFetch=this.appsCollection.fetch({data:{sort_key:"name",sort_dir:"desc",app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"visible=true AND disabled=0",count:-1}}),usersFetch=this.usersCollection.fetch({data:{count:250,search:"roles=*"}}),appLocalFetch=this.appLocal.fetch({url:splunkDUtils.fullpath(this.appLocal.url+"/"+encodeURIComponent(this.model.application.get("app"))),data:appOwner});this.vixCollection.fetchData.set({count:0},{silent:!0});var vixFetch=this.vixCollection.fetch();this.archivesCollection.fetchData.set({count:0},{silent:!0});var archiveFetch=this.archivesCollection.fetch();$.when(appsFetch).done(_(function(){var userFetch=this.user.fetch({url:splunkDUtils.fullpath(this.user.url+"/"+encodeURIComponent(this.model.application.get("owner"))),data:appOwner});$.when(usersFetch,appLocalFetch,userFetch,vixFetch,archiveFetch,this.deferreds.pageViewRendered).done(_(function(){this.classicUrl.fetch({silentClear:!0}).done(_(function(){this.metadataModel.off("change",this.updateClassicUrlFromParams,this),this.updateParamsFromClassicUrl(),this.classicUrl.save(this.metadataModel.attributes,{replaceState:this.pageFirstTime}),this.metadataModel.on("change",this.updateClassicUrlFromParams,this);var canCreateDataModel=this.appsCollection.some(function(model){return model.entry.acl.get("can_write")},this);this.settingsModel.set("canCreateDataModel",canCreateDataModel);var dataModelManagerView=new DataModelManager({collection:{dataModels:this.dataModelsCollection,apps:this.appsCollection,users:this.usersCollection,vix:this.vixCollection,archives:this.archivesCollection},model:{application:this.model.application,appLocal:this.appLocal,metadata:this.metadataModel,settings:this.settingsModel,user:this.user}});dataModelManagerView.on("action:fetchDataModels",_.debounce(this.fetchDataModels),this),this.flashMessagesView&&this.flashMessagesView.remove(),this.flashMessagesView=new FlashMessagesView({collection:this.dataModelsCollection}),this.shouldRender&&(this.pageView.$(".main-section-body").append(this.flashMessagesView.render().el),this.pageView.$(".main-section-body").append($('<div class="data-model-manager-placeholder"></div>')),this.flashMessagesView.$el.show()),this.dataModelManagerView&&this.dataModelManagerView.remove({detach:!0}),this.dataModelManagerView=dataModelManagerView,$(".preload").replaceWith(this.pageView.el),this.pageFirstTime=!1,this.fetchDataModels(),canCreateDataModel&&"create"===classicUrl.get("dialog")&&this.showCreateDataModelDialog()}).bind(this))}).bind(this))}).bind(this))},fetchDataModels:function(){this.dataModelsCollection.fetch({data:{app:this.metadataModel.get("appSearch"),owner:"-",sort_dir:this.metadataModel.get("sortDirection"),sort_key:this.metadataModel.get("sortKey").split(","),sort_mode:["auto","auto"],search:this.metadataModel.getCalculatedSearch(),count:this.metadataModel.get("count"),offset:this.metadataModel.get("offset"),concise:!0}}).then(_(function(){$(".data-model-manager-placeholder").append(this.dataModelManagerView.render().el),this.flashMessagesView.$el.hide()}).bind(this))},showCreateDataModelDialog:function(){this.dataModelManagerView.showCreateDataModelDialog(),classicUrl.save({dialog:void 0},{replaceState:!0})},updateParamsFromClassicUrl:function(){var cUrl=this.classicUrl,attrs=_(cUrl.attributes).defaults(this.metadataModel.attributes,{appSearch:this.model.application.get("app")});this.metadataModel.set(attrs)},updateClassicUrlFromParams:function(){_.debounce(function(){this.classicUrl.save(this.metadataModel.attributes,{trigger:!0})}.bind(this),0)()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_models/CreateDataModelDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/shared/dialogs/DialogBase"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("models/datamodel/CreateDataModel"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("util/datamodel/form_utils"),module],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,splunkUtil,DialogBase,ControlGroup,TextControl,CreateDataModel,DataModel,FlashMessagesView,PairedTextControls,dataModelFormUtils,module){return DialogBase.extend({moduleId:module.id,className:"modal fade modal-narrow create-data-model-dialog form form-horizontal",modelToControlGroupMap:{displayName:"textDisplayName"},initialize:function(options){DialogBase.prototype.initialize.call(this,options),this.settings.set("primaryButtonLabel",_("Create").t()),this.settings.set("cancelButtonLabel",_("Cancel").t()),this.settings.set("titleLabel",_("New Data Model").t());var applicationApp=this.model.application.get("app"),useApplicationApp=!1,appItems=[];this.collection.apps.each(function(model){model.entry.acl.get("can_write")&&(appItems.push({label:model.entry.content.get("label"),value:model.entry.get("name")}),model.entry.get("name")==applicationApp&&(useApplicationApp=!0))},this),useApplicationApp||(applicationApp=appItems.length>0?appItems[0].value:void 0),this.model.createDataModel=new CreateDataModel({displayName:"",description:"",app:applicationApp}),this.textDisplayNameControl=new TextControl({modelAttribute:"displayName",model:this.model.createDataModel}),this.textModelNameControl=new TextControl({modelAttribute:"modelName",model:this.model.createDataModel}),this.children.textDisplayName=new ControlGroup({label:_("Title").t(),controls:this.textDisplayNameControl,controlClass:"controls-block"}),this.children.textModelName=new ControlGroup({label:_("ID").t(),tooltip:_("The ID is used as the filename on disk and used in the data model search command. Cannot be changed later.").t(),help:_("Can only contain letters, numbers and underscores.").t(),controls:this.textModelNameControl,controlClass:"controls-block"}),this.pairedTextControls=new PairedTextControls({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textModelNameControl,transformFunction:dataModelFormUtils.normalizeForID}),this.children.selectApp=new ControlGroup({label:_("App").t(),controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{modelAttribute:"app",model:this.model.createDataModel,toggleClassName:"btn",items:appItems,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}}),this.children.textAreaDescription=new ControlGroup({label:_("Description").t(),controlType:"Textarea",controlClass:"controls-block",controlOptions:{modelAttribute:"description",model:this.model.createDataModel,placeholder:_("optional").t()}}),this.model.newDataModel=new DataModel,this.children.flashMessagesView=new FlashMessagesView({model:[this.model.createDataModel,this.model.newDataModel]})},primaryButtonClicked:function(){if(DialogBase.prototype.primaryButtonClicked.apply(this,arguments),this.model.createDataModel.set({},{validate:!0})){this.model.newDataModel.entry.content.set({name:this.model.createDataModel.get("modelName"),displayName:this.model.createDataModel.get("displayName"),description:this.model.createDataModel.get("description")});var resultXHR=this.model.newDataModel.save({},{data:{app:this.model.createDataModel.get("app"),owner:this.model.application.get("owner")}});resultXHR&&resultXHR.done(_(function(){this.hide(),this.trigger("action:createdDataModel",this.model.newDataModel)}).bind(this))}},renderBody:function($el){var html=_(this.bodyTemplate).template({});$el.html(html),$el.find(".flash-messages-view-placeholder").append(this.children.flashMessagesView.render().el),$el.find(".data-model-display-name-placeholder").append(this.children.textDisplayName.render().el),$el.find(".data-model-model-name-placeholder").append(this.children.textModelName.render().el),$el.find(".data-model-app-placeholder").append(this.children.selectApp.render().el),$el.find(".data-model-description-placeholder").append(this.children.textAreaDescription.render().el)},bodyTemplate:'\t                    <div class="flash-messages-view-placeholder"></div>\t                    <div class="data-model-display-name-placeholder"></div>\t                    <div class="data-model-model-name-placeholder"></div>\t                    <div class="data-model-app-placeholder"></div>\t                    <div class="data-model-description-placeholder"></div>\t                '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_models/UploadDataModelDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/shared/dialogs/UploadDataModelDialogBase"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/data_models/FileUploadControl"),__webpack_require__("models/datamodel/UploadDataModel"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("util/datamodel/form_utils"),module],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,splunkUtil,DialogBase,ControlGroup,SyntheticCheckboxControl,SyntheticSelectControl,TextControl,FileUploadControl,UploadDataModel,DataModel,FlashMessagesView,PairedTextControls,dataModelFormUtils,module){return DialogBase.extend({moduleId:module.id,className:"modal fade modal-narrow create-data-model-dialog form form-horizontal",events:{"change #uploadedFile":function(e){this.handleFileSelect(e)}},modelToControlGroupMap:{displayName:"fileContents"},initialize:function(options){DialogBase.prototype.initialize.call(this,options),this.settings.set("primaryButtonLabel",_("Upload").t()),this.settings.set("cancelButtonLabel",_("Cancel").t()),this.settings.set("titleLabel",_("Upload New Data Model").t());var applicationApp=this.model.application.get("app"),useApplicationApp=!1,appItems=[];this.collection.apps.each(function(model){model.entry.acl.get("can_write")&&(appItems.push({label:model.entry.content.get("label"),value:model.entry.get("name")}),model.entry.get("name")==applicationApp&&(useApplicationApp=!0))},this),useApplicationApp||(applicationApp=appItems.length>0?appItems[0].value:void 0),this.model.uploadDataModel=new UploadDataModel({fileContents:"",app:applicationApp}),this.fileNameControl=new FileUploadControl({modelAttribute:"fileContents",model:this.model.uploadDataModel}),this.textModelNameControl=new TextControl({modelAttribute:"modelName",model:this.model.uploadDataModel}),this.children.fileName=new ControlGroup({label:_("File").t(),controls:this.fileNameControl,controlClass:"controls-block",controlOptions:{modelAttribute:"uploadedFile",model:this.model.uploadDataModel}}),this.model.uploadDataModel.on("change:fileContents",this.handleFileUploaded,this),this.children.textModelName=new ControlGroup({label:_("ID").t(),tooltip:_("The ID is used as the filename on disk and used in the data model search command. Cannot be changed later.").t(),help:_("Can only contain letters, numbers and underscores.").t(),controls:this.textModelNameControl,controlClass:"controls-block"}),this.children.selectApp=new ControlGroup({label:_("App").t(),controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{modelAttribute:"app",model:this.model.uploadDataModel,toggleClassName:"btn",items:appItems,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}});var sharedLabel=this.model.user.canUseApps()?_("Shared in App").t():_("Shared").t();this.children.dashPerm=new ControlGroup({label:_("Permissions").t(),controlType:"SyntheticRadio",controlClass:"controls-halfblock",controlOptions:{className:"btn-group btn-group-2",items:[{value:"private",label:_("Private").t()},{value:"shared",label:sharedLabel}],model:this.model.uploadDataModel,modelAttribute:"dashPerm"}}),this.model.newDataModel=new DataModel,this.children.flashMessagesView=new FlashMessagesView({model:[this.model.uploadDataModel,this.model.newDataModel]}),this.model.uploadDataModel.set("dashPerm","private"),this.model.uploadDataModel.on("change:dashPerm",this.permsChangeHandler,this);var items=[{label:_("1 Day").t(),value:"-1d"},{label:_("7 Days").t(),value:"-1w"},{label:_("1 Month").t(),value:"-1mon"},{label:_("3 Months").t(),value:"-3mon"},{label:_("1 Year").t(),value:"-1y"},{label:_("All Time").t(),value:"0"}];this.enabledCheckBox=new SyntheticCheckboxControl({modelAttribute:"enabled",model:this.model.newDataModel.entry.content.acceleration,updateModel:!1}),this.children.enabledGroup=new ControlGroup({label:_("Accelerate").t(),controls:[this.enabledCheckBox],help:_("Acceleration may increase storage and processing costs.").t()}),this.enabledCheckBox.on("change",this.acceleratedChangeHandler,this);var accelerationModel=this.model.newDataModel.entry.content.acceleration;(_.isUndefined(accelerationModel.get("earliest_time"))||_.isEmpty(accelerationModel.get("earliest_time")))&&accelerationModel.set("earliest_time","-1d"),this.earliestTimeSelect=new SyntheticSelectControl({modelAttribute:"earliest_time",model:accelerationModel,toggleClassName:"btn",menuWidth:"narrow",items:items,updateModel:!1,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}),this.children.earliestTimeGroup=new ControlGroup({label:_("Summary Range").t(),controls:[this.earliestTimeSelect],tooltip:_("Sets the range of time (relative to now) for which data is accelerated. Example: 1 Month accelerates the last 30 days of data in your pivots.").t()})},acceleratedChangeHandler:function(model,value,options){this.updateView()},permsChangeHandler:function(){this.updateView()},updateView:function(){var dashPerm=this.model.uploadDataModel.get("dashPerm");"private"==dashPerm?(this.children.enabledGroup.$el.hide(),this.enabledCheckBox.setValue(!1)):this.children.enabledGroup.$el.show(),this.enabledCheckBox.getValue()?this.children.earliestTimeGroup.$el.show():this.children.earliestTimeGroup.$el.hide()},handleFileUploaded:function(){var json,stringifiedJSON=this.model.uploadDataModel.get("fileContents");try{json=JSON.parse(stringifiedJSON),json.description=stringifiedJSON;var wrappedContents={};wrappedContents.entry=[],wrappedContents.entry.push({content:json}),this.model.newDataModel.parseFile(wrappedContents);var modelID=dataModelFormUtils.normalizeForID(this.model.newDataModel.entry.content.get("displayName"));this.model.uploadDataModel.set("modelName",modelID)}catch(e){return void this.model.uploadDataModel.trigger("error",this.model.uploadDataModel,"File contains invalid json")}},primaryButtonClicked:function(){if(DialogBase.prototype.primaryButtonClicked.apply(this,arguments),this.model.uploadDataModel.set({},{validate:!0})){var dashPerm=this.model.uploadDataModel.get("dashPerm"),data=this.model.application.getPermissions(dashPerm);data.app=this.model.uploadDataModel.get("app"),this.model.newDataModel.entry.content.set("name",this.model.uploadDataModel.get("modelName")),this.enabledCheckBox.updateModel(),this.earliestTimeSelect.updateModel(),this.model.newDataModel.entry.content.isCreating=!0;var resultXHR=this.model.newDataModel.save({},{data:data});resultXHR&&resultXHR.done(_(function(){this.hide(),this.model.newDataModel.entry.content.isCreating=!1,this.trigger("action:uploadedDataModel",this.model.newDataModel)}).bind(this))}},renderBody:function($el){var html=_(this.bodyTemplate).template({});$el.html(html),$el.find(".flash-messages-view-placeholder").append(this.children.flashMessagesView.render().el),$el.find(".data-model-file-name-placeholder").append(this.children.fileName.render().el),$el.find(".data-model-model-name-placeholder").append(this.children.textModelName.render().el),$el.find(".data-model-app-placeholder").append(this.children.selectApp.render().el),$el.find(".data-model-perms-placeholder").append(this.children.dashPerm.render().el),$el.find(".accelerate-checkbox-placeholder").replaceWith(this.children.enabledGroup.render().el),$el.find(".summary-range-dropdown-placeholder").append(this.children.earliestTimeGroup.render().el),this.updateView()},bodyTemplate:'\t                    <div class="flash-messages-view-placeholder"></div>\t                    <div class="data-model-file-name-placeholder"></div>\t                    <div class="data-model-model-name-placeholder"></div>\t                    <div class="data-model-app-placeholder"></div>\t                    <div class="data-model-perms-placeholder"></div>\t                    <div class="accelerate-checkbox-placeholder"></div>\t                    <div class="summary-range-dropdown-placeholder"></div>\t                '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/dialogs/UploadDataModelDialogBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/shared/dialogs/DialogBase"),module],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,DialogBase,module){return DialogBase.extend({moduleId:module.id,_text:"",initialize:function(options){DialogBase.prototype.initialize.call(this,options)},setFocus:function(){this.$("input:file:enabled:visible:first").focus()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_models/FileUploadControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/Control"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Control,splunkUtil){return Control.extend({moduleId:module.id,tagName:"form",className:"control control-upload",initialize:function(){var defaults={inputClassName:""};_.defaults(this.options,defaults),Control.prototype.initialize.apply(this,arguments)},events:{"change input":function(e){this.$(".filename").text(e.currentTarget.value.split("\\").pop()),window.FileReader&&window.FileReader.prototype.readAsText?this.handleFileSelect(e):this.handleFileSelect_unsupportedBrowsers(e)},"focus .fileInput":function(e){this.$(".fileInputContainer").addClass("isFocused")},"focusout .fileInput":function(e){this.$(".fileInputContainer").removeClass("isFocused")}},disable:function(){this.$input.hide()},enable:function(){this.$input.show()},handleFileSelect_unsupportedBrowsers:function(e){var iframe=$("<iframe id='upload_iframe' name='upload_iframe' width='0' height='0' border='0' style='width:0; height:0; border:none; display:none'>"),$form=$(e.target).closest("form");$form.parent().append(iframe);var form=$form[0],that=this,handleIframeLoaded=function(){form.setAttribute("target","");var fileContents=$("#upload_iframe").contents().find("body").html();that.setValue(fileContents,!1)};$("#upload_iframe").load(handleIframeLoaded),form.setAttribute("target","upload_iframe");var action_url=splunkUtil.make_url("manager/system/datamodel/upload");form.setAttribute("action",action_url),form.setAttribute("method","post"),form.setAttribute("enctype","multipart/form-data"),form.setAttribute("encoding","multipart/form-data"),form.submit()},handleFileSelect:function(e){var files=e.target.files;if(1==files.length){var f=files[0],reader=new FileReader,that=this;reader.onload=function(e){var text=reader.result;that.setValue(text,!1)},reader.readAsText(f)}},render:function(){if(!this.el.innerHTML){var template=_.template(this.template,{options:this.options,value:this._value||"",_:_,splunk_form_key:splunkUtil.getFormKey()});this.$el.html(template),this.$input=this.$("input")}var additionalClassNames=this.options.additionalClassNames;return additionalClassNames&&this.$el.addClass(additionalClassNames),this},template:'\t          <label class="fileInputContainer">\t            <span class="filename uneditable-input"></span><span class="btn btn-file"><%-_("File...").t()%></span>\t            <input class="fileInput" type="file" \t               name="<%- options.modelAttribute || "" %>" \t               class="<%= options.inputClassName %>" \t               value="<%- value %>" \t               <% if(!options.enabled){ %>style="display:none"<%}%>>\t            <input type="hidden" name="splunk_form_key" value="<%=splunk_form_key%>">\t          </label>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datamodel/UploadDataModel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel){return BaseModel.extend({idAttribute:"fileContents",defaults:{fileContents:"",app:""},validation:{fileContents:{required:!0,msg:_("File is required.").t()},modelName:[{required:!0,msg:_("ID is required.").t()},{pattern:/^[\w\-]+$/,msg:_("ID can only contain alphanumeric characters, underscores or hyphens. Whitespace is not allowed.").t()}]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_manager/components/CloneDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/datamodel/CreateDataModel"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("util/datamodel/form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,CreateDataModel,Modal,ControlGroup,TextControl,PairedTextControls,FlashMessages,dataModelFormUtils){return Modal.extend({moduleId:module.id,events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.primaryButtonClicked(e)}}),initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.model.createDataModel=new CreateDataModel({displayName:this.model.source.entry.content.get("displayName"),modelName:this.model.source.entry.content.get("modelName"),description:this.model.source.entry.content.get("description"),app:this.model.source.entry.acl.get("app"),clonePermissions:!1}),this.children.flashMessages=new FlashMessages({model:this.model.createDataModel}),this.children.nameLabel=new ControlGroup({controlType:"Label",controlOptions:{modelAttribute:"displayName",model:this.model.source.entry.content},controlClass:"controls-block",label:_("Data Model").t()}),this.textDisplayNameControl=new TextControl({modelAttribute:"displayName",model:this.model.createDataModel}),this.textModelNameControl=new TextControl({modelAttribute:"modelName",model:this.model.createDataModel}),this.children.titleField=new ControlGroup({controls:this.textDisplayNameControl,controlClass:"controls-block",label:_("New Title").t()}),this.children.idField=new ControlGroup({controls:this.textModelNameControl,controlClass:"controls-block",label:_("New ID").t(),tooltip:_("The ID is used as the filename on disk and used in the data model search command. Cannot be changed later.").t(),
help:_("Can only contain letters, numbers and underscores.").t()}),this.pairedTextControls=new PairedTextControls({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textModelNameControl,transformFunction:dataModelFormUtils.normalizeForID});var applicationApp=this.model.createDataModel.get("app"),useApplicationApp=!1,appItems=[];this.collection.apps.each(function(model){model.entry.acl.get("can_write")&&(appItems.push({label:model.entry.content.get("label"),value:model.entry.get("name")}),model.entry.get("name")==applicationApp&&(useApplicationApp=!0))},this),useApplicationApp||(applicationApp=appItems.length>0?appItems[0].value:void 0),this.model.createDataModel.set("app",applicationApp),this.children.selectApp=new ControlGroup({label:_("App").t(),controlType:"SyntheticSelect",controlClass:"controls-block",controlOptions:{modelAttribute:"app",model:this.model.createDataModel,toggleClassName:"btn",items:appItems,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}}),this.children.descriptionField=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.createDataModel},controlClass:"controls-block",label:_("New Description").t()}),this.children.clonePermissionsControl=new ControlGroup({controlType:"SyntheticRadio",controlClass:"controls-block",controlOptions:{modelAttribute:"clonePermissions",model:this.model.createDataModel,items:[{label:_("Private").t(),value:!1},{label:_("Clone").t(),value:!0}],save:!1,toggleClassName:"btn",labelPosition:"outside",elastic:!0},label:_("Permissions").t()})},primaryButtonClicked:function(e){if(this.clonedDataModel&&this.children.flashMessages.unregister(this.clonedDataModel),this.model.createDataModel.set({},{validate:!0})){this.clonedDataModel=this.model.source.clone();var clonePermissions=this.model.createDataModel.get("clonePermissions");this.clonedDataModel.id;this.clonedDataModel.unset("id"),this.clonedDataModel.entry.content.acceleration.clear({silent:!0}),this.clonedDataModel.entry.content.set({name:this.model.createDataModel.get("modelName"),displayName:this.model.createDataModel.get("displayName"),description:this.model.createDataModel.get("description")}),this.children.flashMessages.register(this.clonedDataModel),this.clonedDataModel.save({},{data:{app:this.model.createDataModel.get("app"),owner:this.model.application.get("owner")},success:function(model,response){if(clonePermissions){var dataModel=model;this.clonedDataModel.acl.save({},{data:this.model.source.entry.acl.toDataPayload(),success:function(model,response){this.saveSuccess(dataModel)}.bind(this)})}else this.saveSuccess(model)}.bind(this)},this)}},saveSuccess:function(model){this.hide(),this.trigger("action:clonedDataModel",model.id)},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Clone Data Model").t()),this.$(Modal.BODY_SELECTOR).prepend(this.children.flashMessages.render().el),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL_JUSTIFIED),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.nameLabel.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.titleField.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.idField.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.selectApp.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.descriptionField.render().el),this.model.source.canChangePermissions()&&this.$(Modal.BODY_FORM_SELECTOR).append(this.children.clonePermissionsControl.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Clone").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/data_model_manager/components/TitleDescriptionDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,ControlGroup,FlashMessage){return Modal.extend({moduleId:module.id,events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.trigger("action:saveModel",this.model.entry.content.get("id")),this.hide()}}),initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.children.flashMessage=new FlashMessage({model:this.model.complete}),this.children.titleField=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"displayName",model:this.model.entry.content},controlClass:"controls-block",label:_("Title").t()}),this.children.descriptionField=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.entry.content},controlClass:"controls-block",label:_("Description").t()})},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Title or Description").t()),this.$(Modal.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.titleField.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.descriptionField.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1046:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".datamodelmanager-datamodelmanager>.btn-toolbar{margin-left:10px}.main-section{background:#eee}.main-section .table-toolbar{padding:8px 8px 0}.main-section .table-toolbar>*{min-height:28px;padding:0 0 4px}.main-section .table-toolbar>*>*{display:inline-block}.main-section .table-toolbar .filter-container{border-top:1px solid$grayLightMedium;padding-top:10px}.main-section .table-toolbar .filter-container .collection-count{margin-left:13px}.main-section .table-toolbar .filter-container .select-page-count{float:right}.main-section .table-toolbar .paginator-container{min-height:0}.data-model-table-body td{overflow:hidden}.rebuild-btn,.update-btn{padding-right:20px}.icon-lightning{color:#999;cursor:default;font-size:18px;height:16px;display:block;overflow:hidden}.icon-lightning-selected{color:#f2b827;text-shadow:0 1px 0 #a97c0a}.datamodelmanager-components-editmenu{padding-right:20px}.data-model-title{font-size:14px;display:block;margin:-8px;padding:8px}.col-title{word-break:break-all}.col-title h5{color:#999;text-transform:uppercase;margin:20px 0 0;font-weight:400;font-size:12px}.col-title dl{margin-bottom:0}.col-title ul{word-break:break-word}.col-accelerate{width:15px}.col-actions{width:180px}.col-actions>.dropdown,.col-actions>a{display:inline-block}.col-actions>.dropdown:first-child,.col-actions>a:first-child{min-width:40px;margin-right:20px}.col-type{width:70px}.col-app,.col-owner{width:140px;white-space:nowrap;text-overflow:ellipsis}.col-sharing{width:70px}.text-name-filter-placeholder{display:inline-block}.text-name-filter-placeholder input{margin:0}.dm-list-placeholder{clear:both}.collection-paginator-placeholder{margin-top:8px;margin-bottom:8px}.select-owner-filter-placeholder,.select-visible-filter-placeholder,.text-name-filter-placeholder{margin-left:5px}.control-upload{position:relative}.control-upload .btn-file{width:80px;box-sizing:border-box;border-top-left-radius:0;border-bottom-left-radius:0}.control-upload .fileInputContainer{border-radius:4px}.control-upload .isFocused .btn-file{border-color:rgba(82,168,236,.8);outline:0;border-collapse:separate;box-shadow:0 0 8px rgba(82,168,236,.6);background-position:0}.control-upload span.filename.uneditable-input{width:calc(100% - 80px);box-sizing:border-box;height:26px;border-right:none;margin-right:0;border-top-right-radius:0;border-bottom-right-radius:0;text-overflow:ellipsis;display:inline-block}.control-upload input{position:absolute;top:-10000px;left:-10000px;opacity:0;direction:ltr;cursor:pointer}.blocksize-control{display:inline-block;margin:3px 0 16px}.blocksize-control .shared-controls-textcontrol{vertical-align:middle}.blocksize-control .shared-controls-textcontrol input{width:8em;padding-right:6px}.blocksize-control .control{display:inline-block}.blocksize-control .control .uneditable-input{width:8em}.ask-confirmation{padding-top:15px}",""])},"views/data_model_manager/DataModelManager.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1046);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/data_model_manager/DataModelActionController":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("controllers/Base"),__webpack_require__("views/data_models/CreateDataModelDialog"),__webpack_require__("views/data_models/UploadDataModelDialog"),__webpack_require__("views/data_model_manager/components/AccelerationDialog"),__webpack_require__("views/data_model_manager/components/CloneDialog"),__webpack_require__("views/data_model_manager/components/TitleDescriptionDialog"),__webpack_require__("views/data_model_manager/components/PermissionsDialog"),__webpack_require__("views/shared/dialogs/TextDialog"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/ACLReadOnly"),__webpack_require__("models/shared/fetchdata/EAIFetchData"),__webpack_require__("collections/services/authorization/Roles"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseController,CreateDataModelDialog,UploadDataModelDialog,AccelerationDialog,CloneDialog,TitleDescriptionDialog,PermissionsDialog,TextDialog,DataModel,ACLReadOnlyModel,EAIFetchData,RolesCollection,splunkDUtils,splunkUtils){return BaseController.extend({initialize:function(options){BaseController.prototype.initialize.apply(this,arguments),this.on("action:createDataModel",this.showCreateDataModelDialog,this),this.on("action:uploadDataModel",this.showUploadDataModelDialog,this),this.on("action:cloneDataModel",this.openCloneDialogHandler,this),this.on("action:deleteDataModel",this.deleteDataModelHandler,this),this.on("action:editDataModelTitle",this.editDataModelTitleHandler,this),this.on("action:editPermissions",this.openEditPermissionsDialogHandler,this),this.on("action:editAcceleration",this.openAccelerateDialogHandler,this),this.on("action:rebuildAcceleration",this.rebuildAccelerationHandler,this)},showCreateDataModelDialog:function(){this.children.createDataModelDialog=new CreateDataModelDialog({model:{application:this.model.application},collection:{apps:this.collection.apps}}),this.children.createDataModelDialog.on("hidden",this.destroyCreateDataModelDialog,this),this.children.createDataModelDialog.on("action:createdDataModel",function(dataModel){this.trigger("action:createdDataModel",dataModel)},this),this.children.createDataModelDialog.show()},destroyCreateDataModelDialog:function(){this.children.createDataModelDialog.remove(),delete this.children.createDataModelDialog},showUploadDataModelDialog:function(){this.children.uploadDataModelDialog=new UploadDataModelDialog({model:{application:this.model.application,user:this.model.user},collection:{apps:this.collection.apps}}),this.children.uploadDataModelDialog.on("hidden",this.destroyUploadDataModelDialog,this),this.children.uploadDataModelDialog.on("action:uploadedDataModel",function(dataModel){this.trigger("action:uploadedDataModel",dataModel)},this),this.children.uploadDataModelDialog.show()},destroyUploadDataModelDialog:function(){this.children.uploadDataModelDialog.remove(),delete this.children.uploadDataModelDialog},deleteDataModelHandler:function(dataModel){this.children.deleteDialog=new TextDialog({id:"modal_delete"}),this.children.deleteDialog.settings.set("primaryButtonLabel",_("Delete").t()),this.children.deleteDialog.settings.set("cancelButtonLabel",_("Cancel").t()),this.children.deleteDialog.on("click:primaryButton",function(){this.deleteDialogDeleteHandler(dataModel)},this),this.children.deleteDialog.on("hidden",this.destroyDeleteDialogHandler,this),this.children.deleteDialog.settings.set("titleLabel",_("Delete Data Model").t()),this.children.deleteDialog.setText(splunkUtils.sprintf(_("Are you sure you want to delete %s?").t(),"<em>"+_(dataModel.entry.content.get("displayName")).escape()+"</em>")),$("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},deleteDialogDeleteHandler:function(dataModel){var modelName=dataModel.id,resultXHR=dataModel.destroy();resultXHR&&resultXHR.done(_(function(){this.children.deleteDialog.hide(),this.trigger("action:deletedDataModel",modelName)}).bind(this))},destroyDeleteDialogHandler:function(){this.children.deleteDialog.off("hidden",this.destroyDeleteDialogHandler),this.children.deleteDialog.remove()},editDataModelTitleHandler:function(modelName){this.fetchEditableDataModel(modelName).then(_.bind(function(){this.children.editTitleDescDialog=new TitleDescriptionDialog({model:this.dataModelToEdit}),this.children.editTitleDescDialog.on("hidden",function(){delete this.children.editTitleDescDialog,delete this.dataModelToEdit},this),this.children.editTitleDescDialog.on("action:saveModel",this.saveDataModelHandler,this),$("body").append(this.children.editTitleDescDialog.render().el),this.children.editTitleDescDialog.show()},this))},openCloneDialogHandler:function(modelName){this.fetchEditableDataModel(modelName).then(_.bind(function(){this.children.cloneDialog=new CloneDialog({model:{source:this.dataModelToEdit,application:this.model.application},collection:{apps:this.collection.apps}}),this.children.cloneDialog.on("hidden",function(){delete this.cloneDialog,delete this.dataModelToEdit},this),this.children.cloneDialog.on("action:clonedDataModel",function(clonedDataModel){this.trigger("action:clonedDataModel",clonedDataModel)},this),$("body").append(this.children.cloneDialog.render().el),this.children.cloneDialog.show()},this))},openEditPermissionsDialogHandler:function(modelName){var fetchData=new EAIFetchData({count:0}),rolesCollection=new RolesCollection(void 0,{fetchData:fetchData});$.when(this.fetchEditableDataModel(modelName),rolesCollection.fetch()).then(function(){this.dataModelToEdit.application=this.model.application,this.dataModelToEdit.on("updateCollection",this.dataModelPermissionsChange,this),this.children.permissionsDialog=new PermissionsDialog({model:{document:this.dataModelToEdit,nameModel:this.dataModelToEdit.entry.content,user:this.model.user},collection:rolesCollection,onHiddenRemove:!0,nameKey:"displayName",nameLabel:_("Data Model").t()}),$("body").append(this.children.permissionsDialog.render().el),this.children.permissionsDialog.show()}.bind(this))},dataModelPermissionsChange:function(){this.dataModelToEdit.off("updateCollection",this.dataModelPermissionsChange);var inmem=new ACLReadOnlyModel($.extend(!0,{},this.dataModelToEdit.entry.acl.toJSON()));inmem.get("sharing")===splunkDUtils.USER&&(this.dataModelToEdit.entry.content.acceleration.set("enabled",0),this.saveDataModelHandler()),this.trigger("action:dataModelPermissionsChange",this.dataModelToEdit.get("id"),this.dataModelToEdit)},openAccelerateDialogHandler:function(modelName){this.fetchEditableDataModel(modelName).then(_.bind(function(){this.dataModelToEdit.canAccelerate()?this.dataModelToEdit.isPrivate()?(this.children.warnPrivateDialog=new TextDialog({id:"modal_private"}),this.children.warnPrivateDialog.settings.set("primaryButtonLabel",_("Edit Permissions").t()),this.children.warnPrivateDialog.settings.set("cancelButtonLabel",_("Cancel").t()),this.children.warnPrivateDialog.on("click:primaryButton",function(){this.warnPrivateSubmitHandler(modelName)},this),this.children.warnPrivateDialog.on("hidden",this.destroyWarnPrivateDialogHandler,this),this.children.warnPrivateDialog.settings.set("titleLabel",_("Add Acceleration").t()),this.children.warnPrivateDialog.setText(_("Private models cannot be accelerated. Edit the permissions before enabling acceleration.").t()),$("body").append(this.children.warnPrivateDialog.render().el),this.children.warnPrivateDialog.show()):(this.children.accelerationDialog=new AccelerationDialog({model:{dataModel:this.dataModelToEdit,application:this.model.application},collection:{vix:this.collection.vix,archives:this.collection.archives}}),this.children.accelerationDialog.on("hidden",this.destroyAccelerationDialogHandler,this),this.children.accelerationDialog.on("action:saveModel",this.saveDataModelHandler,this),this.children.accelerationDialog.show()):(this.children.warnAccelerationDialog=new TextDialog({id:"modal_warn"}),this.children.warnAccelerationDialog.settings.set("primaryButtonLabel",void 0),this.children.warnAccelerationDialog.settings.set("cancelButtonLabel",void 0),this.children.warnAccelerationDialog.on("hidden",this.destroyWarnAccelerationDialogHandler,this),this.children.warnAccelerationDialog.settings.set("titleLabel",_("Acceleration Warning").t()),this.children.warnAccelerationDialog.setText(_("You can only accelerate data models that include at least one event-based dataset or one search-based dataset that does not include streaming commands.").t()),$("body").append(this.children.warnAccelerationDialog.render().el),this.children.warnAccelerationDialog.show())},this))},destroyAccelerationDialogHandler:function(modelName){this.children.accelerationDialog.remove(),delete this.children.accelerationDialog,this.dataModelToEdit&&(this.fetchConciseDataModel(this.dataModelToEdit.get("id")),delete this.dataModelToEdit)},warnPrivateSubmitHandler:function(modelName){this.children.warnPrivateDialog.hide(),this.trigger("action:editPermissions",modelName)},destroyWarnPrivateDialogHandler:function(){this.children.warnPrivateDialog.remove(),delete this.children.warnPrivateDialog},destroyWarnAccelerationDialogHandler:function(){this.children.warnAccelerationDialog.remove(),delete this.children.warnAccelerationDialog},rebuildAccelerationHandler:function(modelName){var accelerationWindow="";this.fetchEditableDataModel(modelName).then(_.bind(function(){this.dataModelToEdit.entry.content.set("accelerateModel",!1),accelerationWindow=this.dataModelToEdit.entry.content.get("accelerationWindow"),this.dataModelToEdit.save().done(_.bind(function(){var savedAttrs={accelerationWindow:accelerationWindow,accelerateModel:!0};this.dataModelToEdit.entry.content.set(savedAttrs),this.dataModelToEdit.save()},this))},this))},fetchEditableDataModel:function(modelName){return this.dataModelToEdit=new DataModel({id:modelName}),this.dataModelToEdit.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")}})},fetchConciseDataModel:function(modelName){this.trigger("action:fetchDataModel",modelName)},updateDataModel:function(modelName,accelerationChanges,contentChanges){this.trigger("action:updateDataModel",modelName,accelerationChanges,contentChanges)},saveDataModelHandler:function(){if(this.dataModelToEdit){var id=this.dataModelToEdit.get("id");this.updateDataModel(id,{enabled:this.dataModelToEdit.entry.content.acceleration.get("enabled")},{displayName:this.dataModelToEdit.entry.content.get("displayName"),description:this.dataModelToEdit.entry.content.get("description")}),$.when(this.dataModelToEdit.save()).then(_.bind(function(){this.fetchConciseDataModel(id),delete this.dataModelToEdit},this))}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});