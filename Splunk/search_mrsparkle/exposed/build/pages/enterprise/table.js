webpackJsonp([72],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/enterprise")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("routers/Table"),__webpack_require__("util/router_utils"),__webpack_require__("helpers/user_agent")],__WEBPACK_AMD_DEFINE_RESULT__=function(TableRouter,router_utils,userAgent){var options=(new TableRouter,{forceNoPushState:!userAgent.isFirefox()});router_utils.start_backbone_history(options)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1052:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.table>tbody>tr>td:focus{background:transparent}.shared-datasettable{position:relative;display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0px;width:100%;margin-top:-3px;min-width:0;min-height:0}.shared-datasettable.disabled{opacity:.5}.shared-datasettable.disabled .scroll-table-wrapper{max-width:100%;overflow:hidden}.shared-datasettable .shared-waitspinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100}.shared-datasettable .scroll-table-wrapper{height:auto;margin-left:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 0px;flex:1 1 0px}.shared-datasettable .dataset-table-head{border-bottom:1px solid #d5d5d5;z-index:1;background-color:#fff;height:34px;position:absolute;display:-ms-flexbox;-ms-flex-direction:row;transform:translateZ(0);top:3px;left:0;-moz-transform:none;display:flex;flex-direction:row}.shared-datasettable .dataset-table-head .icon-ipv4:before{font-family:inherit;content:"IP";font-size:75%}.shared-datasettable .table{min-width:0}.shared-datasettable .table-results{table-layout:fixed;width:0;margin-right:-1px;margin-top:-1px;border-collapse:separate;background-color:#fff;border-top:0;margin-bottom:16px}.shared-datasettable .col-header{-ms-flex-negative:0;flex-shrink:0;font-size:15px;line-height:17px;position:relative;box-sizing:border-box;border-left:none;border-right:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis}.shared-datasettable .col-header:first-child{font-size:22px;width:60px;text-align:left;padding-top:13px;padding-left:43px}.shared-datasettable .col-header:first-child.column-selected{padding-top:11px;padding-left:41px}.shared-datasettable .col-header.column-selected-end:active,.shared-datasettable .col-header.column-selected:active,.shared-datasettable .col-header.grabbed{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}.shared-datasettable .col-header.field{width:200px;padding:5px 9px;vertical-align:middle;line-height:20px}.shared-datasettable .col-header.field.type-raw{width:600px}.shared-datasettable .col-header.over-right{border-right:4px solid #1e93c6!important;padding-left:10px;right:1px}.shared-datasettable .col-header.over-right>.resize{right:-5px;border-left:none;border-right:none}.shared-datasettable .col-header.over-left{border-left:4px solid #1e93c6!important;padding-left:10px;left:-5px}.shared-datasettable .col-header.over-left>.resize{right:-3px}.shared-datasettable .col-header.column-selected,.shared-datasettable .col-header.column-selected-end{border-top:2px solid #1e93c6;padding-top:3px;cursor:move;cursor:-webkit-grab;cursor:grab}.shared-datasettable .col-header.column-selected-end .field-name-input,.shared-datasettable .col-header.column-selected .field-name-input{padding-right:10px}.shared-datasettable .col-header.column-selected:first-child,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected-end{border-left:2px solid #1e93c6}.shared-datasettable .col-header.column-selected:first-child i.field-type,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected-end i.field-type,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected i.field-type{margin-left:0}.shared-datasettable .col-header.column-selected-end{border-right:2px solid #1e93c6}.shared-datasettable .col-header span.name{display:inline-block;white-space:nowrap;word-break:normal;overflow:hidden;text-overflow:ellipsis;width:calc(100% - 20px);margin-bottom:-5px;margin-left:6px}.shared-datasettable .col-header .field-name-input{display:inline-block;margin:-4px 0 -2px 4px;width:calc(100% - 40px);font-size:15px;border:none;border-radius:0;padding-top:3px;padding-bottom:3px}.shared-datasettable .col-header .field-name-input.warning{border:1px solid #d6563c}.shared-datasettable .col-header i.field-type{position:relative;display:inline-block;margin-top:2px;margin-left:2px;color:#999}.shared-datasettable .col-header:not(.disabled) i.field-type:not([data-type=raw]):not([data-type=timestamp]){cursor:pointer}.shared-datasettable .resize{display:block;position:absolute;right:2px;top:2px;bottom:2px;width:1px;border-left:1px dotted #d5d5d5;border-right:1px dotted #d5d5d5;cursor:ew-resize}.shared-datasettable tr+tr{border-top:1px dashed #d5d5d5}.shared-datasettable td{box-sizing:border-box}.shared-datasettable td.value{font-family:Droid Sans Mono,Consolas,Monaco,Courier New,Courier,monospace;white-space:pre-wrap;word-wrap:break-word}.shared-datasettable td.value.epoch-time{font-family:inherit;color:#999;font-style:italic}.shared-datasettable td.value.null-cell{font-family:inherit;color:#bbb;font-style:italic}.shared-datasettable td.selected,.shared-datasettable td.text-selected{border:2px solid #1e93c6;padding:3px 6px 2px}.shared-datasettable td.selected:last-child,.shared-datasettable td.text-selected:last-child{padding-right:18px}.shared-datasettable td.row-num.column-selected,.shared-datasettable td:not(.column-selected):not(.column-selected-end)+td.column-selected,.shared-datasettable td:not(.column-selected):not(.column-selected-end)+td.column-selected-end{border-left:2px solid #1e93c6;padding-left:6px}.shared-datasettable td.column-selected-end{border-right:2px solid #1e93c6;padding-right:6px}.shared-datasettable td.column-selected-end:last-child{padding-right:18px}.shared-datasettable td.row-num{color:#999;text-align:right;width:60px}.shared-datasettable td.row-type{width:90px}.shared-datasettable td.truncated{background-color:#f5f5f5;text-align:center}.shared-datasettable td.mismatched-type span{color:#d6563c}.shared-datasettable td .highlight{background-color:#c7e4f1}.shared-datasettable td div.multivalue{position:relative}.shared-datasettable td div.multivalue .selection{color:transparent}.shared-datasettable td div.multivalue .selection+.real-text-wrapper{position:absolute;left:0;right:0;top:0;bottom:0}.shared-datasettable td .cell-value-input{box-sizing:border-box;height:100%;width:100%}.shared-datasettable tr:last-child td.column-selected,.shared-datasettable tr:last-child td.column-selected-end{border-bottom:2px solid #1e93c6;padding-bottom:2px}.shared-datasettable .col-header.null-cell,.shared-datasettable td.null-cell{background:#f5f5f5}.shared-datasettable .col-header.column-highlighted,.shared-datasettable td.column-highlighted{background:#fdf4dd}.shared-datasettable .col-header.column-cut,.shared-datasettable .col-header.column-cut-end,.shared-datasettable td.column-cut,.shared-datasettable td.column-cut-end{background:#f5d5ce}.shared-datasettable .col-header.column-selected,.shared-datasettable .col-header.column-selected-end,.shared-datasettable .col-header.selected,.shared-datasettable td.column-selected,.shared-datasettable td.column-selected-end,.shared-datasettable td.selected{background:#c7e4f1}.shared-datasettable .col-header.hover:not(.disabled),.shared-datasettable .col-header.value:hover:not(.disabled),.shared-datasettable td.hover:not(.disabled),.shared-datasettable td.value:hover:not(.disabled){background:#e4e4e4}',""])},1053:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.shared-summarytable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 0px;flex:1 1 0px;position:relative}.shared-summarytable:not(.summary-table-no-results){background-color:#999}.shared-summarytable.summary-table-no-results{background-color:#fff}.shared-summarytable.summary-table-no-results .table-summary{min-height:0}.shared-summarytable.disabled{opacity:.5}.shared-summarytable.disabled .scroll-table-wrapper{max-width:100%;overflow:hidden}.shared-summarytable .shared-waitspinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100}.shared-summarytable .header-table-wrapper{border-bottom:none}.shared-summarytable .scroll-table-wrapper{margin-top:41px;height:auto;margin-left:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 0px;flex:1 1 0px;background-color:#999}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.shared-summarytable .scroll-table-wrapper{height:calc(100vh - 65px - 40px - 100px);width:auto}.shared-summarytable .header-table-wrapper{margin-right:0!important}}.shared-summarytable .dataset-table-head{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;transform:translateZ(0);top:0;left:0;border-top:3px solid #999;z-index:1;-moz-transform:none}.shared-summarytable .table-summary{margin-bottom:0;background-color:#999}.shared-summarytable .table-summary thead{float:left}.shared-summarytable .summary-header i{float:right;margin-right:10px;color:#999}.shared-summarytable .coverage{display:-ms-flexbox;display:flex;width:100%;margin-top:2px}.shared-summarytable .coverage .bar{height:10px;min-width:5px}.shared-summarytable .coverage>.match{background-color:#a2cc3e}.shared-summarytable .coverage>.mismatch{background-color:#d6563c}.shared-summarytable .coverage>.null-or-empty{background-color:#f2b827}.shared-summarytable .coverage>.loading{background-color:rgba(0,0,0,.1)}.shared-summarytable .col-header,.shared-summarytable .summary-table-column{border-left:2px solid #999;border-right:2px solid #999}.shared-summarytable .col-header.column-selected:after,.shared-summarytable .summary-table-column.column-selected:after{content:"";border:2px solid #467fc7;position:absolute;top:-2px;right:-1px;bottom:-2px;left:-1px;pointer-events:none}.shared-summarytable .col-header.column-selected:after{border-bottom:none}.shared-summarytable .col-header{font-size:15px;line-height:22px;position:relative;box-sizing:border-box;word-wrap:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;padding:0}.shared-summarytable .col-header:first-child{width:60px;min-width:60px}.shared-summarytable .col-header.column-selected,.shared-summarytable .col-header.column-selected-end{cursor:move;cursor:-webkit-grab;cursor:grab}.shared-summarytable .col-header.column-selected-end:active,.shared-summarytable .col-header.column-selected:active,.shared-summarytable .col-header.grabbed{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}.shared-summarytable .col-header.over-right{border-right:4px solid #1e93c6!important;border-left:none;right:-2px}.shared-summarytable .col-header.over-right+div.col-header{border-left:none;margin-left:2px;margin-right:-2px;border-right-width:4px}.shared-summarytable .col-header.over-left{border-left:4px solid #1e93c6!important;border-right:none;left:-2px}.shared-summarytable .col-header:not(:first-child){min-width:200px}.shared-summarytable .col-header:last-child{padding-right:0}.shared-summarytable .col-header.field{width:200px}.shared-summarytable .col-header.field.type-raw{width:600px}.shared-summarytable .col-header.all{font-size:22px;float:right;text-align:right}.shared-summarytable .col-header:not(.disabled) i.field-type:not([data-type=raw]):not([data-type=timestamp]){cursor:pointer}.shared-summarytable .col-header span.name{display:block;white-space:nowrap;word-break:normal;overflow:hidden;text-overflow:ellipsis;position:relative;padding:3px 10px 1px 11px}.shared-summarytable .col-header span.name.all{top:5px}.shared-summarytable .col-header i.field-type{position:relative;float:left;margin-top:3px;margin-left:9px;color:#999}.shared-summarytable .col-header i.field-type.icon-ipv4{margin-top:2px}.shared-summarytable .col-header i.icon-ipv4:before{font-family:inherit;content:"IP";font-size:75%}.shared-summarytable .col-header .field-name-input{display:inline-block;margin:2px 5px 0;width:calc(100% - 60px);font-size:15px;border:none;border-radius:0}.shared-summarytable .col-header .field-name-input.warning{border:1px solid #d6563c}.summary-table-results{white-space:nowrap;height:auto;padding-bottom:2px;padding-left:60px;max-width:100%}.summary-table-column{background-color:#fff;box-sizing:border-box;display:inline-block;vertical-align:top;position:relative;min-width:200px}.summary-table-column div.result-field{position:relative}.summary-table-column div.result-field .selection{color:transparent}.summary-table-column div.result-field .selection+.real-text-wrapper{position:absolute;left:0;right:0;top:0;bottom:0}.summary-table-column:not(.column-_raw){width:200px}.summary-table-column.column-_raw{width:600px}.metrics-no-results{display:inline-block;padding:6px}.list-summary{padding:10px 20px 10px 0;position:relative}.list-summary-row{max-width:280px;line-height:20px}.list-summary-row:after,.list-summary-row:before{display:table;content:"";line-height:0}.list-summary-row:after{clear:both}.list-summary-row-last{padding-bottom:10px}.list-summary-label{position:relative;-ms-flex:1000 0 0px;flex:1000 0 0;padding-left:15px;float:left}.list-summary-label.summary-matchedtype,.list-summary-label.summary-mismatchedtype,.list-summary-label.summary-nulloremptyvalues{padding-left:30px}.list-summary-label i{position:absolute;font-size:150%;top:-1px;left:14px;color:#ccc}.list-summary-label.summary-matchedtype:not(.summary-zero) i{color:#a2cc3e}.list-summary-label.summary-mismatchedtype:not(.summary-zero) i{color:#d6563c}.list-summary-label.summary-nulloremptyvalues:not(.summary-zero) i{color:#f2b827}.list-summary-spacer{position:relative;overflow:hidden}.list-summary-spacer:before{position:absolute;left:0;top:0;content:"......................................................................................................................................................"}.list-summary-value{-ms-flex:1 0 auto;flex:1 0 auto;text-align:right;margin:0;color:#999;white-space:nowrap;float:right}.top-results-cell{border-top:1px solid #999;padding:4px 6px;position:relative;z-index:0}.top-results-cell:after,.top-results-cell:before{display:table;content:"";line-height:0}.top-results-cell:after{clear:both}.top-results-cell.selected{padding:3px 4px 2px;border:2px solid #1e93c6}.top-results-cell .result-bar{position:absolute;top:2px;right:2px;bottom:2px;z-index:-1;max-width:calc(100% - 4px)}.top-results-cell .result-bar.matched{background-color:rgba(162,204,62,.5)}.top-results-cell .result-bar.mismatched{background-color:rgba(214,86,60,.3)}.top-results-cell .result-bar.empty,.top-results-cell .result-bar.null{background-color:rgba(242,184,39,.5)}.top-results-cell .result-field{float:left;white-space:normal;max-width:100%;word-wrap:break-word}.top-results-cell .result-field.null-cell{font-style:italic;color:#bbb}.top-results-cell .result-value{float:right;color:#999}.top-results-cell .cell-value-input{margin:0;box-sizing:border-box;height:100%;float:left;width:calc(100% - 40px)}.col-header.column-highlighted,.list-summary.column-highlighted,.top-results-cell.column-highlighted{background:#fdf4dd}.col-header.column-cut,.list-summary.column-cut,.top-results-cell.column-cut{background:#f5d5ce}.col-header.column-selected,.col-header.selected,.list-summary.column-selected,.list-summary.selected,.top-results-cell.column-selected,.top-results-cell.selected{background:#c7e4f1}.col-header.hover:not(.disabled),.col-header:hover:not(.disabled),.list-summary.hover:not(.disabled),.list-summary:hover:not(.disabled),.top-results-cell.hover:not(.disabled),.top-results-cell:hover:not(.disabled){background:#e4e4e4}',""])},1136:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".risky-command-dialog{z-index:1051}.risky-command-dialog .alert-warning{position:relative;word-wrap:break-word;padding:0 0 0 27px}.risky-command-dialog .alert-warning ul{margin-top:8px}.risky-command-dialog .alert-warning>div:first-child{padding-bottom:8px}.risky-command-dialog .alert-warning a.learn-more-link{padding-left:5px}.risky-command-dialog .icon-alert{font-size:200%;position:absolute;left:0;top:2px}",""])},1146:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".table-header{background-color:#eee;display:-ms-flexbox;display:flex;-ms-flex:0 0 39px;flex:0 0 39px;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;width:100%}.table-header h1{margin-left:8px;font-size:24px;font-weight:200;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.table-header .table-header-tablename{padding-left:10px;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;overflow:hidden}.table-header .btn-container{padding-right:10px;display:-ms-flexbox;display:flex;white-space:nowrap;-ms-flex:1;flex:1;-ms-flex-pack:end;justify-content:flex-end}.table-header .pivot-btn,.table-header .save,.table-header .save-as{font-size:12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.modal-btn-cancel.pull-right{margin-right:10px}.btn-group-tabs{-ms-flex-item-align:end;align-self:flex-end;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center}.btn-group-tabs .btn{border:none;border-bottom:4px solid transparent;background:none;line-height:16px;box-shadow:none;position:relative}.btn-group-tabs .btn.active,.btn-group-tabs .btn.active:focus,.btn-group-tabs .btn.active:hover,.btn-group-tabs .btn:hover{box-shadow:none;background:none;border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-group-tabs .btn:hover{border-bottom:4px solid #999}.btn-group-tabs .btn.active{border-bottom:4px solid #1e93c6}",""])},1147:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".table-commandsidebar{z-index:2;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:0 0 180px;flex:0 0 180px;box-sizing:border-box;background-color:#666;font-size:11px;position:relative;overflow:hidden}.table-commandsidebar>.btn-group-radio,.table-commandsidebar>.nav,.table-commandsidebar>h3,.table-commandsidebar h3{-ms-flex:0 0 auto;flex:0 0 auto}.table-commandsidebar h3{color:#fff;line-height:40px;padding:0 10px;margin:0}.table-commandsidebar p{padding:5px 10px 0;margin:0}.table-commandsidebar>.nav{margin:0;width:180px;-ms-flex:0 1 auto;flex:0 1 auto;overflow-x:hidden;overflow-y:auto;position:relative}.table-commandsidebar.collapsed{-ms-flex:0 0 30px;flex:0 0 30px;cursor:pointer}.table-commandsidebar.collapsed .commandsidebar-collapse,.table-commandsidebar.collapsed>.btn-group-radio,.table-commandsidebar.collapsed h3{opacity:0}.table-commandsidebar.collapsed .commandsidebar-expand{opacity:1;pointer-events:auto}.table-commandsidebar.collapsed .nav>li a{color:transparent}.table-commandsidebar.collapsed:hover{color:#fff;background-color:#757575}.table-commandsidebar.collapsed:hover .nav>li a{background-color:#8a8a8a}.table-commandsidebar.collapsed:hover .nav>li a.active{background-color:#4ba9d1}.table-commandsidebar.collapsed:hover .nav>li a.error{background-color:#b46d5f}.table-commandsidebar.collapsed:hover .nav>li a.active.error{background-color:#da6750}.table-commandsidebar.collapsed .commandsidebar-collapse,.table-commandsidebar.collapsed .control,.table-commandsidebar:not(.collapsed) .commandsidebar-expand{display:none}.table-commandsidebar .icon-toggle{position:absolute;line-height:40px;text-align:center;color:#fff;text-decoration:none;right:0;top:0;width:40px;z-index:20}.table-commandsidebar .commandsidebar-collapse{width:40px;margin-left:-41px}.table-commandsidebar .commandsidebar-collapse:focus{background-color:#6893b5;box-shadow:none;outline:none}.table-commandsidebar .commandsidebar-expand{width:30px;margin-left:-31px;opacity:0;font-size:15px}.table-commandsidebar .commandsidebar-expand:focus{background-color:#6893b5;box-shadow:none;outline:none}.table-commandsidebar>.btn-group-radio{display:-ms-flexbox;display:flex;width:180px;padding-bottom:1px}.table-commandsidebar>.btn-group-radio>.btn{border:none;border-radius:0;border-bottom:4px solid transparent;background:none;line-height:16px;color:#fff;-ms-flex:1 0 0px;flex:1 0 0px;box-shadow:none}.table-commandsidebar>.btn-group-radio>.btn.active,.table-commandsidebar>.btn-group-radio>.btn:hover{color:#fff;background:none;box-shadow:none;border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.table-commandsidebar>.btn-group-radio>.btn:hover:not(.active){background:rgba(61,171,255,.12);border-bottom:4px solid #999}.table-commandsidebar>.btn-group-radio>.btn.active{border-bottom:4px solid #1e93c6}.table-commandsidebar>.btn-group-radio>.btn:focus{outline:0;text-decoration:none;background:rgba(61,171,255,.12);box-shadow:none}.table-commandsidebar li{position:relative}.table-commandsidebar li .btn-command{background-color:#7d7d7d;color:#fff;padding:7px 30px 7px 10px;line-height:16px;word-wrap:break-word;cursor:pointer}.table-commandsidebar li .btn-command:hover:not(.active):not(.disabled){background-color:#8a8a8a;cursor:pointer}.table-commandsidebar li .btn-command.active{background-color:#1e93c6}.table-commandsidebar li .btn-command.error{background-color:#aa6a5d}.table-commandsidebar li .btn-command.error:hover:not(.active):not(.disabled){background-color:#b46d5f}.table-commandsidebar li .btn-command.active.error{background-color:#d6563c}.table-commandsidebar li .btn-command:focus{background-color:#6893b5;box-shadow:none;outline:none}.table-commandsidebar li .btn-command.disabled{cursor:not-allowed}.table-commandsidebar li .btn-remove{position:absolute;display:inline-block;right:0;top:0;width:30px;line-height:30px;color:#fff;text-align:center}.table-commandsidebar li .btn-remove:focus{background-color:#6893b5;box-shadow:none;outline:none}.table-commandsidebar li .btn-remove:hover{background-color:hsla(0,0%,100%,.2)}.table-commandsidebar li+li{margin-top:1px}.table-commandsidebar .pulse{animation:pulsate .7s ease-out;animation-iteration-count:1}.table-commandsidebar .search-link{margin:0 auto;font-size:12px;padding:5px}",""])},1148:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".list-picker{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.list-picker-small{font-size:11px}.list-picker-overlay{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;top:0;left:calc(100% + 2px);bottom:0;width:100%;z-index:999;transition:left .6s;border-left:1px solid #ccc;margin-left:-1px;background-color:#fff}.list-picker-overlay .pagination:not(:empty){border-top:1px solid #ccc}.list-picker-buttons{display:block;border-bottom:1px solid #bbb;line-height:30px}.list-picker-buttons.hidden,.list-picker-buttons .hidden{display:none}.list-picker-buttons a{padding:0 10px;text-decoration:none}.list-picker-ok{float:right}.list-picker-ok.disabled{color:#999}.list-picker-select-message{padding-left:10px}.empty-items-message,.loading-message{padding:10px 0;text-align:center}.list-picker-heading{padding:0 10px 5px 24px;margin:8px 0 5px;line-height:20px;-ms-flex:0 0 auto;flex:0 0 auto;position:relative;border-bottom:1px solid #ccc}.list-picker-heading.list-picker-heading-multi{padding-left:24px}.list-picker-heading .icon-check,.list-picker-heading .icon-x{position:absolute;left:7px;color:#1e93c6;height:1em;line-height:1em;width:1em;text-align:center;top:2px}.list-picker-heading>.icon-check,.list-picker-heading>.icon-x{border:1px solid #1e93c6}.list-picker-heading .list-picker-search{position:absolute;right:10px;font-size:16px;padding:2px 5px}input.list-picker-filter{position:absolute;border-radius:10px;top:-1px;right:0;width:0!important;max-width:none!important;height:12px;opacity:0;margin:0;transition:width .7s,right .7s,opacity .3s}input.list-picker-filter.show{right:4px;opacity:1;width:calc(100% - 22px)!important;z-index:3}.list-picker-filter-hide{position:absolute;top:2px;right:30px;opacity:0;transition:opacity .7s}.list-picker-filter-hide.show{opacity:1;z-index:3}.list-picker-scroll{overflow-y:auto;overflow-x:hidden;-ms-flex:1 1 0px;flex:1 1 0px}.list-picker-list{margin-bottom:0}.list-picker-list a{max-width:100%;box-sizing:border-box;padding:4px 10px 4px 24px;line-height:13px;position:relative;word-wrap:break-word}.list-picker-list a:not(.selected) .icon-check,.list-picker-list a:not(.selected) .icon-x{display:none}.list-picker-list a.disabled{cursor:not-allowed;color:#bbb}.list-picker-list a.italicize{font-style:italic}.list-picker-list .icon-check,.list-picker-list .icon-x{position:absolute;left:10px}.list-picker-list .icon-x{color:#d6563c}.list-picker-list a:not(.disabled) .icon-check{color:#a2cc3e}.pagination ul{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.pagination ul .compact-page-count,.pagination ul .previous{-ms-flex-positive:1;flex-grow:1}.pagination ul .compact-page-count span{width:100%}.pagination ul .next{-ms-flex-positive:1;flex-grow:1}.pagination ul .next a{float:right}.add-missing-item{padding:8px 10px 4px 24px}.add-missing-item .enter-field-container .add-item-remove{float:right;top:0;padding:6px 10px;line-height:1}.add-missing-item .enter-field-container .add-item-remove :hover{background-color:rgba(0,0,0,.05)}.add-missing-item .enter-field-container .shared-flashmessages{padding:0}.add-missing-item .enter-field-container .enter-field{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.add-missing-item .enter-field-container .enter-field .add-item-button{height:16px;margin-left:10px;margin-top:4px}",""])},1149:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".extract-table-wrapper{position:absolute;top:0;left:261px;right:0;bottom:47px;background-color:#fff;z-index:1100;overflow-y:scroll}.extract-table-wrapper .table-results{width:100%}.extract-table-wrapper td.field-value{font-family:Droid Sans Mono,Consolas,Monaco,Courier New,Courier,monospace;whitespace:pre-wrap}.extract-table-wrapper td.field-value span.starting{background-color:rgba(237,132,64,.5)}.extract-table-wrapper td.field-value span.match{background-color:rgba(162,204,62,.5)}.extract-table-wrapper td.field-value span.stopping{background-color:rgba(214,86,60,.5)}.extract-table-wrapper .table-loading-message{margin-top:60px;margin-left:60px}.extract-table-wrapper .flash-messages-container{margin-left:10px}.extract-form{overflow:hidden;position:absolute;bottom:0;left:0;right:0;height:47px;border-top:1px solid #ccc;background-color:#fff;z-index:1100;padding:10px;box-sizing:border-box;text-align:right}.extract-form .control-group{display:inline-block;margin-right:40px}.extract-form .btn-pill{background:#1e93c6;color:#fff;line-height:30px;-ms-flex:1 0 0px;flex:1 0 0px;text-align:center;border-radius:4px;min-width:100px;margin-left:10px}.extract-form .btn-pill:hover{text-decoration:none;background:#3863a0;color:#fff}.extract-form .btn-pill.disabled{background:#ccc;cursor:not-allowed}.extract-sidebar{overflow:auto;position:absolute;top:0;width:260px;bottom:47px;left:0;border-right:1px solid #ccc;background-color:#fff;z-index:1100;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;white-space:nowrap}.extract-sidebar .extract-capture-options{overflow-y:auto;overflow-x:hidden;-ms-flex:0 1 52%;flex:0 1 52%;border-bottom:1px solid #ccc}.extract-sidebar .extract-form{padding:10px}.extract-sidebar ul{vertical-align:top;width:100%;box-sizing:border-box;margin-bottom:0}.extract-sidebar ul+ul{border-top:1px solid #ccc}.extract-sidebar ul a,.extract-sidebar ul li.text{padding:5px 10px;line-height:16px;overflow:hidden;text-overflow:ellipsis;color:#333}.extract-sidebar ul li.text{color:#999}.extract-sidebar ul li.selected .icon-check{display:block;position:absolute;left:10px;top:4px}.extract-sidebar ul a{padding-left:24px;white-space:normal;position:relative}.extract-sidebar ul a .icon-check{display:none}.extract-sidebar .menu-starting{border-left:5px solid #ed8440}.extract-sidebar .menu-extraction{border-left:5px solid #a2cc3e}.extract-sidebar .menu-stopping{border-left:5px solid #d6563c}.extract-sidebar .sidebar-loading-message{margin:60px auto}",""])},1150:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".table-commandeditor{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;-ms-flex:0 0 240px;flex:0 0 240px;border-top:1px solid #ccc;border-right:1px solid #999;background-color:#fff;box-sizing:border-box;overflow:hidden;position:relative;display:none;z-index:2}.table-commandeditor .commandeditor-expand{opacity:0}.table-commandeditor.collapsed{-ms-flex:0 0 30px;flex:0 0 30px;cursor:pointer;background-color:#999}.table-commandeditor.collapsed .commandeditor-apply,.table-commandeditor.collapsed .commandeditor-cancel,.table-commandeditor.collapsed .commandeditor-collapse,.table-commandeditor.collapsed .commandeditor-edit,.table-commandeditor.collapsed .commandeditor-form,.table-commandeditor.collapsed .shared-flashmessages,.table-commandeditor.collapsed h3{opacity:0}.table-commandeditor.collapsed .commandeditor-collapse{background:none}.table-commandeditor.collapsed .commandeditor-expand{opacity:1}.table-commandeditor.collapsed:hover{background:#a3a3a3}.table-commandeditor.collapsed .commandeditor-apply,.table-commandeditor.collapsed .commandeditor-cancel,.table-commandeditor.collapsed .commandeditor-collapse,.table-commandeditor.collapsed .commandeditor-edit,.table-commandeditor.collapsed .commandeditor-form,.table-commandeditor.collapsed .shared-flashmessages,.table-commandeditor.collapsed h3,.table-commandeditor:not(.collapsed) .commandeditor-expand{display:none}.commandeditor-collapse,.commandeditor-expand{position:absolute;line-height:40px;text-align:center;text-decoration:none;top:0;right:0}.commandeditor-collapse:focus,.commandeditor-expand:focus{outline:0;text-decoration:none;background:rgba(61,171,255,.12);box-shadow:none}.commandeditor-collapse{color:#333;width:40px}.commandeditor-collapse:hover{background-color:rgba(0,0,0,.05)}.commandeditor-collapse:focus,.commandeditor-collapse:hover{color:#333;text-decoration:none}.commandeditor-collapse:focus{outline:0;text-decoration:none;background:rgba(61,171,255,.12);box-shadow:none}.commandeditor-expand{color:#fff;width:30px;opacity:0;font-size:15px}.commandeditor-expand:focus,.commandeditor-expand:hover{color:#fff;text-decoration:none}.commandeditor-expand:focus{outline:0;text-decoration:none;background:rgba(61,171,255,.12);box-shadow:none}.commandeditor-prompt-for-input{animation:commandeditor-pop .7s;background:#fff}@keyframes commandeditor-pop{0%{transform:scale(1)}50%{transform:scale(1.08333)}to{transform:scale(1)}}.commandeditor-header h3{margin:0;white-space:nowrap;box-sizing:border-box;width:240px;padding:10px 50px 10px 10px;overflow:hidden;text-overflow:ellipsis}.commandeditor-header>.alerts{padding:10px;box-sizing:border-box;width:240px}.commandeditor-header .alert{padding-right:10px;margin-bottom:0}.commandeditor-form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 0px;flex:1 0 0px;min-height:0;box-sizing:border-box;width:240px;border-top:1px solid #ccc}.commandeditor-form a.disabled{color:#bbb;cursor:not-allowed;pointer-events:none}.commandeditor-form .list-picker-scroll{-ms-flex:0 1 auto;flex:0 1 auto}.commandeditor-form .shared-controls-textareacontrol,.commandeditor-form .shared-controls-textcontrol{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.commandeditor-form .shared-controls-textcontrol:not(.range-upper-limit-input):only-child input[type=text],.commandeditor-form .uneditable-input,.commandeditor-form textarea{-ms-flex:1 0 0px;flex:1 0 0px;width:auto}.commandeditor-form textarea{min-height:150px}.commandeditor-form .input-append,.commandeditor-form .input-prepend{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.commandeditor-form .input-append .btn-combo,.commandeditor-form .input-append .btn-group,.commandeditor-form .input-prepend .btn-combo,.commandeditor-form .input-prepend .btn-group{-ms-flex:0 1 auto;flex:0 1 auto;box-sizing:border-box;max-width:60%}.commandeditor-form .input-append .btn-combo>.btn,.commandeditor-form .input-append .btn-group>.btn,.commandeditor-form .input-prepend .btn-combo>.btn,.commandeditor-form .input-prepend .btn-group>.btn{box-sizing:border-box;max-width:50%}.commandeditor-form .input-append>.btn,.commandeditor-form .input-prepend>.btn{-ms-flex:0 1 auto;flex:0 1 auto;box-sizing:border-box;max-width:50%}.commandeditor-form .input-append .shared-controls-syntheticselectcontrol .btn,.commandeditor-form .input-prepend .shared-controls-syntheticselectcontrol .btn{box-sizing:border-box;max-width:100%;min-height:22px;overflow:hidden}.commandeditor-form .input-append .shared-controls-textcontrol,.commandeditor-form .input-prepend .shared-controls-textcontrol{-ms-flex:1 0 0px;flex:1 0 0px}.commandeditor-form .input-append .shared-controls-textcontrol>.uneditable-input,.commandeditor-form .input-append .shared-controls-textcontrol>input,.commandeditor-form .input-prepend .shared-controls-textcontrol>.uneditable-input,.commandeditor-form .input-prepend .shared-controls-textcontrol>input{box-sizing:border-box;width:100%;min-height:22px}.commandeditor-form .input-prepend .shared-controls-textcontrol{margin-left:-1px}.commandeditor-section,.commandeditor-section-padded{border-bottom:1px solid #ccc;-ms-flex:0 0 auto;flex:0 0 auto}.commandeditor-section-padded{padding:10px}.advanced-editor-link,.advanced-editor-return-link{text-align:center}.commandeditor-section-loading{border-bottom:1px solid #ccc;-ms-flex:0 0 auto;flex:0 0 auto}.commandeditor-section-scrolling{border-bottom:1px solid #ccc;-ms-flex-positive:0;-ms-flex-negative:1;-ms-flex-preferred-size:auto;-ms-flex:0 1 auto;//Shrink:1 0 0;-webkit-flex:0 1 auto;min-height:0;min-width:0;overflow-x:hidden;overflow-y:auto;border-top:1px solid #ccc;margin-top:-1px}.commandeditor-section-scrolling>.commandeditor-section-padded:last-child{border:none}.commandeditor-section-padded-scrolling{border-bottom:1px solid #ccc;-ms-flex-positive:0;-ms-flex-negative:1;-ms-flex-preferred-size:auto;-ms-flex:0 1 auto;//Shrink:1 0 0;-webkit-flex:0 1 auto;min-height:0;min-width:0;overflow-x:hidden;overflow-y:auto;border-top:1px solid #ccc;margin-top:-1px;padding:10px}.commandeditor-section-padded-scrolling>.commandeditor-section-padded:last-child{border:none}.commandeditor-section-sortable .ui-sortable-helper{border-bottom:1px solid #ccc;background-color:#fff}.commandeditor-group,.commandeditor-group-sortable{position:relative;padding:10px}.commandeditor-group+.commandeditor-group,.commandeditor-group+.commandeditor-group-sortable,.commandeditor-group-sortable+.commandeditor-group,.commandeditor-group-sortable+.commandeditor-group-sortable{border-top:1px solid #ccc}.commandeditor-group-sortable .control-group:last-child,.commandeditor-group .control-group:last-child{margin-bottom:0}.commandeditor-group-sortable:not(:only-child){background-image:repeating-linear-gradient(#fff,#fff 1px,#ccc 0,#ccc 2px);background-repeat:no-repeat;background-size:4px calc(100% - 6px);background-position:3px 3px;cursor:row-resize}.commandeditor-group-remove{position:absolute;right:0;top:0;padding:6px 10px;line-height:1}.commandeditor-group-remove:hover{background-color:rgba(0,0,0,.05)}.commandeditor-group-label{width:calc(100% - 20px)}.commandeditor-group-label .link-label{max-width:calc(100% - 15px);display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;vertical-align:middle;text-decoration:inherit;margin-right:3px}.commandeditor-group-label .icon-chevron-right{text-decoration:none}.commandeditor-group-label .placeholder{position:static;margin-right:3px;display:inline-block}.commandeditor-buttons{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.commandeditor-apply,.commandeditor-cancel{-ms-flex:1 0 30px;flex:1 0 30px}.commandeditor-apply,.commandeditor-cancel,.commandeditor-edit{display:block}.commandeditor-apply,.commandeditor-cancel{margin:10px}.commandeditor-edit{margin:10px 70px}.commandeditor-help-link{text-align:center;display:inline-block}.commandeditor-join-field-pairs{margin:0 -10px 5px;border-top:1px solid #ccc}.table-commandeditor-editorforms-join-fieldpair{padding:0}.table-commandeditor-editorforms-join-fieldpair:last-child{border-bottom:1px solid #ccc}.commandeditor-join-field-pair-modify{padding:5px 10px;display:block}.commandeditor-join-add-container{margin-bottom:10px}.btn-overlay-toggle{border:1px solid #ccc;display:block;line-height:22px;border-radius:4px;position:relative;padding-left:8px;padding-right:14px;margin-bottom:10px;word-wrap:break-word}.btn-overlay-toggle .icon-chevron-right,.btn-overlay-toggle .icon-x{position:absolute;right:8px;top:0}.btn-overlay-toggle:hover{text-decoration:none;background-color:rgba(0,0,0,.05)}.btn-overlay-toggle:focus{background:#fff;text-decoration:none;border-color:rgba(82,168,236,.8);outline:0;border-collapse:separate;box-shadow:0 0 8px rgba(82,168,236,.6);background-position:0}.btn-overlay-toggle .placeholder{position:relative;top:0;left:0}.commandeditor-form-custom-help{margin-top:20px}.rangemap-ranges .controls{flex-direction:row}.range-upper-limit,.rangemap-ranges .controls{display:-ms-flexbox;display:flex;-ms-flex-direction:row}.range-upper-limit{flex-direction:row;-ms-flex:0 1 52%;flex:0 1 52%;margin-left:4px}.range-upper-limit .control-label{padding-right:4px;padding-top:4px}.range-text .uneditable-input{background-color:#eee}.range-lower-limit>input,.range-upper-limit-input>input{box-sizing:border-box;height:21px;width:100%}.range-lower-limit,.range-text{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:0 1 46%;flex:0 1 46%}.commandeditor-form-search .search-help{margin:0 10px 8px 25px}.commandeditor-form-concatenate .concatenate-string input{width:160px;margin-bottom:0}.commandeditor-form-calculate-field .commandeditor-section-padded{padding:10px 10px 0}.calculated-field-add{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:10px 0 10px 10px}.calculated-field-add:nth-child(2){padding-top:0}.arithmetic-controls-radio{padding-left:10px}.arithmetic-controls-radio,.calculated-field-spinner{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.calculated-field-spinner .shared-controls-spinnercontrol input[type=text]{-ms-flex:1 0 0px;flex:1 0 0px}.calculated-field-spinner .increment-down,.calculated-field-spinner .increment-up{display:none}.commandeditor-form-initial-data .indexes-and-sourcetypes-list-group{margin-bottom:13px}.commandeditor-form-initial-data .indexes-and-sourcetypes-header{margin-bottom:5px;color:#999}.commandeditor-form-initial-data .index-and-sourcetypes-item{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:1 0 0px;flex:1 0 0px;min-height:16px;background-color:#f5f5f5;color:#999;cursor:not-allowed;padding:2px 6px;margin-bottom:8px;border:1px solid #ccc;border-radius:4px}.commandeditor-form-stats .commandeditor-section-scrolling{border-bottom:none}.commandeditor-form-stats .commandeditor-section-scrolling .commandeditor-help-link{margin:5px}.commandeditor-form-stats .aggregate-control{position:relative}.commandeditor-form-stats .functions-control{margin-left:20px}.commandeditor-form-stats .function,.commandeditor-form-stats .row-count-field{padding:2px 14px 2px 8px;border:1px solid #ccc;border-radius:4px;color:#999;background-color:#f5f5f5}.commandeditor-form-stats .change-functions-container,.commandeditor-form-stats .function{margin-top:10px}.commandeditor-form-stats .row-count-container{position:relative}.commandeditor-form-stats .row-count-field{margin:5px 0 0 20px}.commandeditor-form-stats .split-by-control,.commandeditor-form-stats .split-label{position:relative;top:-5px}.commandeditor-form-stats .split-by-row{height:20px}.commandeditor-form-stats .split-by-row:last-child{border-bottom:1px solid #ccc}.commandeditor-form-advanced-rex .regex-box textarea,.commandeditor-form-filter-regex .regex-box textarea{font-size:11px}.commandeditor-form-advanced-rex dl>dt,.commandeditor-form-filter-regex dl>dt{float:left;font-weight:400;width:20px;margin-bottom:5px}.commandeditor-form-advanced-rex dl>dd,.commandeditor-form-filter-regex dl>dd{margin-left:30px;margin-bottom:5px}.split-new-field-row{position:relative}.split-new-field-row .commandeditor-group-remove{padding:6px}.split-new-field-row .shared-controls-textcontrol{width:90%}.split-field-rows-label{padding-bottom:5px}.filter-value-match-type-label{text-align:center}.table-commandeditor-acceleratedwarning .alert{margin-bottom:0}",""]);
},1151:function(module,exports){module.exports='<svg class="indexes-sourcetypes" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="53px" height="58px" viewBox="0 0 53 58" enable-background="new 0 0 53 58" xml:space="preserve">\n    <g id="XMLID_849_">\n        <path id="XMLID_876_" d="M26.6,58c-0.5,0-1-0.1-1.5-0.2L3.5,50.5C1.4,49.8,0,47.8,0,45.6V12.5c0-2.3,1.4-4.2,3.5-4.9l21.6-7.3\n            c1-0.3,2-0.3,3,0l21.4,7.3c2.1,0.7,3.5,2.7,3.5,4.9v33.1c0,2.3-1.4,4.2-3.5,4.9l-21.4,7.3C27.6,58,27.1,58,26.6,58z M25.7,55.9\n            c0.6,0.2,1.2,0.2,1.8,0l21.4-7.3c1.3-0.4,2.1-1.6,2.1-3V12.5c0-1.4-0.8-2.6-2.1-3L27.5,2.2c-0.6-0.2-1.2-0.2-1.8,0L4.1,9.5\n            C2.9,9.9,2,11.1,2,12.5v33.1c0,1.4,0.8,2.6,2.1,3L25.7,55.9z"/>\n        <rect id="XMLID_817_" x="9" y="13.8" width="14" height="3"/>\n        <rect id="XMLID_826_" x="26" y="13.8" width="10" height="3"/>\n        <rect id="XMLID_847_" x="39" y="13.8" width="5" height="3"/>\n        <rect id="XMLID_894_" x="29" y="27.8" width="15" height="3"/>\n        <rect id="XMLID_893_" x="9" y="27.8" width="6" height="3"/>\n        <rect id="XMLID_885_" x="18" y="27.8" width="8" height="3"/>\n        <rect id="XMLID_846_" x="9" y="41.8" width="8" height="3"/>\n        <rect id="XMLID_884_" x="20" y="41.8" width="24" height="3"/>\n        <rect id="XMLID_879_" x="1" y="21.8" width="51" height="1"/>\n        <rect id="XMLID_909_" x="1" y="35.8" width="51" height="1"/>\n    </g>\n</svg>'},1152:function(module,exports){module.exports='<svg class="dataset" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="66px" height="50px" viewBox="0 0 66 50" enable-background="new 0 0 66 50" xml:space="preserve">\n    <g id="XMLID_877_">\n        <path id="XMLID_641_" d="M61,50H5c-2.8,0-5-2.2-5-5V5c0-2.8,2.2-5,5-5h56c2.8,0,5,2.2,5,5v40C66,47.8,63.8,50,61,50z M5,2\n            C3.3,2,2,3.3,2,5v40c0,1.7,1.3,3,3,3h56c1.7,0,3-1.3,3-3V5c0-1.7-1.3-3-3-3H5z"/>\n            <rect id="XMLID_640_" x="1" y="8" width="64" height="2"/>\n            <rect id="XMLID_811_" x="1" y="16" width="64" height="2"/>\n            <rect id="XMLID_809_" x="1" y="24" width="64" height="2"/>\n            <rect id="XMLID_812_" x="1" y="32" width="64" height="2"/>\n            <rect id="XMLID_818_" x="1" y="40" width="64" height="2"/>\n            <rect id="XMLID_816_" x="32" y="9" width="2" height="40"/>\n            <rect id="XMLID_820_" x="16" y="9" width="2" height="40"/>\n            <rect id="XMLID_842_" x="48" y="9" width="2" height="40"/>\n    </g>\n</svg>'},1153:function(module,exports){module.exports='<svg class="search" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="50.2px" height="52.2px" viewBox="-276.2 372.1 50.2 52.2" style="enable-background:new -276.2 372.1 50.2 52.2;"\n        xml:space="preserve">\n    <g id="XMLID_878_">\n        <path id="XMLID_930_" d="M-255.2,372.1c-11.6,0-21,9.4-21,21c0,11.6,9.4,21,21,21c11.6,0,21-9.4,21-21\n            C-234.2,381.5-243.6,372.1-255.2,372.1z M-255.2,411.1c-9.9,0-18-8.1-18-18s8.1-18,18-18s18,8.1,18,18S-245.3,411.1-255.2,411.1z"\n        />\n        <path id="XMLID_815_" d="M-229,424.3c-0.8,0-1.6-0.3-2.1-0.9l-12.9-12.9l4.2-4.2l12.9,12.9c0.6,0.6,0.9,1.3,0.9,2.1\n            c0,0.8-0.3,1.6-0.9,2.1C-227.4,424-228.2,424.3-229,424.3z"/>\n    </g>\n</svg>'},1154:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".initial-data{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:1 0 0px;flex:1 0 0px;position:absolute;top:104px;bottom:0;width:100%;font-size:11px;border-right:1px solid #ccc;display:none}.initial-data td{border-top:none}.initial-data .search-bar-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:20px;border-bottom:1px solid #ccc;max-height:230px}.initial-data-cancel{position:absolute;right:20px;top:-33px;font-size:12px}.initial-data-vertical-flex-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%}.initial-data-horizontal-flex-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:1 0 0px;flex:1 0 0px;min-height:170px}.select-method{min-width:200px}.method-picker{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;background-color:#eee;border-top:1px solid #ccc;border-bottom:1px solid #ccc;min-height:75px;width:100%;min-width:75px;padding:10px 8px 5px;text-decoration:none}.method-picker h3{margin:5px 0 10px 11px;color:#000;font-size:16px}.method-options{width:100%;min-width:700px}.method-option{color:#000;font-size:14px;float:left;width:33%}.method-option svg{fill:#7d7d7d;vertical-align:middle;padding-right:5px;height:58px}.method-option.active svg{fill:#65a637}.method-option:hover{text-decoration:none}.shared-waitspinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100}.initial-data-sidebar{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:0 0 420px;flex:0 0 420px;border-right:1px solid #ccc;z-index:2;background-color:#fff}.dataset-content,.indexes-and-sourcetypes-content,.search-content{position:relative;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 0px;flex:1 0 0px}.dataset-label{padding-bottom:10px}.dataset-picker{border:1px solid #ccc;display:block;line-height:22px;border-radius:4px;position:relative;padding-left:8px;padding-right:14px;margin-bottom:10px;word-wrap:break-word}.dataset-picker .icon-chevron-right{position:absolute;right:8px;top:0}.dataset-picker:hover{text-decoration:none;background-color:rgba(0,0,0,.05)}.dataset-picker:focus{background:#fff;text-decoration:none;border-color:rgba(82,168,236,.8);outline:0;border-collapse:separate;box-shadow:0 0 8px rgba(82,168,236,.6);background-position:0}.dataset-picker .placeholder{position:relative;top:0;left:0}.index-and-sourcetypes-rows{overflow-y:auto;max-height:32%}.add-index-and-sourcetypes,.chosen-dataset{border-bottom:1px solid #ccc;padding:10px}.add-index-and-sourcetypes{border-top:1px solid #ccc}.chosen-dataset{-ms-flex:0 0 auto;flex:0 0 auto}.fields-picker-container{padding-top:10px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 0px;flex:1 0 0px}.fields-picker-container .fields-picker{-ms-flex:1 0 0px;flex:1 0 0px;border-bottom:1px solid #ccc}.fields-picker-container .empty-fields,.fields-picker-container .loading-fields{padding:10px;border-top:1px solid #ccc}.fields-picker-header{font-size:16px;padding:10px 8px 5px}.initial-data-datasetinfo,.initial-data-fieldinfo{background-color:#fff}.initial-data-datasetinfo p,.initial-data-fieldinfo p{line-height:20px}.initial-data-datasetinfo table.table-condensed,.initial-data-fieldinfo table.table-condensed{margin:13px -20px -5px}.initial-data-datasetinfo td.value,.initial-data-fieldinfo td.value{max-width:200px;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;padding-left:20px}.initial-data-datasetinfo th.value,.initial-data-fieldinfo th.value{padding-left:20px}.initial-data-datasetinfo .popdown-dialog-body,.initial-data-fieldinfo .popdown-dialog-body{padding:0 20px 20px}.initial-data-datasetinfo .shared-datasetcontrols-details,.initial-data-fieldinfo .shared-datasetcontrols-details{margin:0 20px;white-space:normal;word-break:break-all}.initial-data-datasetinfo h2,.initial-data-fieldinfo h2{margin:-1px -21px 10px;line-height:40px;font-size:16px;font-weight:400;color:#333;padding:0 20px;border-bottom:1px solid #ccc;overflow:hidden;text-overflow:ellipsis}.initial-data-datasetinfo .fields-type-icon,.initial-data-fieldinfo .fields-type-icon{font-size:16px;color:#999;padding-right:5px}.initial-data-datasetinfo .close,.initial-data-fieldinfo .close{top:7px;right:7px;position:absolute}.initial-data-fieldinfo{width:300px}.initial-data-datasetinfo{width:400px}.index-and-sourcetypes-row{font-size:11px;position:relative;padding:10px}.index-and-sourcetypes-row:not(:last-child){border-bottom:1px solid #ccc}.index-and-sourcetypes-row .property{color:#999}.index-and-sourcetypes-row .index-and-sourcetypes-row-remove{position:absolute;right:0;top:0;padding:6px 10px;line-height:1}.index-and-sourcetypes-row .index-and-sourcetypes-row-remove :hover{background-color:rgba(0,0,0,.05)}.index-and-sourcetypes-row .index-and-sourcetypes-all{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.index-and-sourcetypes-row .index-and-sourcetypes-block{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.initial-data-results-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden;-ms-flex:1 0 0px;flex:1 0 0px}.initial-data-results-container svg.dataset,.initial-data-results-container svg.indexes-sourcetypes,.initial-data-results-container svg.search{opacity:.5}.initial-data-job-status{position:relative;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#fff;border-bottom:1px solid #ccc}.initial-data-job-status .job-status-alert{margin:0 10px}.initial-data-job-status .table-count{margin-right:5px}.initial-data-job-status .dataset-diversity{display:inline-block}.initial-data-job-status .status,.initial-data-job-status .table-count{line-height:27px;padding-left:10px;float:left}.initial-data-job-status .status .icon-warning-paused,.initial-data-job-status .table-count .icon-warning-paused{color:#f2b827;font-size:200%;display:inline-block;margin-right:3px;vertical-align:middle;line-height:16px}.initial-data-job-status .status .icon-check,.initial-data-job-status .table-count .icon-check{color:#65a637}.initial-data-done{margin:10px 160px}.empty-datasets,.empty-field,.empty-indexes-and-sourcetypes,.empty-search{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;text-align:center;padding-top:200px}.empty-datasets i[class*=icon-],.empty-datasets i[class^=icon],.empty-field i[class*=icon-],.empty-field i[class^=icon],.empty-indexes-and-sourcetypes i[class*=icon-],.empty-indexes-and-sourcetypes i[class^=icon],.empty-search i[class*=icon-],.empty-search i[class^=icon]{color:#eee;font-size:100px;padding-bottom:20px}.shared-flashmessages{padding:20px}.shared-flashmessages .alert{margin-bottom:0}.extend-clone-radio-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.extend-clone-radio-wrapper>label{padding:20px 0 0 20px}.extend-clone-radio{padding-top:10px;width:100%}.extend-clone-radio>div.control{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around}",""])},1155:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".job-status{position:relative;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#fff;border-bottom:1px solid #ccc}.job-status .job-status-alert{margin:0 10px}.job-status .summary-count,.job-status .table-resultscontainer-jobstatus-count{float:left;margin-right:5px}.job-status .summary-count .warning-no-results{margin-top:-5px}.job-status .shared-jobcontrols,.job-status .shared-timerangepicker{float:right}.job-status .btn-group>.btn-pill{font-size:11px}.job-status .status,.job-status .table-count{line-height:27px;padding-left:10px}.job-status .status .icon-warning,.job-status .status .icon-warning-paused,.job-status .table-count .icon-warning,.job-status .table-count .icon-warning-paused{color:#f2b827;font-size:200%;display:inline-block;margin-right:3px;vertical-align:middle;line-height:16px}.job-status .status .icon-alert,.job-status .table-count .icon-alert{color:#d6563c;font-size:200%;display:inline-block;margin-right:3px;vertical-align:middle;line-height:16px}.job-status .status .icon-check,.job-status .table-count .icon-check{color:#65a637}",""])},"views/table/header/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1146);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1156:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'body{overflow:hidden}.shared-page,body,html{height:100%!important}.main-section-body{background-color:#fff;font-size:11px;width:100%}.dataset-results-container,.main-section-body,.shared-page,.table-builder{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1}.dataset-results-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 0px;flex:1 0 0px;border-top:1px solid #ccc;overflow:hidden}.dataset-results-container .shared-jobcontrols{padding-right:15px}.content-container{display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0px;min-height:0}.content-container>.alerts{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}.content-container>.alerts .alert-error{white-space:pre-line;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;text-align:center}.content-container>.alerts .alert-error .icon-alert{font-size:1000%;position:relative;left:auto;top:auto;line-height:100px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.dataset-action-bar{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;min-height:30px;position:relative}.dataset-action-bar .call-to-action,.dataset-action-bar .message{font-size:16px}.dataset-action-bar .call-to-action .icon-arrow-left,.dataset-action-bar .message .icon-arrow-left{color:#999;font-size:20px;padding-right:10px}.dataset-action-bar .message{margin-left:10px;line-height:34px}.dataset-action-bar .call-to-action{padding:60px 20px;margin-bottom:-40px;background:#fff;position:absolute;top:0;right:0;left:0;z-index:407}.dataset-action-menu-list,.dataset-action-menu-step-two{display:-ms-flexbox;display:flex;margin-bottom:0}.dataset-action-menu-list>li,.dataset-action-menu-step-two>li{line-height:30px}.dataset-action-menu-activator{padding:0 20px}.dataset-action-menu-activator:focus{outline:0;text-decoration:none;background:rgba(61,171,255,.12);box-shadow:none}.dataset-action-menu-dropdown{width:auto;min-width:100px;max-height:none}.dataset-action-menu-dropdown .link-description{float:right;padding-left:10px}.dataset-action-menu-dropdown .disabled .link-description{color:#bbb}.action-menu-items li i{position:absolute;font-size:15px;top:5px;left:5px;color:#999}.action-menu-items li i.icon-ipv4:before{font-family:inherit;content:"IP";font-size:75%}.action-menu-items li a.has-icon{padding-left:25px}.action-menu-items li a.disabled:hover{cursor:not-allowed}.shared-datasettable .scroll-table-wrapper{margin-top:38px}.dropdown-menu ul{max-height:calc(100vh - 65px + 40px + 70px)}.shared-jobdispatchstate{position:absolute;margin:80px;font-size:11px;z-index:1}.shared-jobdispatchstate .alert{top:-15px}',""])},"views/table/commandsidebar/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandsidebar/Command"),__webpack_require__("views/shared/controls/SyntheticRadioControl"),__webpack_require__("views/table/commandsidebar/Master.pcss"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,CommandView,SyntheticRadioControl,css,route,splunkUtil){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this._scrollTop=0,this.children.splRadio=new SyntheticRadioControl({model:this.model.table.entry.content,modelAttribute:"display.prefs.showSPL",items:[{label:_("Commands").t(),value:"0"},{label:_("SPL").t(),value:"1"}]})},startListening:function(){this.listenTo(this.model.table.commands,"commandRemoved",this.handleCommandRemoved),this.listenTo(this.model.table.entry.content,"change:display.prefs.showSPL",this.renderCommands)},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.render(),this.setRouteForSearch(),BaseView.prototype.activate.apply(this,arguments))},onAddedToDocument:function(options){this.adjustScroll(),BaseView.prototype.onAddedToDocument.apply(this,arguments)},onRemovedFromDocument:function(){this.$("ul.nav-commands").off("scroll"),BaseView.prototype.onRemovedFromDocument.apply(this,arguments)},handleCommandRemoved:function(removedCmdModel,options){this.model.table.commands.remove(removedCmdModel,options)},removeActiveHighlight:function(){this.$("li.command").children("a.btn-command").removeClass("active")},getCommandsList:function(){var shouldDisable=!1;return this.model.table.commands.map(function(cmd){var newCommand=this.createNewCommand(cmd,shouldDisable);return cmd.isValid()&&cmd.isComplete()||shouldDisable||(shouldDisable=!0),newCommand}.bind(this))},createNewCommand:function(model,shouldDisable){return new CommandView({model:{command:model,table:this.model.table,application:this.model.application,state:this.model.state},shouldDisable:shouldDisable})},renderCommands:function(){_(this.children.commands).each(function(cmd){cmd.deactivate({deep:!0}).remove()},this),this.children.commands=this.getCommandsList(),_(this.children.commands).each(function(cmd,idx){cmd.render().appendTo(this.$(".nav-commands"))},this),this.updateOpenInSearchDisplayState()},adjustScroll:function(){var listWrapperHeight,currentCommand,commandTopPosition,commandHeight,differenceOutOfView,margin=15,$listWrapper=this.$("ul.nav-commands");this.children.commands&&this.children.commands.length&&this.$el.closest("body").length&&($listWrapper.scrollTop(this._scrollTop),currentCommand=this.children.commands[this.model.table.getCurrentCommandIdx()||0],listWrapperHeight=$listWrapper.height(),commandTopPosition=currentCommand.$el.position().top,commandHeight=Math.min(currentCommand.$el.height(),listWrapperHeight-margin),differenceOutOfView=commandTopPosition+commandHeight-listWrapperHeight+margin,differenceOutOfView>0&&$listWrapper.scrollTop(this._scrollTop+differenceOutOfView))},setRouteForSearch:function(){var currentCommand=this.model.table.getCurrentCommandModel(),currentColumns=currentCommand?currentCommand.columns.pluck("name"):[],searchHref=route.search(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{q:this.model.table.getFullSearch(),"display.events.fields":JSON.stringify(_(currentColumns).reject(function(fieldName){return"_"===fieldName.charAt(0)}))}});this.$("a.search-link").attr("href",searchHref)},updateOpenInSearchDisplayState:function(){"1"===this.model.table.entry.content.get("display.prefs.showSPL")?this.$(".search-link").css("display",""):this.$(".search-link").css("display","none")},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({_:_})),this.children.splRadio.render().insertBefore(this.$(".nav-commands")),this.$("ul.nav-commands").on("scroll",function(event){this._scrollTop=event.currentTarget.scrollTop}.bind(this)),$(_.template(this.searchLink,{_:_})).insertAfter(this.$(".nav-commands"))),this.renderCommands(),this.adjustScroll(),this.updateOpenInSearchDisplayState(),this},template:'\t                <ul class="nav nav-commands"></ul>\t                ',searchLink:'\t                <a class="search-link" title="<%- _(\'Open in Search\').t() %>" href="#" style="display: none;">\t                    <span><%- _("Open in Search").t() %></span>\t                </a>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandsidebar/Command":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/modals/FieldRemovalDialog"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,FieldRemovalDialog,splunkUtil){return BaseView.extend({moduleId:module.id,tagName:"li",className:"command",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{'click .btn-command:not(".disabled, .active")':function(e){this.handleCommandSelected(),e.preventDefault()},"click .btn-command.disabled":function(e){e.preventDefault()},"click .btn-command.active":function(e){e.preventDefault()},"click .btn-remove":function(e){e.preventDefault(),this.handleRemove()}},handleRemove:function(){var challengeFields,newFieldGuids,callback=function(options){this.model.command.trigger("commandRemoved",this.model.command,options)}.bind(this);if(this.model.command.isComplete()){if(newFieldGuids=this.model.command.getAddedColumnGuids(),newFieldGuids&&newFieldGuids.length&&(challengeFields=this.model.table.commands.validateSubsequentCommands(newFieldGuids,this.getIndex()),challengeFields&&challengeFields.length))return this.children.fieldRemovalDialog&&this.children.fieldRemovalDialog.remove(),this.children.fieldRemovalDialog=new FieldRemovalDialog({fields:_.invoke(challengeFields,"get","name"),isCommandRemoval:!0}),this.children.fieldRemovalDialog.render().appendTo($("body")).show(),void this.listenTo(this.children.fieldRemovalDialog,"accepted",function(){callback({newFieldGuids:newFieldGuids})});callback()}else callback()},makeError:function(){this.$commandButton&&this.$commandButton.addClass("error")},makeActive:function(){this.$commandButton&&this.$commandButton.addClass("active")},getDisplayText:function(){return splunkUtil.normalizeBoolean(this.model.table.entry.content.get("display.prefs.showSPL"))?this.model.command.getDisplaySPL({skipValidation:!0}):this.model.command.getDisplayName()},handleCommandSelected:function(){this.model.table.entry.content.set({"dataset.display.currentCommand":this.getIndex(),"dataset.display.showEditor":"1"})},getIndex:function(){return this.model.command.collection?this.model.command.collection.indexOf(this.model.command):this.model.table.getCurrentCommandIdx()},render:function(){return this.options.shouldDisable?this.$el.html(_.template(this.disabledCommandTemplate)):this.$el.html(_.template(this.normalCommandTemplate)),this.$commandButton=this.$(".btn-command"),this.$commandButton.append(_.template(this.commandContentTemplate,{_:_,displayText:this.getDisplayText(),showSPL:splunkUtil.normalizeBoolean(this.model.table.entry.content.get("display.prefs.showSPL")),isComplete:this.model.command.isComplete()})),this.$el.append(_.template(this.removeTemplate,{isBase:this.model.command.isBaseCommand()})),this.model.table.getCurrentCommandIdx()===this.getIndex()?this.makeActive():this.model.command.isComplete()&&!this.model.command.validate()||this.makeError(),this},disabledCommandTemplate:'\t                <div class="btn-command disabled">\t                </div>\t            ',normalCommandTemplate:'\t                <a href="#" class="btn-command">\t                </a>\t            ',commandContentTemplate:'\t                <%- displayText %>\t                <% if (showSPL && !isComplete) { %>\t                    <i class="incomplete-spl"><%- _("incomplete").t() %></i>\t                <% } %>\t            ',removeTemplate:'\t                <% if (!isBase) { %>\t                    <a href="#" class="btn-remove">\t                        <i class="icon-x"></i>\t                    </a>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/FieldRemovalDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Modal,splunkUtil){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.on("hidden",function(){this.accepted?this.trigger("accepted"):this.trigger("declined")}.bind(this))},events:$.extend({},Modal.prototype.events,{"click .modal-btn-primary":function(e){e.preventDefault(),this.accepted=!0}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_SELECTOR).html(""),this.$(Modal.BODY_SELECTOR).append(_.template(this.bodyTemplate,{fieldNames:this.options.fields,isCommandRemoval:this.options.isCommandRemoval,sprintf:splunkUtil.sprintf,_:_})),this.$(Modal.FOOTER_SELECTOR).append(this.compiledTemplate()),this},template:'<a href="#" class="btn btn-primary modal-btn-primary pull-right" data-dismiss="modal">'+_("OK").t()+'</a><a href="#" class="btn cancel modal-btn-cancel pull-left" data-dismiss="modal">'+_("Cancel").t()+"</a>",bodyTemplate:'<% if (fieldNames.length === 1) { %><% if (isCommandRemoval) { %><span><%= sprintf(_("The field %s generated by this command is required by one or more subsequent commands. Are you sure you want to remove the command and the field?").t(), "<i>" + _.escape(fieldNames[0]) + "</i>") %></span><% } else { %><span><%= sprintf(_("The field %s is required by one or more commands. Are you sure you want to remove the field?").t(), "<i>" + _.escape(fieldNames[0]) + "</i>") %></span><% } %><% } else { %><% if (isCommandRemoval) { %><span><%= _("The following fields generated by this command are required by one or more subsequent commands:").t() %></span><% } else { %><span><%= _("The following fields are required by one or more commands:").t() %></span><% } %><ul><% _.each(fieldNames, function(fieldName) { %><li><i><%- fieldName %></i></li><% }) %></ul><span><%= _("Are you sure you want to remove the fields?").t() %></span><% } %>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandsidebar/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1147);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/datasets/DataSummarySearchJob":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/search/Job"),__webpack_require__("models/datasets/Column")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,ColumnsCollection,SearchJob,Column){return SearchJob.extend({initialize:function(){SearchJob.prototype.initialize.apply(this,arguments)},appendStatsToSearch:function(initialSearch,options){options=options||{};var search=initialSearch||"",statsForColumns=[];return _.isArray(options.columns)&&(options.columns=new ColumnsCollection(options.columns)),search+=this.generateInitialPipes(options.columns),search+=" | stats ",options.columns&&options.columns.each(function(column){statsForColumns=statsForColumns.concat(this.createStatsForColumn(column))},this),search+=statsForColumns.join(", "),search+=this.generateAdditionalPipes(options.columns)},createStatsForColumn:function(column){var stats=[],name=column.get("name"),type=column.get("type");return column.isEpochTime()?(stats.push("count(eval(isnum('"+name+"'))) as \""+name+':MatchedType"'),stats.push("count(eval(!isnum('"+name+"') AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name,name)),stats.push('min("'+name+'") as "'+name+':Earliest"'),stats.push('max("'+name+'") as "'+name+':Latest"')):type===Column.TYPES._RAW?(stats.push("count(eval(!isnull('"+name+"'))) as \""+name+':MatchedType"'),stats.push("count(eval(isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name,name)),stats.push('max("_linecount") as "'+name+':MaxLineCount"'),stats.push('avg("_linecount") as "'+name+':AverageLineCount"'),stats.push('min("_linecount") as "'+name+':MinLineCount"')):type===Column.TYPES.NUMBER?(stats.push("count(eval(isnum('"+name+"'))) as \""+name+':MatchedType"'),stats.push("count(eval(!isnum('"+name+"') AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push(this.generateSingleValueStat(name)),stats.push(this.generateNumericStat(name,"max","Maximum")),stats.push(this.generateNumericStat(name,"min","Minimum")),stats.push(this.generateNumericStat(name,"avg","Average")),stats.push(this.generateNumericStat(name,"median","Median")),stats.push(this.generateNumericStat(name,"mode","Mode")),stats.push(this.generateNumericStat(name,"stdev","StandardDeviation"))):type===Column.TYPES.STRING?(stats.push("count(eval(isstr('"+name+"') AND '"+name+'\'!="")) as "'+name+':MatchedType"'),stats.push("count(eval(!isstr('"+name+"') AND !isnull('"+name+"'))) as \""+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push(this.generateSingleValueStat(name)),stats.push("count(eval(mvcount('"+name+"') > 1)) as \""+name+':Multivalue"'),stats.push("max(eval(mvcount('"+name+"'))) as \""+name+':MaxValueCount"'),stats.push("min(eval(mvcount('"+name+"'))) as \""+name+':MinValueCount"'),stats.push("mode(eval(mvcount('"+name+"'))) as \""+name+':ModeValueCount"'),stats.push("median(eval(mvcount('"+name+"'))) as \""+name+':MedianValueCount"'),stats.push("avg(eval(mvcount('"+name+"'))) as \""+name+':AverageValueCount"'),stats.push(this.generateUniqueValuesStat(name))):type===Column.TYPES.BOOLEAN?(stats.push("count(eval('"+name+"'=\"true\" OR '"+name+'\'="false")) as "'+name+':MatchedType"'),stats.push("count(eval('"+name+"'!=\"true\" AND '"+name+"'!=\"false\" AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push("count(eval('"+name+'\'="true")) as "'+name+':CountTrue"'),stats.push("count(eval('"+name+'\'="false")) as "'+name+':CountFalse"')):type===Column.TYPES.IPV4&&(stats.push("count(eval(match('"+name+'\',"^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$"))) as "'+name+':MatchedType"'),stats.push("count(eval(!match('"+name+"',\"^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$\") AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push(this.generateSingleValueStat(name)),stats.push("count(eval(mvcount('"+name+"') > 1)) as \""+name+':Multivalue"'),stats.push("max(eval(mvcount('"+name+"'))) as \""+name+':MaxValueCount"'),stats.push("min(eval(mvcount('"+name+"'))) as \""+name+':MinValueCount"'),stats.push("mode(eval(mvcount('"+name+"'))) as \""+name+':ModeValueCount"'),stats.push("median(eval(mvcount('"+name+"'))) as \""+name+':MedianValueCount"'),stats.push("avg(eval(mvcount('"+name+"'))) as \""+name+':AverageValueCount"'),stats.push(this.generateUniqueValuesStat(name))),stats},generateNumericStat:function(fieldName,command,metricName){return command+"(eval(if(isnum('"+fieldName+"'), '"+fieldName+"', null()))) as \""+fieldName+":"+metricName+'"'},generateNullValuesStat:function(fieldName,newName){return"count(eval(isnull('"+fieldName+"'))) as \""+(newName||fieldName)+':NullValues"';
},generateUniqueValuesStat:function(fieldName,newName){return'dc("'+fieldName+'") as "'+(newName||fieldName)+':UniqueValues"'},generateSingleValueStat:function(name){return"count(eval(mvcount('"+name+"') == 1)) as \""+name+':SingleValue"'},generateInitialPipes:function(columns){var initialPipes="";return columns.each(function(column){column.get("type")===Column.TYPES._RAW&&(initialPipes+=' | eval "_linecount" = len(replace(\'_raw\', "[^\\n\\r]+", "")) + 1')},this),initialPipes},generateAdditionalPipes:function(columns){var fieldName,additionalPipes="";return columns.each(function(column){column.isEpochTime()&&(fieldName=column.get("name"),additionalPipes+=' | eval "'+fieldName+":Earliest\"=strftime('"+fieldName+':Earliest\', "%F %T")',additionalPipes+=' | eval "'+fieldName+":Latest\"=strftime('"+fieldName+':Latest\', "%F %T")')},this),additionalPipes}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/PolymorphicCommand"),__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("collections/Base"),__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/NormalCommandEditor"),__webpack_require__("views/table/modals/AcceleratedWarning"),__webpack_require__("views/table/initialdata/Master"),__webpack_require__("views/table/commandeditor/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,PolymorphicCommandModel,InitialDataModel,BaseCollection,BaseView,NormalCommandEditorView,AcceleratedWarningView,InitialDataCommandEditorView){return BaseView.extend({moduleId:module.id,initialize:function(){this.collection.customAddedFieldPickerItems=new BaseCollection,BaseView.prototype.initialize.apply(this,arguments),this.children.acceleratedWarning=new AcceleratedWarningView({model:{application:this.model.application}})},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.initializeCommandModel(),this.createCommandEditors(),BaseView.prototype.activate.call(this,clonedOptions),this.render(),this)},startListening:function(options){this.listenTo(this.model.state,"change:initialDataState",this.manageStateOfChildren),this.listenTo(this.model.state,"editorReload",this.reloadEditor)},initializeCommandModel:function(){var commandJSON,workingAttributes=this.model.state.get("workingAttributes");this.model.commandPristine=this.model.table.getCurrentCommandModel(),this.model.commandPristine&&(this.model.command=new PolymorphicCommandModel({type:this.model.commandPristine.get("type")}),commandJSON=this.model.commandPristine.toJSON(),workingAttributes&&(_.extend(commandJSON,workingAttributes),this.model.state.unset("workingAttributes",{silent:!0})),this.model.command.setFromCommandJSON(commandJSON))},manageStateOfChildren:function(){this.model.state.get("initialDataState")===InitialDataModel.STATES.EDITING?(this.children.initialDataEditor.activate({deep:!0}).$el.css("display","flex"),this.children.normalCommandEditor.deactivate({deep:!0}).$el.hide()):(this.children.initialDataEditor.deactivate({deep:!0}).$el.hide(),this.children.normalCommandEditor.activate({deep:!0}).$el.css("display","flex"),this.model.table.isAccelerated()&&!this.warningShown&&(this.children.acceleratedWarning.render().appendTo($("body")).show(),this.warningShown=!0))},createCommandEditors:function(){this.children.initialDataEditor&&(this.children.initialDataEditor.deactivate({deep:!0}).remove(),delete this.children.initialDataEditor),this.children.normalCommandEditor&&(this.children.normalCommandEditor.deactivate({deep:!0}),this.children.normalCommandEditor.undelegateEvents(),this.children.normalCommandEditor.$el.off(),this.children.normalCommandEditor.$el.html(""),this.children.normalCommandEditor.invokeOnChildren("remove")),this.children.initialDataEditor=new InitialDataCommandEditorView({model:{application:this.model.application,command:this.model.command,commandPristine:this.model.commandPristine,config:this.model.config,state:this.model.state,serverInfo:this.model.serverInfo,table:this.model.table,tableAST:this.model.tableAST,user:this.model.user},collection:{searchBNFs:this.collection.searchBNFs,customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems}}),this.children.normalCommandEditor=new NormalCommandEditorView({el:this.el,model:{application:this.model.application,appLocal:this.model.appLocal,command:this.model.command,commandPristine:this.model.commandPristine,currentPointJob:this.model.currentPointJob,config:this.model.config,resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table,tableAST:this.model.tableAST,user:this.model.user},collection:{appLocals:this.collection.appLocals}})},reloadEditor:function(){this.initializeCommandModel(),this.createCommandEditors(),this.render()},render:function(){return this.children.initialDataEditor.render().appendTo(document.body),this.children.normalCommandEditor.render(),this.manageStateOfChildren(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/NormalCommandEditor":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/table/commandeditor/editorforms/initialdata/Master"),__webpack_require__("views/table/commandeditor/editorforms/Truncate"),__webpack_require__("views/table/commandeditor/editorforms/join/Master"),__webpack_require__("views/table/commandeditor/editorforms/Rename"),__webpack_require__("views/table/commandeditor/editorforms/replace/Master"),__webpack_require__("views/table/commandeditor/editorforms/sort/Master"),__webpack_require__("views/table/commandeditor/editorforms/Dedup"),__webpack_require__("views/table/commandeditor/editorforms/extracttime/Master"),__webpack_require__("views/table/commandeditor/editorforms/RemoveFields"),__webpack_require__("views/table/commandeditor/editorforms/Rex"),__webpack_require__("views/table/commandeditor/editorforms/filtervalues/Master"),__webpack_require__("views/table/commandeditor/editorforms/RemoveNonNumericalValues"),__webpack_require__("views/table/commandeditor/editorforms/FillValues"),__webpack_require__("views/table/commandeditor/editorforms/Eval"),__webpack_require__("views/table/commandeditor/editorforms/EvalExistingField"),__webpack_require__("views/table/commandeditor/editorforms/rangemap/Master"),__webpack_require__("views/table/commandeditor/editorforms/Search"),__webpack_require__("views/table/commandeditor/editorforms/concatenate/Master"),__webpack_require__("views/table/commandeditor/editorforms/Duplicate"),__webpack_require__("views/table/commandeditor/editorforms/stats/Master"),__webpack_require__("views/table/commandeditor/editorforms/ChangeCase"),__webpack_require__("views/table/commandeditor/editorforms/FilterRegex"),__webpack_require__("views/table/commandeditor/editorforms/AdvancedRex"),__webpack_require__("views/table/commandeditor/editorforms/coalesce/Master"),__webpack_require__("views/table/commandeditor/editorforms/Where"),__webpack_require__("views/table/commandeditor/editorforms/split/Master"),__webpack_require__("views/table/commandeditor/editorforms/calculatefield/Master"),__webpack_require__("views/table/commandeditor/editorforms/Round"),__webpack_require__("views/table/commandeditor/editorforms/Bucket"),__webpack_require__("views/table/commandeditor/editorforms/ReplaceMismatchedTypes"),__webpack_require__("views/table/commandeditor/editorforms/FilterMismatchedTypes"),__webpack_require__("views/table/commandeditor/Master.pcss"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseCommandModel,BaseView,FlashMessages,InitialDataFormView,TruncateFormView,JoinFormView,RenameFormView,ReplaceFormView,SortFormView,DedupFormView,ExtractTimeFormView,RemoveFieldsView,RexFormView,FilterValuesFormView,RemoveNonNumericalValuesFormView,FillValuesFormView,EvalFormView,EvalExistingFieldFormView,RangemapFormView,SearchFormView,ConcatenateFormView,DuplicateFormView,StatsFormView,ChangeCaseFormView,FilterRegexFormView,AdvancedRexFormView,CoalesceFormView,WhereFormView,SplitFormView,CalculateFieldFormView,RoundFormView,BucketFormView,ReplaceMismatchedTypesFormView,FilterMismatchedTypesFormView,css,splunkUtil){return BaseView.extend({moduleId:module.id,className:"commandeditor",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click a.commandeditor-collapse":function(e){e.preventDefault(),this._setAndSaveCollapsedState()}},startListening:function(){this.listenTo(this.model.state,"commandApplied",function(){this._setAndSaveCollapsedState()})},activate:function(){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.$el.html()&&this.renderEditor(),BaseView.prototype.activate.apply(this,arguments))},createNewEditorForm:function(){var formView,options;switch(this.model.command.get("type")){case BaseCommandModel.INITIAL_DATA:formView=InitialDataFormView;break;case BaseCommandModel.SORT:formView=SortFormView;break;case BaseCommandModel.TRUNCATE:formView=TruncateFormView;break;case BaseCommandModel.JOIN:formView=JoinFormView;break;case BaseCommandModel.RENAME:formView=RenameFormView;break;case BaseCommandModel.REPLACE:formView=ReplaceFormView;break;case BaseCommandModel.DEDUP:formView=DedupFormView;break;case BaseCommandModel.EXTRACT_DATE_TIME:formView=ExtractTimeFormView;break;case BaseCommandModel.REMOVE:formView=RemoveFieldsView;break;case BaseCommandModel.REX:formView=RexFormView;break;case BaseCommandModel.FILTER_VALUES:formView=FilterValuesFormView;break;case BaseCommandModel.REMOVE_NON_NUMERICAL_VALUES:formView=RemoveNonNumericalValuesFormView;break;case BaseCommandModel.FILL_VALUES:formView=FillValuesFormView;break;case BaseCommandModel.EVAL:formView=EvalFormView;break;case BaseCommandModel.EVAL_EXISTING_FIELD:formView=EvalExistingFieldFormView;break;case BaseCommandModel.RANGEMAP:formView=RangemapFormView;break;case BaseCommandModel.SEARCH:formView=SearchFormView;break;case BaseCommandModel.CONCATENATE:formView=ConcatenateFormView;break;case BaseCommandModel.DUPLICATE:formView=DuplicateFormView;break;case BaseCommandModel.STATS:formView=StatsFormView;break;case BaseCommandModel.CHANGE_CASE:formView=ChangeCaseFormView;break;case BaseCommandModel.FILTER_REGEX:formView=FilterRegexFormView;break;case BaseCommandModel.ADVANCED_REX:formView=AdvancedRexFormView;break;case BaseCommandModel.COALESCE:formView=CoalesceFormView;break;case BaseCommandModel.WHERE:formView=WhereFormView;break;case BaseCommandModel.SPLIT:formView=SplitFormView;break;case BaseCommandModel.CALCULATE_FIELD:formView=CalculateFieldFormView;break;case BaseCommandModel.BUCKET:formView=BucketFormView;break;case BaseCommandModel.ROUND:formView=RoundFormView;break;case BaseCommandModel.REPLACE_MISMATCHED_TYPES:formView=ReplaceMismatchedTypesFormView;break;case BaseCommandModel.FILTER_MISMATCHED_TYPES:formView=FilterMismatchedTypesFormView}return new formView(_.extend({model:{application:this.model.application,appLocal:this.model.appLocal,command:this.model.command,commandPristine:this.model.commandPristine,config:this.model.config,resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table,tableAST:this.model.tableAST,user:this.model.user,currentPointJob:this.model.currentPointJob},collection:{appLocals:this.collection.appLocals}},options))},renderEditor:function(){var displayName=this.model.command.getDisplayName();this.children.editorForm&&(this.children.editorForm.deactivate({deep:!0}).remove(),delete this.children.editorForm),this.children.editorForm=this.createNewEditorForm(),this.children.flashMessages&&(this.children.flashMessages.deactivate({deep:!0}).remove(),delete this.children.flashMessages),this.children.flashMessages=new FlashMessages({model:{command:this.model.command,commandPristine:this.model.commandPristine}}),this.$(".header-text").text(displayName).attr("title",displayName),this.children.flashMessages.activate({deep:!0}).render().appendTo(this.$(".commandeditor-header")),this.children.editorForm.activate({deep:!0}).render().insertAfter(this.$(".commandeditor-header")),this.$el.removeClass("commandeditor-prompt-for-input"),this._shouldShowEditor()?this._setExpandedState():this._setCollapsedState()},_shouldShowEditor:function(){var showEditor=splunkUtil.normalizeBoolean(this.model.table.entry.content.get("dataset.display.showEditor")),isComplete=this.model.command.isComplete(),isModalized=this.model.command.isModalized;return showEditor||!isComplete&&!isModalized},_setCollapsedState:function(){this.$el.hasClass("collapsed")||(this.$el.addClass("collapsed"),this.children.editorForm.undelegateEvents()),this.$el.off("click.commandeditor-expand"),this.$el.on("click.commandeditor-expand",function(e){e.preventDefault(),this._setAndSaveExpandedState()}.bind(this))},_setExpandedState:function(){this.$el.hasClass("collapsed")&&(this.$el.removeClass("collapsed"),this.children.editorForm.delegateEvents()),this.model.command.isComplete()||this.model.command.isModalized||(this.$el.removeClass("commandeditor-prompt-for-input").width(),this.$el.addClass("commandeditor-prompt-for-input"),this.children.editorForm.focusFirstInput()),this.$el.off("click.commandeditor-expand")},_setAndSaveExpandedState:function(){this.model.table.entry.content.set("dataset.display.showEditor","1"),this._setExpandedState()},_setAndSaveCollapsedState:function(){this.model.table.entry.content.set("dataset.display.showEditor","0"),this._setCollapsedState()},render:function(){return this.$el.html(this.compiledTemplate()),this.renderEditor(),this},template:'\t                <div class="commandeditor-header">\t                    <h3 class="header-text"></h3>\t                    <a href="#" class="commandeditor-collapse">\t                        <i class="icon-chevron-left"></i>\t                        <i class="icon-chevron-left"></i>\t                    </a>\t                    <a href="#" class="commandeditor-expand">\t                        <i class="icon-pencil"></i>\t                    </a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/EvalExistingField":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListOverlayControl,ControlGroup,TextareaControl,keyboardUtils){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-eval",initialize:function(options){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.newFieldName=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},label:_("Field").t(),size:"small",controlOptions:{model:this.model.command.requiredColumns.at(0),modelAttribute:"id",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectedValues:this.model.command.requiredColumns.pluck("id"),selectMessage:_("Select a field...").t()},toggleClassName:"btn-overlay-toggle"}}),this.children.evalExpressionBox=new TextareaControl({className:"eval-box",model:this.model.command,modelAttribute:"expression",size:"small"}),this.children.evalExpressionControl=new ControlGroup({controls:this.children.evalExpressionBox,label:_("Eval expression").t()})},events:$.extend({},BaseEditorView.prototype.events,{"keydown textarea":function(e){e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||e.preventDefault()},"keyup textarea":function(e){this.onInputChange(e)}}),onInputChange:function(e){var inputValue=this.children.evalExpressionBox.$("textarea").val();this.children.evalExpressionBox.setValue(inputValue,!1),e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||this.handleApply()},handleApply:function(options){var updateDeferred,previousCommand=this.model.table.commands.getPreviousCommand(this.model.commandPristine),optionsCopy=$.extend(!0,{},options,{validateFields:!0,updateSPLOptions:{previousCommand:previousCommand,applicationModel:this.model.application}});updateDeferred=this.model.command.updateSPL(optionsCopy.updateSPLOptions),$.when(updateDeferred).always(function(){this.model.command.validationError||(this.model.command.updateRequiredColumns(),BaseEditorView.prototype.handleApply.call(this,optionsCopy))}.bind(this))},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.about.eval")})),this.children.evalExpressionControl.activate({deep:!0}).render().$el.prependTo(this.$(".commandeditor-section-padded")),this.children.newFieldName.activate({deep:!0}).render().$el.prependTo(this.$(".commandeditor-section-padded")),this.appendButtons(),this.model.state.get("previousJSON")&&this.appendAdvancedEditorReturnLink()),this},template:'\t                <div class="commandeditor-section-padded">\t                    <a class="external commandeditor-help-link" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Base":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/shared/User"),__webpack_require__("views/Base"),__webpack_require__("views/table/modals/AdvancedEditorReturn"),__webpack_require__("views/table/modals/FieldRemovalDialog"),__webpack_require__("util/dataset_utils"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseCommandModel,ColumnModel,UserModel,BaseView,AdvancedEditorReturnDialog,FieldRemovalDialog,datasetUtils,route){var CLASS_NAME="commandeditor-form overlay-parent",COMMANDEDITOR_SECTION='<div class="commandeditor-section-scrolling"></div>',COMMANDEDITOR_SECTION_SELECTOR=".commandeditor-section-scrolling",BUTTON_CONTAINER='<div class="commandeditor-button-container"><div class="commandeditor-buttons"></div></div>',BUTTON_CANCEL='<a href="#" class="btn commandeditor-cancel">'+_("Cancel").t()+"</a>",BUTTON_APPLY='<a href="#" class="btn btn-primary commandeditor-apply">'+_("Apply").t()+"</a>",BUTTON_EDIT='<a href="#" class="btn btn-primary commandeditor-edit">'+_("Edit").t()+"</a>",BUTTON_CONTAINER_SELECTOR=".commandeditor-buttons",BUTTON_CANCEL_SELECTOR=".commandeditor-cancel",BUTTON_APPLY_SELECTOR=".commandeditor-apply",ADVANCED_EDITOR_SELECTOR=".advanced-editor-link",ADVANCED_EDITOR_LINK='<a href="#" class="advanced-editor-link"></a>',ADVANCED_EDITOR_RETURN_SELECTOR=".advanced-editor-return-link",ADVANCED_EDITOR_RETURN_LINK='<a href="#" class="advanced-editor-return-link"></a>';return BaseView.extend({moduleId:module.id,className:CLASS_NAME,isError:!1,initializeEmptyRequiredColumn:!1,focusSelector:".btn:not(.disabled):not([disabled]):not(.active), input[type=text], textarea",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.commandPristine.validationError&&(this.isError=!0),this.initializeEmptyRequiredColumn&&this.addEmptyRequiredColumn()},addEmptyRequiredColumn:function(){this.model.command.requiredColumns.length||this.model.command.requiredColumns.add({})},events:{"click a.commandeditor-apply:not(.disabled)":function(e){e.preventDefault(),this.handleApply()},"click a.commandeditor-cancel:not(.disabled)":function(e){e.preventDefault(),this.handleCancel()},"click .advanced-editor-link":function(e){e.preventDefault(),this.model.state.set({workingAttributes:this.model.command.getAdvancedCommandAttributes(),previousJSON:this.model.commandPristine.toJSON()}),this.replaceCurrentCommand({values:this.model.commandPristine.getAdvancedCommandJSON()})},"click .advanced-editor-return-link:not(.disabled)":function(e){e.preventDefault();var replaceFn=function(){this.replaceCurrentCommand()}.bind(this);this.model.command.isDirty(this.model.commandPristine)?(this.children.returnModal=new AdvancedEditorReturnDialog({model:{state:this.model.state},onHiddenRemove:!0}),this.listenToOnce(this.model.state,"returnToPrevious",replaceFn),this.children.returnModal.render().appendTo($("body")).show()):replaceFn()}},onAddedToDocument:function(){BaseView.prototype.onAddedToDocument.apply(this,arguments),this.model.command.isComplete()||this.focusFirstInput()},focusFirstInput:function(){this.$(this.focusSelector).first().focus()},startListening:function(){this.listenTo(this.model.command,"change changeColumn addColumn removeColumn resetColumns requiredColumnsChange editorValuesChange",this.updateButtonStates)},updateButtonStates:function(){this.model.command.isDirty(this.model.commandPristine)||!this.model.command.isComplete()?(this.$(BUTTON_APPLY_SELECTOR).removeClass("disabled"),this.model.command.isInvalid()?this.$(BUTTON_CANCEL_SELECTOR).addClass("disabled"):this.$(BUTTON_CANCEL_SELECTOR).removeClass("disabled"),$(".commandeditor-collapse").hide(),this.model.state.set("tableEnabled",!1)):(this.$(BUTTON_APPLY_SELECTOR).addClass("disabled"),this.$(BUTTON_CANCEL_SELECTOR).addClass("disabled"),$(".commandeditor-collapse").show(),this.model.state.set("tableEnabled",!0))},handleCancel:function(){this.model.command.isComplete()||!this.model.command.isValid(!0)&&this.model.commandPristine.get("spl")?this.model.state.trigger("editorReload"):this.model.table.commands.remove(this.model.commandPristine)},handleApply:function(options){var addedColumnGuids,acceptCallback,declineCallback,dfd;options=options||{},options.updateSPLOptions=options.updateSPLOptions||{},_.defaults(options.updateSPLOptions,{applicationModel:this.model.application}),this.setCollidingFieldNames(),dfd=this.model.command.updateSPL(options.updateSPLOptions),$.when(dfd).then(function(){this.model.command.unset("collisionFields"),this.model.command.validationError?(addedColumnGuids=this.model.command.getAddedColumnGuids({comparisonColumnsCollection:this.model.commandPristine.columns}),this.model.command.columns.remove(addedColumnGuids)):(acceptCallback=function(){this.setScrollWidthToAddedColumns(),this.model.state.trigger("commandApplied"),this.model.commandPristine.setFromCommandJSON(this.model.command.toJSON(options.toJSONOptions),{skipClone:!0})}.bind(this),declineCallback=function(){this.model.command.setFromCommandJSON(this.model.commandPristine.toJSON(options.toJSONOptions),{skipClone:!0})}.bind(this),options.validateFields?this.verifyRemovedFields({acceptCallback:acceptCallback,declineCallback:declineCallback}):acceptCallback())}.bind(this))},addNewFields:function(){var currentFieldsToAdd=this.model.command.getFieldsToAddAsArray(),pristineFieldsToAdd=this.model.commandPristine.isComplete()?this.model.commandPristine.getFieldsToAddAsArray():[],addedFields=_.difference(currentFieldsToAdd,pristineFieldsToAdd),removedFields=_.difference(pristineFieldsToAdd,currentFieldsToAdd);_.each(removedFields,function(removedField){var removedFieldInColumnsCollection=this.model.command.columns.findWhere({name:removedField});this.model.command.columns.remove(removedFieldInColumnsCollection)}.bind(this)),_.each(addedFields,function(addedField,i){this.addNewField({name:addedField},{offsetForAddIndex:i,alreadyVetted:!0})},this)},addNewField:function(values,options){values=values||{},options=options||{};var staleColumn,currentCommandColumns=this.model.command.columns,requiredColumnNames=_.map(this.model.command.requiredColumns.pluck("id"),function(id){return this.model.command.getFieldNameFromGuid(id)},this),addedColumnGuids=this.model.commandPristine.getAddedColumnGuids();_.defaults(options,{addIndex:this.getColIndexForNewColumn(currentCommandColumns.pluck("name"),requiredColumnNames),offsetForAddIndex:0,newFieldNameKey:"newFieldName",alreadyVetted:!1}),_.defaults(values,{name:this.model.command.get(options.newFieldNameKey)}),datasetUtils.isValidFieldName(values.name)&&(currentCommandColumns.findWhere({name:values.name})||(!options.alreadyVetted&&addedColumnGuids&&addedColumnGuids.length?values.name!==this.model.commandPristine.get(options.newFieldNameKey)&&(staleColumn=currentCommandColumns.findWhere({name:this.model.commandPristine.get(options.newFieldNameKey)}),staleColumn&&staleColumn.set("name",values.name)):currentCommandColumns.add(values,{at:options.addIndex+options.offsetForAddIndex,validate:!0})))},setScrollWidthToAddedColumns:function(){var previousIdx=this.model.table.getCurrentCommandIdx()-1,previousColumns=previousIdx<0?[]:this.model.table.commands.at(previousIdx).columns,fnOptions=previousColumns.length?{comparisonColumnsCollection:previousColumns}:{},newColumns=this.model.command.getAddedColumnGuids(fnOptions)||[],index=-1,sumOfWidths=ColumnModel.WIDTH_SELECT_ALL;if(newColumns.length&&_.find(this.model.command.columns.pluck("id"),function(columnId,idx){if(_.contains(newColumns,columnId))return index=idx,!0}.bind(this)),!(index<1)){for(var i=0;i<index-1;i++)sumOfWidths+=this.model.command.columns.at(i).getWidth();this.model.table.entry.content.set("dataset.display.scrollLeft",sumOfWidths)}},setCollidingFieldNames:function(){this.model.table.setCollidingFieldNames({commandEdited:this.model.command,commandPristine:this.model.commandPristine})},verifyRemovedFields:function(options){options=options||{};var challengeFields,fieldIdsToVerify=options.fieldIdsToVerify;return fieldIdsToVerify||(fieldIdsToVerify=this.model.commandPristine.getAddedColumnGuids({comparisonColumnsCollection:this.model.command.columns})),fieldIdsToVerify&&fieldIdsToVerify.length&&(challengeFields=this.model.table.commands.validateSubsequentCommands(fieldIdsToVerify,this.model.table.getCurrentCommandIdx()),challengeFields&&challengeFields.length)?(this.children.fieldRemovalDialog&&this.children.fieldRemovalDialog.deactivate({deep:!0}).remove(),this.children.fieldRemovalDialog=new FieldRemovalDialog({fields:_.invoke(challengeFields,"get","name")}),this.children.fieldRemovalDialog.render().appendTo($("body")).show(),this.listenTo(this.children.fieldRemovalDialog,"accepted",function(){options.acceptCallback&&options.acceptCallback()}),void this.listenTo(this.children.fieldRemovalDialog,"declined",function(){options.declineCallback&&options.declineCallback()})):void(options.acceptCallback&&options.acceptCallback())},getFieldPickerItems:function(options){options=options||{};var columns=this.model.commandPristine.collection.getPreviousCommandColumns(this.model.commandPristine),items=[];return columns.each(function(col){this.model.commandPristine.isTypeBlacklisted(col.get("type"))||options.blacklist&&_.contains(options.blacklist,col.get("type"))||items.push({value:col.id,label:col.get("name")})},this),items},appendButtons:function(container){var $buttonContainer=$(BUTTON_CONTAINER);$buttonContainer.appendTo(container||this.$el),$(BUTTON_CANCEL).appendTo($buttonContainer.find(BUTTON_CONTAINER_SELECTOR)),$(BUTTON_APPLY).appendTo($buttonContainer.find(BUTTON_CONTAINER_SELECTOR)),this.updateButtonStates()},getColIndexForNewColumn:function(currentCommandColumnsArray,referencedFields){if(referencedFields)for(var i=currentCommandColumnsArray.length-1;i>=0;i--)if(referencedFields.indexOf(currentCommandColumnsArray[i])>-1)return i+1;return currentCommandColumnsArray.length},replaceCurrentCommand:function(options){options=options||{};var dfd,at=this.model.table.commands.indexOf(this.model.commandPristine),values=options.values?options.values:this.model.state.get("previousJSON");if(!values)throw new Error("Tried to replace a command with no values passed in and no previous JSON to return to!");return this.model.table.commands.remove(this.model.commandPristine,{silent:!0}),this.model.state.set({fastRoute:!0}),dfd=this.model.table.commands.addNewCommand(values,{at:at,forceOpenEditor:!0,updateSPLOptions:{applicationModel:this.model.application}})},appendAdvancedEditorLink:function($container){var $buttonContainer=$container||this.$el,linkDisplayText="",$linkEl=$(ADVANCED_EDITOR_LINK);switch(this.model.command._advancedCommand){case BaseCommandModel.EVAL:linkDisplayText=_("Edit as eval command").t();break;case BaseCommandModel.EVAL_EXISTING_FIELD:linkDisplayText=_("Edit as eval command").t();break;case BaseCommandModel.SEARCH:linkDisplayText=_("Edit as search command").t();break;case BaseCommandModel.WHERE:linkDisplayText=_("Edit as where command").t();break;case BaseCommandModel.ADVANCED_REX:linkDisplayText=_("Edit as rex command").t()}$linkEl.text(linkDisplayText),$linkEl.appendTo($buttonContainer)},appendAdvancedEditorReturnLink:function($container){var $buttonContainer=$container||this.$el,linkDisplayText=_("Return to simple editor").t(),$linkEl=$(ADVANCED_EDITOR_RETURN_LINK);$linkEl.text(linkDisplayText),$linkEl.appendTo($buttonContainer)},getHelpLink:function(locationString){var appName=UserModel.CORE_JS_APP_NAMES.DATASETS_EXTENSIONS,localApp=this.collection.appLocals.find(function(localApp){return localApp.entry.get("name")===appName}),appVersion=localApp&&localApp.entry.content.get("version"),isCoreApp=!1,appDocSectionOverride=!1;return route.docHelpInAppContext(this.model.application.get("root"),this.model.application.get("locale"),locationString,appName,appVersion,isCoreApp,appDocSectionOverride)}},{CLASS_NAME:CLASS_NAME,COMMANDEDITOR_SECTION:COMMANDEDITOR_SECTION,COMMANDEDITOR_SECTION_SELECTOR:COMMANDEDITOR_SECTION_SELECTOR,BUTTON_CONTAINER:BUTTON_CONTAINER,BUTTON_APPLY:BUTTON_APPLY,BUTTON_CANCEL:BUTTON_CANCEL,BUTTON_EDIT:BUTTON_EDIT,BUTTON_CONTAINER_SELECTOR:BUTTON_CONTAINER_SELECTOR,BUTTON_APPLY_SELECTOR:BUTTON_APPLY_SELECTOR,BUTTON_CANCEL_SELECTOR:BUTTON_CANCEL_SELECTOR,ADVANCED_EDITOR_SELECTOR:ADVANCED_EDITOR_SELECTOR,ADVANCED_EDITOR_RETURN_SELECTOR:ADVANCED_EDITOR_RETURN_SELECTOR})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/AdvancedEditorReturn":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,Modal){return Modal.extend({moduleId:module.id,BUTTON_RETURN:'<a href="#" class="btn btn-primary modal-btn-return modal-btn-primary">'+_("Return").t()+"</a>",events:$.extend({},Modal.prototype.events,{
"click .modal-btn-return":function(e){e.preventDefault(),this.model.state.trigger("returnToPrevious"),this.remove()}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Return to Simple Editor").t()),this.$(Modal.BODY_SELECTOR).html(_("Warning: Any edits made in the advanced editor may be lost.").t()),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(this.BUTTON_RETURN),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/listpicker/Control":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/controls/Control"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Control,Popdown,ListPickerOverlay,tooltip){return Control.extend({moduleId:module.id,className:"control control-list-overlay",initialize:function(options){var defaults={toggleClassName:"btn",label:"",placeholder:_("Select a value...").t(),attachOverlayTo:".overlay-parent",listOptions:{}};_.defaults(this.options,defaults),defaults.listOptions.size=this.options.size,_.defaults(this.options.listOptions,defaults.listOptions),this.children.overlay=new ListPickerOverlay(this.options.listOptions),Control.prototype.initialize.apply(this,arguments)},events:{"click .overlay-toggle:not(.disabled)":function(e){this.renderAndAttachOverlay(),this.children.overlay.slideIn(),e.preventDefault()}},startListening:function(){Control.prototype.startListening.apply(this,arguments),this.listenTo(this.children.overlay,"selectionDidChange",this.selectionDidChange)},onAddedToDocument:function(){this.options.openOverlay&&(this.renderAndAttachOverlay(),this.children.overlay.show())},renderAndAttachOverlay:function(){this.children.overlay.el.innerHTML||this.children.overlay.render().$el.appendTo(this.$el.closest(this.options.attachOverlayTo))},setValueFromModel:function(render){Control.prototype.setValueFromModel.apply(this,arguments),this.children.overlay.setSelectedValues(this.getValue())},selectionDidChange:function(){var val=this.children.overlay[this.options.listOptions.multiselect?"getSelectedValues":"getSelectedValue"]();this.setValue(val)},disable:function(){this.options.enabled=!1,this.$overlayToggle&&this.$overlayToggle.addClass("disabled")},enable:function(){this.options.enabled=!0,this.$overlayToggle&&this.$overlayToggle.removeClass("disabled")},tooltip:function(options){this.$overlayToggle&&this.$overlayToggle.tooltip(options)},render:function(){var template=this.compiledTemplate({selectedLabels:this.children.overlay.getSelectedLabels().join(", "),selectedItem:this.children.overlay.getSelectedItem(),options:this.options});return this.$el.html(template),this.options.additionalClassNames&&this.$el.addClass(this.options.additionalClassNames),this.$overlayToggle=this.$("a.overlay-toggle"),this},template:'\t                <a class="overlay-toggle <%- options.toggleClassName %>" href="#"><% if (this.options.listOptions.multiselect && selectedLabels) { %><span class="link-label"><%- options.label ? options.label + "" : "" %><%- selectedLabels %></span><% } else if (selectedItem) { %><span class="link-label"><%- options.label ? options.label + "" : "" %> <%- selectedLabels %></span><% } else { %><span class="placeholder"><%- options.placeholder %></span><% } %><icon class="icon-chevron-right"></icon></a>\t            '},{PAGINATOR_TYPES:{SEARCH_RESULTS:ListPickerOverlay.PAGINATOR_TYPES.SEARCH_RESULTS,SPLUNKD_COLLECTION:ListPickerOverlay.PAGINATOR_TYPES.SPLUNKD_COLLECTION}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/listpicker/Overlay":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/listpicker/Master"),module,__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseView,ListPicker,module,tooltip){return ListPicker.extend({className:"list-picker-overlay",moduleId:module.id,initialize:function(options){var defaults={slideOutOnChange:!0};_.defaults(this.options,defaults),ListPicker.prototype.initialize.apply(this,arguments)},events:_.extend(ListPicker.prototype.events,{"click .list-picker-back":function(e){e.preventDefault(),this._handleClickBack()},"click .list-picker-ok":function(e){e.preventDefault(),this.slideOut(!0)}}),_handleClickBack:function(){this.revertSelectedValues(),this.changed=!1,this.slideOut(!0),this.trigger("listPickerBackSelected")},_selectionDidChange:function(){this.changed=!0,this.options.multiselect?this.$(".list-picker-ok")[0===this.selectedValues.length?"addClass":"removeClass"]("disabled"):this.options.slideOutOnChange?this.slideOut():(this.trigger("selectionDidChange"),this.changed=!1)},_show:function(animate){this.changed=!1,this.saveSelectedValues(),this.trigger("overlayWillShow"),animate?(this.$el.width(),this.$el.css({left:0,transform:""}),this.$el.one("transitionend",function(){this.trigger("overlayDidShow")}.bind(this))):(this.$el.hide().css("left",0).width(),this.$el.css({display:"",transform:""}),this.trigger("overlayDidShow"))},show:function(){this._show(!1)},slideIn:function(){this._show(!0)},_hide:function(animate){this.changed&&this.trigger("selectionDidChange"),animate?(this.$el.width(),this.$el.css("left",""),this.$el.one("transitionend",function(){this.$el.css("transform","scale(0)"),this.trigger("overlayDidHide"),this.render()}.bind(this))):(this.$el.css({left:"",transform:"scale(0)"}),this.trigger("overlayDidHide"),this.render())},hide:function(){this._hide(!1)},slideOut:function(){this._hide(!0)},render:function(){return ListPicker.prototype.render.apply(this,arguments),this.$(".list-picker-buttons")[!this.options.required||this.hasSelection()||this.options.multiselect||0===this.items.length?"removeClass":"addClass"]("hidden"),this.$(".list-picker-back")[this.options.required&&!this.hasSelection()&&0!==this.items.length?"addClass":"removeClass"]("hidden"),this},template:'\t            <div class="list-picker-buttons" >\t                <a class="list-picker-back"><i class="icon-chevron-left"></i> <%- _("Back").t() %></a>\t                <% if (options.multiselect) { %><a class="list-picker-ok <%- !hasValue && options.required ? "disabled" : "" %>"><%- _("OK").t() %></a><% } %>\t            </div>\t        '+ListPicker.prototype.template},{PAGINATOR_TYPES:{SEARCH_RESULTS:ListPicker.PAGINATOR_TYPES.SEARCH_RESULTS,SPLUNKD_COLLECTION:ListPicker.PAGINATOR_TYPES.SPLUNKD_COLLECTION}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/listpicker/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("collections/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/SearchResultsPaginator"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/table/commandeditor/listpicker/AddItem"),module,__webpack_require__("views/table/commandeditor/listpicker/Master.pcss"),__webpack_require__("shim/bootstrap.tooltip"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/dataset_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseModel,BaseCollection,BaseView,SearchResultsPaginator,CollectionPaginator,AddItemView,module,css,tooltip,splunkUtils,datasetUtils){var SPLUNKD_COLLECTION="splunkDCollection",SEARCH_RESULTS="searchResults";return BaseView.extend({className:"list-picker",moduleId:module.id,initialize:function(options){var defaults={selectedValues:[],required:!0,multiselect:!1,selectMessage:_("Select a value...").t(),multiselectMessage:_("Select values...").t(),selectedIcon:"check",size:"default",includeAddItem:!1};_.defaults(this.options,defaults),this.selectedValues=this.options.selectedValues||[],this.saveSelectedValues(),this.staticItems=this.options.staticItems,_.each(this.staticItems,function(item){item.isStatic=!0},this),this._filterListDebounced=_.debounce(this._filterList,200),this._useSplunkDCollectionPaginator(this.options.paginatorType)?(this.children.paginatorView=new CollectionPaginator({collection:this.collection.items,model:this.model.state,pageListMode:"compact"}),this.itemsCollection=this.collection.items):this._useSearchResultsPaginator(this.options.paginatorType)?(this.children.paginatorView=new SearchResultsPaginator({mode:"results_preview",model:{state:this.model.state,searchJob:this.model.searchJob,results:this.model.results},pageListMode:"compact"}),this.itemsCollection=this.model.results.results):this.model&&this.model.ast&&!this.model.ast.isTransforming()&&this.model.fieldsSummary&&(this.itemsCollection=this.model.fieldsSummary.fields),this.options.includeAddItem&&(this.collection.customAddedFieldPickerItems||(this.collection.customAddedFieldPickerItems=new BaseCollection),this.children.addItem=new AddItemView({model:{state:this.model.state},collection:{customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems}})),this._updateItems(),BaseView.prototype.initialize.apply(this,arguments)},events:{'click .list-picker-list:not(.list-picker-list-multi) a:not(".disabled")':function(e){e.preventDefault(),this._selectItem($(e.currentTarget))},'click .list-picker-list-multi a:not(".disabled")':function(e){e.preventDefault(),this._toggleItem($(e.currentTarget))},"click .list-picker-list a":function(e){e.preventDefault()},"click .list-picker-heading > .select-all":function(e){e.preventDefault(),this.selectedValues.length<this.items.length?this._selectAll():this._deselectAll()},"click .list-picker-search":function(e){e.preventDefault(),this.$(".list-picker-filter, .list-picker-filter-hide").addClass("show").focus()},"keyup .list-picker-filter":function(e){this._filterListDebounced()},"paste .list-picker-filter":function(e){this._filterList()},"cut .list-picker-filter":function(e){this._filterList()},"change .list-picker-filter":function(e){this._filterList()},"click .list-picker-filter-hide":function(e){e.preventDefault(),this.$filterInput.val(""),this.$(".list-picker-filter, .list-picker-filter-hide").removeClass("show").focus(),this.$(".list-picker-search").focus(),this._filterList()}},startListening:function(){BaseView.prototype.startListening.apply(this,arguments),this._useSplunkDCollectionPaginator(this.options.paginatorType)?this.listenTo(this.collection.items,"sync",this._renderList):this._useSearchResultsPaginator(this.options.paginatorType)&&this.listenTo(this.model.results,"sync",this._renderList),this.options.includeAddItem&&this.listenTo(this.model.state,"attemptAddItem",this.addNewItem)},setSelectedValues:function(values){values=void 0===values?[]:values,values=Array.isArray(values)?values:[values],this.selectedValues=values.slice(),this.saveSelectedValues(),this._updateSelected(),this._selectionDidReset()},saveSelectedValues:function(){this.savedValues=this.selectedValues.slice()},revertSelectedValues:function(){this.selectedValues=this.savedValues?this.savedValues.slice():[],this._updateSelected(),this._selectionDidReset()},getSelectedItem:function(){return _.find(this.items,function(item){return this._isSelected(item.value)}.bind(this))},getSelectedItems:function(){return _.filter(this.items,function(item){return this._isSelected(item.value)}.bind(this))},getSelectedValue:function(){return _.first(this.selectedValues)},getSelectedValues:function(){return this.selectedValues},getSelectedLabel:function(){var sel=this.getSelectedItem();return sel.label||sel.value},getSelectedLabels:function(){return _.map(this.getSelectedItems(),function(item){return item.label||item.value},this)},hasSelection:function(){return this.selectedValues.length>0},_useSearchResultsPaginator:function(paginatorType){if(paginatorType===SEARCH_RESULTS){if(!this.model.state)throw new Error("The Search Results Paginator requires that a State Model be passed in.");if(!this.model.results)throw new Error("The Search Results Paginator requires that a Results Model be passed in.");if(!this.model.searchJob)throw new Error("The Search Results Paginator requires that a Search Job Model be passed in.");return!0}return!1},_useSplunkDCollectionPaginator:function(paginatorType){if(paginatorType===SPLUNKD_COLLECTION){if((!this.model||!this.model.state)&&(!this.collection||this.collection&&!this.collection.fetchData))throw new Error("The Collection Paginator requires that either a State Model or a FetchData Collection be passed in.");if(!this.collection.items)throw new Error('The Collection Paginator requires that a SplunkD Collection be passed in as an "items" collection.');return!0}return!1},_selectionDidChange:function(){this.trigger("selectionDidChange")},_selectionDidNotChange:function(){this.trigger("selectionDidNotChange")},_selectionDidReset:function(){this.trigger("selectionDidReset")},_selectAll:function(){this.$interactableListItems.addClass("selected"),this.selectedValues=_.pluck(this.items,"value"),this._selectionDidChange()},_deselectAll:function(){this.$interactableListItems.removeClass("selected"),this.selectedValues=_.pluck(_.filter(this.items,function(item){return item.isDisabled},this),"value"),this._selectionDidChange()},_toggleItem:function($el){this[$el.hasClass("selected")?"_deselectItem":"_selectItem"]($el)},_selectItem:function($el){var val=this.items[$el.data("index")].value;return this._isSelected(val)?(this._selectionDidNotChange(),!1):(this.options.multiselect?this.selectedValues.push(val):(this.$interactableListItems.removeClass("selected"),this.selectedValues=[val]),$el.addClass("selected"),this._selectionDidChange(),!0)},_deselectItem:function($el){var val=this.items[$el.data("index")].value,index=this._indexOfSelected(val);return index!==-1&&($el.removeClass("selected"),this.selectedValues.splice(index,1),this._selectionDidChange(),!0)},_isSelected:function(val){return this._indexOfSelected(val)>=0},_indexOfSelected:function(val){return this.selectedValues.indexOf(val)},_updateSelected:function(){this.$allListItems&&0!==this.$allListItems.length&&_.each(this.items,function(item,index){this.$allListItems.eq(index)[this._isSelected(item.value)?"addClass":"removeClass"]("selected")},this)},_updateItems:function(){var customAddedFieldPickerItemsArray,usePaginator=this._useSplunkDCollectionPaginator(this.options.paginatorType)||this._useSearchResultsPaginator(this.options.paginatorType);this.items||(this.items=[]),usePaginator?this.items=[]:this.items=this.options.items,this.itemsCollection&&(this.items=this.items.concat(this.itemsCollection.getFieldPickerItems(this.options.fieldAttribute))),this.model&&this.model.ast&&(this.items=this.items.concat(this.model.ast.getFieldPickerItems())),this.options.sort&&(this.items=_.sortBy(this.items,function(item){return item.value.toLowerCase()},this)),usePaginator&&(!this.model.state||void 0!==this.model.state.get("offset")&&"0"!==this.model.state.get("offset"))||!this.staticItems||(this.items=this.staticItems.concat(this.items)),this.options.includeAddItem&&(customAddedFieldPickerItemsArray=this.collection.customAddedFieldPickerItems.toJSON(),this.items=_.reject(this.items,function(item){return _.find(customAddedFieldPickerItemsArray,function(addedItem){return addedItem.value===item.value},this)},this),this.items=this.items.concat(customAddedFieldPickerItemsArray)),this.items=_.uniq(this.items,function(item){return item.value},this)},_renderList:function(){this._updateItems(),this.$(".list-picker-list").html(_(this.listTemplate).template({items:this.items,options:this.options})),this.$allListItems=this.$(".list-picker-list a"),this.$interactableListItems=this.$allListItems.not(".disabled"),this._updateSelected()},addNewItem:function(){var newItem=this.model.state.get("itemToAdd"),errorMessage=this.checkAlreadyExists(newItem)||this.model.command&&this.model.command.validateFieldName(newItem);errorMessage?this.children.addItem.addError(errorMessage):(this.collection.customAddedFieldPickerItems.push({value:newItem}),this._updateItems(),this.$(".list-picker-list").html(_(this.listTemplate).template({items:this.items,options:this.options})),this.$allListItems=this.$(".list-picker-list a"),this.$interactableListItems=this.$allListItems.not(".disabled"),this._updateSelected(),this._selectItem($(this.$("li",".list-picker-list").last().children()[0])))},_filterList:function(){var val=this.$filterInput.val(),words=_.map(val.match(/(?:[^\s"]+|"[^"]*")+/g),function(word){return word.replace(/^"(.*)"$/,"$1").toLowerCase()});0===words.length&&this.$allListItems.show(),this.$allListItems.each(function(index,el){var $el=$(el),text=$el.text().toLowerCase(),matchCount=0;_.each(words,function(word,index){matchCount<index||(matchCount=text.includes(word)?matchCount+1:matchCount)}.bind(this)),$el.css("display",[matchCount===words.length?"":"none"])})},visibility:function(){var normalizedDeferreds,allDeferredsDone,modelsReadyCallback,$loadingMessage=this.$(".loading-message"),$emptyMessage=this.$(".empty-items-message"),$paginator=this.$(".pagination");this.options.deferred?(normalizedDeferreds=_.isArray(this.options.deferred)?this.options.deferred:[this.options.deferred],allDeferredsDone=_.all(normalizedDeferreds,function(deferred){return"resolved"===deferred.state},this),modelsReadyCallback=function(){$loadingMessage.hide(),this.children.addItem&&this.children.addItem.activate({deep:!0}).render().appendTo(this.$(".list-picker-scroll")),this._updateItems(),0===this.items.length?$emptyMessage.show():this.showAndRenderList()}.bind(this),allDeferredsDone?modelsReadyCallback():($loadingMessage.css("display",""),$paginator.hide(),$.when.apply($,normalizedDeferreds).then(function(){modelsReadyCallback()}.bind(this)))):(0===this.items.length?$emptyMessage.show():this.showAndRenderList(),this.children.addItem&&this.children.addItem.activate({deep:!0}).render().appendTo(this.$(".list-picker-scroll")))},showAndRenderList:function(){var $listPicker=this.$(".list-picker-list"),$paginator=this.$(".pagination");$listPicker.css("display",""),$paginator.css("display",""),this._renderList()},checkAlreadyExists:function(itemName){if(_.findWhere(this.items,{value:itemName}))return splunkUtils.sprintf(_('"%s" already exists.').t(),itemName)},render:function(){if(!this.el.innerHTML){var template=this.compiledTemplate({options:this.options,hasValue:this.hasSelection()});this.$el.html(template)}return this.$el.addClass("list-picker-"+this.options.size),this.options.additionalClassNames&&this.$el.addClass(this.options.additionalClassNames),this.children.paginatorView&&this.children.paginatorView.activate({deep:!0}).render().appendTo(this.$el),this.visibility(),this.$filterInput=this.$(".list-picker-filter"),this._updateSelected(),this},template:'\t            <div class="list-picker-heading <%= options.multiselect ? "list-picker-heading-multi" : "" %>">\t                <input type="text" class="list-picker-filter" placeholder="<%- _("find...").t() %>">\t                <a class="list-picker-filter-hide"><i class="icon-x"></i></a>\t                <a class="list-picker-search"><i class="icon-search"></i></a>\t                <% if (options.allowAdd) { %><a class="list-picker-addvalue"><i class="icon-plus"></i></a><% } %>\t                <% if (options.multiselect) { %><i class="select-all icon-<%- options.selectedIcon %>"></i></i><% } %>\t                <span class="select-message"><%- options.multiselect ? options.multiselectMessage : options.selectMessage %></span>\t            </div>\t            <div class="empty-items-message" style="display: none"><%- _(options.emptyItemsMessage || "You have no items to select from.").t() %></div>\t            <div class="list-picker-scroll">\t                <ul class="nav list-picker-list <%= options.multiselect ? "list-picker-list-multi" : "" %>" style="display: none;"></ul>\t                <div class="loading-message" style="display: none"><%- _(options.loadingMessage || "Loading...").t() %></div>\t            </div>\t        ',listTemplate:'\t            <% _.each(items, function(item, index, list) { %>\t                <li>\t                    <a href="#" class="<%= item.isDisabled ? "disabled" : "" %> <%= item.isItalics ? "italicize" : "" %>" data-value="<%- item.value %>" data-index="<%- index %>">\t                        <i class="icon-<%- options.selectedIcon %>"></i><%- item.label || item.value %>\t                    </a>\t                </li>\t            <% }); %>\t        '},{PAGINATOR_TYPES:{SEARCH_RESULTS:SEARCH_RESULTS,SPLUNKD_COLLECTION:SPLUNKD_COLLECTION}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/listpicker/AddItem":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("util/keyboard"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseModel,BaseView,ControlGroup,FlashMessagesView,keyboardUtils,splunkdUtils){return BaseView.extend({moduleId:module.id,initialize:function(options){this.children.addFieldTextView=new ControlGroup({controlType:"Text",additionalClassNames:["add-field-control"],controlOptions:{model:this.model.state,modelAttribute:"itemToAdd"}}),this.children.flashMessages=new FlashMessagesView,BaseView.prototype.initialize.apply(this,arguments)},events:{"click .open-add-item":function(e){e.preventDefault(),this.$(".open-add-item").hide(),this.$(".enter-field-container").show(),this.$(".enter-field-container")[0].scrollIntoView(!1)},"click .add-item-remove":function(e){e.preventDefault(),this.reset()},"click .add-item-button":function(e){e.preventDefault(),this.attemptAddItem()},"keyup .enter-field":function(e){e.preventDefault(),e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||this.attemptAddItem()}},startListening:function(){this.listenTo(this.collection.customAddedFieldPickerItems,"add",this.reset)},attemptAddItem:function(){this.model.state.trigger("attemptAddItem")},addError:function(html){this.children.flashMessages.flashMsgHelper.addGeneralMessage("addItem",{type:splunkdUtils.ERROR,html:html})},reset:function(){this.model.state.unset("itemToAdd"),this.$(".enter-field-container").hide(),this.children.flashMessages.flashMsgHelper.removeGeneralMessage("addItem"),this.$(".open-add-item").show()},render:function(){return this.$el.html(this.compiledTemplate({_:_,options:this.options})),this.children.addFieldTextView.activate({deep:!0}).render().prependTo(this.$(".enter-field")),this.children.flashMessages.activate({deep:!0}).render().prependTo(this.$(".enter-field-container")),this},template:'\t            <div class="add-missing-item">\t                <div class="enter-field-container" style="display: none;">\t                    <a href="#" class="add-item-remove">\t                        <i class="icon-x"></i>\t                    </a>\t                    <div class="enter-field" >\t                        <a href="#" class="btn add-item-button"> <%- _("Add").t() %> </a>\t                    </div>\t                </div>\t                <a href="#" class="open-add-item">\t                    <i class="icon-plus"></i>\t                    <%= _("Add a missing existing field").t() %>\t                </a>\t            </div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/listpicker/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1148);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/datasets/DataSummaryResultJsonRows":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/services/search/jobs/ResultJsonRows"),__webpack_require__("models/datasets/Column"),__webpack_require__("util/math_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,ResultJsonRows,ColumnModel,mathUtil){return ResultJsonRows.extend({MATCHED_TYPE:"MatchedType",MISMATCHED_TYPE:"MismatchedType",NULL_VALUES:"NullValues",EMPTY_VALUES:"EmptyValues",NULL_OR_EMPTY_VALUES:"NullOrEmptyValues",MIN_LINE_COUNT:"MinLineCount",MAX_LINE_COUNT:"MaxLineCount",AVERAGE_LINE_COUNT:"AverageLineCount",MINIMUM:"Minimum",MAXIMUM:"Maximum",AVERAGE:"Average",MEDIAN:"Median",MODE:"Mode",STANDARD_DEVIATION:"StandardDeviation",AVERAGE_VALUE_COUNT:"AverageValueCount",MULTIVALUE:"Multivalue",SINGLE_VALUE:"SingleValue",UNIQUE_VALUES:"UniqueValues",MAX_VALUE_COUNT:"MaxValueCount",MIN_VALUE_COUNT:"MinValueCount",MODE_VALUE_COUNT:"ModeValueCount",MEDIAN_VALUE_COUNT:"MedianValueCount",EARLIEST:"Earliest",LATEST:"Latest",COUNT_TRUE:"CountTrue",COUNT_FALSE:"CountFalse",initialize:function(){ResultJsonRows.prototype.initialize.call(this,arguments)},extractMetrics:function(column,topResults){var columnMetric,fieldComponents,metricValue,isZero,result,nullAndEmptyFieldsMetric,mismatchedValuesIndex,mismatchedValue,fields=this.get("fields"),rows=this.get("rows"),columnMetrics=[],multivalueIsZero=!1;return this.columnType=column.get("type"),this.columnName=column.get("name"),fields&&fields.length&&rows&&rows.length&&_.each(fields,function(field,i){if(fieldComponents=this.parseFieldName(field),fieldComponents&&fieldComponents.fieldName===this.columnName){if(result=rows[0][i],metricValue=this.enforceNumeric(result,fieldComponents.metricName),isZero=0===parseInt(metricValue,10),fieldComponents.metricName===this.MULTIVALUE&&isZero&&(multivalueIsZero=!0),multivalueIsZero&&(fieldComponents.metricName===this.MAX_VALUE_COUNT||fieldComponents.metricName===this.MIN_VALUE_COUNT||fieldComponents.metricName===this.MODE_VALUE_COUNT||fieldComponents.metricName===this.MEDIAN_VALUE_COUNT||fieldComponents.metricName===this.AVERAGE_VALUE_COUNT))return;columnMetric={key:fieldComponents.metricName,value:this.formatValue(fieldComponents.metricName,metricValue,this.columnName),label:this.parseLabelFromKey(fieldComponents.metricName),className:"summary-"+fieldComponents.metricName.toLowerCase(),isZero:isZero},this.insertNewlineAfter(fieldComponents.metricName)&&(columnMetric.breakAfter=!0),columnMetrics.push(columnMetric)}},this),mismatchedValue=_.where(columnMetrics,{key:this.MISMATCHED_TYPE}),mismatchedValuesIndex=mismatchedValue.length&&_.indexOf(columnMetrics,mismatchedValue[0]),nullAndEmptyFieldsMetric=this.getConsolidatedNullAndEmptyFields(columnMetrics,topResults),columnMetrics.splice(mismatchedValuesIndex+1,0,nullAndEmptyFieldsMetric),columnMetrics},getConsolidatedNullAndEmptyFields:function(columnMetrics,topResults){var nullValues=_.where(columnMetrics,{key:this.NULL_VALUES})[0],nullValuesPercentage=nullValues&&parseFloat(nullValues.value)||0,emptyValues=_.where(topResults,{name:""})[0],emptyValuesPercentage=emptyValues&&parseFloat(emptyValues.percentage)||0,nullOrEmptyValuesPercentage=nullValuesPercentage+emptyValuesPercentage;return{key:this.NULL_OR_EMPTY_VALUES,value:nullOrEmptyValuesPercentage.toFixed(2),label:this.parseLabelFromKey(this.NULL_OR_EMPTY_VALUES),className:"summary-"+this.NULL_OR_EMPTY_VALUES.toLowerCase(),isZero:0===parseInt(nullOrEmptyValuesPercentage,10),breakAfter:!0}},parseFieldName:function(fullFieldName){var fieldComponents=fullFieldName.split(":");if(2===fieldComponents.length)return{fieldName:fieldComponents[0],metricName:fieldComponents[1]}},calculateTotalCount:function(columnName){var matchedTypeCount=parseInt(this.getFieldValue(this.MATCHED_TYPE,columnName),10),mismatchedTypeCount=parseInt(this.getFieldValue(this.MISMATCHED_TYPE,columnName),10),nullOrEmptyValuesCount=parseInt(this.getFieldValue(this.NULL_VALUES,columnName),10)+parseInt(this.getFieldValue(this.EMPTY_VALUES,columnName),10),totalCount=matchedTypeCount+mismatchedTypeCount+nullOrEmptyValuesCount;return totalCount},getFieldValue:function(metricName,columnName){var rows=this.get("rows"),fields=this.get("fields");if(rows.length){var i=_.indexOf(fields,this.getFullFieldName(metricName,columnName));return this.enforceNumeric(rows[0][i])}},getFullFieldName:function(metricName,columnName){return columnName+":"+metricName},enforceNumeric:function(metricValue,metricName){return"Earliest"===metricName||"Latest"===metricName||null!==metricValue&&!isNaN(metricValue)?metricValue:0},formatValue:function(key,value,columnName){var totalCount=this.calculateTotalCount(columnName);return"Earliest"===key||"Latest"===key?value:key===this.MATCHED_TYPE||key===this.MISMATCHED_TYPE||key===this.NULL_VALUES||key===this.EMPTY_VALUES?0===totalCount?0:mathUtil.convertToTwoDecimalPercentage(value,totalCount):mathUtil.roundToDecimal(parseFloat(value),-2)},parseLabelFromKey:function(key){switch(key){case this.MATCHED_TYPE:return _("Matched type").t();case this.MISMATCHED_TYPE:return _("Mismatched type").t();case this.NULL_VALUES:return _("Null values").t();case this.EMPTY_VALUES:return _("Empty values").t();case this.NULL_OR_EMPTY_VALUES:return _("Null or empty").t();case this.MIN_LINE_COUNT:return _("Min line count").t();case this.MAX_LINE_COUNT:return _("Max line count").t();case this.AVERAGE_LINE_COUNT:return _("Average line count").t();case this.MINIMUM:return _("Minimum").t();case this.MAXIMUM:return _("Maximum").t();case this.AVERAGE:return _("Average").t();case this.MEDIAN:return _("Median").t();case this.MODE:return _("Mode").t();case this.STANDARD_DEVIATION:return _("Standard deviation").t();case this.MULTIVALUE:return _("Multivalue").t();case this.SINGLE_VALUE:return _("Single value").t();case this.UNIQUE_VALUES:return _("Unique values").t();case this.MAX_VALUE_COUNT:return _("Max value count").t();case this.MIN_VALUE_COUNT:return _("Min value count").t();case this.MODE_VALUE_COUNT:return _("Mode value count").t();case this.MEDIAN_VALUE_COUNT:return _("Median value count").t();case this.AVERAGE_VALUE_COUNT:return _("Average value count").t();case this.EARLIEST:return _("Earliest").t();case this.LATEST:return _("Latest").t();case this.COUNT_FALSE:return _("Count false").t();case this.COUNT_TRUE:return _("Count true").t();default:throw new Error("Unable to generate data summary metric label from the provided metric type.")}},insertNewlineAfter:function(metricName){if(metricName===this.NULL_OR_EMPTY_VALUES)return!0;if(this.columnType===ColumnModel.TYPES._RAW){if(metricName===this.MIN_LINE_COUNT)return!0}else if(this.columnType===ColumnModel.TYPES.NUMBER){if(metricName===this.MINIMUM)return!0}else if(this.columnType===ColumnModel.TYPES.STRING&&metricName===this.AVERAGE_VALUE_COUNT)return!0;
return!1}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/initialdata/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/initialdata/IndexesAndSourcetypesListGroup"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,InitialDataModel,BaseEditorView,IndexesAndSourcetypesListGroup,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-initial-data",initialize:function(){switch(BaseEditorView.prototype.initialize.apply(this,arguments),this.model.table.commands.at(0).columns.length&&this.model.command.set({fieldsChosen:this.model.table.commands.at(0).columns.pluck("name").join(", ")}),this.children.selectedMethod=new ControlGroup({controlType:"Text",label:_("Selected method:").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"selectedMethod"}}),this.model.command.get("selectedMethod")){case InitialDataModel.METHODS.DATASET:this.children.chosenDataset=new ControlGroup({controlType:"Text",label:_("Selected dataset:").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"selectedDatasetDisplayName"}});break;case InitialDataModel.METHODS.INDEXES_AND_SOURCETYPES:this.children.chosenIndexesAndSourcetypes=new IndexesAndSourcetypesListGroup({collection:this.model.command.editorValues});break;case InitialDataModel.METHODS.SEARCH:this.children.search=new ControlGroup({controlType:"Textarea",label:_("Search:").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"baseSPL"}})}this.children.fieldsChosen=new ControlGroup({controlType:"Textarea",label:_("Fields chosen:").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"fieldsChosen"}})},events:$.extend({},BaseEditorView.prototype.events,{"click .commandeditor-edit:not(.disabled)":function(e){e.preventDefault(),this.model.state.set("initialDataState",InitialDataModel.STATES.EDITING)}}),activate:function(options){return this.active&&BaseEditorView.prototype.activate.apply(this,arguments),this.model.command.isComplete()||this.model.state.set("initialDataState",InitialDataModel.STATES.EDITING),BaseEditorView.prototype.activate.apply(this,arguments)},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.selectedMethod.render().appendTo(this.$(".commandeditor-section-padded")),this.children.selectedMethod.disable(),this.children.chosenDataset&&(this.children.chosenDataset.render().appendTo(this.$(".commandeditor-section-padded")),this.children.chosenDataset.disable()),this.children.chosenIndexesAndSourcetypes&&this.children.chosenIndexesAndSourcetypes.render().appendTo(this.$(".commandeditor-section-padded")),this.children.search&&(this.children.search.render().appendTo(this.$(".commandeditor-section-padded")),this.children.search.disable()),this.children.fieldsChosen.render().appendTo(this.$(".commandeditor-section-padded")),this.children.fieldsChosen.disable(),this.$el.append(BaseEditorView.BUTTON_EDIT),this},template:'<div class="commandeditor-section-padded"></div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/initialdata/IndexesAndSourcetypesListGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView){return BaseView.extend({moduleId:module.id,className:"indexes-and-sourcetypes-list-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.compiledTemplate({_:_,collection:this.collection})),this},template:'\t                <div class="indexes-and-sourcetypes-header"><%= _("Selected indexes and sourcetypes:").t() %></div>\t                <% this.collection.each(function(indexAndSourcetypesModel) { %>\t                    <div class="index-and-sourcetypes-item">\t                        <% var index = indexAndSourcetypesModel.get("index") %>\t                        <% if (_.isArray(index)) { %>\t                            <%- _("indexes").t() %> = <%- index.join(_(", ").t()) %>\t                        <% } else { %>\t                            <%- _("index").t() %> = <%- index %>\t                        <% } %>\t                        </br>\t                        <%- _("sourcetypes").t() %> = <%- indexAndSourcetypesModel.get("sourcetypes").join(_(", ").t()) %> \t                    </div>\t                <% }, this); %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Truncate":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-truncate",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.spinner=new ControlGroup({label:_("Max rows").t(),controlType:"Spinner",size:"small",controlOptions:{modelAttribute:"limit",model:this.model.command,min:1,step:10,placeholder:10,integerOnly:!0,updateOnKeyUp:!0}})},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.spinner.render().appendTo(this.$(".commandeditor-section-padded")),this.appendButtons(),this},template:'<div class="commandeditor-section-padded"></div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/join/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("collections/services/data/TransformsLookups"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/join/JoinOn"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnModel,DatasetsCollection,BaseEditorView,JoinOnView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-join",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),_.isEmpty(this.collection)&&(this.collection={}),this.collection.datasets=new DatasetsCollection},startListening:function(options){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command,"change:fullDatasetToJoinPath",function(){this.model.command.unset("fieldsToAdd"),this.model.command.requiredColumns.each(function(requiredColumn){requiredColumn.unset("columnToJoinWith")},this),this.addJoinAndFieldsControls()})},activate:function(options){return this.active?BaseEditorView.prototype.activate.apply(this,arguments):(this.fetchDatasets(),BaseEditorView.prototype.activate.apply(this,arguments))},deactivate:function(options){return this.active?(BaseEditorView.prototype.deactivate.apply(this,arguments),this.collection.datasets.fetchAbort(),this):BaseEditorView.prototype.deactivate.apply(this,arguments)},fetchDatasets:function(){var datasetsFetchDeferred=this.collection.datasets.fetch({data:{app:this.model.application.get("app"),owner:"-",sort_mode:["natural","natural"],count:100}});$.when(datasetsFetchDeferred).then(function(){this.active&&this.setUpDatasetList()}.bind(this))},setUpDatasetList:function(){var items=this.collection.datasets.map(function(dataset){return{value:dataset.get("id"),label:dataset.entry.get("name")}},this);this.children.datasetControlGroup&&(this.children.datasetControlGroup.deactivate({deep:!0}).remove(),delete this.children.datasetControlGroup),this.children.datasetControlGroup=new ControlGroup({label:_("Lookup").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command,modelAttribute:"fullDatasetToJoinPath",placeholder:_("Select a lookup...").t(),listOptions:{selectMessage:_("Select a lookup to join...").t(),items:items},toggleClassName:"btn-overlay-toggle"}}),this.children.datasetControlGroup.activate({deep:!0}).render().prependTo(this.$(".dataset-control")),this.model.command.get("fullDatasetToJoinPath")&&this.addJoinAndFieldsControls()},addJoinAndFieldsControls:function(){var availableFieldsFromChosenDataset=this.getFieldsFromChosenDataset();this.addJoinControl(availableFieldsFromChosenDataset),this.addFieldsControl(availableFieldsFromChosenDataset)},addJoinControl:function(availableFieldsFromChosenDataset){this.children.joinOn&&(this.children.joinOn.deactivate({deep:!0}).remove(),delete this.children.joinOn),this.children.joinOn=new JoinOnView({model:{command:this.model.command,commandPristine:this.model.commandPristine,table:this.model.table},availableFieldsFromChosenDataset:availableFieldsFromChosenDataset,tableItems:this.getFieldPickerItems()}),this.children.joinOn.activate({deep:!0}).render().insertAfter(this.$(".dataset-control"))},addFieldsControl:function(availableFieldsFromChosenDataset){this.children.fieldsControlGroup&&(this.children.fieldsControlGroup.deactivate({deep:!0}).remove(),delete this.children.fieldsControlGroup),this.children.fieldsControlGroup=new ControlGroup({label:_("Fields").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command,modelAttribute:"fieldsToAdd",placeholder:_("Select fields to add...").t(),listOptions:{items:availableFieldsFromChosenDataset,multiselect:!0,required:!0,multiselectMessage:_("Select fields to add...").t()},toggleClassName:"btn-overlay-toggle"}}),this.children.fieldsControlGroup.activate({deep:!0}).render().prependTo(this.$(".fields-control"))},getFieldsFromChosenDataset:function(){var chosenDatasetModel=this.collection.datasets.get(this.model.command.get("fullDatasetToJoinPath")),fieldsArray=chosenDatasetModel.entry.content.toObject("fields_array");return _.map(fieldsArray,function(field){return{value:field}},this)},handleApply:function(options){var chosenDatasetModel=this.collection.datasets.get(this.model.command.get("fullDatasetToJoinPath"));this.addNewFields(),this.model.command.set("datasetNameToJoin",chosenDatasetModel.entry.get("name")),BaseEditorView.prototype.handleApply.apply(this,arguments)},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.appendButtons()),this},template:'\t                <div class="commandeditor-section-padded">\t                    <div class="dataset-control"></div>\t                    <div class="fields-control"></div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/data/TransformsLookups":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/services/data/TransformsLookup"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,LookupModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({model:LookupModel,url:"data/transforms/lookups",initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)},getNames:function(){return _(this.models).map(function(lookup){return lookup.entry.get("name")})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/join/JoinOn":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/editorforms/join/FieldPairOverlays"),__webpack_require__("views/table/commandeditor/editorforms/join/FieldPair")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,FieldPairOverlays,FieldPair){return BaseView.extend({moduleId:module.id,className:"join-on-control",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.command.requiredColumns,"add remove change",this.renderFieldPairs)},events:{"click a.add-field-pair":function(e){e.preventDefault(),this.createOverlay()}},renderFieldPairs:function(){var newFieldPair;_.each(this.children.fieldPairs,function(fieldPairView){fieldPairView.deactivate({deep:!0}).remove()},this),this.children.fieldPairs=[],this.model.command.requiredColumns.each(function(requiredColumn){newFieldPair=new FieldPair({model:{command:this.model.command,requiredColumn:requiredColumn}}),newFieldPair.activate({deep:!0}).render().appendTo(this.$(".commandeditor-join-field-pairs")),this.children.fieldPairs.push(newFieldPair),this.listenTo(newFieldPair,"modifyFieldPair",this.createOverlay)},this)},createOverlay:function(requiredColumnGuid){this.children.doubleOverlay&&this.children.doubleOverlay.deactivate({deep:!0}).remove();var firstSelection=requiredColumnGuid,secondSelection=requiredColumnGuid&&this.model.command.requiredColumns.get(requiredColumnGuid).get("columnToJoinWith");this.children.doubleOverlay=new FieldPairOverlays({model:{command:this.model.command},firstListItems:this.options.tableItems,firstSelection:firstSelection,secondListItems:this.options.availableFieldsFromChosenDataset,secondSelection:secondSelection}),this.children.doubleOverlay.activate({deep:!0}).render().appendTo(this.$el)},render:function(){return this.$el.html(this.compiledTemplate()),this.renderFieldPairs(),this},template:'\t                <%- _("Join on").t() %>\t                <div class="commandeditor-join-field-pairs"></div>\t                <div class="commandeditor-join-add-container">\t                    <a href="#" class="add-field-pair">\t                        <i class="icon-plus"></i> <%- _("Add field pair...").t() %>\t                    </a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/join/FieldPairOverlays":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ListPickerOverlay,splunkUtils){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.firstOverlay=new ListPickerOverlay({multiselect:!1,required:!1,selectedValues:[this.options.firstSelection],selectMessage:_("Join on field in table...").t(),items:this.options.firstListItems,slideOutOnChange:!1,additionalClassNames:"field-listpicker"})},startListening:function(options){this.listenTo(this.children.firstOverlay,"selectionDidChange",this.handleFirstSelectionDidChange)},handleFirstSelectionDidChange:function(){var firstSelectionLabel=this.children.firstOverlay.getSelectedLabel();this.children.secondOverlay&&this.children.secondOverlay.deactivate({deep:!0}).remove(),this.children.secondOverlay=new ListPickerOverlay({multiselect:!1,required:!1,selectMessage:splunkUtils.sprintf(_("Join where %s matches...").t(),firstSelectionLabel),items:this.options.secondListItems,selectedValues:[this.options.secondSelection],additionalClassNames:"join-listpicker"}),this.children.secondOverlay.render().$el.appendTo(this.$el.closest(".commandeditor-form-join")),this.children.secondOverlay.slideIn(),this.listenTo(this.children.secondOverlay,"selectionDidChange",this.handleSecondSelectionDidChange)},handleSecondSelectionDidChange:function(){var firstSelection=this.children.firstOverlay.getSelectedItem(),secondSelection=this.children.secondOverlay.getSelectedItem(),selectedColumnInColumnsCollection=this.model.command.columns.get(firstSelection.value),selectedColumnInRequiredColumnsCollection=this.model.command.requiredColumns.get(firstSelection.value);selectedColumnInRequiredColumnsCollection||(this.model.command.requiredColumns.add({id:selectedColumnInColumnsCollection.get("id")}),selectedColumnInRequiredColumnsCollection=this.model.command.requiredColumns.get(firstSelection.value)),this.options.firstSelection&&this.options.firstSelection!==selectedColumnInColumnsCollection.id&&this.model.command.requiredColumns.remove({id:selectedColumnInColumnsCollection.id}),selectedColumnInRequiredColumnsCollection.set("columnToJoinWith",secondSelection.value),this.children.firstOverlay.deactivate({deep:!0}).remove()},onAddedToDocument:function(){this.children.firstOverlay.render().$el.appendTo(this.$el.closest(".commandeditor-form-join")),this.children.firstOverlay.slideIn(),this.model.command.isNew()&&this.options.firstSelection&&this.handleFirstSelectionDidChange()},render:function(){return this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/join/FieldPair":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView){return BaseView.extend({moduleId:module.id,className:"commandeditor-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.model.command.requiredColumns.remove(this.model.requiredColumn)},"click .commandeditor-join-field-pair-modify":function(e){e.preventDefault(),this.trigger("modifyFieldPair",this.model.requiredColumn.get("id"))}},render:function(){return this.$el.html(this.compiledTemplate({leftPairName:this.model.command.getFieldNameFromGuid(this.model.requiredColumn.get("id")),rightPairName:this.model.requiredColumn.get("columnToJoinWith")})),this},template:'\t                <a href="#" class="commandeditor-group-label commandeditor-join-field-pair-modify">\t                    "<%- leftPairName %>" = "<%- rightPairName %>" <icon class="icon-chevron-right"></icon>\t                </a>\t                <a href="#" class="commandeditor-group-remove">\t                    <icon class="icon-x"></icon>\t                </a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Rename":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-rename",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments);var requiredColumn=this.model.command.requiredColumns.at(0);this.children.field=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:requiredColumn,modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}},multiselect:!1}),this.children.newFieldName=new ControlGroup({label:_("New name").t(),controlType:"Text",size:"small",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}})},handleApply:function(options){var requiredColumnId=this.model.command.requiredColumns.first()&&this.model.command.requiredColumns.first().id,previousCommand=this.model.table.commands.getPreviousCommand(this.model.commandPristine);requiredColumnId&&(options=options||{},options.updateSPLOptions={previousCommand:previousCommand,applicationModel:this.model.application},this.model.command.columns.reset(previousCommand.columns.toJSON()),this.model.command.applyChangesToColumns()),BaseEditorView.prototype.handleApply.call(this,options)},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.template),this.appendButtons(),this.children.field.render().appendTo(this.$(".commandeditor-section-padded")),this.children.newFieldName.render().appendTo(this.$(".commandeditor-section-padded"))),this},template:'\t                <div class="commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/replace/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/replace/Value"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,Value,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-replace",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},label:_("Field").t(),size:"small",controlOptions:{model:this.model.command.requiredColumns.at(0),modelAttribute:"id",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectedValues:this.model.command.requiredColumns.pluck("id"),selectMessage:_("Select a field...").t()},toggleClassName:"btn-overlay-toggle"}}),this.children.fieldPicker.$el.addClass("commandeditor-form-replace-field-selection")},events:$.extend({},BaseEditorView.prototype.events,{"click .add-value":function(e){e.preventDefault(),this.model.command.editorValues.add({oldValue:"",newValue:""})}}),startListening:function(){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command.editorValues,"add remove reset change",this.updateButtonStates),this.listenTo(this.model.command.editorValues,"add remove reset",this.renderValues)},renderValues:function(){this.model.command.get("selectedText");_(this.children.values).each(function(value){value.deactivate({deep:!0}).remove()},this),this.children.values=this.model.command.editorValues.map(function(value){return new Value({model:{editorValue:value},collection:{editorValues:this.model.command.editorValues}})}.bind(this)),_(this.children.values).each(function(value,idx){value.render().appendTo(this.$(".commandeditor-section-values"))},this)},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.fieldPicker.render().prependTo(this.$(".commandeditor-section-field")),this.appendButtons(),this.renderValues(),this},template:'\t                <div class="commandeditor-section-padded commandeditor-section-field"></div>\t                <div class="commandeditor-section-scrolling commandeditor-section-values"></div>\t                <div class="commandeditor-section-padded">\t                    <a href="#" class="add-value"><i class="icon-plus" /> <%= _("Add value...").t() %></a>\t                </div>\t                <div class="commandeditor-section-padded"><%= _("You can include wildcards to match one or multiple terms.").t() %></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/replace/Value":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,ControlGroup){return BaseView.extend({moduleId:module.id,className:"commandeditor-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.oldValue=new ControlGroup({controlType:"Text",label:_("Current value").t(),size:"small",controlOptions:{model:this.model.editorValue,modelAttribute:"oldValue",updateOnKeyUp:!0}}),this.children.newValue=new ControlGroup({controlType:"Text",label:_("New value").t(),size:"small",controlOptions:{model:this.model.editorValue,modelAttribute:"newValue",updateOnKeyUp:!0}})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.collection.editorValues.remove(this.model.editorValue)}},render:function(){var shouldShowRemove=this.collection.editorValues.length>1;return shouldShowRemove&&this.$el.html(this.compiledTemplate()),this.children.oldValue.render().appendTo(this.$el),this.children.newValue.render().appendTo(this.$el),this},template:'<a href="#" class="commandeditor-group-remove"><i class="icon-x" /></a>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/sort/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/BaseSortable"),__webpack_require__("views/table/commandeditor/editorforms/sort/FieldRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseSortableEditorView,FieldRowView){return BaseSortableEditorView.extend({moduleId:module.id,className:BaseSortableEditorView.CLASS_NAME+" commandeditor-form-sort",FieldRowView:FieldRowView,DEFAULT_ORDER:"ascending",initialize:function(){BaseSortableEditorView.prototype.initialize.apply(this,arguments)},addNewRow:function(newRequiredGuid){var rowView;this.model.command.editorValues.add({order:this.DEFAULT_ORDER,columnGuid:newRequiredGuid}),this.model.command.requiredColumns.get(newRequiredGuid)||this.model.command.requiredColumns.add({id:newRequiredGuid}),rowView=this.createFieldRow(this.model.command.editorValues.last()),rowView.render().appendTo(this.getSortableContainer())},render:function(){return this.$el.html()||($(BaseSortableEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseSortableEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),_.each(this.children,function(rowView){rowView.render().appendTo(this.getSortableContainer())},this),this.appendButtons(),this.setSortingOnContainer()),this},template:'\t                <div class="commandeditor-section commandeditor-section-scrolling commandeditor-section-sortable ui-sortable"></div>\t                <div class="commandeditor-section commandeditor-section-padded">\t                    <a class="add-field"><i class="icon-plus"></i> <%-_("Add sort field...").t()%></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/BaseSortable":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("shim/jquery.ui.sortable")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListPickerOverlay,undefined){var CLASS_NAME=BaseEditorView.CLASS_NAME+" commandeditor-form-sortable";return BaseEditorView.extend({moduleId:module.id,className:CLASS_NAME,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.model.command.editorValues.each(function(editorValue){this.createFieldRow(editorValue)},this)},events:$.extend({},BaseEditorView.prototype.events,{"click .add-field":function(e){e.preventDefault(),this.openFieldsPicker()}}),updateFieldOrder:function(e,ui){var idArray=this.getSortableContainer().sortable("toArray",{attribute:"order-id"}),orderId=ui.item.length&&ui.item[0].getAttribute("order-id"),newIndex=idArray.indexOf(orderId),modelToMove=this.model.command.editorValues.find(function(editorValue){return editorValue.get("orderId")===orderId},this);this.model.command.editorValues.remove(modelToMove),this.model.command.editorValues.add(modelToMove,{at:newIndex})},createFieldRow:function(editorValue){var rowView,editorValueId=this.model.command.getUniqueEditorValueId();return editorValue.set("orderId",editorValueId),rowView=this.children[editorValue.get("orderId")]=new this.FieldRowView({model:editorValue,fieldPickerItems:this.getFieldPickerItems()}),this.listenTo(rowView,"removeRow",function(options){this.removeRow(options.orderId)}),rowView},addNewRow:function(newRequiredGuid){var rowView;this.model.command.editorValues.add({columnGuid:newRequiredGuid}),this.model.command.requiredColumns.get(newRequiredGuid)||this.model.command.requiredColumns.add({
id:newRequiredGuid}),rowView=this.createFieldRow(this.model.command.editorValues.last()),rowView.render().appendTo(this.getSortableContainer())},removeRow:function(orderId){var modelToRemove=this.model.command.editorValues.find(function(editorValue){return editorValue.get("orderId")===orderId},this);1===this.model.command.editorValues.where({columnGuid:modelToRemove.get("columnGuid")}).length&&this.model.command.requiredColumns.remove({id:modelToRemove.get("columnGuid")}),this.model.command.editorValues.remove(modelToRemove),this.children[orderId].remove(),delete this.children[orderId]},openFieldsPicker:function(){var requiredValues=this.model.command.requiredColumns.pluck("id");this.children.fieldsPickerOverlay&&this.children.fieldsPickerOverlay.deactivate({deep:!0}).remove(),this.children.fieldsPickerOverlay=new ListPickerOverlay({items:this.getFieldPickerItems(),selectedValues:requiredValues,selectMessage:_("Select a field...").t(),multiselect:!1,required:!0}),this.children.fieldsPickerOverlay.render().appendTo(this.$el),this.children.fieldsPickerOverlay.slideIn(),this.listenTo(this.children.fieldsPickerOverlay,"selectionDidChange",function(){var requiredValues=this.model.command.requiredColumns.pluck("id"),newRequiredGuid=_.difference(this.children.fieldsPickerOverlay.getSelectedValues(),requiredValues)[0];this.addNewRow(newRequiredGuid)})},getSortableContainer:function(){return this.$(".commandeditor-section-sortable")},setSortingOnContainer:function(){this.getSortableContainer().sortable({axis:"y",stop:_.bind(function(e,ui){this.updateFieldOrder(e,ui)},this)})},handleApply:function(options){this.model.command.resetRequiredColumns(this.model.command.editorValues.pluck("columnGuid")),this.addNewField(),BaseEditorView.prototype.handleApply.apply(this,arguments)}},{CLASS_NAME:CLASS_NAME})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/sort/FieldRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ControlGroup,ListPickerControl){return BaseView.extend({moduleId:module.id,className:"commandeditor-group-sortable",attributes:function(){return{"order-id":this.model.get("orderId")}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ListPickerControl({listOptions:{items:this.options.fieldPickerItems,selectedValues:[this.model.get("columnGuid")],size:"small",multiselect:!1,selectMessage:_("Select a field...").t()},model:this.model,modelAttribute:"columnGuid",toggleClassName:"",placeholder:_("Select a field...").t(),className:ListPickerControl.prototype.className+" commandeditor-group-label",size:"small"}),this.children.row=new ControlGroup({controlType:"SyntheticRadio",size:"small",controlClass:"controls-fill",controlOptions:{modelAttribute:"order",model:this.model,items:[{label:_("Ascending").t(),value:"ascending"},{label:_("Descending").t(),value:"descending"}]}})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.trigger("removeRow",{orderId:this.model.get("orderId")})}},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.fieldPicker.render().appendTo(this.$el),this.children.row.render().appendTo(this.$el),this},template:'\t                <a class="commandeditor-group-remove"><i class="icon-x"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Dedup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListPicker){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-removedup",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.listPicker=new ListPicker({items:this.getFieldPickerItems(),selectedValues:this.model.command.requiredColumns.pluck("id"),multiselect:!0,multiselectMessage:_("Select fields...").t(),size:"small",required:!0})},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.children.listPicker.activate().render().appendTo(this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR)),this.appendButtons()),this},startListening:function(){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.children.listPicker,"selectionDidChange",this.handleSelectionChange)},handleSelectionChange:function(){this.model.command.resetRequiredColumns(this.children.listPicker.getSelectedValues())}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/extracttime/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/table/commandeditor/editorforms/extracttime/CustomHelp"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,ColumnModel,BaseCommandModel,BaseEditorView,ListOverlayControl,CustomHelpView,ControlGroup){var CUSTOM_LABEL=_("Custom").t();return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-extract-time",initializeEmptyRequiredColumn:!0,formatPatterns:[{label:_("2009-06-15T13:45:30").t(),value:_("%FT%T").t()},{label:_("06/15/2009").t(),value:_("%m/%e/%Y").t()},{label:_("Monday, June 15, 2009").t(),value:_("%A, %B %e, %Y").t()},{label:_("June 15").t(),value:_("%B %e").t()},{label:_("06/15/2009 01:45 PM").t(),value:_("%m/%e/%Y %I:%M %p").t()},{label:_("06/15/2009 01:45:30 PM").t(),value:_("%m/%e/%Y %I:%M:%S %p").t()},{label:_("Monday, June 15, 2009 01:45 PM").t(),value:_("%A, %B %e, %Y %I:%M %p").t()},{label:_("Monday, June 15, 2009 01:45:30 PM").t(),value:_("%A, %B %e, %Y %I:%M:%S %p").t()},{label:_("Mon June 15 13:45:30 2009").t(),value:_("%c").t()},{label:_("Mon June 15 13:45:30 PDT 2009").t(),value:_("%+").t()},{label:_("13:45:30").t(),value:_("%T").t()},{label:_("01:45:30 PM").t(),value:_("%I:%M:%S %p").t()},{label:_("01:45 PM").t(),value:_("%I:%M %p").t()},{label:CUSTOM_LABEL,value:""}],initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},label:_("Field").t(),size:"small",controlOptions:{listOptions:{items:this.getFieldPickerItems(),selectedValues:this.model.command.requiredColumns.pluck("id"),size:"small",multiselect:!1,selectMessage:_("Select a field...").t()},model:this.model.command.requiredColumns.first(),modelAttribute:"id",placeholder:_("Select a field...").t(),toggleClassName:"btn-overlay-toggle"}}),this.children.fieldNameInput=new ControlGroup({controlType:"Text",label:_("New field name").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}}),this.children.formatPicker=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},label:_("Date-time format").t(),size:"small",controlOptions:{listOptions:{items:this.formatPatterns,size:"small",multiselect:!1,selectMessage:_("Select a date-time format...").t()},model:this.model.command,modelAttribute:"formatPatternFromPicker",toggleClassName:"btn-overlay-toggle"}}),this.children.patternLabel=new ControlGroup({controlType:"Text",label:_("Pattern").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"formatPattern",updateOnKeyUp:!0}}),this.children.customHelpView=new CustomHelpView},startListening:function(){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command,"change:formatPatternFromPicker",this.handleSelectionChange)},handleSelectionChange:function(){var pickerFormat=this.model.command.get("formatPatternFromPicker");""===this.model.command.get("formatPatternFromPicker")?this.model.command.set("isCustom",!0):this.model.command.set("isCustom",!1),this.model.command.set("formatPattern",pickerFormat),this.visibility()},handleApply:function(options){this.addNewField(),BaseEditorView.prototype.handleApply.apply(this,arguments)},visibility:function(){this.model.command.get("isCustom")?(this.children.patternLabel.enable(),this.children.customHelpView.activate({deep:!0}).$el.css("display","")):(this.children.patternLabel.disable(),this.children.customHelpView.deactivate({deep:!0}).$el.css("display","none"))},render:function(){$(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_}));var $formSection=this.$(".commandeditor-section-padded");return this.children.fieldPicker.activate().render().appendTo($formSection),this.children.fieldNameInput.activate().render().appendTo($formSection),this.children.formatPicker.activate().render().appendTo($formSection),this.children.patternLabel.activate().render().appendTo($formSection),this.children.customHelpView.render().appendTo($formSection),this.appendButtons(),this.appendAdvancedEditorLink(),this.visibility(),this},template:'\t                <div class="commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/extracttime/CustomHelp":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView){return BaseView.extend({moduleId:module.id,className:"commandeditor-form-custom-help",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){var template,variableHelp=this.customHelpInfo.variables,exampleHelp=this.customHelpInfo.examples;return _.each(variableHelp,function(section){template=_.template(this.headerTemplate,{title:section.title}),this.$el.append(template),_.each(section.types,function(type){template=_.template(this.variableSectionTemplate,{format:type.format,description:type.description}),this.$el.append(template)}.bind(this))}.bind(this)),this.$el.append(_.template(this.headerTemplate,{title:_("Examples").t()})),_.each(exampleHelp,function(type){template=_.template(this.exampleSectionTemplate,{format:type.format,description:type.description}),this.$el.append(template)}.bind(this)),this},headerTemplate:"\t                <h5><%- title %></h5>\t            ",variableSectionTemplate:"\t                <dl>\t                    <dt><%- format %></dt>\t                    <dd><%- description %></dd>\t                </dl>\t            ",exampleSectionTemplate:"\t                <p>\t                    <span><%- format %></span>\t                    <br>\t                    <span><%- description %></span>\t                </p>\t            ",customHelpInfo:{variables:[{title:_("Date and time variables").t(),types:[{format:"%c",description:_("The date and time in the current locale's format as defined by the server's operating system. (Mon Jul 13 09:30:00 2015 for US English on Linux)").t()},{format:"%+",description:_("The date and time with time zone in the current locale's format as defined by the server's operating system. (Mon Jul 13 09:30:00 PDT 2015 for US English on Linux)").t()}]},{title:_("Time variables").t(),types:[{format:"%Ez",description:_("Splunk specific, timezone in minutes.").t()},{format:"%H",description:_("Hour (24-hour clock) as a decimal number, includes leading zeros. (00 to 23)").t()},{format:"%I",description:_("Hour (12-hour clock), includes leading zeros. (01-12)").t()},{format:"%k",description:_("Like %H, the hour (24-hour clock) as a decimal number; but a leading zero is replaced by a space. (0 to 23)").t()},{format:"%M",description:_("Minute as a decimal number. (00 to 59)").t()},{format:"%N",description:_("Subseconds with width. (%3N = milliseconds, %6N = microseconds, %9N = nanoseconds)").t()},{format:"%p",description:_("AM or PM.").t()},{format:"%Q",description:_("The subsecond component of 1970-01-01 00:00:00 UTC. (%3Q = milliseconds, %6Q = microseconds, %9Q = nanoseconds with values of 000-999)").t()},{format:"%S",description:_("Second as a decimal number. (00 to 60)").t()},{format:"%s",description:_("The Unix Epoch Time timestamp, or the number of seconds since the Epoch: 1970-01-01 00:00:00 +0000 (UTC). (1352395800 is Thu Nov 8 09:30:00 2012)").t()},{format:"%T",description:_("The time in 24-hour notation (%H:%M:%S).").t()},{format:"%Z",description:_("The timezone abbreviation. (EST for Eastern Time)").t()},{format:"%z",description:_("The timezone offset from UTC, in hour and minute: +hhmm or -hhmm. (-0500 for Eastern Time)").t()},{format:"%%",description:_('A literal "%" character.').t()}]},{title:_("Date variables").t(),types:[{format:"%F",description:_("Equivalent to %Y-%m-%d (the ISO 8601 date format).").t()},{format:"%x",description:_("The date in the current locale's format. (7/13/2015 for US English)").t()}]},{title:_("Day variables").t(),types:[{format:"%A",description:_("Full weekday name. (Sunday, ..., Saturday)").t()},{format:"%a",description:_("Abbreviated weekday name. (Sun, ..., Sat)").t()},{format:"%d",description:_("Day of the month as a decimal number, includes a leading zero. (01 to 31)").t()},{format:"%e",description:_("Like %d, the day of the month as a decimal number, but a leading zero is replaced by a space. (1 to 31)").t()},{format:"%j",description:_("Day of year as a decimal number, includes a leading zero. (001 to 366)").t()},{format:"%w",description:_("Weekday as a decimal number. (0 = Sunday, ..., 6 = Saturday)").t()}]},{title:_("Months variables").t(),types:[{format:"%b",description:_("Abbreviated month name. (Jan, Feb, etc.)").t()},{format:"%B",description:_("Full month name. (January, February, etc.)").t()},{format:"%m",description:_("Month as a decimal number. (01 to 12)").t()}]},{title:_("Year variables").t(),types:[{format:"%y",description:_("Year as a decimal number, without the century. (00 to 99)").t()},{format:"%Y",description:_("Year as a decimal number with century. (2012)").t()}]}],examples:[{format:"%Y-%m-%d",description:_("2012-12-31").t()},{format:"%y-%m-%d",description:_("12-12-31").t()},{format:"%b %d, %Y",description:_("Feb 11, 2008").t()},{format:"q|%d%b '%y = %Y-%m-%d|",description:_("q|23 Apr '12 = 2012-04-23|").t()}]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/RemoveFields":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/RequiredColumn"),__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Master"),__webpack_require__("views/table/modals/FieldRemovalDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,RequiredColumnModel,BaseView,BaseEditorView,ListPicker,FieldRemovalDialog){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-removefields",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.setUpListPicker()},startListening:function(){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.children.listPicker,"selectionDidChange",this.handleSelectionDidChange)},setUpListPicker:function(){this.children.listPicker=new ListPicker({items:this.getFieldPickerItems(),selectedValues:this.model.command.requiredColumns.pluck("id"),multiselect:!0,multiselectMessage:_("Select fields...").t(),selectedIcon:"x"})},handleSelectionDidChange:function(){var challengeGuids,selectedFields=this.children.listPicker.getSelectedValues(),callback=function(){this.model.command.columns.set(this.model.commandPristine.filterRemovedColumns(selectedFields)),this.model.command.requiredColumns.set(_.map(selectedFields,function(value){return{id:value}}))}.bind(this),challengeFields=this.model.table.commands.validateSubsequentCommands(selectedFields,this.model.table.getCurrentCommandIdx());challengeFields?(challengeGuids=_.pluck(challengeFields,"id"),this.children.listPicker.setSelectedValues(_.difference(selectedFields,challengeGuids)),this.children.fieldRemovalDialog&&this.children.fieldRemovalDialog.remove(),this.children.fieldRemovalDialog=new FieldRemovalDialog({fields:_.invoke(challengeFields,"get","name")}),this.children.fieldRemovalDialog.render().appendTo($("body")).show(),this.listenTo(this.children.fieldRemovalDialog,"accepted",function(){this.children.listPicker.setSelectedValues(selectedFields),callback()})):callback()},handleApply:function(options){var previousCommand=this.model.table.commands.getPreviousCommand(this.model.commandPristine);options=options||{},options.updateSPLOptions={previousCommand:previousCommand},BaseEditorView.prototype.handleApply.call(this,options)},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.appendButtons(),this.children.listPicker.render().prependTo(this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Rex":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/modals/regexbuilder/Master"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("models/datasets/commands/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnsCollection,BaseEditorView,RegexBuilderView,ControlGroup,BaseCommandModel){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-rex",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.model.command.isNew()?this.createRegexBuilderModal():this.showTableBuilder(),this.children.newFieldName=new ControlGroup({controlType:"Text",label:_("Extracted Field Name").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"newFieldName"}}),this.children.startAfterLabel=new ControlGroup({controlType:"Text",label:_("Start After...").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"regExpStarting"}}),this.children.extractLabel=new ControlGroup({controlType:"Text",label:_("Extract...").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"regExpExtraction"}}),this.children.stopBeforeLabel=new ControlGroup({controlType:"Text",label:_("Stop Before...").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"regExpStopping"}})},events:$.extend({},BaseEditorView.prototype.events,{"click .commandeditor-edit:not(.disabled)":function(){this.children.regexBuilder=new RegexBuilderView({model:{command:this.model.command,commandPristine:this.model.commandPristine,resultJsonRows:this.model.resultJsonRows,table:this.model.table,application:this.model.application,currentPointJob:this.model.currentPointJob},fieldName:this.model.command.getFieldNameFromGuid(this.model.command.requiredColumns.first().id),isEditing:!0}),this.children.regexBuilder.activate({deep:!0}).render().$el.appendTo("body")}}),startListening:function(options){this.listenTo(this.model.command,"handleApply",this.handleApply),this.listenTo(this.model.command,"commandAborted",this.handleAbort)},deactivate:function(options){return this.active?(BaseEditorView.prototype.deactivate.apply(this,arguments),this.children.regexBuilder&&this.children.regexBuilder.deactivate({deep:!0}).remove(),this.showTableBuilder(),this):BaseEditorView.prototype.deactivate.apply(this,arguments)},handleApply:function(options){this.addNewField(),this.showTableBuilder(),BaseEditorView.prototype.handleApply.apply(this,arguments)},handleAbort:function(){this.model.command.isComplete()?this.model.command.setFromCommandJSON(this.model.commandPristine.toJSON()):this.model.table.commands.remove(this.model.table.commands.last()),this.showTableBuilder()},showTableBuilder:function(){$(".table-builder").css("display","flex")},hideTableBuilder:function(){$(".table-builder").hide()},createRegexBuilderModal:function(){var selectedColumnGuid=this.model.table.selectedColumns.at(0).get("id"),fieldName=this.model.table.getCurrentCommandModel().getFieldNameFromGuid(selectedColumnGuid),requiredColumnPresent=this.model.command.requiredColumns.first()&&this.model.command.requiredColumns.first().id;requiredColumnPresent&&(this.children.regexBuilder&&this.children.regexBuilder.deactivate({deep:!0}).remove(),this.children.regexBuilder=new RegexBuilderView({model:{command:this.model.command,commandPristine:this.model.commandPristine,resultJsonRows:this.model.resultJsonRows,table:this.model.table,application:this.model.application,currentPointJob:this.model.currentPointJob},fieldName:fieldName}),this.children.regexBuilder.activate({deep:!0}).render().$el.appendTo("body"),this.hideTableBuilder())},toggleEditButton:function(){var $editButton=this.$(".commandeditor-edit");this.isError?$editButton.addClass("disabled"):$editButton.removeClass("disabled")},render:function(){var requiredColumnPresent=this.model.command.requiredColumns.first()&&this.model.command.requiredColumns.first().id;return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.about.regex")})),this.children.stopBeforeLabel.render().prependTo(this.$(".commandeditor-section-padded")),this.children.extractLabel.render().prependTo(this.$(".commandeditor-section-padded")),this.children.startAfterLabel.render().prependTo(this.$(".commandeditor-section-padded")),this.children.newFieldName.render().prependTo(this.$(".commandeditor-section-padded")),this.children.newFieldName.disable(),this.children.startAfterLabel.disable(),this.children.extractLabel.disable(),this.children.stopBeforeLabel.disable(),this.$el.append(BaseEditorView.BUTTON_EDIT),this.toggleEditButton(),this.appendAdvancedEditorLink(),requiredColumnPresent||this.$(".advanced-editor-link").addClass("disabled"),this},template:'\t                <div class="commandeditor-section-padded">\t                    <a class="external commandeditor-help-link" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/regexbuilder/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/RegexBuilder"),__webpack_require__("models/search/Job"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/Base"),__webpack_require__("views/table/modals/regexbuilder/StartAfterSection"),__webpack_require__("views/table/modals/regexbuilder/ExtractSection"),__webpack_require__("views/table/modals/regexbuilder/StopBeforeSection"),__webpack_require__("views/table/modals/regexbuilder/RegexTable"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("util/splunkd_utils"),__webpack_require__("views/table/modals/regexbuilder/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,RegexBuilderModel,JobModel,ColumnsCollection,BaseView,StartAfterSection,ExtractSection,StopBeforeSection,RegexTable,ControlGroup,FlashMessages,splunkdUtils,css){return BaseView.extend({module:module.id,className:"extract",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var regexBuilderParams={app:this.model.application.get("app"),owner:this.model.application.get("owner"),sid:this.model.currentPointJob.id,fieldName:this.options.fieldName,isEditing:this.options.isEditing},selectionObject=this.model.command.editorValues.first();this.options.isEditing||(regexBuilderParams=_.extend(regexBuilderParams,{startPosition:selectionObject.get("startPosition"),endPosition:selectionObject.get("endPosition"),fullText:selectionObject.get("fullText"),selectedText:selectionObject.get("selectedText")})),this.model.regexBuilder=new RegexBuilderModel(regexBuilderParams),this.setInitialState(),this.children.flashMessages=new FlashMessages({model:{currentPointJob:this.model.currentPointJob,command:this.model.command}}),this.regexErrorMessageId=_.uniqueId("regex-error-"),this.children.newFieldName=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"newFieldName",model:this.model.command,updateOnKeyUp:!0},label:_("New Field Name").t()})},events:{"click .cancel":function(e){e.preventDefault(),this.model.command.trigger("commandAborted"),this.deactivate({deep:!0}).remove()},"click .apply:not(.disabled)":function(e){e.preventDefault(),this.model.command.isValid(!0)&&(this.deactivate({deep:!0}).remove(),this.model.command.editorValues.reset(),this.model.command.trigger("handleApply"))}},startListening:function(options){this.listenTo(this.model.command,"change:newFieldName",this.toggleApplyButton),this.listenTo(this.model.command,"change:regExpStarting change:regExpExtraction change:regExpStopping",function(){this._waitForCurrentPointJobPrepared(this.updateRegexMatches)})},setInitialState:function(){var requiredColumn;this.options.isEditing||this.model.command.requiredColumns.length||(requiredColumn=this.model.table.commands.last().columns.findWhere({name:this.options.fieldName}),requiredColumn&&requiredColumn.id&&this.model.command.requiredColumns.add({id:requiredColumn.id}))},createRulesSections:function(rulesDict){this.children.startAfterSection=new StartAfterSection({model:{command:this.model.command},startRules:this.model.regexBuilder.getRulesObjects(rulesDict,this.model.regexBuilder.START)}),this.children.startAfterSection.activate({deep:!0}).render().$el.appendTo(this.$(".extract-sidebar")),this.children.extractSection=new ExtractSection({model:{command:this.model.command},extractRules:this.model.regexBuilder.getRulesObjects(rulesDict,this.model.regexBuilder.EXTRACT)}),this.children.extractSection.activate({deep:!0}).render().$el.appendTo(this.$(".extract-sidebar")),this.children.stopBeforeSection=new StopBeforeSection({model:{command:this.model.command},stopRules:this.model.regexBuilder.getRulesObjects(rulesDict,this.model.regexBuilder.STOP)}),this.children.stopBeforeSection.activate({deep:!0}).render().$el.appendTo(this.$(".extract-sidebar"))},createRegexTable:function(){this.children.regexTable=new RegexTable({model:{command:this.model.command,resultJsonRows:this.model.resultJsonRows,regexBuilder:this.model.regexBuilder,currentPointJob:this.model.currentPointJob},fieldName:this.options.fieldName,jobDispatchEl:this.$(".extract-table-wrapper")}),this.children.regexTable.activate({deep:!0}).render().$el.appendTo(this.$(".extract-table-wrapper"))},_waitForCurrentPointJobPrepared:function(functionToCall){this.model.currentPointJob.prepared?functionToCall.apply(this):this.listenToOnce(this.model.currentPointJob,"prepared",function(){this.model.regexBuilder.set({sid:this.model.currentPointJob.id}),functionToCall.apply(this)})},updateRegexMatches:function(){if(this.children.regexTable){var fetchDfd=this.model.regexBuilder.fetchMatchedEvents(this.model.command);this.hideTable(),this.hideNewFieldName(),this.showTableLoading(),this.children.flashMessages.flashMsgHelper.removeGeneralMessage(this.regexErrorMessageId),fetchDfd.done(_.bind(function(matches){_.isString(matches)?(this.children.flashMessages.flashMsgHelper.addGeneralMessage(this.regexErrorMessageId,{type:splunkdUtils.ERROR,html:_("No matched events.").t()}),this.hideTableLoading(),this.hideSidebarLoading(),this.disableApply()):(this.hideTableLoading(),this.showTable(),this.children.regexTable.highlightRegexMatches(matches),this.showNewFieldName(),this.toggleApplyButton())},this)),fetchDfd.fail(_.bind(function(){this.hideTableLoading(),this.hideSidebarLoading(),this.disableApply()},this))}},toggleApplyButton:function(){var hasApplicableChanges=this.model.command.isDirty(this.model.commandPristine)||!this.model.command.isComplete();this.model.command.get("newFieldName")&&hasApplicableChanges?this.enableApply():this.disableApply()},hideSidebarLoading:function(){this.$(".sidebar-loading-message").css("display","none")},showSidebarLoading:function(){this.$(".sidebar-loading-message").css("display","")},hideTableLoading:function(){this.$(".table-loading-message").css("display","none")},showTableLoading:function(){this.$(".table-loading-message").css("display","")},showTable:function(){this.children.regexTable.$el.css("display","")},hideTable:function(){this.children.regexTable.$el.css("display","none")},enableApply:function(){this.$(".btn-pill.apply").removeClass("disabled")},showNewFieldName:function(){this.children.newFieldName.$el.show()},disableApply:function(){this.$(".btn-pill.apply").addClass("disabled")},hideNewFieldName:function(){this.children.newFieldName.$el.hide()},renderRules:function(){var rulesDfd;rulesDfd=this.model.command.hasRegexRules()?this.model.regexBuilder.fetchExistingRegexRules(this.model.command):this.model.regexBuilder.fetchNewRegexRules(),this.hideNewFieldName(),rulesDfd.done(_.bind(function(rulesDict){this.hideSidebarLoading(),this.createRulesSections(rulesDict),this.createRegexTable(),this.updateRegexMatches(),this.showNewFieldName(),this.toggleApplyButton()},this)),rulesDfd.fail(_.bind(function(){this.hideTableLoading(),this.hideSidebarLoading(),this.disableApply(),this.children.flashMessages.flashMsgHelper.removeGeneralMessage(this.regexErrorMessageId),this.children.flashMessages.flashMsgHelper.addGeneralMessage(this.regexErrorMessageId,{type:splunkdUtils.ERROR,html:_("The regular expression associated with this command is invalid. Remove this command and reapply it to create a valid regular expression.").t()})},this)),this.children.flashMessages.activate({deep:!0}).render().appendTo(this.$(".flash-messages-container")),
this.children.newFieldName.activate({deep:!0}).render().$el.insertBefore(this.$(".cancel"))},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({_:_})),this.showSidebarLoading(),this._waitForCurrentPointJobPrepared(this.renderRules)),this},template:'\t                <div class="modal-backdrop extract-modal-backdrop"></div>\t                <div class="extract-sidebar">\t                    <div class="sidebar-loading-message" style="display: none"><%- _("Loading...").t() %></div>\t                </div>\t                <div class="extract-table-wrapper">\t                    <div class="flash-messages-container"></div>\t                    <div class="table-loading-message" style="display: none"><%- _("Loading...").t() %></div>\t                </div>\t                <div class="extract-form form-horizontal">\t                    <a class="btn-pill cancel"><%= _("Cancel").t() %></a>\t                    <a class="btn-pill apply"><%= _("Apply").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/regexbuilder/ExtractSection":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView){return BaseView.extend({moduleId:module.id,tagName:"ul",className:"nav menu-extraction",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.extractionRegexObjects=this.options.extractRules||[]},activate:function(options){if(this.active)return BaseView.prototype.activate.apply(this,arguments);var regexObject,selectedNum=this.model.command.get("regExpExtractionIndex");return selectedNum||(selectedNum=0,regexObject=this.extractionRegexObjects[selectedNum],this.model.command.set({regExpExtraction:regexObject.regex,regExpExtractionIndex:selectedNum})),BaseView.prototype.activate.apply(this,arguments)},events:{"click a":function(e){e.preventDefault();var $target=$(e.currentTarget),indexInObjectsArray=$target.data("index"),regexObject=this.extractionRegexObjects[indexInObjectsArray];$target.parent().addClass("selected").siblings().removeClass("selected"),this.model.command.set({regExpExtraction:regexObject.regex,regExpExtractionIndex:indexInObjectsArray})}},render:function(){var selectedNum=this.model.command.get("regExpExtractionIndex")||0;return this.$el.html(this.compiledTemplate({_:_,extractionRegexObjects:this.extractionRegexObjects})),$(this.$("li")[selectedNum+1]).addClass("selected"),this},template:'\t                <li class="text"><%= _("2. Extract...").t() %></li>\t                <% _.each(extractionRegexObjects, function(regex, index) { %>\t                    <% var label = regex.label || ""; %>\t                    <li>\t                        <a href="" data-index="<%- index %>">\t                            <i class="icon-check"></i>\t                            <%= label %>\t                        </a>\t                    </li>\t                <% }); %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/RegexBuilder":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/services/field_extractor/RegexGenerator"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,RegexGenerator,splunkUtils){var convertSpecialCharToString=function(text){var whitespaceDict={" ":_("space").t()," ":_("non-breaking space").t(),"\t":_("tab").t(),"\v":_("vertical tab").t(),"\n":_("new line").t(),"\f":_("form feed character").t(),"\r":_("character return").t(),space:_("space").t(),tab:_("tab").t(),"vertical tab":_("vertical tab").t(),"new line":_("new line").t(),"form feed character":_("form feed character").t(),"character return":_("character return").t()};return whitespaceDict[text]||text};return RegexGenerator.extend({STARTING_REGEX:"startingRegex",STOPPING_REGEX:"stoppingRegex",EXTRACTION_REGEX:"extractionRegex",RULES_NEW:"rules_new",EVENTS:"events",RULES_EXISTING:"rules_existing",EXTRACT:"extract_rules",START:"start_rules",STOP:"stop_rules",EXTRACT_RULES:{any_character_but_following_character:function(metadata){metadata=metadata||{};var followingCharacterName;if(!_.isUndefined(metadata.followCharName))return followingCharacterName=convertSpecialCharToString(metadata.followCharName),_("any character except ").t()+"<i>"+followingCharacterName+"</i>"},number_of_characters:function(metadata){metadata=metadata||{};var selectedTextLength=metadata.selectedTextLength;if(!_.isUndefined(selectedTextLength))return splunkUtils.sprintf(_("%d characters").t(),selectedTextLength)},word_characters_and_contained_irregular_characters:function(metadata){metadata=metadata||{};var containedUniqueIrregularCharacters;if(!_.isUndefined(metadata.uniqueIrregChars))return containedUniqueIrregularCharacters=convertSpecialCharToString(metadata.uniqueIrregChars),_("word characters and ").t()+"<i>"+containedUniqueIrregularCharacters+"</i>"},any_character:function(){return _("any character").t()},end_of_string:function(){return _("to end of string").t()},letters:function(){return _("letters").t()},lowercase_letters:function(){return _("lowercase letters").t()},uppercase_letters:function(){return _("uppercase letters").t()},word_characters:function(){return _("word characters (numbers, letters, underscore)").t()},numbers:function(){return _("numbers").t()}},START_RULES:{nth_character:function(metadata){metadata=metadata||{};var precedingCharacterCount,precedingCharacterName;if(!_.isUndefined(metadata.preCharCount)&&!_.isUndefined(metadata.preCharName))return precedingCharacterCount=metadata.preCharCount,precedingCharacterName=convertSpecialCharToString(metadata.preCharName),splunkUtils.sprintf(_("%d ").t(),precedingCharacterCount)+"<i>"+precedingCharacterName+"</i>"+_(" characters").t()},n_spaces_and_starting_character:function(metadata){metadata=metadata||{};var precedingSpaceCount,precedingCharacterName;if(!_.isUndefined(metadata.preSpaceCount)&&!_.isUndefined(metadata.preChar))return precedingSpaceCount=metadata.preSpaceCount,precedingCharacterName=convertSpecialCharToString(metadata.preChar),splunkUtils.sprintf(_("%d spaces and a ").t(),precedingSpaceCount)+"<i>"+precedingCharacterName+"</i>"},irregular_characters:function(metadata){metadata=metadata||{};var precedingIrregularCharacters;if(!_.isUndefined(metadata.preIrregChars))return precedingIrregularCharacters=convertSpecialCharToString(metadata.preIrregChars),_("characters ").t()+"<i>"+precedingIrregularCharacters+"</i>"},n_characters:function(metadata){metadata=metadata||{};var precedingCharacterCount;if(!_.isUndefined(metadata.preStrLength))return precedingCharacterCount=metadata.preStrLength,splunkUtils.sprintf(_("%d characters").t(),precedingCharacterCount)},any_characters:function(){return _("any character").t()},n_spaces_and_irregular_characters:function(metadata){metadata=metadata||{};var precedingSpaceCount,precedingIrregularCharactersAfterSpace;if(!_.isUndefined(metadata.preSpaceCount)&&!_.isUndefined(metadata.preIrregCharsAfterSpace))return precedingSpaceCount=metadata.preSpaceCount,precedingIrregularCharactersAfterSpace=convertSpecialCharToString(metadata.preIrregCharsAfterSpace),splunkUtils.sprintf(_("%d spaces and characters ").t(),precedingSpaceCount)+"<i>"+precedingIrregularCharactersAfterSpace+"</i>"},n_spaces_and_preceding_string:function(metadata){metadata=metadata||{};var precedingSpaceCount,precedingStringAfterSpace;if(!_.isUndefined(metadata.preSpaceCount)&&!_.isUndefined(metadata.preStrAfterSpace))return precedingSpaceCount=metadata.preSpaceCount,precedingStringAfterSpace=metadata.preStrAfterSpace,splunkUtils.sprintf(_("%d spaces and string ").t(),precedingSpaceCount)+"<i>"+precedingStringAfterSpace+"</i>"},n_spaces_and_preceding_word:function(metadata){metadata=metadata||{};var precedingSpaceCount,precedingWord;if(!_.isUndefined(metadata.preSpaceCount)&&!_.isUndefined(metadata.preWord))return precedingSpaceCount=metadata.preSpaceCount,precedingWord=metadata.preWord,splunkUtils.sprintf(_("%d spaces and word ").t(),precedingSpaceCount)+"<i>"+precedingWord+"</i>"},preceding_word:function(metadata){metadata=metadata||{};var precedingWord;if(!_.isUndefined(metadata.preWord))return precedingWord=metadata.preWord,_("word ").t()+"<i>"+precedingWord+"</i>"},preceding_string:function(metadata){metadata=metadata||{};var precedingStringAfterSpace;if(!_.isUndefined(metadata.preStrAfterSpace))return precedingStringAfterSpace=metadata.preStrAfterSpace,_("string ").t()+"<i>"+precedingStringAfterSpace+"</i>"},n_commas_and_preceding_character:function(metadata){metadata=metadata||{};var precedingCommaCount,precedingCharacterName;if(!_.isUndefined(metadata.preCommaCount)&&!_.isUndefined(metadata.preCharName))return precedingCommaCount=metadata.preCommaCount,precedingCharacterName=convertSpecialCharToString(metadata.preCharName),splunkUtils.sprintf(_("%d commas and a ").t(),precedingCommaCount)+"<i>"+precedingCharacterName+"</i>"},start_of_string:function(){return _("beginning of string").t()},field_name:function(metadata){metadata=metadata||{};var precedingFieldNamePlusPrecedingCharacter;if(!_.isUndefined(metadata.preFieldNameAndChar))return precedingFieldNamePlusPrecedingCharacter=metadata.preFieldNameAndChar,"<i>"+precedingFieldNamePlusPrecedingCharacter+"</i>"},after_literal:function(metadata){metadata=metadata||{};var literal;if(!_.isUndefined(metadata.literal))return literal=metadata.literal,"<i>"+literal+"</i>"}},STOP_RULES:{nth_character:function(metadata){metadata=metadata||{};var stoppingCharacterCount,stoppingCharacterName;if(!_.isUndefined(metadata.stopCharCount)&&!_.isUndefined(metadata.stopCharName))return stoppingCharacterCount=metadata.stopCharCount,stoppingCharacterName=convertSpecialCharToString(metadata.stopCharName),splunkUtils.sprintf(_("%d ").t(),stoppingCharacterCount)+"<i>"+stoppingCharacterName+"</i>"+_(" characters").t()},stopping_character_and_n_spaces:function(metadata){metadata=metadata||{};var stoppingCharacter,followingSpaceCount;if(!_.isUndefined(metadata.stopChar)&&!_.isUndefined(metadata.followSpaceCount))return stoppingCharacter=convertSpecialCharToString(metadata.stopChar),followingSpaceCount=metadata.followSpaceCount,_("character ").t()+"<i>"+stoppingCharacter+"</i>"+splunkUtils.sprintf(_(" and %d spaces").t(),followingSpaceCount)},irregular_characters:function(metadata){metadata=metadata||{};var followingIrregularCharacters;if(!_.isUndefined(metadata.followIrregChars))return followingIrregularCharacters=convertSpecialCharToString(metadata.followIrregChars),_("characters ").t()+"<i>"+followingIrregularCharacters+"</i>"},n_characters:function(metadata){metadata=metadata||{};var followingStringLength;if(!_.isUndefined(metadata.followStrLength))return followingStringLength=metadata.followStrLength,splunkUtils.sprintf(_("%d characters").t(),followingStringLength)},irregular_characters_and_n_spaces:function(metadata){metadata=metadata||{};var followingIrregularCharactersAfterSpace,followingSpaceCount;if(!_.isUndefined(metadata.followIrregCharsAfterSpace)&&!_.isUndefined(metadata.followSpaceCount))return followingIrregularCharactersAfterSpace=convertSpecialCharToString(metadata.followIrregCharsAfterSpace),followingSpaceCount=metadata.followSpaceCount,_("characters ").t()+"<i>"+followingIrregularCharactersAfterSpace+"</i>"+splunkUtils.sprintf(_(" and %d spaces").t(),followingSpaceCount)},following_string_and_n_spaces:function(metadata){metadata=metadata||{};var followingStringBeforeSpace,followingSpaceCount;if(!_.isUndefined(metadata.followStrBeforeSpace)&&!_.isUndefined(metadata.followSpaceCount))return followingStringBeforeSpace=metadata.followStrBeforeSpace,followingSpaceCount=metadata.followSpaceCount,_("string ").t()+"<i>"+followingStringBeforeSpace+"</i>"+splunkUtils.sprintf(_(" and %d spaces").t(),followingSpaceCount)},following_word_and_n_spaces:function(metadata){metadata=metadata||{};var followingWord,followingSpaceCount;if(!_.isUndefined(metadata.followWord)&&!_.isUndefined(metadata.followSpaceCount))return followingWord=metadata.followWord,followingSpaceCount=metadata.followSpaceCount,_("word ").t()+"<i>"+followingWord+"</i>"+splunkUtils.sprintf(_(" and %d spaces").t(),followingSpaceCount)},following_word:function(metadata){metadata=metadata||{};var followingWord;if(!_.isUndefined(metadata.followWord))return followingWord=metadata.followWord,_("word ").t()+"<i>"+followingWord+"</i>"},following_string:function(metadata){metadata=metadata||{};var followingString;if(!_.isUndefined(metadata.follStrBeforeSpace))return followingString=metadata.follStrBeforeSpace,_("string ").t()+"<i>"+followingString+"</i>"},before_literal:function(metadata){metadata=metadata||{};var literal;if(!_.isUndefined(metadata.literal))return literal=metadata.literal,"<i>"+literal+"</i>"},following_character_and_n_commas:function(metadata){metadata=metadata||{};var followingCharacterName,followingCommaCount;if(!_.isUndefined(metadata.followCharName)&&!_.isUndefined(metadata.followCommaCount))return followingCharacterName=convertSpecialCharToString(metadata.followCharName),followingCommaCount=metadata.followCommaCount,_("character ").t()+"<i>"+followingCharacterName+"</i>"+splunkUtils.sprintf(_(" and %d commas").t(),followingCommaCount)},end_of_string:function(){return _("end of string").t()},following_characters:function(metadata){metadata=metadata||{};var followingCharacterName;if(!_.isUndefined(metadata.followChars))return followingCharacterName=metadata.followChars,_("characters ").t()+"<i>"+convertSpecialCharToString(followingCharacterName)+"</i>"},any_characters:function(){return _("any character").t()}},initialize:function(){RegexGenerator.prototype.initialize.apply(this,arguments),this.verifyNecessaryAttributes()},verifyNecessaryAttributes:function(){if(!(this.get("isEditing")||_.has(this.attributes,"startPosition")&&_.has(this.attributes,"endPosition")&&_.has(this.attributes,"fullText")&&_.has(this.attributes,"selectedText")))throw new Error("Missing one or more necessary attributes")},fetchMatchedEvents:function(commandModel){var fetchData={type:this.EVENTS,regex_start:commandModel.get("regExpStarting")||"",regex_extract:commandModel.get("regExpExtraction")||"",regex_stop:commandModel.get("regExpStopping")||"",count:50};return this.fetchRegexFunctions(fetchData)},fetchNewRegexRules:function(){var fetchData={type:this.RULES_NEW,selected_text:this.get("selectedText"),start_position:this.get("startPosition"),end_position:this.get("endPosition"),field_value:this.get("fullText")};return this.fetchRegexFunctions(fetchData)},fetchExistingRegexRules:function(commandModel){var fetchData={type:this.RULES_EXISTING,regex_start:commandModel.get("regExpStarting")||"",regex_extract:commandModel.get("regExpExtraction")||"",regex_stop:commandModel.get("regExpStopping")||""};return this.fetchRegexFunctions(fetchData)},fetchRegexFunctions:function(options){var fetchData=$.extend({},options,{app:this.get("app"),owner:this.get("owner"),sid:this.get("sid"),field:this.get("fieldName")});return this.fetch({data:fetchData,type:"POST"})},getRulesObjects:function(rulesDict,rulesCategory){var rulesMap,label,regex,fetchedRulesObjects=rulesDict[rulesCategory],parsedRulesObjects=[];return rulesCategory===this.START?rulesMap=this.START_RULES:rulesCategory===this.EXTRACT?rulesMap=this.EXTRACT_RULES:rulesCategory===this.STOP&&(rulesMap=this.STOP_RULES),_.each(fetchedRulesObjects,function(ruleObject){label=this.getRuleLabel(rulesMap,ruleObject),regex=ruleObject.regex,_.isUndefined(label)||_.isUndefined(regex)||parsedRulesObjects.push({label:label,regex:regex})},this),parsedRulesObjects},getRuleLabel:function(rulesMap,ruleObject){var getRuleLabelFn=rulesMap[ruleObject.type.label];return getRuleLabelFn&&getRuleLabelFn(ruleObject.type.metadata)},validateMatch:function(match){var preHighlightRanges=match.pre_highlight_ranges,highlightRange=match.highlight_range,postHighlightRanges=match.post_highlight_ranges,eventString=match.field_value;if(!this.rangeIsValid(highlightRange))throw new Error("Invalid highlight range generated.");if(!_.isString(eventString))throw new Error("Invalid field value generated.");return _.each(preHighlightRanges,function(preHighlightRange){if(!this.rangeIsValid(preHighlightRange))throw new Error("Invalid pre-highlight range generated.")},this),_.each(postHighlightRanges,function(postHighlightRange){if(!this.rangeIsValid(postHighlightRange))throw new Error("Invalid post-highlight range generated.")},this),!0},rangeIsValid:function(array){return array&&2===array.length&&_.isNumber(array[0])&&_.isNumber(array[1])},convertSpecialCharToString:convertSpecialCharToString})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/field_extractor/RegexGenerator":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseModel,splunkdUtils){return BaseModel.extend({url:"field_extractor/generate_regex",sync:function(method,model,options){if("read"!==method)throw new Error("Sync operation not supported: "+method);options=$.extend(!0,{},options);var syncOptions=splunkdUtils.prepareSyncOptions(options,model.url);return BaseModel.prototype.sync.call(this,method,model,syncOptions)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/regexbuilder/StartAfterSection":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView){return BaseView.extend({moduleId:module.id,tagName:"ul",className:"nav menu-starting",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.startingRegexObjects=this.options.startRules||[]},activate:function(options){if(this.active)return BaseView.prototype.activate.apply(this,arguments);var regexObject,selectedNum=this.model.command.get("regExpStartingIndex");return selectedNum||(selectedNum=0,regexObject=this.startingRegexObjects[selectedNum],this.model.command.set({regExpStarting:regexObject.regex,regExpStartingIndex:selectedNum})),BaseView.prototype.activate.apply(this,arguments)},events:{"click a":function(e){e.preventDefault();var $target=$(e.currentTarget),indexInObjectsArray=$target.data("index"),regexObject=this.startingRegexObjects[indexInObjectsArray];$target.parent().addClass("selected").siblings().removeClass("selected"),this.model.command.set({regExpStarting:regexObject.regex,regExpStartingIndex:indexInObjectsArray})}},render:function(){var selectedNum=this.model.command.get("regExpStartingIndex")||0;return this.$el.html(this.compiledTemplate({_:_,startingRegexObjects:this.startingRegexObjects})),$(this.$("li")[selectedNum+1]).addClass("selected"),this},template:'\t                <li class="text"><%= _("1. Start after...").t() %></li>\t                <% _.each(startingRegexObjects, function(regex, index) { %>\t                    <% var label = regex.label || ""; %>\t                    <li>\t                        <a href="" data-index="<%- index %>">\t                            <i class="icon-check"></i>\t                            <%= label %>\t                        </a>\t                    </li>\t                <% }); %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/regexbuilder/StopBeforeSection":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView){return BaseView.extend({moduleId:module.id,tagName:"ul",className:"nav menu-stopping",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.stoppingRegexObjects=this.options.stopRules||[]},activate:function(options){if(this.active)return BaseView.prototype.activate.apply(this,arguments);var regexObject,selectedNum=this.model.command.get("regExpStoppingIndex");return selectedNum||(selectedNum=0,regexObject=this.stoppingRegexObjects[selectedNum],this.model.command.set({regExpStopping:regexObject.regex,regExpStoppingIndex:selectedNum})),BaseView.prototype.activate.apply(this,arguments)},events:{"click a":function(e){e.preventDefault();var $target=$(e.currentTarget),indexInObjectsArray=$target.data("index"),regexObject=this.stoppingRegexObjects[indexInObjectsArray];$target.parent().addClass("selected").siblings().removeClass("selected"),this.model.command.set({regExpStopping:regexObject.regex,regExpStoppingIndex:indexInObjectsArray})}},render:function(){var selectedNum=this.model.command.get("regExpStoppingIndex")||0;return this.$el.html(this.compiledTemplate({_:_,stoppingRegexObjects:this.stoppingRegexObjects})),$(this.$("li")[selectedNum+1]).addClass("selected"),this},template:'\t                <li class="text"><%= _("3. Followed by...").t() %></li>\t                <% _.each(stoppingRegexObjects, function(regex, index) { %>\t                    <% var label = regex.label || ""; %>\t                    <li>\t                        <a href="" data-index="<%- index %>">\t                            <i class="icon-check"></i>\t                            <%= label %>\t                        </a>\t                    </li>\t                <% }); %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/regexbuilder/RegexTable":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView){return BaseView.extend({moduleId:module.id,className:"table table-results",tagName:"table",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},highlightRegexMatches:function(matches){var highlightedHtml,$tbody=this.$("tbody");$tbody.html(""),_.each(matches,function(match){highlightedHtml=this.getHighlightedHtml(match),$tbody.append('<tr><td class="field-value">'+highlightedHtml+"</td></tr>")},this)},getHighlightedHtml:function(match){var html="",preHighlightRanges=match.pre_highlight_ranges,highlightRange=match.highlight_range,postHighlightRanges=match.post_highlight_ranges,eventString=match.field_value;return this.model.regexBuilder.validateMatch(match),preHighlightRanges.length?_.each(preHighlightRanges,function(preHighlightRange,i){0===i&&(html+=this.encodeFragment(eventString.slice(0,preHighlightRange[0]))),html+='<span class="starting">'+this.encodeFragment(eventString.slice(preHighlightRange[0],preHighlightRange[1]))+"</span>",html+=i<preHighlightRanges.length-1?this.encodeFragment(eventString.slice(preHighlightRange[1],preHighlightRanges[i+1][0])):this.encodeFragment(eventString.slice(preHighlightRange[1],highlightRange[0]))},this):html+=highlightRange[0]>0?'<span class="starting">'+this.encodeFragment(eventString.slice(0,highlightRange[0]))+"</span>":this.encodeFragment(eventString.slice(0,highlightRange[0])),html+='<span class="match">'+this.encodeFragment(eventString.slice(highlightRange[0],highlightRange[1]))+"</span>",postHighlightRanges.length?_.each(postHighlightRanges,function(postHighlightRange,i){0===i&&(html+=this.encodeFragment(eventString.slice(highlightRange[1],postHighlightRange[0]))),html+='<span class="stopping">'+this.encodeFragment(eventString.slice(postHighlightRange[0],postHighlightRange[1]))+"</span>",html+=i<postHighlightRanges.length-1?this.encodeFragment(eventString.slice(postHighlightRange[1],postHighlightRanges[i+1][0])):this.encodeFragment(eventString.slice(postHighlightRange[1]))},this):html+=this.encodeFragment(eventString.slice(highlightRange[1],eventString.length)),html},encodeFragment:function(fragment){return fragment.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},render:function(){return this.$el.html(this.compiledTemplate({_:_,fieldName:this.options.fieldName})),this},template:'\t                <colgroup>\t                    <col data-field="<%- fieldName %>" />\t                </colgroup>\t                <thead>\t                    <tr>\t                        <th class="field field-<%- fieldName %>" data-field="<%- fieldName %>">\t                            <%- fieldName %>\t                        </th>\t                    </tr>\t                </thead>\t                <tbody></tbody>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/regexbuilder/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1149);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"models/datasets/DataSummarySummary":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/services/search/jobs/Summary"),__webpack_require__("util/math_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,SummaryModel,mathUtil){return SummaryModel.extend({initialize:function(){SummaryModel.prototype.initialize.call(this,arguments)},extractTopResults:function(columnName){var fieldSummary=this.fields.get(columnName);if(fieldSummary){var parsedResults,count,name,percentage,totalCount=fieldSummary.get("count"),results=fieldSummary.get("modes");return parsedResults=_.map(results,function(result){return count=result.count,name=result.value,percentage=mathUtil.convertToTwoDecimalPercentage(count,totalCount),{name:name,percentage:percentage}},this)}return[]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/filtervalues/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/FilterValues"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/filtervalues/ConstraintRow"),__webpack_require__("views/table/commandeditor/editorforms/filtervalues/MatchTypeLabelRow"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseCommandModel,ColumnModel,FilterValuesModel,BaseEditorView,ConstraintView,MatchTypeLabelView,ListPickerOverlay,ControlGroup,splunkUtil){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-filter-values",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments)},events:$.extend({},BaseEditorView.prototype.events,{"click .add-filter-parameter":function(e){e.preventDefault(),this.openFieldsPicker()}}),openFieldsPicker:function(){this.children.fieldsPickerOverlay&&this.children.fieldsPickerOverlay.deactivate({deep:!0}).remove(),this.children.fieldsPickerOverlay=new ListPickerOverlay({items:this.getFieldPickerItems(),required:!1,selectMessage:_("Select a field...").t(),multiselect:!1}),this.children.fieldsPickerOverlay.render().appendTo(this.$commandSectionAdd),this.children.fieldsPickerOverlay.slideIn(),this.listenTo(this.children.fieldsPickerOverlay,"selectionDidChange",this._addRow)},_addRow:function(){var newConstraintRow,selectedColumn=this.model.commandPristine.columns.get(this.children.fieldsPickerOverlay.getSelectedValue());this.model.command.requiredColumns.get(selectedColumn.id)||this.model.command.requiredColumns.add({id:selectedColumn.id}),this.model.command.editorValues.add({columnGuid:selectedColumn.id,comparator:this.getDefaultComparator(selectedColumn)}),this.createNewMatchTypeRow(this.model.command.editorValues.length-1),newConstraintRow=this.createNewConstraintRow(this.model.command.editorValues.last()),newConstraintRow.$("input[type=text]").focus(),this.updateAdvancedEditorLink()},_renderRows:function(){_.each(this.children.constraintRows,function(row){row.deactivate({deep:!0}).remove()}),_.each(this.children.matchTypeRows,function(row){row.deactivate({deep:!0}).remove()}),this.children.constraintRows=[],this.children.matchTypeRows=[],this.model.command.editorValues.each(function(value,i){this.createNewMatchTypeRow(i),this.createNewConstraintRow(value,i)}.bind(this)),this.updateAdvancedEditorLink()},createNewConstraintRow:function(editorValue,i){var newConstraintRow=new ConstraintView({fieldPickerItems:this.getFieldPickerItems(),model:{command:this.model.command,editorValue:editorValue},index:i});return this.children.constraintRows.push(newConstraintRow),this.$sectionScrolling&&newConstraintRow.activate({deep:!0}).render().appendTo(this.$sectionScrolling),this.listenTo(newConstraintRow,"removeRow",this.handleRemove),newConstraintRow},createNewMatchTypeRow:function(i){var newMatchTypeRow;return 1===i?newMatchTypeRow=this.createMatchTypeRadio():i>1&&(newMatchTypeRow=this.createMatchTypeLabel()),newMatchTypeRow&&(this.children.matchTypeRows.push(newMatchTypeRow),this.$sectionScrolling&&newMatchTypeRow.activate({deep:!0}).render().appendTo(this.$sectionScrolling),newMatchTypeRow.$el.addClass("commandeditor-group")),newMatchTypeRow},createMatchTypeRadio:function(){var matchTypeRadio=new ControlGroup({controlType:"SyntheticRadio",size:"small",controlClass:"controls-fill",controlOptions:{model:this.model.command,modelAttribute:"filterAllValues",items:[{label:_("AND").t(),value:!0},{label:_("OR").t(),value:!1}]}});return matchTypeRadio.render().appendTo(this.$sectionScrolling),matchTypeRadio},createMatchTypeLabel:function(){var matchTypeLabel=new MatchTypeLabelView({model:this.model.command,modelAttribute:"filterAllValues",labelMap:{true:_("AND").t(),false:_("OR").t()},additionalClassNames:"filter-value-match-type-label"});return matchTypeLabel.render().appendTo(this.$sectionScrolling),matchTypeLabel},getDefaultComparator:function(column){return FilterValuesModel.getFilterItems(column.get("type")).defaultComparator},handleRemove:function(colIndex){colIndex>0&&(this.children.matchTypeRows[colIndex-1].remove(),this.children.matchTypeRows.splice(colIndex-1,1)),this.updateAdvancedEditorLink()},updateAdvancedEditorLink:function(){
this.$(BaseEditorView.ADVANCED_EDITOR_SELECTOR).remove(),this.appendAdvancedEditorLink()},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,splunkUtil:splunkUtil})),this.$sectionScrolling=this.$(".popdown-dialog-scroll-parent"),this.$commandSectionAdd=this.$(".commandeditor-section-add"),this.appendButtons(),this._renderRows(),this},template:'\t                <div class="commandeditor-section-scrolling popdown-dialog-scroll-parent"></div>\t                <div class="commandeditor-section-padded commandeditor-section-add">\t                    <a href="#" class="add-filter-parameter"><i class="icon-plus"></i> <%-_("Add condition...").t()%></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/filtervalues/ConstraintRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/commands/FilterValues"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,FilterValuesModel,BaseView,ControlGroup,ListPickerControl){return BaseView.extend({moduleId:module.id,className:"commandeditor-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ListPickerControl({listOptions:{items:this.options.fieldPickerItems,selectedValues:this.model.command.requiredColumns.pluck("id"),size:"small",multiselect:!1,selectMessage:_("Select a field...").t()},model:this.model.editorValue,modelAttribute:"columnGuid",placeholder:_("Select a field...").t(),toggleClassName:"",className:ListPickerControl.prototype.className+" commandeditor-group-label",size:"small"}),this.createFilterControl()},startListening:function(){this.listenTo(this.model.editorValue,"change:columnGuid",this.onChangeField),this.listenTo(this.model.editorValue,"change:comparator",this.setTextDisplay),this.listenTo(this.model.editorValue,"change:hasError",this.setErrorState)},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.removeRow()}},onChangeField:function(){this.children.filterControl&&this.children.filterControl.remove(),this.createFilterControl(),this.children.filterControl.render().appendTo(this.$el),this.setTextDisplay(this.model,this.model.editorValue.get("comparator")),this.model.command.resetRequiredColumns(this.model.command.editorValues.pluck("columnGuid"))},createFilterControl:function(){var filterItems=this.getFilterItems(),validCompatators=_.map(filterItems.items,function(filterItem,idx){return{label:filterItem.label,value:idx}}),currentComparator=this.model.editorValue.get("comparator");validCompatators.length&&(filterItems.items.hasOwnProperty(currentComparator)||this.model.editorValue.set("comparator",filterItems.defaultComparator),this.children.filterControl=new ControlGroup({size:"small",controlClass:"input-prepend",controls:[{type:"SyntheticSelect",model:this.model.editorValue,options:{model:this.model.editorValue,modelAttribute:"comparator",items:validCompatators,toggleClassName:"btn",size:"small",popdownOptions:{detachDialog:!0}}},{type:"Text",model:this.model.editorValue,options:{model:this.model.editorValue,modelAttribute:"filterString",size:"small",updateOnKeyUp:!0}}]}))},setErrorState:function(){this.model.editorValue.get("hasError")?this.children.filterControl&&this.children.filterControl.$el.addClass("error"):this.children.filterControl&&this.children.filterControl.$el.removeClass("error")},getFilterItems:function(){var column=this.model.command.columns.get(this.model.editorValue.get("columnGuid")),type=column&&column.get("type");return FilterValuesModel.getFilterItems(type)},setTextDisplay:function(model,value,options){var filterItems=this.getFilterItems(),filterItem=filterItems.items[value]||filterItems.items[filterItems.defaultComparator]||{},textControl=this.children.filterControl&&_(this.children.filterControl.getAllControls()).last();textControl&&(filterItem.rightSideDisabled?(textControl.disable(),textControl.$disabledInput.text("")):textControl.enable())},removeRow:function(){var colId=this.model.editorValue.get("columnGuid"),colIndex=this.model.editorValue.collection.indexOf(this.model.editorValue);1===this.model.editorValue.collection.where({columnGuid:colId}).length&&this.model.command.requiredColumns.remove(colId),this.model.editorValue.collection.remove(this.model.editorValue),this.remove(),this.trigger("removeRow",colIndex)},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.fieldPicker.render().appendTo(this.$el),this.children.filterControl&&this.children.filterControl.render().appendTo(this.$el),this.setTextDisplay(this.model,this.model.editorValue.get("comparator")),this.setErrorState(this.model.editorValue.get("hasError")),0===this.options.index&&this.$(".commandeditor-group-remove").hide(),this},template:'<a href="#" class="commandeditor-group-remove"><i class="icon-x" /></a>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/filtervalues/MatchTypeLabelRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/LabelControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,LabelControl){return LabelControl.extend({moduleId:module.id,initialize:function(){LabelControl.prototype.initialize.apply(this,arguments)},getLabel:function(value){var labelMap=this.options.labelMap,label=labelMap[value];return label||""},render:function(){var label=this.getLabel(this._value);if(this.el.innerHTML)this.$span.text(label);else{var template=_.template(this.template,{options:this.options,value:label});this.$el.html(template),this.$span=this.$("span")}var additionalClassNames=this.options.additionalClassNames;return additionalClassNames&&this.$el.addClass(additionalClassNames),this.options.tooltip&&this.$(".tooltip-text").tooltip({animation:!1,title:this.options.tooltip}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/RemoveNonNumericalValues":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,ColumnModel,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-remove-non-numerical-values",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.listPicker=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}})},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.listPicker.render().appendTo(this.$(".commandeditor-section-field")),this.appendButtons(),this.appendAdvancedEditorLink(),this},template:'\t                <div class="commandeditor-section-padded commandeditor-section-field"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/FillValues":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-fill-values",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.listPicker=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}},multiselect:!1}),this.children.defaultValue=new ControlGroup({controlType:"Text",size:"small",label:_("Default value").t(),controlClass:"controls-fill",controlOptions:{model:this.model.command,modelAttribute:"fillValue",updateOnKeyUp:!0,placeholder:"0"}}),this.children.fillType=new ControlGroup({controlType:"SyntheticRadio",size:"small",controlClass:"controls-fill",label:_("Fill type").t(),controlOptions:{modelAttribute:"fillType",model:this.model.command,items:[{label:_("Fill null").t(),value:"null"},{label:_("Fill empty").t(),value:"empty"},{label:_("Fill both").t(),value:"both"}]}})},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.$sectionField=this.$(".commandeditor-section-field"),this.children.listPicker.render().appendTo(this.$sectionField),this.children.defaultValue.render().appendTo(this.$sectionField),this.children.fillType.render().appendTo(this.$sectionField),this.appendButtons(),this.appendAdvancedEditorLink(),this},template:'\t                <div class="commandeditor-section-padded commandeditor-section-field"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Eval":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ControlGroup,TextareaControl,keyboardUtils){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-eval",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.newFieldName=new ControlGroup({controlType:"Text",size:"small",label:_("Field name").t(),controlClass:"controls-fill",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}}),this.children.evalExpressionBox=new TextareaControl({className:"eval-box",model:this.model.command,modelAttribute:"expression",size:"small"}),this.children.evalExpressionControl=new ControlGroup({controls:this.children.evalExpressionBox,label:_("Eval expression").t()})},events:$.extend({},BaseEditorView.prototype.events,{"keydown textarea":function(e){e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||e.preventDefault()},"keyup textarea":function(e){this.onInputChange(e)}}),onInputChange:function(e){var inputValue=this.children.evalExpressionBox.$("textarea").val();this.children.evalExpressionBox.setValue(inputValue,!1),e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||this.handleApply()},handleApply:function(options){var updateDeferred,previousCommand=this.model.table.commands.getPreviousCommand(this.model.commandPristine),optionsCopy=$.extend(!0,{},options,{validateFields:!0,updateSPLOptions:{previousCommand:previousCommand,applicationModel:this.model.application}});updateDeferred=this.model.command.updateSPL(optionsCopy.updateSPLOptions),$.when(updateDeferred).always(function(){this.model.command.validationError||(this.model.command.updateRequiredColumns(),this.addNewFields(),BaseEditorView.prototype.handleApply.call(this,optionsCopy))}.bind(this))},setCollidingFieldNames:function(){var newFieldName=this.model.command.get("newFieldName");this.model.commandPristine.columns.pluck("name").indexOf(newFieldName)<0&&BaseEditorView.prototype.setCollidingFieldNames.apply(this,arguments)},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.about.eval")})),this.children.evalExpressionControl.activate({deep:!0}).render().$el.prependTo(this.$(".commandeditor-section-padded")),this.children.newFieldName.activate({deep:!0}).render().$el.prependTo(this.$(".commandeditor-section-padded")),this.appendButtons(),this.model.state.get("previousJSON")&&this.appendAdvancedEditorReturnLink()),this},template:'\t                <div class="commandeditor-section-padded">\t                    <a class="external commandeditor-help-link" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/rangemap/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/rangemap/RangeRow"),__webpack_require__("views/table/commandeditor/editorforms/rangemap/FieldControls")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,RangeRowView,FieldControls){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-rangemap",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.fieldControls=new FieldControls({model:this.model,fieldPickerItems:this.getFieldPickerItems()}),this.children.rows={},this.model.command.editorValues.each(function(editorValue){this.createRangeRow(editorValue)},this)},events:$.extend({},BaseEditorView.prototype.events,{"click .add-range":function(e){e.preventDefault(),this.addNewRow()}}),startListening:function(){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command.editorValues,"change:upperLimit",this.updateLowerLimit)},createRangeRow:function(editorValue){var rowView=this.children.rows[editorValue.cid]=new RangeRowView({model:{command:{editorValue:editorValue}},value:this.model.command.getFieldNameFromGuid(editorValue.cid)});return this.listenTo(rowView,"removeRow",function(options){this.removeRow(options.cid)}),rowView},addNewRow:function(){var newRowView;this.model.command.editorValues.add({value:"",lowerLimit:this.model.command.editorValues.last().get("upperLimit")}),newRowView=this.createRangeRow(this.model.command.editorValues.last()),newRowView.activate({deep:!0}).render().appendTo(this.getRowsContainer())},removeRow:function(cid){var modelToRemove=this.model.command.editorValues.get(cid),modelToRemoveIndex=this.model.command.editorValues.indexOf(modelToRemove),previousModel=this.model.command.editorValues.at(modelToRemoveIndex-1);this.model.command.editorValues.remove(modelToRemove),this.children.rows[cid].remove(),delete this.children.rows[cid],this.updateLowerLimit(previousModel)},updateLowerLimit:function(editorValue){var changedModelIndex=this.model.command.editorValues.indexOf(editorValue),nextModel=this.model.command.editorValues.at(changedModelIndex+1);nextModel&&nextModel.set("lowerLimit",editorValue.get("upperLimit"))},getRowsContainer:function(){return this.$(".range-rows-section")},handleApply:function(options){this.addNewField(),BaseEditorView.prototype.handleApply.call(this,options)},render:function(){var rowsContainer;return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.fieldControls.render().appendTo(this.$(".field-controls-section")),rowsContainer=this.getRowsContainer(),_.each(this.children.rows,function(rowView){rowView.render().appendTo(rowsContainer)},this),this.appendButtons(this.$(".commandeditor-section-apply"))),this},template:'\t                <div class="commandeditor-section commandeditor-section-padded field-controls-section"></div>\t                <div class="commandeditor-section commandeditor-section-scrolling range-rows-section"></div>\t                <div class="commandeditor-section commandeditor-section-padded">\t                    <a class="add-range"><i class="icon-plus"></i> <%- _("Add range...").t() %></a>\t                </div>\t                <div class="commandeditor-section-apply"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/rangemap/RangeRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ControlGroup,TextControl){return BaseView.extend({moduleId:module.id,className:"rangemap-range-row commandeditor-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var controlsArray=[];this.rowIndex=this.model.command.editorValue.collection.indexOf(this.model.command.editorValue),0===this.rowIndex?controlsArray.push(new TextControl({modelAttribute:"lowerLimit",model:this.model.command.editorValue,size:"small",className:"control range-lower-limit",updateOnKeyUp:!0})):controlsArray.push(new TextControl({modelAttribute:"lowerLimit",model:this.model.command.editorValue,className:"range-text",size:"small",enabled:!1})),controlsArray.push(new ControlGroup({label:_("to").t(),controlType:"Text",size:"small",controlOptions:{modelAttribute:"upperLimit",model:this.model.command.editorValue,className:"range-upper-limit-input",updateOnKeyUp:!0},className:"range-upper-limit"})),this.children.rangeControls=new ControlGroup({label:_("Range").t(),controls:controlsArray,size:"small",className:"rangemap-ranges"}),this.children.label=new ControlGroup({controlType:"Text",label:_("Range value").t(),size:"small",controlOptions:{model:this.model.command.editorValue,modelAttribute:"value",updateOnKeyUp:!0}})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.trigger("removeRow",{cid:this.model.command.editorValue.cid})}},render:function(){return 0!==this.rowIndex&&this.$el.append('<a class="commandeditor-group-remove"><i class="icon-x"></i></a>'),this.children.rangeControls.render().appendTo(this.$el),this.children.label.render().appendTo(this.$el),this.$el.attr("id",this.model.command.editorValue.id),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/rangemap/FieldControls":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ControlGroup,ListOverlayControl){return BaseView.extend({moduleId:module.id,className:"rangemap-field-controls",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},label:_("Based on values of").t(),size:"small",controlOptions:{model:this.model.command.requiredColumns.at(0),modelAttribute:"id",placeholder:_("Select a field...").t(),listOptions:{items:this.options.fieldPickerItems,selectedValues:this.model.command.requiredColumns.pluck("id"),selectMessage:_("Select a field...").t()},toggleClassName:"btn-overlay-toggle"}}),this.children.newValue=new ControlGroup({controlType:"Text",label:_("New range field name").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}}),this.children.defaultValue=new ControlGroup({controlType:"Text",label:_("Default value").t(),size:"small",controlOptions:{model:this.model.command,modelAttribute:"defaultValue",updateOnKeyUp:!0}})},render:function(){return this.children.fieldPicker.render().appendTo(this.$el),this.children.newValue.render().appendTo(this.$el),this.children.defaultValue.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Search":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,TextareaControl,keyboardUtils){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-search",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.searchBox=new TextareaControl({className:"search-box",model:this.model.command,modelAttribute:"expression",size:"small",placeholder:_("enter search...").t()})},events:$.extend({},BaseEditorView.prototype.events,{"keydown textarea":function(e){e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||e.preventDefault()},"keyup textarea":function(e){this.onInputChange(e)}}),onInputChange:function(e){var inputValue=this.children.searchBox.$("textarea").val();this.children.searchBox.setValue(inputValue,!1)},handleApply:function(options){var updateDeferred=this.model.command.updateSPL({applicationModel:this.model.application});$.when(updateDeferred).always(function(){this.model.command.validationError||(this.model.command.updateRequiredColumns(),BaseEditorView.prototype.handleApply.call(this,options))}.bind(this))},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.datasets.search")})),this.children.searchBox.activate({deep:!0}).render().$el.prependTo(this.$(".commandeditor-section-padded")),this.appendButtons(),this.model.state.get("previousJSON")&&this.appendAdvancedEditorReturnLink()),this},template:'\t                <div class="commandeditor-section-padded">\t                    <ul class="search-help">\t                        <li>\t                            <%- _("Filter one or more fields by entering").t() %>\t                            <span class="mono-space"><%- _("field=value").t() %>.</span>\t                        </li>\t                        <li>\t                            <%- _("Use wildcards to filter fields that contain, start with, or end with certain text by entering").t() %>\t                            <span class="mono-space"><%- _("field=*value*").t() %>.</span>\t                        </li>\t                        <li>\t                            <%- _("Filter numerical fields with >, >=, etc.").t() %>\t                        </li>\t                        <li>\t                            <%- _("Entered keywords will only match with the _raw field.").t() %>\t                        </li>\t                        <li>\t                            <%- _("Add the OR operator to match the left or right side of the expression").t() %>\t                        </li>\t                        <li>\t                            <%- _("Use parentheses ( ) to create logical groups for use with OR.").t() %>\t                        </li>\t                    </ul>\t                    <a class="external" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/concatenate/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/editorforms/BaseSortable"),__webpack_require__("views/table/commandeditor/editorforms/concatenate/ConcatenateRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,BaseCommandModel,ControlGroup,BaseSortableEditorView,ConcatenateRowView){return BaseSortableEditorView.extend({moduleId:module.id,className:BaseSortableEditorView.CLASS_NAME+" commandeditor-form-concatenate",FieldRowView:ConcatenateRowView,initialize:function(){BaseSortableEditorView.prototype.initialize.apply(this,arguments),this.children.fieldName=new ControlGroup({controlType:"Text",size:"small",label:_("New field name").t(),controlClass:"controls-fill",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}})},events:$.extend({},BaseSortableEditorView.prototype.events,{"click .add-string":function(e){e.preventDefault();var rowView;this.model.command.editorValues.add({text:""}),rowView=this.createFieldRow(this.model.command.editorValues.last()),rowView.render().appendTo(this.getSortableContainer())}}),render:function(){return this.$el.html()||($(BaseSortableEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseSortableEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.fieldName.render().appendTo(this.$(".commandeditor-section-field-name")),_.each(this.children,function(rowView){rowView.model&&rowView.render().appendTo(this.getSortableContainer())},this),this.appendButtons(),this.appendAdvancedEditorLink(),this.setSortingOnContainer()),this},template:'\t                <div class="commandeditor-section commandeditor-section-padded commandeditor-section-field-name"></div>\t                <div class="commandeditor-section commandeditor-section-scrolling commandeditor-section-sortable ui-sortable"></div>\t                <div class="commandeditor-section commandeditor-section-padded">\t                    <div>\t                        <a class="add-field">\t                            <i class="icon-plus"></i>\t                            <%- _("Add field...").t()%>\t                        </a>\t                    </div>\t                    <div>\t                        <a class="add-string">\t                            <i class="icon-plus"></i>\t                            <%- _("Add string...").t()%>\t                        </a>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/concatenate/ConcatenateRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,TextControl,ListPickerControl){return BaseView.extend({moduleId:module.id,className:"commandeditor-group-sortable",attributes:function(){return{"order-id":this.model.get("orderId")}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),_.isUndefined(this.model.get("text"))?this.children.fieldPicker=new ListPickerControl({listOptions:{items:this.options.fieldPickerItems,selectedValues:[this.model.get("columnGuid")],size:"small",multiselect:!1,selectMessage:_("Select a field...").t()},model:this.model,modelAttribute:"columnGuid",toggleClassName:"",placeholder:_("Select a field...").t(),className:ListPickerControl.prototype.className+" commandeditor-group-label",size:"small"}):this.children.concatenateString=new TextControl({model:this.model,modelAttribute:"text",updateOnKeyUp:!0,placeholder:_("insert string...").t(),trimLeadingSpace:!1,trimTrailingSpace:!1,additionalClassNames:"concatenate-string"})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.trigger("removeRow",{orderId:this.model.get("orderId")})}},render:function(){return this.$el.html(this.compiledTemplate()),this.children.fieldPicker?this.children.fieldPicker.render().appendTo(this.$el):this.children.concatenateString.render().appendTo(this.$el),this},template:'\t                <a class="commandeditor-group-remove"><i class="icon-x"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Duplicate":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,ColumnModel,BaseEditorView,ListOverlayControl,ControlGroup){
return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-duplicate",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.field=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}},multiselect:!1}),this.children.newFieldName=new ControlGroup({label:_("New name").t(),controlType:"Text",size:"small",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}})},handleApply:function(options){var requiredColumnId=this.model.command.requiredColumns.first()&&this.model.command.requiredColumns.first().id,requiredColumnInCollection=this.model.command.columns.get(requiredColumnId),columnType=requiredColumnInCollection&&requiredColumnInCollection.get("type");columnType===ColumnModel.TYPES._RAW?columnType=ColumnModel.TYPES.STRING:columnType===ColumnModel.TYPES._TIME&&(columnType=ColumnModel.TYPES.EPOCH_TIME),this.addNewField({type:columnType}),BaseEditorView.prototype.handleApply.call(this,options)},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.template),this.appendButtons(),this.appendAdvancedEditorLink(),this.children.field.render().appendTo(this.$(".commandeditor-section-padded")),this.children.newFieldName.render().appendTo(this.$(".commandeditor-section-padded"))),this},template:'\t                <div class="commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/stats/AggregatesContainer"),__webpack_require__("views/table/commandeditor/editorforms/stats/RowCount"),__webpack_require__("views/table/commandeditor/editorforms/stats/SplitByContainer"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnModel,BaseEditorView,AggregatesContainerView,RowCountView,SplitByContainerView,splunkUtils){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-stats",initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.aggregatesContainer=new AggregatesContainerView({model:{command:this.model.command,commandPristine:this.model.commandPristine},fieldPickerItems:this.getFieldPickerItems()}),this.children.rowCount=new RowCountView({model:{command:this.model.command,commandPristine:this.model.commandPristine}}),this.children.splitByContainer=new SplitByContainerView({model:{command:this.model.command,commandPristine:this.model.commandPristine},fieldPickerItems:this.getFieldPickerItems()})},startListening:function(options){BaseEditorView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command,"functionsChange",this.updateButtonStates),this.listenTo(this.model.command,"aggregatesChange editorValuesChange",function(){this.model.command.updateRequiredColumns()})},handleApply:function(options){var currentColumnsClone=this.model.commandPristine.columns.clone(),previousCommand=this.model.table.commands.getPreviousCommand(this.model.commandPristine);options=$.extend(!0,{},options,{updateSPLOptions:{previousCommand:previousCommand}}),this.model.command.columns.reset(),this.addColumnsFromEditorValues(currentColumnsClone),this.addColumnsFromAggregates(currentColumnsClone),this.addRowCountColumn(currentColumnsClone),BaseEditorView.prototype.handleApply.call(this,options)},addColumnsFromEditorValues:function(currentColumnsClone){var previousCommand=this.model.table.commands.getPreviousCommand(this.model.commandPristine);this.model.command.editorValues.each(function(splitBy){var idToUse,columnGuidForSplitBy=splitBy.get("columnGuid"),columnName=this.model.commandPristine.getPreviousCommandFieldNameFromGuid(columnGuidForSplitBy),existingColumnInCollection=currentColumnsClone.findWhere({name:columnName}),existingColumnInPreviousColumnCollection=previousCommand.columns.findWhere({name:columnName});this.model.commandPristine.isComplete()&&existingColumnInCollection&&(idToUse=existingColumnInCollection.id),this.model.command.columns.add({id:idToUse,name:columnName,type:existingColumnInPreviousColumnCollection.get("type"),originatingColumnGuid:columnGuidForSplitBy})},this)},addColumnsFromAggregates:function(currentColumnsClone){this.model.command.aggregates.each(function(aggregate){var columnGuidForAggregate=aggregate.get("columnGuid");aggregate.functions.each(function(func){var idToUse,columnName=this.model.commandPristine.getFunctionDisplayName({func:func.get("value"),columnGuid:columnGuidForAggregate}),existingColumnInCollection=currentColumnsClone.findWhere({name:columnName});this.model.commandPristine.isComplete()&&existingColumnInCollection&&(idToUse=existingColumnInCollection.id),this.model.command.columns.add({id:idToUse,name:columnName,type:ColumnModel.TYPES.NUMBER,func:func.get("value"),originatingColumnGuid:columnGuidForAggregate})},this)},this)},addRowCountColumn:function(currentColumnsClone){var countColumn,idToUse;splunkUtils.normalizeBoolean(this.model.command.get("rowCount"))&&(countColumn=currentColumnsClone.findWhere({name:"count"}),this.model.commandPristine.isComplete()&&countColumn&&(idToUse=countColumn.get("id")),this.model.command.columns.add({id:idToUse,name:"count",type:ColumnModel.TYPES.NUMBER}))},render:function(){if(!this.$el.html()){$(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.about.stats")}));var scrollingDiv=this.$(".commandeditor-section-scrolling");this.children.splitByContainer.activate({deep:!0}).render().prependTo(scrollingDiv),this.children.rowCount.activate({deep:!0}).render().prependTo(scrollingDiv),this.children.aggregatesContainer.activate({deep:!0}).render().prependTo(scrollingDiv),this.appendButtons()}return this},template:'\t                <a class="external commandeditor-help-link" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/AggregatesContainer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/editorforms/stats/AggregateControl"),__webpack_require__("views/table/commandeditor/listpicker/Overlay")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,AggregateControlView,ListPickerOverlay){return BaseView.extend({moduleId:module.id,className:"aggregates-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.aggregateControls={},this.model.command.aggregates.each(function(aggregate){this.createAggregateControl(aggregate)},this)},events:{"click .add-aggregate-field":function(e){e.preventDefault(),this.openFieldPicker()}},openFieldPicker:function(){this.children.fieldPickerOverlay&&this.children.fieldPickerOverlay.deactivate({deep:!0}).remove(),this.children.fieldPickerOverlay=new ListPickerOverlay({items:this.options.fieldPickerItems,selectMessage:_("Select a field...").t(),selectedValues:this.model.command.aggregates.pluck("columnGuid"),multiselect:!1,required:!0}),this.children.fieldPickerOverlay.render().appendTo(this.$el),this.children.fieldPickerOverlay.slideIn(),this.listenTo(this.children.fieldPickerOverlay,"selectionDidChange",function(){var newAggregateControl,addedAggregate,columnGuids=this.model.command.aggregates.pluck("columnGuid"),newColumnGuid=_.difference(this.children.fieldPickerOverlay.getSelectedValues(),columnGuids)[0];this.model.command.aggregates.add({columnGuid:newColumnGuid}),addedAggregate=this.model.command.aggregates.last(),newAggregateControl=this.createAggregateControl(addedAggregate),newAggregateControl.activate({deep:!0}).render().insertBefore(this.$(".add-field-container")),newAggregateControl.openFunctionsPicker()})},createAggregateControl:function(aggregate){var aggregateControl=new AggregateControlView({model:{command:this.model.command,commandPristine:this.model.commandPristine,aggregate:aggregate},fieldPickerItems:this.options.fieldPickerItems});return this.children.aggregateControls[aggregateControl.cid]=aggregateControl,this.listenTo(aggregateControl,"removeAggregate",function(view){this.model.command.aggregates.remove(view.model.aggregate),view.deactivate({deep:!0}).remove(),delete this.children.aggregateControls[view.cid]}),this.listenTo(aggregate.functions,"add remove reset change",function(){this.model.command.trigger("functionsChange")}),aggregateControl},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({_:_})),_.each(this.children.aggregateControls,function(aggregateControlView){aggregateControlView.activate({deep:!0}).render().insertBefore(this.$(".add-field-container"))},this)),this},template:'\t                <div class="commandeditor-section-padded add-field-container">\t                    <a href="#" class="add-aggregate-field">\t                        <i class="icon-plus"></i>\t                        <%- _("Add a field to aggregate...").t() %>\t                    </a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/AggregateControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/editorforms/stats/FunctionsControl"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,FunctionsControlView,ControlGroup,ListOverlayControl){return BaseView.extend({moduleId:module.id,className:"commandeditor-section-padded aggregate-control",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldControl=new ControlGroup({label:_("Aggregate field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.aggregate,modelAttribute:"columnGuid",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.options.fieldPickerItems,selectMessage:_("Select a field...").t(),selectedValues:this.model.command.aggregates.pluck("columnGuid")}}}),this.children.functionsControl=new FunctionsControlView({model:{command:this.model.command,commandPristine:this.model.commandPristine,aggregate:this.model.aggregate}})},startListening:function(options){this.listenTo(this.model.aggregate,"change:columnGuid",function(){this.model.aggregate.functions.reset()})},openFunctionsPicker:function(){this.children.functionsControl&&this.children.functionsControl.openFunctionsPicker()},events:{"click .delete-aggregate-control":function(e){e.preventDefault(),this.trigger("removeAggregate",this)}},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({})),this.children.fieldControl.activate({deep:!0}).render().appendTo(this.$el),this.children.functionsControl.activate({deep:!0}).render().appendTo(this.$el)),this},template:'\t                <a class="delete-aggregate-control commandeditor-group-remove">\t                    <i class="icon-x"></i>\t                </a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/FunctionsControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/listpicker/Overlay")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,ListPickerOverlay){return BaseView.extend({moduleId:module.id,className:"functions-control",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.aggregate.functions,"add remove change reset",this.debouncedRender)},events:{"click .add-functions, .edit-functions":function(e){e.preventDefault(),this.openFunctionsPicker()}},openFunctionsPicker:function(){this.children.functionsPickerOverlay&&this.children.functionsPickerOverlay.deactivate({deep:!0}).remove(),this.children.functionsPickerOverlay=new ListPickerOverlay({items:this.model.commandPristine.getFunctionListPickerItems({columnGuid:this.model.aggregate.get("columnGuid")}),selectedValues:this.model.aggregate.functions.pluck("value"),multiselectMessage:_("Select functions...").t(),multiselect:!0}),this.children.functionsPickerOverlay.render().appendTo(this.$el.closest(".overlay-parent")),this.children.functionsPickerOverlay.slideIn(),this.listenTo(this.children.functionsPickerOverlay,"selectionDidChange",function(){var selectedValues=this.children.functionsPickerOverlay.getSelectedValues();this.model.aggregate.functions.reset(),_.each(selectedValues,function(selectedValue){this.model.aggregate.functions.add({value:selectedValue})},this)})},render:function(){return this.$el.html(this.compiledTemplate({commandPristine:this.model.commandPristine,functions:this.model.aggregate.functions,columnGuid:this.model.aggregate.get("columnGuid")})),this},template:'\t                <% if (functions.length) { %>\t                    <% functions.each(function(func) { %>\t                        <div class="function">\t                            <%= commandPristine.getFunctionDisplayName({ func: func.get("value"), columnGuid: columnGuid }) %>\t                        </div>\t                    <% }, this) %>\t                    <div class="change-functions-container">\t                        <a href="#" class="edit-functions">\t                            <i class="icon-plus"></i>\t                            <%- _("Edit functions...").t() %>\t                        </a>\t                    </div>\t                <% } else { %>\t                    <a href="#" class="add-functions">\t                        <i class="icon-plus"></i>\t                        <%- _("Add functions...").t() %>\t                    </a>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/RowCount":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,splunkUtils){return BaseView.extend({moduleId:module.id,className:"commandeditor-section-padded row-count-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click .add-row-count":function(e){e.preventDefault(),this.model.command.set("rowCount",!0),this.render()},"click .delete-row-count":function(e){e.preventDefault(),this.model.command.set("rowCount",!1),this.render()}},render:function(){return this.$el.html(this.compiledTemplate({rowCountEnabled:splunkUtils.normalizeBoolean(this.model.command.get("rowCount"))})),this},template:'\t                <% if (rowCountEnabled) { %>\t                    <div class="row-count-label"><%- _("Row count").t() %></div>\t                    <div class="row-count-field">count</div>\t                    <a class="delete-row-count commandeditor-group-remove">\t                        <i class="icon-x"></i>\t                    </a>\t                <% } else { %>\t                    <a href="#" class="add-row-count">\t                    <i class="icon-plus"></i>\t                        <%- _("Add row count...").t() %>\t                    </a>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/SplitByContainer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/editorforms/stats/SplitByRow"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("shim/jquery.ui.sortable")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,SplitByRowView,ListPickerOverlay,undefined){return BaseView.extend({moduleId:module.id,className:"split-by-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.splitByRows={},this.model.command.editorValues.each(function(splitBy){this.createSplitByRow(splitBy)},this)},events:{"click .add-split-by-field":function(e){e.preventDefault(),this.openFieldPicker()}},openFieldPicker:function(){this.children.fieldPickerOverlay&&this.children.fieldPickerOverlay.deactivate({deep:!0}).remove(),this.children.fieldPickerOverlay=new ListPickerOverlay({items:this.options.fieldPickerItems,selectMessage:_("Select a field...").t(),selectedValues:this.model.command.editorValues.pluck("columnGuid"),multiselect:!1,required:!0}),this.children.fieldPickerOverlay.render().appendTo(this.$el),this.children.fieldPickerOverlay.slideIn(),this.listenTo(this.children.fieldPickerOverlay,"selectionDidChange",function(){var columnGuids=this.model.command.editorValues.pluck("columnGuid"),newColumnGuid=_.difference(this.children.fieldPickerOverlay.getSelectedValues(),columnGuids)[0];this.model.command.editorValues.add({columnGuid:newColumnGuid});var newSplitByRow=this.createSplitByRow(this.model.command.editorValues.last());newSplitByRow.activate({deep:!0}).render().appendTo(this.$(".split-by-rows-container"))})},createSplitByRow:function(splitBy){var splitByRow=new SplitByRowView({model:{command:this.model.command,commandPristine:this.model.commandPristine,splitBy:splitBy},fieldPickerItems:this.options.fieldPickerItems});return this.children.splitByRows[splitByRow.cid]=splitByRow,this.listenTo(splitByRow,"removeSplitBy",function(view){this.model.command.editorValues.remove(view.model.splitBy),view.deactivate({deep:!0}).remove(),delete this.children.splitByRows[view.cid]}),splitByRow},setSortingOnContainer:function(){this.$(".split-by-rows-container").sortable({axis:"y",stop:_.bind(function(e,ui){this.updateFieldOrder(e,ui)},this)})},updateFieldOrder:function(e,ui){var idArray=this.$(".split-by-rows-container").sortable("toArray"),guid=ui.item.length>0&&ui.item[0].id,newIndex=idArray.indexOf(guid),modelToMove=this.model.command.editorValues.findWhere({columnGuid:guid});this.model.command.editorValues.remove(modelToMove),this.model.command.editorValues.add(modelToMove,{at:newIndex})},render:function(){var splitByRowGuid,splitByRows=this.children.splitByRows;if(!this.$el.html()){this.$el.html(this.compiledTemplate({_:_}));for(splitByRowGuid in splitByRows)splitByRows.hasOwnProperty(splitByRowGuid)&&splitByRows[splitByRowGuid].activate({deep:!0}).render().appendTo(this.$(".split-by-rows-container"));this.setSortingOnContainer()}return this},template:'\t                <div class="split-by-rows-container commandeditor-section-sortable"></div>\t                <div class="commandeditor-section-padded add-split-by-container">\t                    <a href="#" class="add-split-by-field">\t                        <i class="icon-plus"></i>\t                        <%- _("Add a split by field...").t() %>\t                    </a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/stats/SplitByRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ListOverlayControl){return BaseView.extend({moduleId:module.id,className:"commandeditor-group-sortable split-by-row",attributes:function(){return{id:this.model.splitBy.get("columnGuid")}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldControl=new ListOverlayControl({listOptions:{items:this.options.fieldPickerItems,selectMessage:_("Select a field...").t(),selectedValues:[this.model.splitBy.get("columnGuid")],size:"small",required:!0},model:this.model.splitBy,modelAttribute:"columnGuid",placeholder:_("Select a field...").t(),toggleClassName:"",className:ListOverlayControl.prototype.className+" commandeditor-group-label split-by-control",size:"small"})},events:{"click .delete-split-by-row":function(e){e.preventDefault(),this.trigger("removeSplitBy",this)}},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this.children.fieldControl.render().appendTo(this.$el),this},template:'\t                <a class="delete-split-by-row commandeditor-group-remove">\t                    <i class="icon-x"></i>\t                </a>\t                <span class="split-label"><%- _("Split by").t() %></span>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/ChangeCase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-changecase",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},label:_("Field").t(),size:"small",controlOptions:{model:this.model.command.requiredColumns.at(0),modelAttribute:"id",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectedValues:this.model.command.requiredColumns.pluck("id"),selectMessage:_("Select a field...").t()},toggleClassName:"btn-overlay-toggle"}}),this.children.caseRadio=new ControlGroup({controlType:"SyntheticRadio",size:"small",controlClass:"controls-fill",label:_("Case").t(),controlOptions:{modelAttribute:"toUpper",model:this.model.command,items:[{label:_("abc").t(),value:!1},{label:_("ABC").t(),value:!0}]}})},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.template),this.children.fieldPicker.render().appendTo(this.$(".commandeditor-section")),this.children.caseRadio.render().appendTo(this.$(".commandeditor-section")),this.appendButtons(),this.appendAdvancedEditorLink()),this},template:'<div class="commandeditor-section commandeditor-section-padded"> </div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/FilterRegex":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListOverlayControl,TextareaControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-filter-regex",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.field=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}}),this.children.regexBox=new TextareaControl({model:this.model.command,modelAttribute:"regex",size:"small",className:"regex-box",placeholder:_("enter regular expression...").t()}),this.children.regexControl=new ControlGroup({controlType:"Textarea",label:_("Regular expression").t(),size:"small",controls:this.children.regexBox})},events:$.extend({},BaseEditorView.prototype.events,{"keyup textarea":function(e){this.onInputChange(e)}}),onInputChange:function(e){var inputValue=this.children.regexBox.$("textarea").val();this.children.regexBox.setValue(inputValue,!1)},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.about.regex")})),this.appendButtons(),this.children.field.render().appendTo(this.$(".controls-section")),this.children.regexControl.render().appendTo(this.$(".controls-section"))),this},template:'\t                <div class="commandeditor-section-padded controls-section"></div>\t                    <div class="commandeditor-section-padded">\t                    <h5><%= _("Character types").t() %></h5>\t                    <dl>\t                        <dt>\\w</dt>\t                        <dd><%= _("Match a word character (a letter, number, or underscore character).").t() %></dd>\t                        <dt>\\W</dt>\t                        <dd><%= _("Match a non-word character.").t() %></dd>\t                        <dt>\\d</dt>\t                        <dd><%= _("Match a digit character.").t() %></dd>\t                        <dt>\\D</dt>\t                        <dd><%= _("Match a non-digit character.").t() %></dd>\t                        <dt>\\s</dt>\t                        <dd><%= _("Match a whitespace character.").t() %></dd>\t                        <dt>\\S</dt>\t                        <dd><%= _("Match a non-whitespace character.").t() %></dd>\t                        <dt>.</dt>\t                        <dd><%= _("Match any character. Use sparingly.").t() %></dd>\t                    </dl>\t                    <h5><%= _("Groups, quantifiers, and alternation").t() %></h5>\t                    <dl>\t                        <dt>*</dt>\t                        <dd><%= _("Match zero or more times.").t() %></dd>\t                        <dt>+</dt>\t                        <dd><%= _("Match one or more times.").t() %></dd>\t                        <dt>?</dt>\t                        <dd><%= _("Match zero or one time.").t() %></dd>\t                        <dt>( )</dt>\t                        <dd><%= _("Parentheses define match groups, atomic groups, and lookarounds.").t() %></dd>\t                        <dt>[ ]</dt>\t                        <dd><%= _("Square brackets define character classes.").t() %></dd>\t                        <dt>{ }</dt>\t                        <dd><%= _("Curly brackets define repetitions").t() %></dd>\t                        <dt>[[ ]]</dt>\t                        <dd><%= _("Double brackets define Splunk-Enterprise-specific modular regular expressions.").t() %></dd>\t                    </dl>\t                    <a class="external commandeditor-help-link" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/AdvancedRex":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListOverlayControl,TextareaControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-advanced-rex",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.field=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}}),this.children.regexBox=new TextareaControl({model:this.model.command,modelAttribute:"regex",size:"small",className:"regex-box",placeholder:_("enter regular expression...").t()}),this.children.regexControl=new ControlGroup({controlType:"Textarea",label:_("Regular expression").t(),size:"small",controls:this.children.regexBox}),this.children.maxMatch=new ControlGroup({label:_("Max match").t(),controlType:"Spinner",size:"small",controlOptions:{model:this.model.command,modelAttribute:"maxMatch",min:0,step:1,placeholder:1,integerOnly:!0,updateOnKeyUp:!0}})},events:$.extend({},BaseEditorView.prototype.events,{"keyup textarea":function(e){
this.onInputChange(e)}}),onInputChange:function(e){var inputValue=this.children.regexBox.$("textarea").val();this.children.regexBox.setValue(inputValue,!1)},handleApply:function(options){var updateDeferred=this.model.command.updateSPL({applicationModel:this.model.application}),optionsCopy=$.extend(!0,{},options,{validateFields:!0});$.when(updateDeferred).always(function(){this.model.command.validationError||(this.addNewFields(),BaseEditorView.prototype.handleApply.call(this,optionsCopy))}.bind(this))},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_,helpLink:this.getHelpLink("learnmore.about.regex")})),this.appendButtons(),this.model.state.get("previousJSON")&&this.appendAdvancedEditorReturnLink(),this.children.field.render().appendTo(this.$(".controls-section")),this.children.regexControl.render().appendTo(this.$(".controls-section")),this.children.maxMatch.render().appendTo(this.$(".controls-section"))),this},template:'\t                <div class="commandeditor-section-padded controls-section"></div>\t                    <div class="commandeditor-section-padded">\t                    <h5><%= _("Character types").t() %></h5>\t                    <dl>\t                        <dt>\\w</dt>\t                        <dd><%= _("Match a word character (a letter, number, or underscore character).").t() %></dd>\t                        <dt>\\W</dt>\t                        <dd><%= _("Match a non-word character.").t() %></dd>\t                        <dt>\\d</dt>\t                        <dd><%= _("Match a digit character.").t() %></dd>\t                        <dt>\\D</dt>\t                        <dd><%= _("Match a non-digit character.").t() %></dd>\t                        <dt>\\s</dt>\t                        <dd><%= _("Match a whitespace character.").t() %></dd>\t                        <dt>\\S</dt>\t                        <dd><%= _("Match a non-whitespace character.").t() %></dd>\t                        <dt>.</dt>\t                        <dd><%= _("Match any character. Use sparingly.").t() %></dd>\t                    </dl>\t                    <h5><%= _("Groups, quantifiers, and alternation").t() %></h5>\t                    <dl>\t                        <dt>*</dt>\t                        <dd><%= _("Match zero or more times.").t() %></dd>\t                        <dt>+</dt>\t                        <dd><%= _("Match one or more times.").t() %></dd>\t                        <dt>?</dt>\t                        <dd><%= _("Match zero or one time.").t() %></dd>\t                        <dt>( )</dt>\t                        <dd><%= _("Parentheses define match groups, atomic groups, and lookarounds.").t() %></dd>\t                        <dt>[ ]</dt>\t                        <dd><%= _("Square brackets define character classes.").t() %></dd>\t                        <dt>{ }</dt>\t                        <dd><%= _("Curly brackets define repetitions").t() %></dd>\t                        <dt>[[ ]]</dt>\t                        <dd><%= _("Double brackets define Splunk-Enterprise-specific modular regular expressions.").t() %></dd>\t                    </dl>\t                    <a class="external commandeditor-help-link" target="_blank" href=<%- helpLink %>><%- _("Learn more").t() %></a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Table":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("routers/Base"),__webpack_require__("models/Base"),__webpack_require__("models/classicurl"),__webpack_require__("models/datasets/Table"),__webpack_require__("models/datasets/TableAST"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("models/datasets/DataSummarySearchJob"),__webpack_require__("models/datasets/PolymorphicDataset"),__webpack_require__("models/search/Job"),__webpack_require__("models/shared/TimeRange"),__webpack_require__("models/shared/fetchdata/ResultsFetchData"),__webpack_require__("models/services/search/jobs/ResultJsonRows"),__webpack_require__("models/datasets/DataSummaryResultJsonRows"),__webpack_require__("models/services/search/jobs/Summary"),__webpack_require__("models/datasets/DataSummarySummary"),__webpack_require__("models/services/search/jobs/Timeline"),__webpack_require__("models/services/data/ui/Pref"),__webpack_require__("collections/services/authorization/Roles"),__webpack_require__("collections/services/data/ui/Times"),__webpack_require__("collections/services/configs/SearchBNFs"),__webpack_require__("views/table/Master"),__webpack_require__("mixins/dataset"),__webpack_require__("util/general_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,Base,BaseModel,classicUrlModel,TableModel,TableASTModel,BaseCommandModel,InitialDataCommandModel,DataSummarySearchJobModel,PolymorphicDatasetModel,SearchJobModel,TimeRangeModel,ResultsFetchDataModel,ResultJsonRowsModel,DataSummaryResultJsonRowsModel,SummaryModel,DataSummarySummaryModel,TimelineModel,UIPrefsModel,RolesCollection,TimesCollection,SearchBNFsCollection,TableView,datasetMixin,general_utils,splunkUtil){return Base.extend({initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.fetchUser=!0,this.fetchUserPref=!0,this.fetchAppLocals=!0,this.fetchAppLocal=!0,this.loadingMessage=_("Loading...").t(),this.enableFooter=!1,this.setPageTitle(_("Table").t()),this.uiPrefsFilter=["^display.prefs.showSPL$"],this.tableFilter=["^dataset..*","^displayName$","^search$"],this.urlFilter=["^dataset..*"],this.userPrefsFilter=["^default_earliest_time$","^default_latest_time$"],this.model.searchPointJob=new SearchJobModel({},{delay:SearchJobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:SearchJobModel.DEFAULT_LONG_POLLING_INTERVAL}),this.model.currentPointJob=new SearchJobModel({},{delay:SearchJobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:SearchJobModel.DEFAULT_LONG_POLLING_INTERVAL}),this.model.dataSummaryJob=new DataSummarySearchJobModel({},{delay:SearchJobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:SearchJobModel.DEFAULT_LONG_POLLING_INTERVAL}),this.model.dataSummaryTimeRange=new(TimeRangeModel.extend({defaults:{enableRealTime:!1}})),this.collection.times=new TimesCollection,this.collection.roles=new RolesCollection,this.collection.searchBNFs=new SearchBNFsCollection,_.defaults(TableModel.prototype,datasetMixin),this.model.table=new TableModel,this.model.tablePristine=new TableModel,this.model.tableAST=new TableASTModel,this.model.classicUrl=classicUrlModel,this.model.resultJsonRows=new ResultJsonRowsModel,this.model.dataSummarySummary=new DataSummarySummaryModel,this.model.dataSummaryTimeline=new TimelineModel,this.model.dataSummaryResultJsonRows=new DataSummaryResultJsonRowsModel,this.model.uiPrefs=new UIPrefsModel,this.model.state=new BaseModel,this.model.searchPointTimeRange=new TimeRangeModel({earliest:"",latest:"now"}),this.deferreds.uiPrefs=$.Deferred(),this.deferreds.preloadReplaced=$.Deferred(),this.deferreds.searchPointTimeRange=$.Deferred(),this.deferreds.timesCollection=$.Deferred(),this.deferreds.rolesCollection=$.Deferred(),this.deferreds.searchBNFsCollection=$.Deferred()},page:function(locale,app,page){Base.prototype.page.apply(this,arguments),"resolved"!==this.deferreds.searchBNFsCollection.state()&&this.collection.searchBNFs.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:0},parseSyntax:!0,success:function(model,response){this.deferreds.searchBNFsCollection.resolve()}.bind(this),error:function(model,response){this.deferreds.searchBNFsCollection.resolve()}.bind(this)}),this.baseActivateDeferred=$.Deferred(),this.baseDeactivateDeferred=$.Deferred(),this.shouldRender?this.baseDeactivateDeferred.resolve():this.deactivate(),"resolved"!==this.deferreds.uiPrefs.state()&&this.model.uiPrefs.bootstrap(this.deferreds.uiPrefs,this.model.application.get("page"),this.model.application.get("app"),this.model.application.get("owner")),"resolved"!==this.deferreds.searchPointTimeRange.state()&&this.timeRangeBootstrap(this.deferreds.searchPointTimeRange,this.model.searchPointTimeRange),"resolved"!==this.deferreds.timesCollection.state()&&this.timesCollectionBootstrap(this.deferreds.timesCollection),"resolved"!==this.deferreds.rolesCollection.state()&&this.rolesCollectionBootstrap(this.deferreds.rolesCollection),$.when(this.baseDeactivateDeferred).then(function(){this.bootstrapDeferred=$.Deferred(),$.when(this.deferreds.userPref,this.deferreds.uiPrefs,this.deferreds.searchPointTimeRange).then(function(){this.model.classicUrl.fetch({success:function(model,response){this.syncFromClassicURL()}.bind(this)})}.bind(this)),$.when(this.deferreds.pageViewRendered,this.deferreds.searchBNFsCollection).then(function(){this.shouldRender&&(this.initializeTableView(),$(".preload").replaceWith(this.pageView.el),this.deferreds.preloadReplaced.resolve())}.bind(this)),$.when(this.deferreds.appLocal,this.deferreds.appLocals,this.deferreds.user,this.deferreds.pageViewRendered,this.deferreds.preloadReplaced,this.deferreds.serverInfo,this.bootstrapDeferred).then(function(){this.tableView.activate({deep:!0,skipRender:!0}),this.activate(),this.shouldRender&&(this.tableView.render().replaceContentsOf($(".main-section-body")),$(document).trigger("rendered"))}.bind(this))}.bind(this))},activate:function(){this.model.state.set("pageViewCount",this.pageViewCount),this.model.table.entry.content.on("change",function(model,options){var changed=this.model.table.entry.content.changedAttributes(),uiPrefsPopulationDeferred=$.Deferred();options=options||{},this.populateUIPrefs(uiPrefsPopulationDeferred,changed),$.when(uiPrefsPopulationDeferred).always(function(){this.model.table.id&&this.model.table.id!==this.model.tablePristine.id&&(options.forceAttrs={t:this.model.table.id},options.forceTrigger=!0),this.populateClassicUrl(changed,options)}.bind(this))},this),this.model.table.on("change:id",function(){this.model.classicUrl.save({t:this.model.table.id},{trigger:!0})},this),this.model.table.entry.content.on("newSample",function(){(this.model.classicUrl.get("spsid")||this.model.classicUrl.get("cpsid"))&&(this.model.searchPointTimeRange.set({latest:"now",latest_epoch:void 0,sample_seed:void 0}),this.deferreds.searchPointTimeRange=$.Deferred(),this.model.classicUrl.save({spsid:void 0,cpsid:void 0},{trigger:!0}))},this),this.model.dataSummaryJob.on("reload",this.loadNewSummaryJob,this)},deactivate:function(){this.tableView.deactivate({deep:!0}),this.shouldRender||(this.model.state.off(null,null,this),this.model.table.off(null,null,this),this.model.table.entry.content.off(null,null,this)),this.model.searchPointJob.off(null,null,this),this.model.currentPointJob.off(null,null,this),this.model.dataSummaryJob.off(null,null,this),this.model.state.get("fastRoute")||(this.model.searchPointJob.clear(),this.model.currentPointJob.clear(),this.model.dataSummaryJob.clear(),this.model.dataSummaryTimeRange.clear({setDefaults:!0}),this.model.dataSummarySummary.fetchAbort(),this.model.dataSummarySummary.clear(),this.model.dataSummaryTimeline.fetchAbort(),this.model.dataSummaryTimeline.clear(),this.model.dataSummaryResultJsonRows.fetchAbort(),this.model.dataSummaryResultJsonRows.clear(),this.model.state.clear(),this.model.table.clear({setDefaults:!0}),this.model.tablePristine.clear({setDefaults:!0}),this.model.tableAST.fetchAbort(),this.model.tableAST.clear(),this.model.resultJsonRows.fetchAbort(),this.model.resultJsonRows.clear()),this.baseDeactivateDeferred.resolve()},initializeTableView:function(){this.tableView||(this.tableView=new TableView({model:{application:this.model.application,appLocal:this.model.appLocal,config:this.model.config,currentPointJob:this.model.currentPointJob,dataSummaryJob:this.model.dataSummaryJob,dataSummaryResultJsonRows:this.model.dataSummaryResultJsonRows,dataSummarySummary:this.model.dataSummarySummary,dataSummaryTimeline:this.model.dataSummaryTimeline,dataSummaryTimeRange:this.model.dataSummaryTimeRange,resultJsonRows:this.model.resultJsonRows,searchPointJob:this.model.searchPointJob,serverInfo:this.model.serverInfo,state:this.model.state,table:this.model.table,tablePristine:this.model.tablePristine,tableAST:this.model.tableAST,user:this.model.user},collection:{appLocals:this.collection.appLocals,roles:this.collection.roles,searchBNFs:this.collection.searchBNFs,times:this.collection.times},deferreds:{appLocal:this.deferreds.appLocal,user:this.deferreds.user}}))},syncFromClassicURL:function(options){options=options||{};var timeRangeAttrsFromTable,timeRangeArrsFromUrl,searchPointJobFetchDeferred=options.searchPointJobFetchDeferred||$.Deferred(),searchPointJobCreationDeferred=options.searchPointJobCreationDeferred||$.Deferred(),currentPointJobFetchDeferred=options.currentPointJobFetchDeferred||$.Deferred(),currentPointJobCreationDeferred=options.currentPointJobCreationDeferred||$.Deferred(),tableFetchDeferred=options.tableFetchDeferred||$.Deferred(),updateSPLDeferreds=options.updateSPLDeferreds||[],determineAndCreateSearchPointJobDeferred=options.determineAndCreateSearchPointJobDeferred||$.Deferred(),determineAndCreateCurrentPointJobDeferred=options.determineAndCreateCurrentPointJobDeferred||$.Deferred(),dataSummaryJobFetchDeferred=options.dataSummaryJobFetchDeferred||$.Deferred(),dataSummaryJobCreationDeferred=options.dataSummaryJobCreationDeferred||$.Deferred(),dataSummaryTimeRangeDeferred=options.dataSummaryTimeRangeDeferred||$.Deferred(),determineAndCreateDataSummaryJobDeferred=options.determineAndCreateDataSummaryJobDeferred||$.Deferred(),tableASTFetchDeferred=options.tableASTDeferred||$.Deferred(),timeRangeAttrsFromUserPrefs=this.model.userPref?this.model.userPref.entry.content.filterByWildcards(this.userPrefsFilter):{},tableIdFromUrl=this.model.classicUrl.get("t"),baseSearchFromUrl=splunkUtil.stripLeadingSearchCommand(this.model.classicUrl.get("bs")),searchPointJobIdFromUrl=this.model.classicUrl.get("spsid"),currentPointJobIdFromUrl=this.model.classicUrl.get("cpsid"),dataSummaryJobIdFromUrl=this.model.classicUrl.get("dssid"),attrsFromUrl=this.model.classicUrl.filterByWildcards(this.urlFilter,{allowEmpty:!0}),uiPrefsOffFromUrl=this.model.classicUrl.get("uiprefsoff"),attrsFromUIPrefs={};return this.model.state.get("fastRoute")&&!this.shouldRender?(this.model.table.entry.content.set($.extend(!0,{},attrsFromUrl)),void _.debounce(function(){this.bootstrapDeferred.resolve(),this.model.state.unset("fastRoute")}.bind(this),0)()):(uiPrefsOffFromUrl||(attrsFromUIPrefs=this.model.uiPrefs.entry.content.filterByWildcards(this.uiPrefsFilter)),tableIdFromUrl||baseSearchFromUrl||attrsFromUrl["dataset.commands"]?(this.tableBootstrap(tableFetchDeferred,searchPointJobFetchDeferred,currentPointJobFetchDeferred,tableIdFromUrl,baseSearchFromUrl),$.when(tableFetchDeferred).then(function(){this.mergeAttrsFromUIPrefsIntoTable(attrsFromUIPrefs),this.model.table.entry.content.set($.extend(!0,{},attrsFromUrl)),updateSPLDeferreds=this.updateTableCommandsAndSelectedColumns(),$.when.apply($,updateSPLDeferreds).always(function(){this.model.table.entry.content.set("search",this.model.table.getFullSearch()||baseSearchFromUrl),this.tableASTBootstrap(tableASTFetchDeferred),$.when(tableASTFetchDeferred).then(function(){this.model.table.isTableMode()?(this.searchPointJobBootstrap(searchPointJobFetchDeferred,searchPointJobIdFromUrl),$.when(searchPointJobFetchDeferred).then(function(){this.currentPointJobBootstrap(currentPointJobFetchDeferred,currentPointJobIdFromUrl,searchPointJobIdFromUrl),$.when(currentPointJobFetchDeferred).then(function(){dataSummaryJobCreationDeferred.resolve(),determineAndCreateDataSummaryJobDeferred.resolve(),this.determineAndCreateSearchPointJob(determineAndCreateSearchPointJobDeferred,searchPointJobCreationDeferred,currentPointJobCreationDeferred)}.bind(this))}.bind(this))):(this.dataSummaryJobBootstrap(dataSummaryJobFetchDeferred,dataSummaryJobIdFromUrl),$.when(dataSummaryJobFetchDeferred).then(function(){searchPointJobCreationDeferred.resolve(),currentPointJobCreationDeferred.resolve(),determineAndCreateSearchPointJobDeferred.resolve(),determineAndCreateCurrentPointJobDeferred.resolve(),tableASTFetchDeferred.resolve(),timeRangeAttrsFromTable={earliest:this.model.table.entry.content.get("dataset.display.datasummary.earliestTime"),latest:this.model.table.entry.content.get("dataset.display.datasummary.latestTime")},timeRangeArrsFromUrl={earliest:attrsFromUrl["dataset.display.datasummary.earliestTime"],latest:attrsFromUrl["dataset.display.datasummary.latestTime"]},this.mediateUserPrefsTimeRangeAttrs(timeRangeAttrsFromUserPrefs),this.model.table.isNew()?this.model.dataSummaryTimeRange.set($.extend({},timeRangeAttrsFromTable,timeRangeAttrsFromUserPrefs,timeRangeArrsFromUrl),!1):this.model.dataSummaryTimeRange.set($.extend({},timeRangeAttrsFromTable,timeRangeArrsFromUrl),!1),this.timeRangeBootstrap(dataSummaryTimeRangeDeferred,this.model.dataSummaryTimeRange),$.when(dataSummaryTimeRangeDeferred).then(function(){this.determineAndCreateDataSummaryJob(determineAndCreateDataSummaryJobDeferred,dataSummaryJobCreationDeferred)}.bind(this))}.bind(this)))}.bind(this))}.bind(this))}.bind(this)),$.when(determineAndCreateSearchPointJobDeferred).then(function(){this.model.table.isTableMode()?this.model.searchPointJob.isNew()?determineAndCreateCurrentPointJobDeferred.resolve():(this.model.searchPointJob.isDone()?(this.determineAndCreateCurrentPointJob(determineAndCreateCurrentPointJobDeferred,currentPointJobCreationDeferred),this.registerSearchPointJobFriends()):(this.listenToOnce(this.model.searchPointJob,"done",function(){var determineAndCreateCurrentPointJobDfd=$.Deferred(),currentPointJobCreationDfd=$.Deferred();this.determineAndCreateCurrentPointJob(determineAndCreateCurrentPointJobDfd,currentPointJobCreationDfd),this.registerSearchPointJobFriends(),$.when(determineAndCreateCurrentPointJobDfd).then(function(){this.model.currentPointJob.isNew()||(this.model.currentPointJob.isPreparing()?this.listenToOnce(this.model.currentPointJob,"prepared",function(){this.registerCurrentPointJobFriends()}.bind(this)):this.registerCurrentPointJobFriends(),this.model.currentPointJob.id!==this.model.searchPointJob.id&&this.model.currentPointJob.startPolling(),this.populateClassicUrlFromCurrentPointJob())}.bind(this))}.bind(this)),determineAndCreateCurrentPointJobDeferred.resolve()),this.populateClassicUrlFromSearchPointJob(),this.model.searchPointJob.startPolling()):this.model.searchPointJob.isNew()||this.model.searchPointJob.startPolling()}.bind(this)),$.when(determineAndCreateCurrentPointJobDeferred).then(function(){this.model.table.isTableMode()?this.model.currentPointJob.isNew()||(this.model.currentPointJob.isPreparing()?this.listenToOnce(this.model.currentPointJob,"prepared",function(){this.registerCurrentPointJobFriends()}.bind(this)):this.registerCurrentPointJobFriends(),this.model.currentPointJob.id!==this.model.searchPointJob.id&&this.model.currentPointJob.startPolling(),this.populateClassicUrlFromCurrentPointJob()):this.model.currentPointJob.isNew()||this.model.currentPointJob.id!==this.model.searchPointJob.id&&this.model.currentPointJob.startPolling()}.bind(this)),$.when(determineAndCreateDataSummaryJobDeferred).then(function(){this.model.table.isDataSummaryMode()&&(this.model.dataSummaryJob.isNew()?this.model.dataSummaryJob.isNew()||this.model.dataSummaryJob.startPolling():(this.model.dataSummaryJob.isPreparing()?this.listenToOnce(this.model.dataSummaryJob,"prepared",function(){this.registerDataSummaryJobFriends()}.bind(this)):this.registerDataSummaryJobFriends(),this.model.dataSummaryJob.startPolling(),this.populateClassicUrlFromDataSummaryJob()))}.bind(this)),void $.when(determineAndCreateSearchPointJobDeferred,determineAndCreateCurrentPointJobDeferred,determineAndCreateDataSummaryJobDeferred).then(function(){this.bootstrapDeferred.resolve()}.bind(this))):(this.mergeIntoTableFromEmptyState(attrsFromUIPrefs,attrsFromUrl),void this.model.state.set("initialDataState",InitialDataCommandModel.STATES.EDITING)))},mergeIntoTableFromEmptyState:function(attrsFromUIPrefs,attrsFromUrl){var tableFetchDeferred=this.model.table.fetch();$.when(tableFetchDeferred).always(function(){this.model.table.entry.content.set($.extend(!0,{},attrsFromUIPrefs,attrsFromUrl)),this.model.table.initBaseCommand({},{updateSPLOptions:{applicationModel:this.model.application}}),this.bootstrapDeferred.resolve()}.bind(this))},tableBootstrap:function(tableFetchDeferred,searchPointJobFetchDeferred,currentPointJobFetchDeferred,tableIdFromUrl,baseSearchFromUrl){tableIdFromUrl&&this.model.table.set("id",tableIdFromUrl),this.model.table.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){this.model.tablePristine.setFromSplunkD(this.model.table.toSplunkD()),tableFetchDeferred.resolve()}.bind(this),error:function(model,response){var errorResponse=response;this.model.table.unset("id"),this.model.classicUrl.save({t:void 0},{replaceState:!0}),tableIdFromUrl&&!baseSearchFromUrl?(this.model.table._onerror(this.model.table,errorResponse),tableFetchDeferred.resolve(),searchPointJobFetchDeferred.resolve(),currentPointJobFetchDeferred.resolve()):this.model.tablePristine.fetch({success:function(model,response){this.model.table.setFromSplunkD(this.model.tablePristine.toSplunkD()),this.model.table._onerror(this.model.table,errorResponse),tableFetchDeferred.resolve()}.bind(this),error:function(model,response){tableFetchDeferred.resolve()}.bind(this)})}.bind(this)})},searchPointJobBootstrap:function(searchPointJobFetchDeferred,searchPointJobIdFromUrl){searchPointJobIdFromUrl?(this.model.searchPointJob.set("id",searchPointJobIdFromUrl),this.model.searchPointJob.fetch({success:function(model,response){searchPointJobFetchDeferred.resolve()}.bind(this),error:function(model,response){this.model.classicUrl.save({spsid:void 0},{replaceState:!0}),this.model.searchPointJob.unset("id"),searchPointJobFetchDeferred.resolve()}.bind(this)})):searchPointJobFetchDeferred.resolve()},currentPointJobBootstrap:function(currentPointJobFetchDeferred,currentPointJobIdFromUrl,searchPointJobIdFromUrl){return this.model.searchPointJob.isNew()?void currentPointJobFetchDeferred.resolve():currentPointJobIdFromUrl===searchPointJobIdFromUrl?(this.model.currentPointJob.setFromSplunkD(this.model.searchPointJob.toSplunkD()),void currentPointJobFetchDeferred.resolve()):void(currentPointJobIdFromUrl?(this.model.currentPointJob.set("id",currentPointJobIdFromUrl),this.model.currentPointJob.fetch({success:function(model,response){currentPointJobFetchDeferred.resolve()}.bind(this),error:function(model,response){this.model.classicUrl.save({cpsid:void 0},{replaceState:!0}),this.model.currentPointJob.unset("id"),currentPointJobFetchDeferred.resolve()}.bind(this)})):currentPointJobFetchDeferred.resolve())},dataSummaryJobBootstrap:function(dataSummaryJobFetchDeferred,dataSummaryJobIdFromUrl){dataSummaryJobIdFromUrl?(this.model.dataSummaryJob.set("id",dataSummaryJobIdFromUrl),this.model.dataSummaryJob.fetch({success:function(model,response){dataSummaryJobFetchDeferred.resolve()}.bind(this),error:function(model,response){this.model.classicUrl.save({dssid:void 0},{replaceState:!0}),this.model.dataSummaryJob.unset("id"),dataSummaryJobFetchDeferred.resolve()}.bind(this)})):dataSummaryJobFetchDeferred.resolve()},timeRangeBootstrap:function(timeRangeDeferred,timeRangeModel){timeRangeModel.save({},{validate:!1,success:function(model,response){timeRangeDeferred.resolve()}.bind(this),error:function(model,response){timeRangeDeferred.resolve()}.bind(this)})},tableASTBootstrap:function(tableASTFetchDeferred){var currentCommandIdx=this.model.table.getCurrentCommandIdx(),search=this.model.table.getSearch(currentCommandIdx,{updateSPLOptions:{applicationModel:this.model.application}});this.model.tableAST.set({spl:splunkUtil.addLeadingSearchCommand(search,!0)}),this.model.tableAST.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){tableASTFetchDeferred.resolve()}.bind(this),error:function(model,response){tableASTFetchDeferred.resolve()}.bind(this)})},timesCollectionBootstrap:function(timesCollectionDeferred){this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(model,response){timesCollectionDeferred.resolve()}.bind(this),error:function(model,response){timesCollectionDeferred.resolve()}.bind(this)})},rolesCollectionBootstrap:function(rolesCollectionDeferred){this.collection.roles.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(model,response){rolesCollectionDeferred.resolve()}.bind(this),error:function(model,response){rolesCollectionDeferred.resolve()}.bind(this)})},mergeAttrsFromUIPrefsIntoTable:function(attrsFromUIPrefs){if(this.model.table.isNew())this.model.table.entry.content.set($.extend({},attrsFromUIPrefs));else{var defaults=this.model.table.entry.content.toJSON();_.defaults(defaults,attrsFromUIPrefs),this.model.table.entry.content.set($.extend({},defaults))}},updateTableCommandsAndSelectedColumns:function(){var updateSPLDeferreds;return this.model.table.setSelectedColumnsForNewCommandIndex(this.model.table.getCurrentCommandIdx()),updateSPLDeferreds=this.model.table.commands.map(function(command){if(!command.isNew())return command.updateSPL({applicationModel:this.model.application})}.bind(this)),$.when.apply($,updateSPLDeferreds).always(function(){this.model.classicUrl.save({"dataset.commands":this.model.table.entry.content.get("dataset.commands"),"dataset.display.selectedColumns":this.model.table.entry.content.get("dataset.display.selectedColumns")},{replaceState:!0})}.bind(this)),updateSPLDeferreds},shouldStartNewSearchPointSearch:function(nearestSearchPointIdx){var search,isTransforming=this.model.tableAST.isTransforming();return!!this.model.table.isTableMode()&&(search=this.model.table.getSearch(null,{updateSPLOptions:{applicationModel:this.model.application}}),""!==search&&(!!this.model.searchPointJob.isNew()||(search=this.model.table.getSearch(nearestSearchPointIdx,{respectSearchPoints:!0,isTransforming:isTransforming,updateSPLOptions:{applicationModel:this.model.application}}),splunkUtil.stripLeadingSearchCommand(this.model.searchPointJob.getSearch())!==search||this.model.table.getDispatchRatio({isTransforming:isTransforming})!==this.model.searchPointJob.entry.content.get("sampleRatio"))))},determineAndCreateSearchPointJob:function(determineAndCreateSearchPointJobDeferred,searchPointJobCreationDeferred,currentPointJobCreationDeferred){var syncJobPreview,search,searchPointLatestTime,eaiAST,eaiASTDeferred,currentCommandIdx=this.model.table.getCurrentCommandIdx(),nearestSearchPointIdx=this.model.table.getNearestSearchPointIdx(currentCommandIdx,nearestSearchPointIdx),shouldStartNewSearchPointSearch=this.shouldStartNewSearchPointSearch(nearestSearchPointIdx),isLastCommand=_.isUndefined(currentCommandIdx)||currentCommandIdx===this.model.table.commands.length-1,shouldMigrateTable=this.model.table.isNew()&&!this.model.table.entry.content.get("dataset.commands")&&isLastCommand,isTransforming=this.model.tableAST.isTransforming();shouldMigrateTable?(eaiAST=new TableASTModel({spl:splunkUtil.addLeadingSearchCommand(this.model.table.entry.content.get("search"),!0)}),eaiASTDeferred=$.Deferred(),eaiAST.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){eaiASTDeferred.resolve()}.bind(this),error:function(model,response){eaiASTDeferred.resolve()}.bind(this)}),$.when(eaiASTDeferred).then(function(){this.model.table.ast=eaiAST;var selectedDataset,fromDatasetPayloads=eaiAST.getFromCommandObjectPayloads(),fromDatasetObject=fromDatasetPayloads[fromDatasetPayloads.length-1];fromDatasetObject&&fromDatasetObject.eai?(selectedDataset=new PolymorphicDatasetModel(fromDatasetObject.eai,{parse:!0}),this.model.table.migrateFromSearch({selectedDataset:selectedDataset,selectedMethod:InitialDataCommandModel.METHODS.DATASET,updateSPLOptions:{applicationModel:this.model.application}})):this.model.table.migrateFromSearch({updateSPLOptions:{applicationModel:this.model.application}}),this.populateClassicUrlFromTable(),search=this.model.table.getSearch(0,{respectSearchPoints:!0,isTransforming:isTransforming,updateSPLOptions:{applicationModel:this.model.application}}),search?this.startNewSearch(searchPointJobCreationDeferred,this.model.searchPointJob,search,{latest_time:this.model.searchPointTimeRange.get("latest_epoch"),sample_ratio:this.model.table.getDispatchRatio({isTransforming:isTransforming})}):(this.model.searchPointJob.stopPolling(),this.model.searchPointJob.clear(),this.model.currentPointJob.stopPolling(),this.model.currentPointJob.clear(),this.model.resultJsonRows.clear(),searchPointJobCreationDeferred.resolve(),currentPointJobCreationDeferred.resolve(),this.bootstrapDeferred.resolve())}.bind(this))):shouldStartNewSearchPointSearch?(search=this.model.table.getSearch(nearestSearchPointIdx,{respectSearchPoints:!0,isTransforming:isTransforming,updateSPLOptions:{applicationModel:this.model.application}}),this.startNewSearch(searchPointJobCreationDeferred,this.model.searchPointJob,search,{latest_time:this.model.searchPointTimeRange.get("latest_epoch"),sample_ratio:this.model.table.getDispatchRatio({isTransforming:isTransforming}),sample_seed:this.model.searchPointTimeRange.get("sample_seed")})):(syncJobPreview=this.model.searchPointJob.entry.acl.canWrite()?this.model.searchPointJob.setPreview(!0):$.Deferred().resolve(),searchPointLatestTime=this.model.searchPointJob.getDispatchLatestTime(),this.model.searchPointTimeRange.set({latest:searchPointLatestTime,latest_epoch:searchPointLatestTime,sample_seed:this.model.searchPointJob.entry.content.get("sampleSeed")}),syncJobPreview.always(function(){searchPointJobCreationDeferred.resolve()}.bind(this))),$.when(searchPointJobCreationDeferred).then(function(){determineAndCreateSearchPointJobDeferred.resolve()}.bind(this))},shouldStartNewCurrentPointSearch:function(search,currentCommandIdx,nearestSearchPointIdx){return!!this.model.table.isTableMode()&&(currentCommandIdx!==nearestSearchPointIdx&&splunkUtil.stripLeadingSearchCommand(this.model.currentPointJob.getSearch())!==search)},determineAndCreateCurrentPointJob:function(determineAndCreateCurrentPointJobDeferred,currentPointJobCreationDeferred){var currentCommandIdx=this.model.table.getCurrentCommandIdx(),nearestSearchPointIdx=this.model.table.getNearestSearchPointIdx(currentCommandIdx),search=this.model.table.getSearch(currentCommandIdx,{respectSearchPoints:!0,searchPointJob:this.model.searchPointJob,isTransforming:this.model.tableAST.isTransforming(),updateSPLOptions:{applicationModel:this.model.application}}),shouldStartNewCurrentPointSearch=this.shouldStartNewCurrentPointSearch(search,currentCommandIdx,nearestSearchPointIdx);shouldStartNewCurrentPointSearch?this.startNewSearch(currentPointJobCreationDeferred,this.model.currentPointJob,search):shouldStartNewCurrentPointSearch||currentCommandIdx!==nearestSearchPointIdx?currentPointJobCreationDeferred.resolve():(this.model.currentPointJob.setFromSplunkD(this.model.searchPointJob.toSplunkD()),currentPointJobCreationDeferred.resolve()),$.when(currentPointJobCreationDeferred).then(function(){determineAndCreateCurrentPointJobDeferred.resolve()}.bind(this));
},shouldStartNewSummaryJob:function(search){var dataSummaryJobSearch=splunkUtil.stripLeadingSearchCommand(this.model.dataSummaryJob.getSearch()),dataSummaryJobEarliestTime=this.model.dataSummaryJob.getDispatchEarliestTimeOrAllTime(),dataSummaryJobLatestTime=this.model.dataSummaryJob.getDispatchLatestTimeOrAllTime(),tableDataSummaryEarliestTime=this.model.dataSummaryTimeRange.get("earliest"),tableDataSummaryLatestTime=this.model.dataSummaryTimeRange.get("latest");return!!this.model.table.isDataSummaryMode()&&(!!this.model.dataSummaryJob.isNew()||(dataSummaryJobSearch!==search||dataSummaryJobEarliestTime!==tableDataSummaryEarliestTime||dataSummaryJobLatestTime!==tableDataSummaryLatestTime))},determineAndCreateDataSummaryJob:function(determineAndCreateDataSummaryJobDeferred,dataSummaryJobCreationDeferred){var search,shouldStartNewSummaryJob,currentCommandIdx=this.model.table.getCurrentCommandIdx(),currentCommand=this.model.table.commands.at(currentCommandIdx),initialSearch=this.model.table.getSearch(currentCommandIdx,{updateSPLOptions:{applicationModel:this.model.application}});return currentCommand?(search=this.model.dataSummaryJob.appendStatsToSearch(initialSearch,{columns:currentCommand.columns}),shouldStartNewSummaryJob=this.shouldStartNewSummaryJob(search,currentCommandIdx),shouldStartNewSummaryJob?this.startNewSearch(dataSummaryJobCreationDeferred,this.model.dataSummaryJob,search,{earliest_time:this.model.dataSummaryTimeRange.get("earliest"),latest_time:this.model.dataSummaryTimeRange.get("latest"),adhoc_search_level:"verbose",preview:!0}):dataSummaryJobCreationDeferred.resolve(),void $.when(dataSummaryJobCreationDeferred).then(function(){determineAndCreateDataSummaryJobDeferred.resolve()}.bind(this))):(dataSummaryJobCreationDeferred.resolve(),void determineAndCreateDataSummaryJobDeferred.resolve())},startNewSearch:function(jobCreationDeferred,jobModel,search,options){options=options||{},_.defaults(options,{preview:!1,adhoc_search_level:"smart",earliest_time:"",latest_time:""});var searchToStart;if(!search)throw new Error("startNewSearch was called without a search!");searchToStart=new SearchJobModel,this.addNewSearchListeners(jobCreationDeferred,searchToStart,jobModel),searchToStart.save({},{data:{search:search,earliest_time:options.earliest_time,latest_time:options.latest_time,auto_cancel:SearchJobModel.DEFAULT_AUTO_CANCEL,status_buckets:300,ui_dispatch_app:this.model.application.get("app"),preview:options.preview,adhoc_search_level:options.adhoc_search_level,app:this.model.application.get("app"),owner:this.model.application.get("owner"),sample_seed:options.sample_seed||void 0,sample_ratio:options.sample_ratio||void 0,auto_finalize_ec:this.model.table.getEventLimit({isTransforming:this.model.tableAST.isTransforming()}),provenance:"UI:TableEditor"}})},addNewSearchListeners:function(jobCreationDeferred,newSearchModel,proxyToJobModel){newSearchModel.on("sync",function(model,response,options){var messages=newSearchModel.error.get("messages");proxyToJobModel.clear(),proxyToJobModel.setFromSplunkD(newSearchModel.toSplunkD()),messages&&proxyToJobModel.error.set({messages:messages}),newSearchModel.off(),jobCreationDeferred.resolve()},this),newSearchModel.on("error",function(model,response,option){proxyToJobModel.trigger("error",proxyToJobModel,response),newSearchModel.off(),jobCreationDeferred.resolve()},this)},registerSearchPointJobFriends:function(options){},registerCurrentPointJobFriends:function(options){var job=this.model.currentPointJob;this.model.currentPointJob.id===this.model.searchPointJob.id&&(job=this.model.searchPointJob),job.registerJobProgressLinksChild(SearchJobModel.RESULTS_PREVIEW,this.model.resultJsonRows,this.fetchResultJSONRows,this)},registerDataSummaryJobFriends:function(options){this.model.dataSummaryJob.registerJobProgressLinksChild(SearchJobModel.SUMMARY,this.model.dataSummarySummary,this.fetchDataSummarySummary,this),this.model.dataSummaryJob.registerJobProgressLinksChild(SearchJobModel.TIMELINE,this.model.dataSummaryTimeline,this.fetchDataSummaryTimeline,this),this.model.dataSummaryJob.registerJobProgressLinksChild(SearchJobModel.RESULTS_PREVIEW,this.model.dataSummaryResultJsonRows,this.fetchDataSummaryResultJSONRows,this)},fetchResultJSONRows:function(options){options=options||{};var job=this.model.currentPointJob,lastSafeCommand=this.model.table.getLastSafeCommandForCommandIndex(),columns=lastSafeCommand&&lastSafeCommand.columns,field_list=columns&&columns.columnsListToString();if(this.model.currentPointJob.id===this.model.searchPointJob.id&&(job=this.model.searchPointJob),job.isDone()){var fetchDataModel=new ResultsFetchDataModel,data=$.extend(!0,fetchDataModel.toJSON(),{show_metadata:!1,include_null_fields:!0,field_list:field_list,time_format:"%s.%Q"});$.extend(!0,data,options),this.model.resultJsonRows.safeFetch({data:data})}},fetchDataSummarySummary:function(){this.model.dataSummarySummary.safeFetch({data:{min_freq:0,top_count:100}})},fetchDataSummaryTimeline:function(){this.model.dataSummaryTimeline.safeFetch()},fetchDataSummaryResultJSONRows:function(options){if(options=options||{},this.model.dataSummaryJob.entry.content.get("isPreviewEnabled")||this.model.dataSummaryJob.isDone()){var fetchDataModel=new ResultsFetchDataModel,data=$.extend(fetchDataModel.toJSON(),{time_format:"%s.%Q"});$.extend(!0,data,options),this.model.dataSummaryResultJsonRows.safeFetch({data:data})}},populateClassicUrl:function(changedAttrs,options){var changedAttrsModel,urlFilteredAttrs;if(options=options||{},options.forceAttrs=options.forceAttrs||{},changedAttrs&&!_.isEmpty(changedAttrs)&&(changedAttrs=$.extend(!0,{},changedAttrs),changedAttrsModel=new BaseModel(changedAttrs),urlFilteredAttrs=changedAttrsModel.filterByWildcards(this.tableFilter,{allowEmpty:!0}),_.extend(urlFilteredAttrs,options.forceAttrs),!_.isEmpty(urlFilteredAttrs))){var currentCommand=parseInt(urlFilteredAttrs["dataset.display.currentCommand"],10),currentCommandChanged=currentCommand>=0,trigger=urlFilteredAttrs["dataset.commands"]||urlFilteredAttrs["dataset.display.diversity"]||urlFilteredAttrs["dataset.display.limiting"]||_.isString(urlFilteredAttrs["dataset.display.datasummary.earliestTime"])||_.isString(urlFilteredAttrs["dataset.display.datasummary.latestTime"])||urlFilteredAttrs["dataset.display.mode"];options.forceTrigger||trigger||currentCommandChanged?(urlFilteredAttrs.cpsid=options.forceAttrs.cpsid||void 0,this.model.table.isTableMode()&&this.model.tableAST.isTransforming()?urlFilteredAttrs.spsid=void 0:urlFilteredAttrs.dssid=void 0,this.model.classicUrl.save(urlFilteredAttrs,{trigger:!0})):this.model.classicUrl.save(urlFilteredAttrs,{replaceState:!0})}},populateUIPrefs:function(uiPrefsPopulationDeferred,changedAttrs){var changedAttrsModel,filteredAttrs,changedAttrsCopy,data={};return!changedAttrs||_.isEmpty(changedAttrs)||(changedAttrsCopy=$.extend(!0,{},changedAttrs),changedAttrsModel=new BaseModel(changedAttrsCopy),filteredAttrs=changedAttrsModel.filterByWildcards(this.uiPrefsFilter,{allowEmpty:!0}),_.isEmpty(filteredAttrs))?void uiPrefsPopulationDeferred.resolve():(this.model.uiPrefs.isNew()&&(data={app:this.model.application.get("app"),owner:this.model.application.get("owner")}),this.model.uiPrefs.entry.content.set(filteredAttrs),void this.model.uiPrefs.save({},{data:data,success:function(model,response){uiPrefsPopulationDeferred.resolve()}.bind(this),error:function(model,response){uiPrefsPopulationDeferred.resolve()}.bind(this)}))},populateClassicUrlFromSearchPointJob:function(){var attrs={spsid:this.model.searchPointJob.entry.content.get("sid")};this.model.classicUrl.save(attrs,{replaceState:!0})},populateClassicUrlFromCurrentPointJob:function(){var attrs={cpsid:this.model.currentPointJob.entry.content.get("sid")};this.model.classicUrl.save(attrs,{replaceState:!0})},populateClassicUrlFromDataSummaryJob:function(){var attrs={dssid:this.model.dataSummaryJob.entry.content.get("sid")};this.model.classicUrl.save(attrs,{replaceState:!0})},populateClassicUrlFromTable:function(){var attrs={"dataset.commands":this.model.table.entry.content.get("dataset.commands"),"dataset.display.currentCommand":this.model.table.entry.content.get("dataset.display.currentCommand"),"dataset.display.diversity":this.model.table.entry.content.get("dataset.display.diversity"),"dataset.display.limiting":this.model.table.entry.content.get("dataset.display.limiting")};this.model.classicUrl.save(attrs,{replaceState:!0})},mediateUserPrefsTimeRangeAttrs:function(attrs){general_utils.transferKey(attrs,"default_earliest_time","earliest"),general_utils.transferKey(attrs,"default_latest_time","latest")},loadNewSummaryJob:function(options){this.model.classicUrl.save({dssid:void 0},{trigger:!0})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/coalesce/CoalesceRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/table/commandeditor/listpicker/Control")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,TextControl,ListPickerControl){return BaseView.extend({moduleId:module.id,className:"commandeditor-group-sortable",attributes:function(){return{"order-id":this.model.get("orderId")}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ListPickerControl({listOptions:{items:this.options.fieldPickerItems,selectedValues:[this.model.get("columnGuid")],size:"small",multiselect:!1,selectMessage:_("Select a field...").t(),required:!0},model:this.model,modelAttribute:"columnGuid",placeholder:_("Select a field...").t(),toggleClassName:"",className:ListPickerControl.prototype.className+" commandeditor-group-label",size:"small"})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.trigger("removeRow",{orderId:this.model.get("orderId")})}},render:function(){return this.$el.html(this.compiledTemplate()),this.children.fieldPicker.render().appendTo(this.$el),this},template:'\t                <a class="commandeditor-group-remove"><i class="icon-x"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Where":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ControlGroup,TextareaControl,keyboardUtils){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-where",initialize:function(attributes,options){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.expressionBox=new TextareaControl({className:"where-box",model:this.model.command,modelAttribute:"expression",size:"small"}),this.children.expressionControl=new ControlGroup({controls:this.children.expressionBox,label:_("Where expression").t()})},events:$.extend({},BaseEditorView.prototype.events,{"keydown textarea":function(e){e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||e.preventDefault()},"keyup textarea":function(e){this.onInputChange(e)}}),onInputChange:function(e){var inputValue=this.children.expressionBox.$("textarea").val();this.children.expressionBox.setValue(inputValue,!1),e.shiftKey||e.which!==keyboardUtils.KEYS.ENTER||this.handleApply()},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.expressionControl.activate({deep:!0}).render().$el.prependTo(this.$(".commandeditor-section-padded")),this.appendButtons(),this.model.state.get("previousJSON")&&this.appendAdvancedEditorReturnLink()),this},template:'\t                <div class="commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/split/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/table/commandeditor/editorforms/split/Delimiter"),__webpack_require__("views/table/commandeditor/editorforms/split/FieldRows"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnsCollection,BaseEditorView,ListOverlayControl,DelimiterView,FieldRowsView,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-split",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ControlGroup({label:_("Original field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),attachOverlayTo:".commandeditor-form-split",listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}}),this.children.delimiter=new DelimiterView({model:{command:this.model.command}}),this.children.newFields=new FieldRowsView({model:{command:this.model.command}})},handleApply:function(options){this.addNewFields(),BaseEditorView.prototype.handleApply.apply(this,arguments)},render:function(){var $mainSection;return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),$mainSection=this.$(".commandeditor-section"),this.children.fieldPicker.activate({deep:!0}).render().appendTo($mainSection),this.children.delimiter.activate({deep:!0}).render().appendTo($mainSection),this.children.newFields.activate({deep:!0}).render().appendTo($mainSection),this.appendButtons()),this},template:'\t                <div class="commandeditor-section commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/split/Delimiter":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Split"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,SplitCommand,BaseView,ControlGroup){return BaseView.extend({moduleId:module.id,className:"split-delimiter-view",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.delimiterPicker=new ControlGroup({controlType:"SyntheticSelect",label:_("Delimiter").t(),size:"small",controlOptions:{modelAttribute:"delimiterFromPicker",model:this.model.command,toggleClassName:"btn",popdownOptions:{detachDialog:!0},items:[{label:_("Space").t(),value:SplitCommand.DELIMITERS.SPACE},{label:_("Comma").t(),value:SplitCommand.DELIMITERS.COMMA},{label:_("Tab").t(),value:SplitCommand.DELIMITERS.TAB},{label:_("Pipe").t(),value:SplitCommand.DELIMITERS.PIPE},{label:_("Custom").t(),value:""}]}}),this.children.customDelimiter=new ControlGroup({controlType:"Text",label:_("Custom delimiter").t(),size:"small",controlOptions:{modelAttribute:"delimiter",model:this.model.command,updateOnKeyUp:!0,trimLeadingSpace:!1,trimTrailingSpace:!1}})},startListening:function(){this.listenTo(this.model.command,"change:delimiterFromPicker",this.handleSelectionChange)},handleSelectionChange:function(){var pickerDelimiter=this.model.command.get("delimiterFromPicker");this.model.command.set("delimiter",pickerDelimiter),this.visibility()},visibility:function(){var isCustom=""===this.model.command.get("delimiterFromPicker");isCustom?this.children.customDelimiter.$el.css("display",""):this.children.customDelimiter.$el.hide()},render:function(){return this.children.delimiterPicker.render().appendTo(this.$el),this.children.customDelimiter.render().appendTo(this.$el),this.visibility(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/split/FieldRows":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/editorforms/split/FieldRow")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,FieldRow){return BaseView.extend({moduleId:module.id,className:"split-new-field-rows-section",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.initializeFieldRows()},events:{"click .add-field":function(e){e.preventDefault(),this.addAndCreateNewRow()}},initializeFieldRows:function(){this.children.rows=this.children.rows||{},this.model.command.editorValues.each(function(col){this.createRow(col)},this)},addAndCreateNewRow:function(){var newRowView,newRowModel;this.model.command.editorValues.add({name:""}),newRowModel=this.model.command.editorValues.last(),newRowView=this.createRow(newRowModel),newRowView.activate({deep:!0}).render().appendTo(this.$(".split-new-field-rows"))},removeRow:function(cid){var modelToRemove=this.model.command.editorValues.get(cid);this.model.command.editorValues.remove(modelToRemove),this.children.rows[cid].deactivate({deep:!0}).remove(),delete this.children.rows[cid]},createRow:function(model){var newRowView=this.children.rows[model.cid]=new FieldRow({model:model});return this.listenTo(newRowView,"removeRow",function(options){this.removeRow(options.cid)}),newRowView},render:function(){return this.$el.html()||this.$el.html(this.compiledTemplate({_:_})),_.each(this.children.rows,function(rowView){rowView.activate({deep:!0}).render().appendTo(this.$(".split-new-field-rows"))},this),this},template:'\t                <div class="split-field-rows-label"> <%- _("New fields").t() %> </div>\t                <div class="split-new-field-rows"></div>\t                <a class="add-field"><i class="icon-plus"></i> <%-_("Add a field...").t()%></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/split/FieldRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/TextControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,TextControl){return BaseView.extend({moduleId:module.id,className:"split-new-field-row",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.nameInput=new TextControl({modelAttribute:"name",model:this.model,updateOnKeyUp:!0})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.trigger("removeRow",{cid:this.model.cid})}},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.nameInput.render().appendTo(this.$el),this},template:'\t                <a class="commandeditor-group-remove"><i class="icon-x"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/calculatefield/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/editorforms/calculatefield/CalculateFieldRow"),__webpack_require__("views/table/commandeditor/editorforms/calculatefield/CalculateValueRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,ColumnModel,BaseCommandModel,ControlGroup,BaseEditorView,CalculateFieldRow,CalculateValueRow){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-calculate-field",FieldRowView:CalculateFieldRow,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.fieldName=new ControlGroup({controlType:"Text",size:"small",label:_("New field name").t(),controlClass:"controls-fill",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}}),this.children.rows=[]},startListening:function(){this.listenTo(this.model.state,"removeRow",this.handleRowRemoved),this.listenTo(this.model.command.editorValues,"add remove",this.renderRows),BaseEditorView.prototype.startListening.apply(this,arguments)},events:$.extend({},BaseEditorView.prototype.events,{"click .add-field:not(.disabled)":function(e){this.model.command.editorValues.add({columnGuid:""}),e.preventDefault()},"click .add-value:not(.disabled)":function(e){this.model.command.editorValues.add({}),e.preventDefault()}}),addNewFieldRow:function(editorValue){var newFieldRow=new CalculateFieldRow({model:{state:this.model.state,editorValue:editorValue},listpickerItems:this.getFieldPickerItems({blacklist:[ColumnModel.TYPES.EPOCH_TIME,ColumnModel.TYPES.IPV4,ColumnModel.TYPES.BOOLEAN,ColumnModel.TYPES.STRING,ColumnModel.TYPES._TIME,ColumnModel.TYPES._RAW]}),collection:{editorValues:this.model.command.editorValues}});this.children.rows.push(newFieldRow),newFieldRow.activate({deep:!0}).render().insertBefore(this.$(".calculated-field-add"))},addNewValueRow:function(editorValue){var newFieldRow=new CalculateValueRow({model:{state:this.model.state,editorValue:editorValue},collection:{editorValues:this.model.command.editorValues}});this.children.rows.push(newFieldRow),newFieldRow.activate({deep:!0}).render().insertBefore(this.$(".calculated-field-add"))},renderRows:function(){this.children.operation&&(this.children.operation.deactivate({deep:!0}).remove(),delete this.children.operation),this.children.rows.length&&(_.each(this.children.rows,function(row){row.deactivate({deep:!0}).remove()}),this.children.rows=[]),this.model.command.editorValues.each(function(editorValue,idx){var isFieldRow=this.model.command.isFieldRow(editorValue);isFieldRow?this.addNewFieldRow(editorValue):this.addNewValueRow(editorValue),0===idx&&(2===this.model.command.editorValues.length?(this.renderButtonGroup(),this.hideLinks()):(isFieldRow&&this.renderButtonGroup(),this.showLinks()))}.bind(this))},hideLinks:function(){this.$(".calculated-field-add").hide()},showLinks:function(){this.$(".calculated-field-add").css("display","flex")},handleRowRemoved:function(rowView){rowView.deactivate({deep:!0}).remove()},renderButtonGroup:function(){this.children.operation&&(this.children.operation.deactivate({deep:!0}).remove(),delete this.children.operation),this.children.operation=new ControlGroup({controlType:"SyntheticRadio",size:"small",additionalClassNames:"arithmetic-controls-radio",controlOptions:{items:[{value:"+",label:"+"},{value:"-",label:"-"},{value:"*",label:"*"},{value:"/",label:"/"}],model:this.model.command,modelAttribute:"operator"}}),this.children.operation.activate({deep:!0}).render().insertBefore(this.$(".calculated-field-add"))},handleApply:function(options){this.model.command.updateRequiredColumns(),this.addNewField({type:ColumnModel.TYPES.NUMBER}),BaseEditorView.prototype.handleApply.call(this,options)},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.fieldName.render().appendTo(this.$(".commandeditor-section-field-name")),this.renderRows(),this.appendButtons(),this.appendAdvancedEditorLink()),this},template:'\t                <div class="commandeditor-section commandeditor-section-padded commandeditor-section-field-name"></div>\t                <div>\t                    <div class="calculated-field-add">\t                        <a href="#" class="add-field">\t                            <i class="icon-plus"></i>\t                            <%- _("Add a numeric field...").t()%>\t                        </a>\t                        <a href="#" class="add-value">\t                            <i class="icon-plus"></i>\t                            <%- _("Add a numeric value...").t()%>\t                        </a>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/calculatefield/CalculateFieldRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,ListPickerControl,ControlGroup){return BaseView.extend({moduleId:module.id,className:"commandeditor-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.fieldPicker=new ControlGroup({controlType:"ListOverlay",controlTypes:{ListOverlay:ListPickerControl},label:_("Field").t(),size:"small",controlOptions:{listOptions:{items:this.options.listpickerItems,selectedValues:[this.model.editorValue.get("columnGuid")],size:"small",selectMessage:_("Select a field...").t(),required:!0},model:this.model.editorValue,modelAttribute:"columnGuid",placeholder:_("Select a field...").t(),toggleClassName:"btn-overlay-toggle"}})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.collection.editorValues.remove(this.model.editorValue),this.model.state.trigger("removeRow",this)}},render:function(){return this.$el.html(this.compiledTemplate()),this.children.fieldPicker.render().appendTo(this.$el),this},template:'\t                <a class="commandeditor-group-remove"><i class="icon-x"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/calculatefield/CalculateValueRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,ControlGroup){return BaseView.extend({moduleId:module.id,className:"commandeditor-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.value=new ControlGroup({controlType:"Spinner",label:_("Value").t(),size:"small",additionalClassNames:"calculated-field-spinner",controlOptions:{model:this.model.editorValue,modelAttribute:"valueInput",updateOnKeyUp:!0}})},events:{"click .commandeditor-group-remove":function(e){e.preventDefault(),this.collection.editorValues.remove(this.model.editorValue),this.model.state.trigger("removeRow",this)}},render:function(){return this.$el.html(this.compiledTemplate()),this.children.value.render().appendTo(this.$el),this},template:'<a href="#" class="commandeditor-group-remove"><i class="icon-x" /></a>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Round":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-round",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments);var requiredColumn=this.model.command.requiredColumns.at(0);this.children.field=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:requiredColumn,modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}}),this.children.decimalPlaces=new ControlGroup({label:_("Decimal places").t(),controlType:"Spinner",size:"small",controlOptions:{model:this.model.command,modelAttribute:"decimalPlaces",updateOnKeyUp:!0,integerOnly:!0,min:0,max:100,placeholder:0,step:1}})},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.template),this.appendButtons(),this.children.field.render().appendTo(this.$(".commandeditor-section-padded")),this.children.decimalPlaces.render().appendTo(this.$(".commandeditor-section-padded"))),this},template:'\t                <div class="commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/Bucket":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("models/datasets/commands/Bucket")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseEditorView,ListOverlayControl,SyntheticSelectControl,ControlGroup,BucketCommand){return BaseEditorView.extend({
moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-bucket",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments);var requiredColumn=this.model.command.requiredColumns.at(0);this.children.field=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:requiredColumn,modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}},multiselect:!1}),this.children.timeControl=new ControlGroup({size:"small",label:_("Time span").t(),controlClass:"input-append",controls:[{type:"Text",model:this.model.command,options:{model:this.model.command,modelAttribute:"timeCount",toggleClassName:"btn",size:"small",updateOnKeyUp:!0}},{type:"SyntheticSelect",model:this.model.command,options:{model:this.model.command,modelAttribute:"timeScaleUnit",size:"small",updateOnKeyUp:!0,menuWidth:"narrow",save:!1,toggleClassName:"btn",items:BucketCommand.TIME_SCALE_UNITS,popdownOptions:{detachDialog:!0}}}]})},render:function(){return this.$el.html()||($(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.appendButtons(),this.children.field.render().appendTo(this.$(".commandeditor-section-padded")),this.children.timeControl.render().appendTo(this.$(".commandeditor-section-padded"))),this},template:'\t                <div class="commandeditor-section-padded"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/ReplaceMismatchedTypes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,ColumnModel,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-remove-non-numerical-values",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.listPicker=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}})},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.listPicker.render().appendTo(this.$(".commandeditor-section-field")),this.appendButtons(),this.appendAdvancedEditorLink(),this},template:'\t                <div class="commandeditor-section-padded commandeditor-section-field"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/editorforms/FilterMismatchedTypes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/table/commandeditor/editorforms/Base"),__webpack_require__("views/table/commandeditor/listpicker/Control"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,ColumnModel,BaseEditorView,ListOverlayControl,ControlGroup){return BaseEditorView.extend({moduleId:module.id,className:BaseEditorView.CLASS_NAME+" commandeditor-form-remove-non-numerical-values",initializeEmptyRequiredColumn:!0,initialize:function(){BaseEditorView.prototype.initialize.apply(this,arguments),this.children.listPicker=new ControlGroup({label:_("Field").t(),controlType:"ListOverlay",controlTypes:{ListOverlay:ListOverlayControl},size:"small",controlOptions:{model:this.model.command.requiredColumns.first(),modelAttribute:"id",toggleClassName:"btn-overlay-toggle",placeholder:_("Select a field...").t(),listOptions:{items:this.getFieldPickerItems(),selectMessage:_("Select a field...").t()}}})},render:function(){return $(BaseEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.listPicker.render().appendTo(this.$(".commandeditor-section-field")),this.appendButtons(),this.appendAdvancedEditorLink(),this},template:'\t                <div class="commandeditor-section-padded commandeditor-section-field"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/commandeditor/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1150);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/table/header/Master"),__webpack_require__("views/table/commandsidebar/Master"),__webpack_require__("views/table/commandeditor/Master"),__webpack_require__("views/table/resultscontainer/Master"),__webpack_require__("views/table/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,InitialDataModel,BaseView,FlashMessagesView,HeaderView,CommandSidebarView,CommandEditorView,ResultsContainerView,css){return BaseView.extend({moduleId:module.id,className:"table-builder",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.header=new HeaderView({model:{application:this.model.application,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,table:this.model.table,tablePristine:this.model.tablePristine,user:this.model.user,serverInfo:this.model.serverInfo,state:this.model.state},collection:{roles:this.collection.roles}}),this.children.commandSidebar=new CommandSidebarView({model:{application:this.model.application,table:this.model.table,state:this.model.state}}),this.children.commandEditor=new CommandEditorView({model:{application:this.model.application,appLocal:this.model.appLocal,config:this.model.config,resultJsonRows:this.model.resultJsonRows,state:this.model.state,serverInfo:this.model.serverInfo,table:this.model.table,tableAST:this.model.tableAST,user:this.model.user,currentPointJob:this.model.currentPointJob},collection:{appLocals:this.collection.appLocals,searchBNFs:this.collection.searchBNFs}}),this.children.resultsContainerView=new ResultsContainerView({model:{application:this.model.application,appLocal:this.model.appLocal,config:this.model.config,currentPointJob:this.model.currentPointJob,dataSummaryJob:this.model.dataSummaryJob,dataSummaryResultJsonRows:this.model.dataSummaryResultJsonRows,dataSummarySummary:this.model.dataSummarySummary,dataSummaryTimeline:this.model.dataSummaryTimeline,dataSummaryTimeRange:this.model.dataSummaryTimeRange,resultJsonRows:this.model.resultJsonRows,searchPointJob:this.model.searchPointJob,state:this.model.state,table:this.model.table,tableAST:this.model.tableAST,user:this.model.user},collection:{times:this.collection.times}}),this.children.flashMessages=new FlashMessagesView({model:{table:this.model.table},helperOptions:{postProcess:this.errorPostProcessing}}),_.each(this.children,function(child,key){child.deactivate({deep:!0})})},activate:function(options){var optionsClone=$.extend(!0,{},options||{});return optionsClone.deep=!1,this.active?BaseView.prototype.activate.call(this,optionsClone):(this.manageStateOfChildren(),BaseView.prototype.activate.call(this,optionsClone))},startListening:function(options){this.listenTo(this.model.state,"change:initialDataState",this.manageStateOfChildren)},manageStateOfChildren:function(){this.children.header.activate({deep:!0}),this.model.table.error.get("messages")?(this.children.flashMessages.activate({deep:!0}).$el.show(),this.children.commandSidebar.deactivate({deep:!0}).$el.hide(),this.children.commandEditor.deactivate({deep:!0}).$el.hide(),this.children.resultsContainerView.deactivate({deep:!0}).$el.hide()):(this.children.flashMessages.deactivate({deep:!0}).$el.hide(),this.model.state.get("initialDataState")===InitialDataModel.STATES.EDITING?(this.children.commandSidebar.deactivate({deep:!0}).$el.hide(),this.children.resultsContainerView.deactivate({deep:!0}).$el.hide(),this.children.commandEditor.activate({deep:!0})):(this.children.commandSidebar.activate({deep:!0}).$el.css("display","flex"),this.children.resultsContainerView.activate({deep:!0}).$el.css("display","flex"),this.children.commandEditor.activate({deep:!0})))},errorPostProcessing:function(allMessages){if(allMessages.length)return[{type:allMessages[0].get("type"),html:_("We cannot find the dataset you are looking for.\nPlease use the navigation above to continue.").t()}]},render:function(){return this.$el.html(this.compiledTemplate()),this.model.table.error.get("messages")?(this.children.flashMessages.render().appendTo(this.$(".content-container")),this.children.flashMessages.$el.css("display","flex")):(this.children.header.render().prependTo(this.$el),this.children.commandSidebar.appendTo(this.$(".content-container")),this.children.commandEditor.appendTo(this.$(".content-container")),this.children.resultsContainerView.render().appendTo(this.$(".content-container")),this.manageStateOfChildren()),this},template:'\t                <div class="content-container"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/AcceleratedWarning":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,Modal,route){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments)},events:$.extend({},Modal.prototype.events,{"click .cancel-button":function(e){var datasetsHref=route.datasets(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"));this.$(".cancel-button").attr("href",datasetsHref)}}),render:function(){var header=_("Edit Table").t(),cancelButton=$(Modal.BUTTON_CANCEL),continueButton=$(Modal.BUTTON_CONTINUE);return cancelButton.addClass("cancel-button"),cancelButton.removeAttr("data-dismiss"),continueButton.addClass("continue-button"),continueButton.addClass("pull-right btn-primary").removeClass("pull-left"),this.$el.html($(Modal.TEMPLATE)),this.$(Modal.HEADER_TITLE_SELECTOR).html(header),$(_.template(this.warningTemplate,{_:_})).appendTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.FOOTER_SELECTOR).append(continueButton),this.$(Modal.FOOTER_SELECTOR).append(cancelButton),this},warningTemplate:'\t                <div class="alert alert-warning">\t                    <i class="icon-alert"></i>\t                    <%- _("This table is accelerated. If you edit this table, the Splunk platform will rebuild its acceleration summary after you save it.").t() %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Datasets"),__webpack_require__("models/datasets/Table"),__webpack_require__("models/datasets/TableAST"),__webpack_require__("models/search/Job"),__webpack_require__("models/services/search/jobs/ResultJsonRows"),__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("models/shared/TimeRange"),__webpack_require__("views/Base"),__webpack_require__("views/table/initialdata/MethodPicker"),__webpack_require__("views/shared/searchbar/Master"),__webpack_require__("views/table/initialdata/Sidebar"),__webpack_require__("views/table/initialdata/jobstatus/Master"),__webpack_require__("views/shared/datasettable/Master"),__webpack_require__("views/shared/JobDispatchState"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("uri/route"),__webpack_require__("util/keyboard"),__webpack_require__("util/general_utils"),__webpack_require__(1151),__webpack_require__(1152),__webpack_require__(1153),__webpack_require__("views/table/initialdata/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,DatasetsCollection,TableModel,TableASTModel,JobModel,ResultJsonRowsModel,InitialDataCommand,TimeRangeModel,BaseView,MethodPickerView,SearchbarView,SidebarView,JobStatusView,TableView,JobDispatchStateView,FlashMessages,WaitSpinnerView,route,keyboard_utils,generalUtils,IndexesAndSourcetypesSVG,DatasetSVG,SearchSVG,css){return BaseView.extend({moduleId:module.id,className:"initial-data",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.searchJob=new JobModel({},{delay:JobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:JobModel.DEFAULT_KEEP_ALIVE_INTERVAL}),this.model.resultJsonRows=new ResultJsonRowsModel,this.model.timeRange=new TimeRangeModel({earliest:"",latest:"now"}),this.model.initialDataTable=new TableModel,this.model.initialDataTable.setFromSplunkD(this.model.table.toSplunkD()),this.model.commandClone=this.model.initialDataTable.commands.first(),this.model.basesearchTableAST=new TableASTModel,this.deferreds||(this.deferreds={}),this.deferreds.timeRange=$.Deferred(),this.children.methodPicker=new MethodPickerView({model:{command:this.model.commandClone,state:this.model.state}}),this.createSidebar(),this.children.table=new TableView({model:{ast:this.model.tableAST,config:this.model.config,dataset:this.model.initialDataTable,resultJsonRows:this.model.resultJsonRows,state:this.model.state},editingMode:!1,autoTypeColumns:!0,respectCommandIndex:!0}),this.children.jobStatus=new JobStatusView({model:{application:this.model.application,basesearchTableAST:this.model.basesearchTableAST,resultJsonRows:this.model.resultJsonRows,state:this.model.state,searchJob:this.model.searchJob,table:this.model.initialDataTable,user:this.model.user}}),this.children.searchbar=new SearchbarView({model:{application:this.model.application,state:this.model.state,user:this.model.user},collection:{searchBNFs:this.collection.searchBNFs},showTimeRangePicker:!1,maxSearchBarLines:5}),this.children.searchFlashMessage=new FlashMessages({model:this.model.commandClone}),this.children.waitSpinner=new WaitSpinnerView({color:"green",size:"medium",frameWidth:19})},createSidebar:function(){this.children.sidebar=new SidebarView({model:{application:this.model.application,appLocal:this.model.appLocal,basesearchTableAST:this.model.basesearchTableAST,command:this.model.commandClone,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,state:this.model.state,table:this.model.initialDataTable,tablePristine:this.model.table,timeRange:this.model.timeRange,user:this.model.user},collection:{customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems},deferreds:{timeRange:this.deferreds.timeRange}})},events:{"click .initial-data-cancel":function(e){var datasetsHref=route.datasets(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"));this.model.table.commands.first().isComplete()?(e.preventDefault(),this.model.commandClone.setFromCommandJSON(this.model.table.commands.first().toJSON()),this.model.state.set("initialDataState",InitialDataCommand.STATES.CANCELED)):this.$(".initial-data-cancel").attr("href",datasetsHref)}},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.children.waitSpinner.stop(),this.children.waitSpinner.$el.hide(),this.children.sidebar||(this.createSidebar(),this.children.sidebar.render().prependTo(this.$(".initial-data-horizontal-flex-container"))),this.updateBaseSPL(),this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions))},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.children.sidebar&&this.children.sidebar.remove(),delete this.children.sidebar,this.children.table.$el.hide(),this.children.jobStatus.$el.hide(),this.children.searchbar.$el.hide(),this.children.methodPicker.$el.hide(),this.children.searchFlashMessage.$el.hide(),this.children.waitSpinner.$el.show(),!this.children.waitSpinner.active&&this.children.waitSpinner.start(),this):BaseView.prototype.deactivate.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"change:search",function(model,value,options){this.setBaseSPLFromSearchBar(value)}),this.listenTo(this.model.commandClone,"change:selectedMethod",this.manageStateOfChildren),this.listenTo(this.model.commandClone,"change:selectedMethod",this.setSearchSPL),this.listenTo(this.model.commandClone,"change:baseSPL",this.manageStateOfChildren),this.listenTo(this.model.commandClone,"showEmptyField",this.showEmptyField),this.listenTo(this.model.commandClone,"hideEmptyField",this.hideEmptyField),this.listenTo(this.model.initialDataTable,"doneButtonClicked",this.handleDoneButtonClicked),this.listenTo(this.model.state,"updateBaseSPL",this.updateBaseSPL),this.listenTo(this.model.resultJsonRows,"change",function(){this.manageStateOfChildren({forceTableRender:!0})}),this.listenTo(this.model.state,"change:loading",this.handleLoadingChange)},updateBaseSPL:function(){var baseSPL=this.model.commandClone.generateBaseSearchSPL({skipValidation:!0});this.model.commandClone.set("baseSPL",baseSPL),this.setSearchSPL()},handleLoadingChange:function(){this.model.state.get("loading")?this.children.table.deactivate({deep:!0}):this.children.table.activate({deep:!0})},setSearchSPL:function(e){this.children.searchbar.setText(this.model.commandClone.get("baseSPL"))},setBaseSPLFromSearchBar:function(search){this.model.commandClone.set("baseSPL",search)},cleanSplunkDDataset:function(savedDataset){var entry=savedDataset.entry[0];delete entry.name,delete entry.id,delete entry.links.alternate},handleDoneButtonClicked:function(){var updateDeferred,inmemCommandJSON,realTableFirstCommandJSON,clonedDataset;this.model.commandClone.clearUnchosenAttributes(),this.model.commandClone.get("selectedMethod")===InitialDataCommand.METHODS.DATASET&&"clone"===this.model.state.get("datasetOperationType")?(clonedDataset=this.model.commandClone.selectedDataset.toSplunkD(),this.cleanSplunkDDataset(clonedDataset),this.model.table.setFromSplunkD(clonedDataset)):(updateDeferred=this.model.commandClone.updateSPL({applicationModel:this.model.application}),$.when(updateDeferred).always(function(){inmemCommandJSON=generalUtils.stripUndefinedAttrs(this.model.commandClone.toJSON()),realTableFirstCommandJSON=generalUtils.stripUndefinedAttrs(this.model.table.commands.first().toJSON()),_.isEqual(inmemCommandJSON,realTableFirstCommandJSON)?this.model.state.unset("initialDataState"):this.model.table.commands.first().setFromCommandJSON(_.defaults(inmemCommandJSON,{selectedDatasetName:void 0,selectedDatasetType:void 0,editorValues:[],baseSPL:void 0}),{skipClone:!0})}.bind(this)))},manageStateOfChildren:function(options){options=options||{};var method=this.model.commandClone.get("selectedMethod");if(this.children.methodPicker.$el.css("display","flex"),this.children.jobDispatchState&&(this.children.jobDispatchState.deactivate({deep:!0}).remove(),delete this.children.jobDispatchState),method===InitialDataCommand.METHODS.SEARCH?(this.children.searchbar.activate({deep:!0}).$el.css("display","flex"),this.children.searchbar.searchFieldFocus(),this.children.searchFlashMessage.activate({deep:!0}),this.model.commandClone.get("baseSPL")?this.children.sidebar.activate({deep:!0}).$el.css("display","flex"):this.children.sidebar.deactivate({deep:!0}).$el.hide()):_.isUndefined(method)?(this.children.sidebar.deactivate({deep:!0}).$el.hide(),this.children.searchbar.deactivate({deep:!0}).$el.hide(),this.children.searchFlashMessage.deactivate({deep:!0}).$el.hide()):(this.children.sidebar.activate({deep:!0}).$el.css("display","flex"),this.children.searchbar.deactivate({deep:!0}).$el.hide(),this.children.searchFlashMessage.deactivate({deep:!0}).$el.hide()),this.model.searchJob.isNew())switch(this.children.jobStatus.deactivate({deep:!0}).$el.hide(),this.children.table.deactivate({deep:!0}).$el.hide(),method){case InitialDataCommand.METHODS.DATASET:this.$(".empty-datasets").show(),this.$(".empty-indexes-and-sourcetypes").hide(),this.$(".empty-search").hide(),this.$(".empty-field > svg.dataset").show(),this.$(".empty-field > svg.indexes-sourcetypes").hide(),this.$(".empty-field > svg.search").hide(),this.model.state.get("datasetOperationType")===DatasetsCollection.OPERATION.CLONE?(this.$(".dataset-selection-clone-text").show(),this.$(".dataset-clone-header").show(),this.$(".dataset-selection-extend-text").hide(),this.$(".dataset-extend-header").hide(),this.$(".dataset-method-selection-text").hide(),this.$(".dataset-extend-clone-header").hide()):this.model.state.get("datasetOperationType")===DatasetsCollection.OPERATION.EXTEND?(this.$(".dataset-selection-clone-text").hide(),this.$(".dataset-clone-header").hide(),this.$(".dataset-selection-extend-text").show(),this.$(".dataset-extend-header").show(),this.$(".dataset-method-selection-text").hide(),this.$(".dataset-extend-clone-header").hide()):(this.$(".dataset-selection-clone-text").hide(),this.$(".dataset-clone-header").hide(),this.$(".dataset-selection-extend-text").hide(),this.$(".dataset-extend-header").hide(),this.$(".dataset-method-selection-text").show(),this.$(".dataset-extend-clone-header").show());break;case InitialDataCommand.METHODS.INDEXES_AND_SOURCETYPES:this.$(".empty-datasets").hide(),this.$(".empty-indexes-and-sourcetypes").show(),this.$(".empty-search").hide(),this.$(".empty-field > svg.dataset").hide(),this.$(".empty-field > svg.search").hide(),this.$(".empty-field > svg.indexes-sourcetypes").show();break;case InitialDataCommand.SEARCH:this.$(".empty-datasets").hide(),this.$(".empty-indexes-and-sourcetypes").hide(),this.$(".empty-search").show(),this.$(".empty-field > svg.dataset").hide(),this.$(".empty-field > svg.search").show(),this.$(".empty-field > svg.indexes-sourcetypes").hide();break;default:this.$(".empty-datasets").hide(),this.$(".empty-indexes-and-sourcetypes").hide(),this.$(".empty-search").hide(),this.$(".empty-field > svg").hide()}else this.children.jobStatus.activate({deep:!0}).$el.css("display",""),options.forceTableRender?(this.children.table.deactivate({deep:!0}).remove(),this.children.table.activate({deep:!0}).render().appendTo(this.$(".initial-data-results-container"))):this.children.table.activate({deep:!0}).$el.css("display",""),this.$(".empty-indexes-and-sourcetypes").hide(),this.$(".empty-datasets").hide(),this.$(".empty-search").hide(),this.model.resultJsonRows.hasRows()||(this.children.jobDispatchState=new JobDispatchStateView({model:{application:this.model.application,searchJob:this.model.searchJob},mode:this.model.basesearchTableAST.isTransforming()?"results":""}),this.$(".initial-data-results-container").length&&this.children.jobDispatchState.activate({deep:!0}).render().prependTo(this.$(".initial-data-results-container")))},showEmptyField:function(){this.$(".empty-field").css("display",""),this.children.table.$el.hide(),this.children.jobDispatchState&&this.children.jobDispatchState.$el.hide()},hideEmptyField:function(){this.$(".empty-field").hide(),this.model.searchJob.isNew()||this.children.table.$el.css("display",""),this.children.jobDispatchState&&this.children.jobDispatchState.$el.css("display","")},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({_:_})),this.children.waitSpinner.render().prependTo(this.$el).$el.hide(),this.children.methodPicker.render().prependTo(this.$(".initial-data-vertical-flex-container")),this.children.searchbar.render().insertBefore(this.$(".initial-data-horizontal-flex-container")),this.children.searchFlashMessage.render().appendTo(this.$(".search-bar-wrapper")),this.children.sidebar.render().prependTo(this.$(".initial-data-horizontal-flex-container")),this.children.jobStatus.render().appendTo(this.$(".initial-data-results-container")),this.$(".initial-data-results-container").append(_.template(this.emptyIndexesAndSourcetypesTemplate,{IconSVG:IndexesAndSourcetypesSVG})),this.$(".initial-data-results-container").append(_.template(this.emptyDatasetsTemplate,{IconSVG:DatasetSVG})),this.$(".initial-data-results-container").append(_.template(this.emptySearchTemplate,{IconSVG:SearchSVG})),this.$(".initial-data-results-container").append(_.template(this.emptyFieldTemplate,{IndexesAndSourcetypesSVG:IndexesAndSourcetypesSVG,DatasetSVG:DatasetSVG,SearchSVG:SearchSVG})),this.$(".empty-field").hide(),this.$(".empty-field > svg").hide(),this.children.table.render().appendTo(this.$(".initial-data-results-container")),this.children.jobDispatchState&&this.children.jobDispatchState.activate({deep:!0}).render().prependTo(this.$(".initial-data-results-container"))),this},template:'\t                <div class="initial-data-vertical-flex-container">\t                    <div class="initial-data-horizontal-flex-container">\t                        <div class="initial-data-results-container">\t                    </div>\t                </div>\t                <a class="btn initial-data-cancel">\t                    <%- _("Cancel").t() %>\t                </a>\t            ',emptyIndexesAndSourcetypesTemplate:'\t                <div class="empty-indexes-and-sourcetypes">\t                    <%= IconSVG %>\t                    <h3> \t                        <%- _("You do not have any indexes or source types selected.").t() %>\t                    </h3>\t                    <%- _("Start by selecting a preferred index and source types.").t() %>\t                </div>\t            ',emptyDatasetsTemplate:'\t                <div class="empty-datasets">\t                    <%= IconSVG %>\t                    <h3 class="dataset-extend-clone-header"> \t                        <%- _("You do not have any datasets selected to extend or clone.").t() %>\t                    </h3>\t                    <h3 class="dataset-clone-header"> \t                        <%- _("You do not have any datasets selected to clone.").t() %>\t                    </h3>\t                    <h3 class="dataset-extend-header"> \t                        <%- _("You do not have any datasets selected to extend.").t() %>\t                    </h3>\t                    <span class="dataset-method-selection-text"><%- _("Start by selecting a method.").t() %></span>\t                    <span class="dataset-selection-extend-text"><%- _("Select an existing dataset to extend.").t() %></span>\t                    <span class="dataset-selection-clone-text"><%- _("Select an existing dataset to clone.").t() %></span>\t                </div>\t            ',emptySearchTemplate:'\t                <div class="empty-search">\t                    <%= IconSVG %>\t                    <h3> \t                         <%- _("You do not have a search defined.").t() %>\t                    </h3>\t                    <%- _("Start by entering a search string.").t() %>\t                </div>\t            ',emptyFieldTemplate:'\t                <div class="empty-field">\t                    <%= IndexesAndSourcetypesSVG %>\t                    <%= DatasetSVG %>\t                    <%= SearchSVG %>\t                    <h3> \t                        <%- _("You do not have any columns in this table.").t() %>\t                    </h3>\t                    <%- _("Start by selecting a field.").t() %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/Sidebar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("views/Base"),__webpack_require__("views/table/initialdata/DatasetContent"),__webpack_require__("views/table/initialdata/IndexesAndSourcetypesContent"),__webpack_require__("views/table/initialdata/SearchContent")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnsCollection,ColumnModel,InitialDataCommand,BaseView,DatasetContentView,IndexesAndSourcetypesContentView,SearchContentView){return BaseView.extend({moduleId:module.id,className:"initial-data-sidebar",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var columnsJSON,datasetColumns,indexesAndSourcetypesColumns,searchColumns,command=this.model.command;command&&(columnsJSON=command.columns.toJSON(),datasetColumns=new ColumnsCollection(columnsJSON),indexesAndSourcetypesColumns=new ColumnsCollection(columnsJSON),searchColumns=new ColumnsCollection(columnsJSON)),this.deferreds=this.options.deferreds,this.children.datasetContent=new DatasetContentView({model:{application:this.model.application,appLocal:this.model.appLocal,basesearchTableAST:this.model.basesearchTableAST,command:this.model.command,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,state:this.model.state,table:this.model.table,tablePristine:this.model.tablePristine,timeRange:this.model.timeRange,user:this.model.user},collection:{columns:datasetColumns,customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems},deferreds:{timeRange:this.deferreds.timeRange}}),this.children.indexesAndSourcetypesContent=new IndexesAndSourcetypesContentView({model:{application:this.model.application,basesearchTableAST:this.model.basesearchTableAST,command:this.model.command,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,
state:this.model.state,table:this.model.table,tablePristine:this.model.tablePristine,timeRange:this.model.timeRange},collection:{columns:indexesAndSourcetypesColumns,customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems},deferreds:{timeRange:this.deferreds.timeRange}}),this.children.searchContent=new SearchContentView({model:{application:this.model.application,basesearchTableAST:this.model.basesearchTableAST,command:this.model.command,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,state:this.model.state,table:this.model.table,tablePristine:this.model.tablePristine,timeRange:this.model.timeRange},collection:{columns:searchColumns,customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems},deferreds:{timeRange:this.deferreds.timeRange}})},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions))},startListening:function(options){this.listenTo(this.model.command,"change:selectedMethod",this.manageStateOfChildren)},manageStateOfChildren:function(){var method=this.model.command.get("selectedMethod");switch(method){case InitialDataCommand.METHODS.DATASET:this.children.datasetContent.activate({deep:!0}).$el.css("display",""),this.children.indexesAndSourcetypesContent.deactivate({deep:!0}).$el.hide(),this.children.searchContent.deactivate({deep:!0}).$el.hide();break;case InitialDataCommand.METHODS.INDEXES_AND_SOURCETYPES:this.children.datasetContent.deactivate({deep:!0}).$el.hide(),this.children.indexesAndSourcetypesContent.activate({deep:!0}).$el.css("display",""),this.children.searchContent.deactivate({deep:!0}).$el.hide();break;default:this.children.datasetContent.deactivate({deep:!0}).$el.hide(),this.children.indexesAndSourcetypesContent.deactivate({deep:!0}).$el.hide(),this.children.searchContent.activate({deep:!0}).$el.css("display","")}},render:function(){return this.children.datasetContent.render().appendTo(this.$el),this.children.indexesAndSourcetypesContent.render().appendTo(this.$el),this.children.searchContent.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/DatasetContent":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/PolymorphicDataset"),__webpack_require__("collections/datasets/Datasets"),__webpack_require__("views/table/initialdata/BaseContent"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("views/table/initialdata/DatasetInfo"),__webpack_require__("views/shared/controls/ControlGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,PolymorphicDatasetModel,DatasetsCollection,BaseContentView,ListPickerOverlay,DatasetInfoView,ControlGroup){return BaseContentView.extend({moduleId:module.id,className:"dataset-content",PAGE_COUNT:50,initialize:function(){BaseContentView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{},this.collection.datasets=new DatasetsCollection,this.model.state.set("count",this.PAGE_COUNT,{silent:!0}),this.model.command&&this.model.command.get("selectedDatasetName")&&!this.model.state.get("datasetOperationType")&&this.model.state.set("datasetOperationType",DatasetsCollection.OPERATION.EXTEND),this.children.operationTypeRadio=new ControlGroup({controlOptions:{model:this.model.state,modelAttribute:"datasetOperationType",items:[{label:_("Clone").t(),value:DatasetsCollection.OPERATION.CLONE,tooltip:_("Only table datasets can be cloned.").t()},{label:_("Extend").t(),value:DatasetsCollection.OPERATION.EXTEND,tooltip:_("All dataset types can be extended.").t()}],showAsButtonGroup:!1},controlType:"SyntheticRadio",label:_("Select a method:").t(),additionalClassNames:"extend-clone-radio-wrapper",controlClass:"extend-clone-radio"})},events:$.extend({},BaseContentView.prototype.events,{"click .dataset-picker":function(e){e.preventDefault(),this.openDatasetPicker()},"mouseover .list-picker-list > li > a":function(e){e.preventDefault(),this.handleDatasetHover(e)}}),activate:function(options){return options=options||{},this.active?BaseContentView.prototype.activate.apply(this,arguments):(this.model.state.get("datasetOperationType")&&this.initializeDatasets(options),BaseContentView.prototype.activate.call(this,options))},startListening:function(options){BaseContentView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.state,"change:offset",_.debounce(function(){this.fetchDatasets()}.bind(this),0),this),this.listenTo(this.model.state,"change:datasetOperationType",this.handleOperationTypeChange)},handleOperationTypeChange:function(model,value,options){options=options||{},options.unset||(this.fetchAndInitializeDatasets(options),options.openDatasetPicker!==!1&&this.openDatasetPicker({operationTypeChanged:!0}))},fetchAndInitializeDatasets:function(options){options=options||{},delete this.datasetsFetchDeferred,this.initializeDatasets(options)},initializeDatasets:function(options){options=options||{},this.datasetsFetchDeferred&&"resolved"===this.datasetsFetchDeferred.state()||this.fetchDatasets({onlyTables:this.model.state.get("datasetOperationType")===DatasetsCollection.OPERATION.CLONE}),this.model.command.selectedDataset||(options.waitDeferred=this.createSelectedDataset())},fetchDatasets:function(options){options=options||{};var data={app:this.model.application.get("app"),owner:this.model.application.get("owner"),sort_mode:["natural","natural"],count:this.PAGE_COUNT,offset:this.model.state.get("offset")};options.onlyTables&&(data.search=DatasetsCollection.TABLES_ONLY_SEARCH_STRING),this.datasetsFetchDeferred=this.collection.datasets.fetch({data:data})},createSelectedDataset:function(){var fromPayloads,selectedDatasetObject,selectedDataset,astDeferred=this.fetchBasesearchTableAST(),doneDeferred=$.Deferred();return $.when(astDeferred).then(function(){fromPayloads=this.model.basesearchTableAST.getFromCommandObjectPayloads(),selectedDatasetObject=fromPayloads.length&&fromPayloads[fromPayloads.length-1],selectedDatasetObject&&selectedDatasetObject.eai?(selectedDataset=new PolymorphicDatasetModel(selectedDatasetObject.eai,{parse:!0}),this.model.command.resetSelectedDataset(selectedDataset)):this.model.command.clearSelectedDataset(),doneDeferred.resolve()}.bind(this)),doneDeferred},openDatasetPicker:function(options){options=options||{};var selectedValues;!options.operationTypeChanged&&this.model.command.selectedDataset&&(selectedValues=[this.model.command.selectedDataset.id]),this.children.datasetList&&this.children.datasetList.deactivate({deep:!0}).remove(),this.children.datasetList=new ListPickerOverlay({collection:{items:this.collection.datasets},model:{state:this.model.state},paginatorType:ListPickerOverlay.PAGINATOR_TYPES.SPLUNKD_COLLECTION,selectMessage:_("Select a dataset...").t(),selectedValues:selectedValues,deferred:this.datasetsFetchDeferred,required:!1}),this.children.datasetList.activate({deep:!0}).render().appendTo(this.$el),this.children.datasetList.slideIn(),this.listenTo(this.children.datasetList,"selectionDidChange",this.handleDatasetSelection),this.listenTo(this.children.datasetList,"listPickerBackSelected",function(){this.handleDatasetCancellation(options)})},handleDatasetCancellation:function(options){options=options||{},options.operationTypeChanged&&this.model.command.get("selectedDatasetName")&&(this.model.state.get("datasetOperationType")===DatasetsCollection.OPERATION.CLONE?this.model.state.set("datasetOperationType",DatasetsCollection.OPERATION.EXTEND,{openDatasetPicker:!1}):this.model.state.set("datasetOperationType",DatasetsCollection.OPERATION.CLONE,{openDatasetPicker:!1}),delete options.operationTypeChanged)},handleDatasetSelection:function(){var selectedDataset=this.collection.datasets.get(this.children.datasetList.getSelectedValue());this.model.command.resetSelectedDataset(selectedDataset),this.collection.columns.reset(this.model.command.columns.toJSON()),this.removeFieldsPicker(),this.renderDatasetName(),this.handleSearchChange(),this.model.state.trigger("updateBaseSPL"),this.showDoneButton()},handleSearchChange:function(){var options={skipFieldsFetch:this.model.command.selectedDataset&&this.model.command.selectedDataset.isFixedFields()};BaseContentView.prototype.handleSearchChange.call(this,options)},renderDatasetName:function(){this.$(".chosen-dataset").remove(),$(this.compiledTemplate({_:_,datasetName:this.model.command.get("selectedDatasetDisplayName")})).insertAfter(this.$(".extend-clone-radio-wrapper"))},handleDatasetHover:function(e){var $target=$(e.currentTarget),datasetId=$target.data("value"),datasetModel=this.collection.datasets.get(datasetId);this.removeDatasetInfo(),!$target.hasClass("disabled")&&datasetModel&&(this.children.datasetInfo=new DatasetInfoView({model:{dataset:datasetModel,application:this.model.application,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles},direction:"right",onHiddenRemove:!0}),this.children.datasetInfo.activate({deep:!0}).render().appendTo($("body")),this.children.datasetInfo.show($target,{$onOpenFocus:$target}),this.children.datasetInfo.$el.css("margin-left",this.calculateMarginWithScrollbar($target.closest("ul"),this.children.datasetInfo.$el)+"px"))},calculateMarginWithScrollbar:function($target,$container){var scrollWidth=$target.outerWidth()-$target.get(0).clientWidth,arrowLength=$container.children(".arrow").outerWidth();return scrollWidth+arrowLength},removeDatasetInfo:function(){this.children.datasetInfo&&this.children.datasetInfo.deactivate({deep:!0}).remove()},render:function(){return this.children.operationTypeRadio.render().prependTo(this.$el),this.model.command.get("selectedDatasetDisplayName")&&this.renderDatasetName(),this.appendDoneButton(),this.hideDoneButton(),this},template:'\t                <div class="chosen-dataset">\t                    <div class="dataset-label">\t                        <%= _("Dataset:").t() %>\t                    </div>\t                    <a href="#" class="dataset-picker">\t                        <span class="dataset-name"><%- datasetName %></span>\t                        <icon class="icon-chevron-right"></icon>\t                    </a>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/BaseContent":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/search/Job"),__webpack_require__("models/shared/fetchdata/ResultsFetchData"),__webpack_require__("models/datasets/Summary"),__webpack_require__("models/datasets/TableAST"),__webpack_require__("views/Base"),__webpack_require__("views/table/initialdata/FieldsPicker"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("util/general_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,JobModel,ResultsFetchDataModel,SummaryModel,TableASTModel,BaseView,FieldsPicker,FlashMessages,generalUtils,splunkUtil){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var pristineColumns=this.model.table.commands.length&&this.model.table.commands.first().columns;pristineColumns&&pristineColumns.length&&(this.hasInitialColumns=!0),this.model.fieldsSummarySearchJob=new JobModel({},{delay:JobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:JobModel.DEFAULT_KEEP_ALIVE_INTERVAL}),this.model.fieldsSummary=new SummaryModel,this.deferreds=this.options.deferreds},activate:function(options){return options=options||{},this.active?BaseView.prototype.activate.apply(this,arguments):($.when(options.waitDeferred).always(function(){this.fetchTimeRange(),this.handleSearchChange(),this.handleColumnsChange()}.bind(this)),BaseView.prototype.activate.apply(this,arguments))},events:{"click .initial-data-done":function(e){e.preventDefault(),this.model.table.trigger("doneButtonClicked")}},startListening:function(options){this.listenTo(this.collection.columns,"add remove",this.handleColumnsChange),this.listenTo(this.model.table.entry.content,"change:dataset.display.diversity",this.handleSearchChange),this.listenTo(this.model.table.entry.content,"change:dataset.display.limiting",this.handleSearchChange),this.listenTo(this.collection.columns,"add remove",this.handleEmptyFields),this.listenTo(this.model.resultJsonRows,"change",this.handleEmptyFields),this.listenTo(this.model.table.entry.content,"newSample",function(){this.deferreds.timeRange=$.Deferred(),this.fetchTimeRange(),this.handleSearchChange()})},handleSearchChange:function(options){var isTransforming,diversityComponent,searchToRun,astDeferred,clearModelsDoneDeferred,updateDoneDeferred,spl=this.model.command.generateBaseSearchSPL({skipValidation:!0});options=options||{},_.defaults(options,{preview:!0,skipFieldsFetch:!1,auto_cancel:JobModel.DEFAULT_AUTO_CANCEL}),this.model.searchJob.isNew()||(clearModelsDoneDeferred=this.clearResultsModels()),astDeferred=this.fetchBasesearchTableAST(),$.when(clearModelsDoneDeferred,astDeferred,this.deferreds.timeRange).then(function(){isTransforming=this.model.basesearchTableAST.isTransforming(),isTransforming&&(this.hasInitialColumns=!1),diversityComponent=this.model.table.getDiversitySearchComponent({isTransforming:isTransforming}).join(" | "),searchToRun=diversityComponent.length?spl&&spl+" | "+diversityComponent:spl,this.listenTo(this.model.searchJob,"prepared",function(){this.model.searchJob.registerJobProgressLinksChild(JobModel.RESULTS_PREVIEW,this.model.resultJsonRows,this.fetchResultJSONRows,this)}),searchToRun?(updateDoneDeferred=this.model.command.updateSPL({applicationModel:this.model.application}),$.when(updateDoneDeferred).always(function(){if(this.model.command.isValid()){if(this.showDoneButton(),isTransforming||this.hasInitialColumns||(this.collection.columns.setInitialColumns({pristineColumns:this.model.tablePristine.commands.first().columns}),this.hasInitialColumns=!0),this.collection.columns.setExtraColumns({pristineColumns:this.model.tablePristine.commands.first().columns,includeIndex:options.includeIndex,includeSourcetype:options.includeSourcetype}),options.skipFieldsFetch||this.fetchFieldsForPicker(),!this.model.searchJob.isNew())throw new Error("Old jobs did not get cleared!");this.model.searchJob.save({},{data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:searchToRun,preview:options.preview,earliest_time:"",latest_time:this.model.timeRange.get("latest_epoch"),auto_cancel:options.auto_cancel,sample_ratio:this.model.table.getDispatchRatio({isTransforming:isTransforming}),check_risky_command:this.shouldCheckRiskyCommand(),auto_finalize_ec:this.model.table.getEventLimit({isTransforming:isTransforming}),provenance:"UI:TableEditor"},success:function(model,response){this.model.searchJob.isPreparing()||this.model.searchJob.registerJobProgressLinksChild(JobModel.RESULTS_PREVIEW,this.model.resultJsonRows,this.fetchResultJSONRows,this),this.model.searchJob.startPolling()}.bind(this)})}else this.hideDoneButton(),this.removeFieldsPicker()}.bind(this))):this.removeFieldsPicker()}.bind(this))},handleColumnsChange:function(){this.model.command.columns.reset(this.collection.columns.toJSON()),this.fetchResultJSONRows()},handleEmptyFields:function(){this.model.searchJob.isNew()||0!==this.collection.columns.length?(this.model.command.trigger("hideEmptyField"),this.showDoneButton()):(this.model.command.trigger("showEmptyField"),this.hideDoneButton())},fetchResultJSONRows:function(options){if(options=options||{},this.model.searchJob.isDone()){this.model.state.set("loading",!0);var fetchDataModel=new ResultsFetchDataModel,columns=this.collection.columns.columnsListToString()||"*",data=$.extend(fetchDataModel.toJSON(),{show_metadata:!1,include_null_fields:!0,field_list:columns,time_format:"%s.%Q"});$.extend(!0,data,options),this.model.resultJsonRows.safeFetch({data:data,success:function(){this.model.state.set("loading",!1)}.bind(this),error:function(){this.model.state.set("loading",!1)}.bind(this)})}},fetchFieldsForPicker:function(){var fieldsJobDeferred,clearModelsDoneDeferred=this.clearSummaryModels();this.fieldsSummaryDoneDeferred=$.Deferred(),$.when(clearModelsDoneDeferred).then(function(){if(this.model.basesearchTableAST.isTransforming())this.fieldsSummaryDoneDeferred.resolve();else{if(this.listenTo(this.model.fieldsSummarySearchJob,"prepared",this.registerJobProgressLinks),!this.model.fieldsSummarySearchJob.isNew())throw new Error("Old jobs did not get cleared!");fieldsJobDeferred=this.model.fieldsSummarySearchJob.save({},{data:{search:this.model.command.generateBaseSearchSPL()+" | head 1000",earliest_time:this.model.fieldsSummarySearchJob.getDispatchEarliestTimeOrAllTime(),latest_time:this.model.fieldsSummarySearchJob.getDispatchLatestTimeOrAllTime(),preview:!1,app:this.model.application.get("app"),owner:this.model.application.get("owner"),ui_dispatch_app:this.model.application.get("app"),provenance:"UI:TableEditor"}}),$.when(fieldsJobDeferred).then(function(){this.model.fieldsSummarySearchJob.isPreparing()||this.registerJobProgressLinks(),this.model.fieldsSummarySearchJob.startPolling()}.bind(this)),this.listenToOnce(this.model.fieldsSummary,"sync",function(){this.fieldsSummaryDoneDeferred.resolve()}.bind(this))}this.renderFieldsPicker()}.bind(this))},fetchTimeRange:function(){"resolved"!==this.deferreds.timeRange.state()&&(this.model.timeRange.set({latest:"now",latest_epoch:void 0,sample_seed:void 0}),this.model.timeRange.save({},{validate:!1,success:function(model,response){this.deferreds.timeRange.resolve()}.bind(this),error:function(model,response){this.deferreds.timeRange.resolve()}.bind(this)}))},registerJobProgressLinks:function(){this.model.fieldsSummarySearchJob.registerJobProgressLinksChild(JobModel.SUMMARY,this.model.fieldsSummary,this.fetchFieldsSummary,this)},fetchFieldsSummary:function(){var resultPreviewCount;this.model.fieldsSummarySearchJob.isDone()&&(resultPreviewCount=this.model.fieldsSummarySearchJob.entry.content.get("resultPreviewCount"),_.isNumber(resultPreviewCount)&&resultPreviewCount>0?this.model.fieldsSummary.safeFetch({data:{min_freq:0,earliest_time:this.model.fieldsSummarySearchJob.getDispatchEarliestTimeOrAllTime(),latest_time:this.model.fieldsSummarySearchJob.getDispatchLatestTimeOrAllTime()}}):this.fieldsSummaryDoneDeferred.resolve())},fetchBasesearchTableAST:function(options){options=options||{};var astDeferred=$.Deferred(),basesearchSPL=this.model.command.generateBaseSearchSPL(),basesearchSPLWithLeadingSearch=basesearchSPL&&splunkUtil.addLeadingSearchCommand(basesearchSPL,!0),currentSPL=options.currentSPL||basesearchSPLWithLeadingSearch,astSPL=this.model.basesearchTableAST.get("spl");return _.isEmpty(currentSPL)||currentSPL===astSPL&&this.model.basesearchTableAST.get("ast")?(astDeferred.resolve(),astDeferred):(this.model.basesearchTableAST.fetchAbort(),this.model.basesearchTableAST.clear(),this.model.basesearchTableAST.set({spl:currentSPL}),this.model.basesearchTableAST.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){astDeferred.resolve()}.bind(this),error:function(model,response){astDeferred.resolve()}.bind(this)},options),astDeferred)},clearSummaryModels:function(){var searchJobModelDeferred=this.clearSearchJobModel(this.model.fieldsSummarySearchJob),clearSummaryDoneDeferred=$.Deferred();return $.when(searchJobModelDeferred).then(function(){this.model.fieldsSummary.fetchAbort(),this.model.fieldsSummary.off(null,null,this),this.model.fieldsSummary.clear(),clearSummaryDoneDeferred.resolve()}.bind(this)),clearSummaryDoneDeferred},clearResultsModels:function(){var searchJobModelDeferred=this.clearSearchJobModel(this.model.searchJob),clearResultsDoneDeferred=$.Deferred();return $.when(searchJobModelDeferred).then(function(){this.model.resultJsonRows.fetchAbort(),this.model.resultJsonRows.clear(),clearResultsDoneDeferred.resolve()}.bind(this)),clearResultsDoneDeferred},clearSearchJobModel:function(searchJobModel){var destroyDeferred,clearSearchDfd=$.Deferred();return searchJobModel.isNew()?clearSearchDfd.resolve():(searchJobModel.fetchAbort(),searchJobModel.off(null,null,this),destroyDeferred=searchJobModel.destroy(),destroyDeferred&&destroyDeferred.always(function(){searchJobModel.clear(),clearSearchDfd.resolve()}.bind(this))),clearSearchDfd},renderFieldsPicker:function(){this.removeFieldsPicker(),this.children.fieldsPicker=new FieldsPicker({model:{ast:this.model.basesearchTableAST,command:this.model.command,fieldsSummary:this.model.fieldsSummary,state:this.model.state,table:this.model.table,tablePristine:this.model.tablePristine},collection:{columns:this.collection.columns,customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems},deferred:[this.fieldsSummaryDoneDeferred,this.astDeferred]}),this.children.fieldsPicker.activate({deep:!0}).render().insertBefore(this.$(".initial-data-done"))},removeFieldsPicker:function(){this.children.fieldsPicker&&(this.children.fieldsPicker.deactivate({deep:!0}).remove(),delete this.children.fieldsPicker)},shouldCheckRiskyCommand:function(){return this.model.state.get("pageViewCount")<=1},appendDoneButton:function(){var doneButton='<a href="#" class="btn btn-primary initial-data-done">'+_("Done").t()+"</a>";$(doneButton).appendTo(this.$el)},hideDoneButton:function(){this.$(".initial-data-done").hide()},showDoneButton:function(){this.$(".initial-data-done").show()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/Summary":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/search/jobs/Summary")],__WEBPACK_AMD_DEFINE_RESULT__=function(SummaryModel){return SummaryModel.extend({initialize:function(){SummaryModel.prototype.initialize.apply(this,arguments)}},{Fields:SummaryModel.Fields.extend({getFieldPickerItems:function(){return this.map(function(field){return{value:field.get("name")}})}})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/FieldsPicker":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/table/commandeditor/listpicker/Master"),__webpack_require__("views/table/initialdata/FieldInfo"),__webpack_require__("views/table/modals/WarningDialog"),__webpack_require__("views/table/modals/FieldRemovalDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnModel,BaseView,ListPicker,FieldInfoView,WarningDialog,FieldRemovalDialog){return BaseView.extend({module:module.id,className:"fields-picker-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var staticItems,selectedValues=this.collection.columns.pluck("name");this.existingColumnNames=selectedValues.slice(),!this.model.ast||this.model.ast.isTransforming()||this.model.ast.getFromCommandObjectPayloads().length||(staticItems=[{value:"_time",isDisabled:!0},{value:"_raw"}]),this.children.fieldsPicker=new ListPicker({model:{ast:this.model.ast,fieldsSummary:this.model.fieldsSummary,command:this.model.command,state:this.model.state},collection:{customAddedFieldPickerItems:this.collection.customAddedFieldPickerItems},multiselectMessage:_("Field name").t(),items:_.map(this.collection.columns.pluck("name"),function(item){return{value:item}},this),staticItems:staticItems,selectedValues:selectedValues,multiselect:!0,sort:!0,additionalClassNames:"fields-picker",deferred:this.options.deferred,includeAddItem:!0})},events:{"mouseover .list-picker-list > li > a":function(e){e.preventDefault(),this.handleFieldHover(e)},"mouseover .list-picker-heading":function(e){this.removeFieldInfo(),e.preventDefault()}},startListening:function(options){this.listenTo(this.children.fieldsPicker,"selectionDidChange",_.debounce(this.handleFieldSelection),1e3)},getFieldModel:function(selectedColumnName){if(this.model.fieldsSummary)return this.model.fieldsSummary.fields.find(function(field){return field.get("name")===selectedColumnName})},handleFieldSelection:function(){var fieldNameCollisionError,addedColumnModels,scrollToModel,futureRequiredFields,currentColumns=this.collection.columns,currentColumnNames=currentColumns.pluck("name"),selectedFieldNames=this.children.fieldsPicker.getSelectedValues(),fieldNamesToAdd=_.difference(selectedFieldNames,currentColumnNames),fieldNamesToRemove=_.difference(currentColumnNames,selectedFieldNames),fieldObjectsToAdd=[],fieldModelsToRemove=[],callback=function(){currentColumns.remove(fieldModelsToRemove),this.children.fieldsPicker.setSelectedValues(currentColumns.pluck("name"))}.bind(this);fieldNamesToAdd.length?(this.model.tablePristine.setCollidingFieldNames({fieldsToAdd:_.difference(fieldNamesToAdd,this.existingColumnNames),commandEdited:this.model.command}),fieldNameCollisionError=this.model.command.validateCollisionFields(),fieldNameCollisionError?(this.children.collisionFieldDialog=new WarningDialog({message:fieldNameCollisionError}),this.children.collisionFieldDialog.activate({deep:!0}).render().appendTo($("body")).show(),this.children.fieldsPicker.setSelectedValues(currentColumnNames)):(_.each(fieldNamesToAdd,function(fieldName){fieldObjectsToAdd.push({columnName:fieldName,fieldsSummaryModel:this.getFieldModel(fieldName)})},this),addedColumnModels=currentColumns.addColumns(fieldObjectsToAdd,{pristineColumns:this.model.tablePristine.commands.first().columns}),scrollToModel=_.isArray(addedColumnModels)?_.last(addedColumnModels):addedColumnModels,this.setScrollLeftToAddedColumn(scrollToModel)),this.model.command.unset("collisionFields")):fieldNamesToRemove.length&&(_.each(fieldNamesToRemove,function(fieldName){fieldModelsToRemove.push(currentColumns.find(function(columnModel){return columnModel.get("name")===fieldName},this))},this),futureRequiredFields=this.model.table.commands.validateSubsequentCommands(_.pluck(fieldModelsToRemove,"id"),this.model.table.getCurrentCommandIdx()),futureRequiredFields?(this.children.fieldsPicker.setSelectedValues(currentColumnNames),this.children.fieldRemovalDialog&&this.children.fieldRemovalDialog.deactivate({deep:!0}).remove(),this.children.fieldRemovalDialog=new FieldRemovalDialog({fields:_.invoke(futureRequiredFields,"get","name")}),this.children.fieldRemovalDialog.render().appendTo($("body")).show(),this.listenTo(this.children.fieldRemovalDialog,"accepted",function(){callback()})):callback())},setScrollLeftToAddedColumn:function(addedColumn){var insertedIndex,sumOfWidths=ColumnModel.WIDTH_SELECT_ALL,i=0;for(insertedIndex=this.collection.columns.indexOf(addedColumn);i<insertedIndex-1;i++)sumOfWidths+=this.collection.columns.at(i).getWidth();this.model.table.entry.content.set("dataset.display.scrollLeft",sumOfWidths)},handleFieldHover:function(e){var $target=$(e.currentTarget),fieldName=$target.data("value"),fieldModel=this.getFieldModel(fieldName);this.removeFieldInfo(),!$target.hasClass("disabled")&&fieldModel&&(this.children.fieldInfo=new FieldInfoView({model:{field:fieldModel,fieldsSummary:this.model.fieldsSummary,table:this.model.table},direction:"right",onHiddenRemove:!0}),this.children.fieldInfo.activate({deep:!0}).render().appendTo($("body")),this.children.fieldInfo.show($target,{$onOpenFocus:$target}),this.children.fieldInfo.$el.css("margin-left",this.calculateMarginWithScrollbar($target.closest("ul"),this.children.fieldInfo.$el)+"px"))},calculateMarginWithScrollbar:function($target,$container){var scrollWidth=$target.outerWidth()-$target.get(0).clientWidth,arrowLength=$container.children(".arrow").outerWidth();return scrollWidth+arrowLength},removeFieldInfo:function(){this.children.fieldInfo&&this.children.fieldInfo.deactivate({deep:!0}).remove()},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this.children.fieldsPicker.activate({deep:!0}).render().appendTo(this.$el),this},template:'\t                <div class="fields-picker-header"><%= _("Select existing fields").t() %></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/FieldInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/PopTart"),__webpack_require__("stubs/i18n")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,PopTartView,i18n){return PopTartView.extend({moduleId:module.id,className:"popdown-dialog initial-data-fieldinfo",initialize:function(){PopTartView.prototype.initialize.apply(this,arguments)},events:$.extend({},PopTartView.prototype.events,{mouseleave:function(e){this.hide(e),e.preventDefault()}}),render:function(){var html=this.compiledTemplate({field:this.model.field,fieldsSummary:this.model.fieldsSummary,_:_,i18n:i18n});return this.$el.html(PopTartView.prototype.template),this.$(".popdown-dialog-body").html(html),this},template:'\t                <h2 class="field-info-header"><span class="fields-type-icon font-icon"><%- field.isNumeric() ? "#" : "a" %></span><%- field.get("name") %></h2>\t                <p>\t                    <%- field.get("is_exact") ? "" : ">" %>\t                    <%- field.get("distinct_count") %> <%- (field.get("distinct_count")>1) ?  _("Values").t(): _("Value").t() %>, \t                    <%= i18n.format_percent(fieldsSummary.frequency(field.get("name"))) %> <%- _("of events").t() %>\t                </p>\t                <table class="table table-condensed table-dotted">\t                    <thead>\t                        <tr>\t                            <% if (field.get("modes").length >= 10) { %>\t                                <th class="value"><strong><%- _("Top 10 Values").t() %></strong></th>\t                            <% } else { %>\t                                <th class="value"><strong><%- _("Values").t() %></strong></th>\t                            <% } %>\t                            <td class="percent">%</td>\t                        </tr>\t                    </thead>\t                    <tbody>\t                        <% var modes_len = field.get("modes").length %>\t                        <% _.each(field.get("modes"), function(mode) { %>\t                            <tr>\t                                <td class="value" data-report="fieldvalue" data-field="<%- field.get("name") %>" data-value="<%- mode.value %>"><%- mode.value %></td>\t                                <% var percent = mode.count/field.get("count") %>\t                                <td class="percent"><%- format_percent(percent) %></td>\t                            </tr>\t                        <% }); %>\t                    </tbody>\t                </table>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),
!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/WarningDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,Modal){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments)},render:function(){var headerDOM=this.options.headerText?"<h3>"+this.options.headerText+"</h3>":"";return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_SELECTOR).html(headerDOM),this.$(Modal.BODY_SELECTOR).html(this.options.message),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_OK),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/DatasetInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/datasetcontrols/details/Master"),__webpack_require__("views/shared/PopTart"),__webpack_require__("stubs/i18n")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,DetailsView,PopTartView,i18n){return PopTartView.extend({moduleId:module.id,className:"popdown-dialog initial-data-datasetinfo",initialize:function(){PopTartView.prototype.initialize.apply(this,arguments),this.children.detailsView=new DetailsView({model:{dataset:this.model.dataset,application:this.model.application,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles},showLinks:!1,numFieldsToShow:10,showTotal:!0})},events:$.extend({},PopTartView.prototype.events,{mouseleave:function(e){this.hide(e),e.preventDefault()}}),render:function(){return this.$el.html(PopTartView.prototype.template),this.children.detailsView.render().appendTo(this.$el),this.$("dl.list-dotted").prepend(_.template(this.compiledTemplate({_:_,description:this.model.dataset.getDescription()}))),this},template:'\t                <% if ( description ) {%>\t                    <dt class="type"><%- _("Description").t() %></dt>\t                            <dd class="type"><%- description %></dd>\t                 <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/IndexesAndSourcetypesContent":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/services/data/Indexes"),__webpack_require__("models/search/Job"),__webpack_require__("models/datasets/Result"),__webpack_require__("views/table/initialdata/BaseContent"),__webpack_require__("views/table/commandeditor/listpicker/Overlay"),__webpack_require__("views/table/initialdata/IndexAndSourcetypesRow"),__webpack_require__("util/time")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,IndexesCollection,JobModel,ResultModel,BaseContentView,ListPickerOverlay,IndexAndSourcetypesRowView,timeUtils){var INDEX_SEARCH="| eventcount summarize=f index=_* index=* | where count>0 | stats count by index",SOURCETYPE_SEARCH=' type=sourcetypes | search totalCount > 0 | table sourcetype totalCount recentTime | fieldformat totalCount=tostring(totalCount, "commas") | fieldformat recentTime=strftime(recentTime, "'+timeUtils.ISO_PATTERN+'")';return BaseContentView.extend({moduleId:module.id,className:"indexes-and-sourcetypes-content",PAGE_COUNT:50,initialize:function(){BaseContentView.prototype.initialize.apply(this,arguments),this.children.indexAndSourcetypesRows={}},events:$.extend({},BaseContentView.prototype.events,{"click .add-index-and-sourcetypes":function(e){e.preventDefault(),this.openIndexPicker()}}),activate:function(options){return this.active?BaseContentView.prototype.activate.apply(this,arguments):(this.indexesJobDoneDeferred&&"resolved"===this.indexesJobDoneDeferred.state()?0===this.model.command.editorValues.length&&this.openIndexPicker():this.fetchIndexes(),!this.children.fieldsPicker&&this.model.command.editorValues.length&&this.fetchFieldsForPicker(),BaseContentView.prototype.activate.apply(this,arguments))},startListening:function(options){BaseContentView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command.editorValues,"add remove",function(){var options={includeIndex:this.hasMultipleIndexes(),includeSourcetype:this.hasMultipleSourcetypes()};this.handleSearchChange(options),this.model.state.trigger("updateBaseSPL")}),this.listenTo(this.model.command.editorValues,"remove",function(){this.model.command.editorValues.length||this.openIndexPicker()}),_.each(this.children.indexAndSourcetypesRows,function(row){row.off("removeIndexAndSourcetypesRow",null,this),this.listenTo(row,"removeIndexAndSourcetypesRow",function(options){this.removeIndexAndSourcetypesRow(options.cid)})},this)},hasMultipleIndexes:function(){return _.uniq(this.model.command.editorValues.pluck("index")).length>1},hasMultipleSourcetypes:function(){var allSourcetypes=this.model.command.editorValues.pluck("sourcetypes");return _.uniq(_.flatten(allSourcetypes)).length>1},fetchIndexes:function(){var resultPreviewCount;this.indexesJobDeferred=$.Deferred(),this.indexesJobDoneDeferred=$.Deferred(),this.model.indexesJob=JobModel.createMetaDataSearch(INDEX_SEARCH,this.indexesJobDeferred,this.model.application,void 0,{earliest_time:"",latest_time:"",max_count:"",data:{provenance:"UI:TableEditor"}}),this.model.indexesResult=new ResultModel,this.model.indexesResult.fetchData.set({count:this.PAGE_COUNT},{silent:!0}),this.model.command.editorValues.length||this.openIndexPicker(),$.when(this.indexesJobDeferred).then(function(){this.model.indexesJob.registerJobProgressLinksChild(JobModel.RESULTS_PREVIEW,this.model.indexesResult,function(){this.model.indexesJob.isDone()&&(resultPreviewCount=this.model.indexesJob.entry.content.get("resultPreviewCount"),_.isNumber(resultPreviewCount)&&resultPreviewCount>0?this.model.indexesResult.safeFetch():this.indexesJobDoneDeferred.resolve())}.bind(this)),this.model.indexesJob.startPolling()}.bind(this)),this.listenTo(this.model.indexesResult,"sync",function(){this.indexesJobDoneDeferred.resolve()})},fetchSourcetypes:function(selectedIndex){var resultPreviewCount,metadataSearchString="| metadata ",indexSearchComponent=_.isArray(selectedIndex)?'index="'+selectedIndex.join('" OR index="')+'"':'index="'+selectedIndex+'"';this.sourcetypesJobDeferred=$.Deferred(),this.sourcetypesJobDoneDeferred=$.Deferred(),metadataSearchString+=indexSearchComponent,this.model.sourcetypesJob=JobModel.createMetaDataSearch(metadataSearchString+SOURCETYPE_SEARCH,this.sourcetypesJobDeferred,this.model.application,void 0,{earliest_time:"",latest_time:"",max_count:"",data:{provenance:"UI:TableEditor"}}),this.model.sourcetypesResult=new ResultModel,this.model.sourcetypesResult.fetchData.set({count:this.PAGE_COUNT},{silent:!0}),this.openSourcetypePicker(selectedIndex),$.when(this.sourcetypesJobDeferred).then(function(){this.model.sourcetypesJob.registerJobProgressLinksChild(JobModel.RESULTS_PREVIEW,this.model.sourcetypesResult,function(){this.model.sourcetypesJob.isDone()&&(resultPreviewCount=this.model.sourcetypesJob.entry.content.get("resultPreviewCount"),_.isNumber(resultPreviewCount)&&resultPreviewCount>0?this.model.sourcetypesResult.safeFetch():this.sourcetypesJobDoneDeferred.resolve())}.bind(this)),this.model.sourcetypesJob.startPolling()}.bind(this)),this.listenTo(this.model.sourcetypesResult,"sync",function(){this.sourcetypesJobDoneDeferred.resolve()})},openIndexPicker:function(){var staticIndexItems=[{label:_("all indexes").t(),value:"*",isItalics:!0}];this.children.indexList&&this.children.indexList.deactivate({deep:!0}).remove(),this.children.indexList=new ListPickerOverlay({model:{results:this.model.indexesResult,searchJob:this.model.indexesJob,state:this.model.indexesResult.fetchData},paginatorType:ListPickerOverlay.PAGINATOR_TYPES.SEARCH_RESULTS,fieldAttribute:"index",staticItems:staticIndexItems,selectMessage:_("Select an index...").t(),deferred:this.indexesJobDoneDeferred,required:!this.model.command.editorValues.length,slideOutOnChange:!1}),this.children.indexList.activate({deep:!0}).render().appendTo(this.$el),this.children.indexList.slideIn(),this.listenTo(this.children.indexList,"selectionDidChange selectionDidNotChange",this.handleIndexSelection)},openSourcetypePicker:function(selectedIndex){var selectedSourcetypes=_(this.model.command.editorValues.where({index:selectedIndex})).map(function(indexesAndSourcetypeModel){return indexesAndSourcetypeModel.get("sourcetype")});this.children.sourcetypeList&&this.children.sourcetypeList.deactivate({deep:!0}).remove(),this.children.sourcetypeList=new ListPickerOverlay({model:{results:this.model.sourcetypesResult,searchJob:this.model.sourcetypesJob,state:this.model.sourcetypesResult.fetchData},paginatorType:ListPickerOverlay.PAGINATOR_TYPES.SEARCH_RESULTS,fieldAttribute:"sourcetype",multiselectMessage:_("Select one or more source types...").t(),deferred:this.sourcetypesJobDoneDeferred,selectedValues:selectedSourcetypes,required:!1,multiselect:!0}),this.children.sourcetypeList.activate({deep:!0}).render().appendTo(this.$el),this.children.sourcetypeList.slideIn(),this.listenTo(this.children.sourcetypeList,"selectionDidChange",this.handleSourcetypesSelection)},handleIndexSelection:function(){var selectedIndex=this.getIndexFromPicker();this.fetchSourcetypes(selectedIndex)},handleSourcetypesSelection:function(){var newSourcetypeModel,selectedSourcetypes=this.children.sourcetypeList.getSelectedValues(),selectedIndex=this.getIndexFromPicker(),selectedIndexAndSourcetypesObj={index:selectedIndex,sourcetypes:selectedSourcetypes};this.model.command.editorValues.add(selectedIndexAndSourcetypesObj),newSourcetypeModel=this.model.command.editorValues.last(),this.createIndexAndSourcetypesRow(newSourcetypeModel),this.children.indexAndSourcetypesRows[newSourcetypeModel.cid].activate({deep:!0}).render().appendTo(this.$(".index-and-sourcetypes-rows")),this.children.indexList.hide()},getIndexFromPicker:function(){var selectedIndex=this.children.indexList.getSelectedValue();return"*"===selectedIndex&&(selectedIndex=["*","_*"]),selectedIndex},createIndexAndSourcetypesRow:function(indexAndSourcetypesModel){var newRow=this.children.indexAndSourcetypesRows[indexAndSourcetypesModel.cid]=new IndexAndSourcetypesRowView({model:{editorValue:indexAndSourcetypesModel}});this.listenTo(newRow,"removeIndexAndSourcetypesRow",function(options){this.removeIndexAndSourcetypesRow(options.cid)})},removeIndexAndSourcetypesRow:function(cid){var modelToRemove=this.model.command.editorValues.get(cid);this.model.command.editorValues.remove(modelToRemove),this.children.indexAndSourcetypesRows[cid].remove(),delete this.children.indexAndSourcetypesRows[cid]},render:function(){return this.$el.prepend(this.compiledTemplate({_:_})),this.model.command.editorValues.each(function(indexAndSourcetypesModel){this.createIndexAndSourcetypesRow(indexAndSourcetypesModel),this.children.indexAndSourcetypesRows[indexAndSourcetypesModel.cid].activate({deep:!0}).render().appendTo(this.$(".index-and-sourcetypes-rows"))},this),this.appendDoneButton(),this},template:'\t                <div class="index-and-sourcetypes-rows"></div>\t                <a href="#" class="add-index-and-sourcetypes">\t                    <i class="icon-plus"></i>\t                    <%= _("Add an index and one or more source types...").t() %>\t                </a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/Result":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/search/jobs/Result")],__WEBPACK_AMD_DEFINE_RESULT__=function(ResultModel){return ResultModel.extend({initialize:function(){ResultModel.prototype.initialize.apply(this,arguments)}},{Results:ResultModel.Results.extend({getFieldPickerItems:function(fieldAttribute){if(!fieldAttribute)throw new Error("You must define what attribute is the field name.");return this.map(function(result){var value=result.get(fieldAttribute);return{value:value&&value[0]||""}})}})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/IndexAndSourcetypesRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView){return BaseView.extend({moduleId:module.id,className:"index-and-sourcetypes-row",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click .index-and-sourcetypes-row-remove":function(e){e.preventDefault(),this.trigger("removeIndexAndSourcetypesRow",{cid:this.model.editorValue.cid})}},render:function(){return this.$el.html(this.compiledTemplate({index:this.model.editorValue.get("index"),sourcetypes:this.model.editorValue.get("sourcetypes")})),this},template:'\t                 <a class="index-and-sourcetypes-row-remove">\t                    <i class="icon-x"></i>\t                </a>\t                <span class="index property">\t                    <%- _.isArray(index) ? _("indexes").t() : _("index").t() %> =\t                </span>\t                <%- _.isArray(index) ? index.join(_(" or ").t()) : index %>\t                <br/>\t                <span class="index-and-sourcetypes-all">\t                    <span class="index-and-sourcetypes property index-and-sourcetypes-block">\t                        <%- _("sourcetypes").t() %> =&nbsp\t                    </span>\t                    <span class="index-and-sourcetypes-block">\t                    <% _(sourcetypes).each(function(sourcetype) { %>\t                        <span>\t                            <%- sourcetype %>\t                        </span>\t                    <% }); %>\t                    </span>\t                </span>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/SearchContent":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/table/initialdata/BaseContent")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseContentView){return BaseContentView.extend({moduleId:module.id,className:"search-content",initialize:function(){BaseContentView.prototype.initialize.apply(this,arguments)},startListening:function(options){BaseContentView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.command,"change:baseSPL",this.handleSearchChange)},render:function(){return this.appendDoneButton(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/MethodPicker":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__(1151),__webpack_require__(1152),__webpack_require__(1153)],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,InitialDataCommand,BaseView,ControlGroup,IndexesAndSourcetypesSVG,DatasetSVG,SearchSVG){return BaseView.extend({moduleId:module.id,className:"method-picker",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.initialDataTabs=new ControlGroup({controlType:"SyntheticRadio",additionalClassNames:["method-options"],controlOptions:{model:this.model.command,modelAttribute:"selectedMethod",showAsButtonGroup:!1,linkClassName:"method-option",items:[{svg:IndexesAndSourcetypesSVG,label:_("Indexes & Source Types").t(),value:InitialDataCommand.METHODS.INDEXES_AND_SOURCETYPES},{svg:DatasetSVG,label:_("Existing Datasets").t(),value:InitialDataCommand.METHODS.DATASET},{svg:SearchSVG,label:_("Search (Advanced)").t(),value:InitialDataCommand.METHODS.SEARCH}]}})},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({_:_})),this.children.initialDataTabs.activate({deep:!0}).render().appendTo(this.$el)),this},template:'\t                <div class="select-method">\t                    <h3>\t                        <%- _("Select one:").t() %>\t                    </h3>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/header/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Table"),__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("mixins/dataset"),__webpack_require__("views/Base"),__webpack_require__("views/table/header/TableName"),__webpack_require__("views/table/header/Save"),__webpack_require__("views/shared/controls/SyntheticRadioControl"),__webpack_require__("views/table/header/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,TableModel,InitialDataModel,datasetMixin,BaseView,TableNameView,SaveView,SyntheticRadioControl,css){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.tableName=new TableNameView({model:{table:this.model.table}}),this.children.previewModeButtons=new SyntheticRadioControl({model:this.model.table.entry.content,modelAttribute:"dataset.display.mode",items:[{label:_("Preview Rows").t(),value:datasetMixin.MODES.TABLE},{label:_("Summarize Fields").t(),value:datasetMixin.MODES.DATA_SUMMARY}],additionalClassNames:"btn-group-tabs btn-group-summary"}),this.children.saveDataset=new SaveView({model:{application:this.model.application,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,table:this.model.table,tablePristine:this.model.tablePristine,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles}})},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.children.tableName.activate({deep:!0}),this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions))},startListening:function(options){this.listenTo(this.model.state,"change:initialDataState",this.manageStateOfChildren)},manageStateOfChildren:function(){this.model.state.get("initialDataState")===InitialDataModel.STATES.EDITING?(this.children.previewModeButtons.deactivate({deep:!0}).$el.hide(),this.children.saveDataset.deactivate({deep:!0}).$el.hide()):(this.children.previewModeButtons.activate({deep:!0}).$el.css("display",""),this.children.saveDataset.activate({deep:!0}).$el.css("display",""))},render:function(){return this.$el.html(this.compiledTemplate()),this.children.previewModeButtons.render().prependTo(this.$el),this.children.tableName.activate({deep:!0}).render().prependTo(this.$el),this.children.saveDataset.render().appendTo(this.$(".btn-container")),this},template:'\t                <div class="btn-container"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/header/TableName":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.table,"sync",this.render)},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.render(),BaseView.prototype.activate.apply(this,arguments))},render:function(){var tableName=this.model.table.entry.get("name"),tableDisplayName=this.model.table.entry.content.get("displayName");void 0!==tableName&&"_new"!==tableName||(tableDisplayName=_("New Table Dataset").t()),this.$el.attr("title",tableDisplayName),this.$el.html(this.compiledTemplate({tableDisplayName:tableDisplayName}))},template:"\t                <h1><%- tableDisplayName %></h1>\t            "})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/header/Save":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/header/dialogs/create/Master"),__webpack_require__("views/table/header/dialogs/save/Master"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,SaveAsDialog,SaveDialog,route){return Base.extend({moduleId:module.id,className:"save-table",initialize:function(){Base.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.table.entry.content,"change:dataset.commands",this.render),this.listenTo(this.model.table,"sync",this.render),this.listenTo(this.model.currentPointJob,"prepared",this.render)},events:{"click a.save:not(.disabled)":function(e){this.children.saveDialog=new SaveDialog({model:{application:this.model.application,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,table:this.model.table,tablePristine:this.model.tablePristine,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles},create:!1,onHiddenRemove:!0}),this.children.saveDialog.render().appendTo($("body")).show(),e.preventDefault()},"click a.save-as:not(.disabled)":function(e){this.children.saveAsDialog=new SaveAsDialog({model:{application:this.model.application,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,table:this.model.table,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles},onHiddenRemove:!0}),this.children.saveAsDialog.render().appendTo($("body")).show(),e.preventDefault()},"click a.disabled":function(e){e.preventDefault()}},render:function(){var isDirty=this.model.table.isDirty(this.model.tablePristine),isValid=this.model.table.isValid();return this.$el.html(this.compiledTemplate({_:_,enableSave:!this.model.table.isNew()&&isDirty&&isValid,enableSaveAs:isValid})),this},template:'\t                <a class="btn save <%= enableSave ? "" : "disabled" %>">\t                    <%- _("Save").t() %>\t                </a>\t                <a class="save-as btn <%= enableSaveAs ? "" : "disabled" %>">\t                    <%- _("Save As").t() %>\t                </a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/jobstatus/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Table"),__webpack_require__("views/Base"),__webpack_require__("views/shared/dialogs/RiskyCommand"),__webpack_require__("views/shared/datasetcontrols/diversity/Master"),__webpack_require__("views/shared/datasetcontrols/eventlimiting/Master"),__webpack_require__("views/table/initialdata/jobstatus/Count"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.window"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,TableModel,BaseView,RiskyCommandDialog,DiversityView,EventLimitingView,CountView,route,splunkwindow,splunkUtil,splunkd_utils){return BaseView.extend({moduleId:module.id,className:"initial-data-job-status",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.fatalErrorTypes=[splunkd_utils.FATAL,splunkd_utils.NOT_FOUND],this.renderableErrorTypes=[splunkd_utils.ERROR,splunkd_utils.FATAL,splunkd_utils.NOT_FOUND],this.children.count=new CountView({model:{resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob}}),this.children.diversity=new DiversityView({model:this.model.table.entry.content,rightAlign:!0,size:"small"}),this.children.eventLimiting=new EventLimitingView({model:this.model.table.entry.content,rightAlign:!0,size:"small"})},events:{"click a.job_inspector":function(e){var jobId=$(e.currentTarget).data("job-id");splunkwindow.open(route.jobInspector(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),jobId),"splunk_job_inspector",{width:870,height:560,menubar:!1}),e.preventDefault()}},startListening:function(){this.listenTo(this.model.searchJob,"sync error",this.updateErrorState),this.listenTo(this.model.searchJob.control,"error",this.updateErrorState)},activate:function(options){if(this.active)return BaseView.prototype.activate.apply(this,arguments);var searchJobMessages=this.model.searchJob.error.get("messages");return this.hasFatalError=this.model.searchJob.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(searchJobMessages,this.fatalErrorTypes),this.hasRenderableError=splunkd_utils.messagesContainsOneOfTypes(searchJobMessages,this.renderableErrorTypes),this.manageStateOfChildren(),BaseView.prototype.activate.apply(this,arguments)},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.$(".alert").remove(),this):BaseView.prototype.deactivate.apply(this,arguments)},manageStateOfChildren:function(){this.hasFatalError?this.children.count.deactivate({deep:!0}).$el.hide():this.children.count.activate({deep:!0}).$el.css("display","inline-block"),this.model.basesearchTableAST.isTransforming()?(this.children.eventLimiting.activate({deep:!0}),this.children.eventLimiting.$el.css("display","inline-block"),this.children.diversity.deactivate({deep:!0}),this.children.diversity.$el.hide()):(this.children.eventLimiting.deactivate({deep:!0}),this.children.eventLimiting.$el.hide(),this.children.diversity.activate({deep:!0}),this.children.diversity.$el.css("display","inline-block"))},updateErrorState:function(model,response){var messages=model.error.get("messages");splunkd_utils.messagesContainsOneOfTypes(messages,[splunkd_utils.RISKY_COMMAND])&&!this.riskyWarningShown&&this.showRiskyWarning(),(model.entry&&model.entry.content&&model.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(messages,this.fatalErrorTypes))&&(this.hasFatalError=!0),splunkd_utils.messagesContainsOneOfTypes(messages,this.renderableErrorTypes)&&(this.hasRenderableError=!0,this.renderError(messages,model,response)),this.manageStateOfChildren()},render:function(){return this.$el.innerHTML||(this.children.count.activate({deep:!0}).render().appendTo(this.$el),this.children.diversity.activate({deep:!0}).render().appendTo(this.$el),this.children.eventLimiting.activate({deep:!0}).render().appendTo(this.$el)),this.hasRenderableError?this.renderError():this.$(".alert").remove(),this},showRiskyWarning:function(){this.riskyWarningShown=!0,this.children.riskyWarningDialog=new RiskyCommandDialog({model:{searchJob:this.model.searchJob,application:this.model.application},onHiddenRemove:!0,hideInvestigateBtn:!0,actionableText:_("Do you still want to run the search string?").t()}),this.listenToOnce(this.children.riskyWarningDialog,"runSearch",function(){this.model.state.trigger("revisitPageRoute")}.bind(this)),this.listenToOnce(this.children.riskyWarningDialog,"cancel",function(){this.model.state.trigger("clearBaseSearch")}.bind(this)),this.children.riskyWarningDialog.render().appendTo($("body")),this.children.riskyWarningDialog.show()},renderError:function(messages,model,response){var template,link,id,searchJobId=this.model.searchJob.id||_("unknown").t(),errors=[];return(splunkd_utils.messagesContainsOneOfTypes(messages,[splunkd_utils.NOT_FOUND])||response&&response.hasOwnProperty("status")&&404==response.status)&&(id=model.id,id&&id.indexOf("/control")===id.length-8&&(id=id.match(/^.*\/(.*)\/control$/)[1],errors.push(splunkUtil.sprintf(_('The search job "%s" was canceled remotely or expired.').t(),id)))),this.model.searchJob.entry.content.get("isFailed")&&(link='<a class="job_inspector" href="#" data-job-id='+searchJobId+">"+_("Job Inspector").t()+"</a>",errors.push(splunkUtil.sprintf(_("The search job has failed due to an error. You may be able view the job in the %s.").t(),link))),_.each(errors,function(error){template=_.template(this.errorTemplate,{error:error}),this.$el.prepend(template)}.bind(this)),this},errorTemplate:'\t                <div class="alert alert-error job-status-alert">\t                    <i class="icon-alert"></i>\t                    <%= error %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/eventlimiting/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/datasetcontrols/eventlimiting/Dialog"),__webpack_require__("shim/splunk.util"),__webpack_require__("stubs/i18n")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,SyntheticSelectControl,EventLimitingDialog,splunkUtil,i18n){return SyntheticSelectControl.extend({moduleId:module.id,className:"dataset-event-limiting",defaultItems:[{value:"unlimited",label:_("None").t()},{value:"1000",label:splunkUtil.sprintf(_("~%s").t(),i18n.format_decimal(1e3))},{value:"10000",label:splunkUtil.sprintf(_("~%s").t(),i18n.format_decimal(1e4))},{value:"100000",label:splunkUtil.sprintf(_("~%s").t(),i18n.format_decimal(1e5))},{value:"1000000",label:splunkUtil.sprintf(_("~%s").t(),i18n.format_decimal(1e6))}],customItem:[{value:"custom",label:_("Custom...").t()},{value:"newSample",label:_("New Sample").t()}],initialize:function(options){$.extend(!0,options,{items:this.generateItems(),modelAttribute:"dataset.display.limiting",defaultValue:"100000",toggleClassName:"btn-pill",menuClassName:"dropdown-menu",label:_("Event Limiting:").t(),popdownOptions:{detachDialog:!0}}),SyntheticSelectControl.prototype.initialize.call(this,options)},activate:function(){return this.active?SyntheticSelectControl.prototype.activate.apply(this,arguments):(this.setItems(this.generateItems()),
SyntheticSelectControl.prototype.activate.apply(this,arguments))},openEventLimitingDialog:function(){this.children.limitingDialog=new EventLimitingDialog({model:this.model,onHiddenRemove:!0}),this.children.limitingDialog.render().appendTo($("body")).show(),this.children.limitingDialog.once("updateListItems",function(customValue){this.setItems(this.generateItems(customValue)),SyntheticSelectControl.prototype.setValue.call(this,customValue,!0)},this)},setValue:function(value,render,suppressEvent){return"custom"===value?void this.openEventLimitingDialog():"newSample"===value?void this.model.trigger("newSample"):void SyntheticSelectControl.prototype.setValue.call(this,value,render,suppressEvent)},generateItems:function(customValue){var items=this.defaultItems.slice(),customLimit=customValue||this.model.get("dataset.display.limiting");return customLimit&&!_.findWhere(this.defaultItems,{value:customLimit})&&items.push({value:customLimit,label:splunkUtil.sprintf(_("~%s (Custom)").t(),i18n.format_decimal(customLimit))}),[items,this.customItem]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/eventlimiting/Dialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/EventLimit"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/dom_utils"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,EventLimitModel,Modal,ControlGroup,FlashMessages,splunkUtil,domUtils,keyboardUtils){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments);var limit=this.model.get("dataset.display.limiting");this.model.inmem=new EventLimitModel({limit:_.isFinite(parseInt(limit,10))?limit:"100000"}),this.children.eventLimitInput=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"limit",model:this.model.inmem},label:"Event Limit"}),this.children.flashMessages=new FlashMessages({model:this.model.inmem})},events:$.extend({},Modal.prototype.events,{"focus input":function(e){this.setCaretPositionToEnd()},"click .edit-cancel":function(e){e.preventDefault(),this.hide()},"click .edit-apply":function(e){e.preventDefault(),this.applyChanges()},"keypress input:text":function(e){e.keyCode===keyboardUtils.KEYS.ENTER&&($(e.target).blur(),e.preventDefault(),this.applyChanges())}}),setCaretPositionToEnd:function(){var $inputField=this.$("input");domUtils.setCaretPosition($inputField.get(0),$inputField.val().length)},applyChanges:function(){if(this.model.inmem.isValid(!0)){var eventLimit=this.model.inmem.get("limit");this.trigger("updateListItems",eventLimit),this.model.set({"dataset.display.limiting":eventLimit}),this.hide()}else this.$("input").focus()},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Set Event Limit").t()),this.children.flashMessages.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.eventLimitInput.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.eventLimitInput.$el.find(".ratio-input-control").after("<span>"+_("events").t()+"</span>"),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="edit-apply btn btn-primary pull-right" tabindex="0"> '+_("Apply").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/EventLimit":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("util/validation")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel,validationUtils){return BaseModel.extend({validation:{limit:"validateLimit"},validateLimit:function(value,attr,computedState){if(!validationUtils.isNonNegValidInteger(value)||parseInt(value,10)<=1)return _("Event Limit must be an integer greater than 1").t()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/dialogs/RiskyCommand":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route"),__webpack_require__("util/keyboard"),__webpack_require__("views/shared/dialogs/RiskyCommand.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,route,keyboard,css){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" risky-command-dialog",initialize:function(options){Modal.prototype.initialize.apply(this,arguments);var defaults={actionableText:_("Do you want to investigate the search string?").t(),hideInvestigateBtn:!1};_.defaults(this.options,defaults),this.listenTo(this,"shown",function(options){this.$el.on("keyup.dismiss.modal",function(e){this.options.keyboard&&e.which===keyboard.KEYS.ESCAPE&&this.trigger("cancel")}.bind(this)),$(".modal-backdrop").on("click."+this.cid,function(e){this.options.backdrop&&this.trigger("cancel")}.bind(this))}.bind(this)),this.listenTo(this,"hidden",function(options){this.$el.off("keyup.dismiss.modal"),$(".modal-backdrop").off("click."+this.cid)}.bind(this))},focus:function(){this.$(".modal-btn-investigate").focus()},events:$.extend({},Modal.prototype.events,{"click .modal-btn-confirm":function(e){this.hide(),this.trigger("runSearch"),e.preventDefault()},"click .modal-btn-investigate":function(e){this.hide(),this.trigger("investigate"),e.preventDefault()},"click .modal-btn-cancel, .close":function(e){this.trigger("cancel")}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Warning").t()),this.$(Modal.BODY_SELECTOR).html(this.compiledTemplate({_:_,commands:this.model.searchJob.getRiskyCommands(),actionableText:this.options.actionableText,learnMoreLink:route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.splsafeguards")})),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn modal-btn-confirm">'+_("Run").t()+"</a>"),this.options.hideInvestigateBtn||this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary modal-btn-investigate">'+_("Investigate").t()+"</a>"),this},template:'\t                <div class="alert-warning">\t                    <div>\t                        <i class="icon-alert"/>\t                        <%- _("The search that you are about to run contains commands that might present a security risk.").t() %><a class="learn-more-link" href="<%- learnMoreLink %>" target="_blank" title="<%- _("Splunk help").t()%>"><%- _("Learn More").t() %> <i class="icon-external"></i></a>\t                        </br>\t                    </div>\t                    <%- _("The commands are:").t() %>\t                    <ul>\t                    <% _.each(commands, function(command) { %>\t                        <li><%- command %></li>\t                    <% }); %>\t                    </ul>\t                    <%- actionableText %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/dialogs/RiskyCommand.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1136);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/header/dialogs/create/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/MultiStepModal"),__webpack_require__("views/table/header/dialogs/create/Create"),__webpack_require__("views/table/header/dialogs/shared/Success"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,MultiStepModal,Create,Success,splunkd_utils){return MultiStepModal.extend({moduleId:module.id,initialize:function(){MultiStepModal.prototype.initialize.apply(this,arguments),this.model.inmem=this.model.table.clone(),this.model.inmem.unset(this.model.inmem.idAttribute),this.model.inmem.entry.content.acceleration.set({enabled:!1}),this.children.create=new Create({model:{application:this.model.application,inmem:this.model.inmem,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob}}),this.children.success=new Success({model:{application:this.model.application,inmem:this.model.inmem,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,table:this.model.table,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles},title:_("Your Table Has Been Created").t()}),this.model.inmem.on("createSuccess",function(){this.stepViewStack.setSelectedView(this.children.success),this.children.success.focus()},this),this.on("hidden",function(){this.model.inmem.isNew()||this.model.table.fetch({url:splunkd_utils.fullpath(this.model.inmem.id)})},this),this.children.success.on("closeModal",this.remove,this)},getStepViews:function(){return[this.children.create,this.children.success]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/diversity/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Table"),__webpack_require__("mixins/dataset"),__webpack_require__("views/shared/controls/SyntheticSelectControl")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,TableModel,datasetMixin,SyntheticSelectControl){return SyntheticSelectControl.extend({moduleId:module.id,className:"dataset-diversity",initialize:function(options){options.items=[[{value:datasetMixin.DIVERSITY.LATEST,label:_("Latest").t(),description:_("Fastest.").t()},{value:datasetMixin.DIVERSITY.RANDOM,label:_("Random").t(),description:_("Fast. 10,000+ events recommended.").t()}],[{value:"SAMPLE_AGAIN",label:_("Get New Sample").t()}]],options.modelAttribute="dataset.display.diversity",options.defaultValue=datasetMixin.DIVERSITY.LATEST,options.toggleClassName="btn-pill job-status-btn-pill-diversity",options.size=this.options.size,options.menuClassName="dropdown-menu",options.label=_("Sample:").t(),options.popdownOptions={detachDialog:!0},SyntheticSelectControl.prototype.initialize.call(this,options)},setValue:function(value,render,suppressEvent){return"SAMPLE_AGAIN"===value?void this.model.trigger("newSample"):void SyntheticSelectControl.prototype.setValue.call(this,value,render,suppressEvent)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/jobstatus/Count":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("util/time"),__webpack_require__("stubs/i18n"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,time_utils,i18n,splunkUtil){return Base.extend({className:"table-count",moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.searchJob,"jobProgress prepared sync",this.render),this.listenTo(this.model.searchJob,"destroy",this.empty),this.listenTo(this.model.resultJsonRows,"change",this.render)},activate:function(options){return this.active?Base.prototype.activate.apply(this,arguments):(this.render(),Base.prototype.activate.apply(this,arguments))},empty:function(){return this.$el.empty(),this},render:function(){var progress=_("Starting search job...").t(),isEvents=!0,eventCount=this.model.searchJob.entry.content.get("eventCount"),earliest_iso=this.model.searchJob.entry.content.get("earliestTime"),latest_iso=this.model.searchJob.latestTimeSafe();return this.model.searchJob.isDone()?progress=_("Search job is complete.").t():this.model.searchJob.isFinalizing()?progress=_("Finalizing search job...").t():this.model.searchJob.isPaused()?progress=_("Search job paused").t():this.model.searchJob.isQueued()?progress=_("Search job queued").t():this.model.searchJob.isParsing()?progress=_("Parsing search job...").t():this.model.searchJob.isRunning()&&(progress=_("Search job running").t()),0===eventCount&&this.model.searchJob.isReportSearch()&&(isEvents=!1,eventCount=this.model.searchJob.resultCountSafe()),eventCount=i18n.format_decimal(eventCount||0),this.$el.html(this.compiledTemplate({progress:progress,earliest_date:this.model.searchJob.isOverAllTime()?null:time_utils.isoToDateObject(earliest_iso),latest_date:latest_iso?time_utils.isoToDateObject(latest_iso):new Date(0),eventCount:eventCount,isEvents:isEvents,sampleRatio:this.model.searchJob.isUsingSampling()?i18n.format_decimal(this.model.searchJob.entry.content.get("sampleRatio")):null,model:this.model.searchJob,time_utils:time_utils,i18n:i18n,splunkUtil:splunkUtil,_:_})),this.$el.attr("data-job-state",progress),this},template:'\t            <% if (!model.isNew()) { %>\t                <% if (model.isDone()) { %>\t                    <i class="icon-check"></i>\t                    <% if (isEvents) { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s event", "%s events", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                    <% } else { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s result", "%s results", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                    <% } %>\t                    <% if (model.entry.content.get("isFinalized")) { %>\t                        <% if (earliest_date) { %>\t                            <%- splunkUtil.sprintf(_("(Partial results for %s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("(Partial results for before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } %>\t                    <% } else { %>\t                        <% if (earliest_date) { %>\t                            <%- splunkUtil.sprintf(_("(%s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("(before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } %>\t                    <% } %>\t                    <% if (sampleRatio) { %>\t                        <span class="ratio"><%- splunkUtil.sprintf(_("Sampled at 1 : %s").t(), sampleRatio) %></span>\t                    <% } %>\t                <% } else { %>\t                    <%- progress %>\t                <% } %>\t            <% } %>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/TableHeader"),__webpack_require__("views/shared/datasettable/resultsbody/Master"),__webpack_require__("views/shared/delegates/TableDock"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("util/dataset_utils"),__webpack_require__("views/shared/datasettable/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnsCollection,ColumnModel,BaseView,TableHeadView,ResultsBodyView,TableDock,WaitSpinnerView,datasetUtils,css){return BaseView.extend({moduleId:module.id,className:"table-wrapper",initialize:function(options){BaseView.prototype.initialize.apply(this,arguments),this.tableId=this.cid+"-table",this.collection=this.collection||{},this.collection.columns=new ColumnsCollection,this.children.resultsBody=new ResultsBodyView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state,config:this.model.config},collection:{columns:this.collection.columns},editingMode:this.options.editingMode}),this.children.thead=new TableHeadView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state,ast:this.model.ast},collection:{columns:this.collection.columns},editingMode:this.options.editingMode,resultsTable:this.children.resultsBody}),this.children.waitSpinner=new WaitSpinnerView({color:"green",size:"medium",frameWidth:19})},startListening:function(options){this.listenTo(this.model.state,"clearSelection",function(){this.model.dataset.clearSelections()}),this.listenTo(this.model.state,"setSelectedColumn",function(colIndex){this.model.dataset.setSelectedColumn(colIndex)}),this.listenTo(this.model.resultJsonRows,"change:fields",this.updateColumnsCollection),this.listenTo(this.model.resultJsonRows,"change",this.render),this.listenTo(this.model.state,"restoreScrollPosition",this.restoreScrollPosition),this.listenTo(this.model.state,"change:tableEnabled",function(){var enable=this.model.state.get("tableEnabled");this.children.thead.enableSelection(enable),this.children.resultsBody.enableSelection(enable)},this),this.listenTo(this.model.state,"disableTableEditing",function(){this.disableTable()}),this.listenTo(this.model.state,"enableTableEditing",function(){this.enableTable()})},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.bindDOMListeners(),this.updateColumnsCollection(),BaseView.prototype.activate.apply(this,arguments),this.enableTable(),this)},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.disableTable(),this.$getScrollTableWrapper().off("scroll"),this):BaseView.prototype.deactivate.apply(this,arguments)},enableTable:function(){var currentCommandModel,shouldEnableSelection=!1;this.$el.hasClass("disabled")&&(this.children.waitSpinner.stop(),this.children.waitSpinner.$el.hide(),this.$el.removeClass("disabled")),this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldEnableSelection=currentCommandModel.isComplete()&&currentCommandModel.isValid()),this.model.state.set("tableEnabled",shouldEnableSelection)},disableTable:function(){this.$el.hasClass("disabled")||(this.children.waitSpinner.$el.show(),!this.children.waitSpinner.active&&this.children.waitSpinner.start(),this.$el.addClass("disabled")),this.model.state.set("tableEnabled",!1)},$getScrollTableWrapper:function(){return this.$(".scroll-table-wrapper")},onAddedToDocument:function(options){return this.restoreScrollPosition(),BaseView.prototype.onAddedToDocument.apply(this,arguments)},handleContainerScroll:function(){this.saveScrollPosition(),this.model.state.trigger("destroyContextualMenus")},restoreScrollPosition:function(){var scrollLeft=this.model.dataset.entry.content.get("dataset.display.scrollLeft");scrollLeft&&this.$getScrollTableWrapper().scrollLeft(scrollLeft),scrollLeft=this.$getScrollTableWrapper().scrollLeft(),this.setScrollPositionOnTableHeader(scrollLeft)},onScrollChange:function(){var scrollLeft=this.$getScrollTableWrapper().scrollLeft();this.model.dataset.entry.content.set("dataset.display.scrollLeft",scrollLeft),this.setScrollPositionOnTableHeader(scrollLeft),this.model.state.trigger("destroyContextualMenus"),this.children.tableDock&&this.children.tableDock.handleContainerScroll()},setScrollPositionOnTableHeader:function(scrollLeft){scrollLeft=scrollLeft||0,this.$(".dataset-table-head").css("margin-left",-scrollLeft+"px")},saveScrollPosition:function(){var scrollLeft=this.$(".scroll-table-wrapper").scrollLeft();null!==scrollLeft&&this.model.dataset.entry.content.set("dataset.display.scrollLeft",scrollLeft)},bindDOMListeners:function(){if(this.$el.html()){var $scrollTableWrapper=this.$getScrollTableWrapper();$scrollTableWrapper.length&&$scrollTableWrapper.off("scroll").on("scroll",_.bind(this.onScrollChange,this))}},updateColumnsCollection:function(){var lastSafeCommand,columnsData=[],fields=this.model.resultJsonRows.get("fields")||[];this.model.dataset.isTable()&&this.options.respectCommandIndex?(lastSafeCommand=this.model.dataset.getLastSafeCommandForCommandIndex(),lastSafeCommand&&(columnsData=lastSafeCommand.columns.toJSON())):columnsData=this.model.dataset.getTypedFields({withoutUnfixed:!0}),columnsData.length||_(fields).each(function(field){columnsData.push({name:field})},this),this.options.autoTypeColumns&&this.guessColumnTypes(columnsData,lastSafeCommand),this.collection.columns.reset(columnsData)},guessColumnTypes:function(columnsData,command){var matchedTypeCountObj,i,j,value,columnObj,threshold,rows=this.model.resultJsonRows.get("rows")||[],fields=this.model.resultJsonRows.get("fields")||[];for(i=0;i<fields.length;i++)if(matchedTypeCountObj={ip:0,bool:0,number:0},columnObj=_.find(columnsData,function(columnObj){return columnObj.name===fields[i]}.bind(this)),columnObj&&columnObj.type===ColumnModel.TYPES.STRING)for(j=0;j<rows.length;j++)if(value=rows[j][i],threshold=rows.length/2,datasetUtils.isIPV4(value)){if(matchedTypeCountObj.ip++,matchedTypeCountObj.ip>threshold){columnObj.type=ColumnModel.TYPES.IPV4;break}}else if(datasetUtils.isBoolean(value)){if(matchedTypeCountObj.bool++,matchedTypeCountObj.bool>threshold){columnObj.type=ColumnModel.TYPES.BOOLEAN;break}}else if(datasetUtils.isNumber(value)&&(matchedTypeCountObj.number++,matchedTypeCountObj.number>threshold)){columnObj.type=ColumnModel.TYPES.NUMBER;break}command&&command.columns.reset(columnsData)},render:function(){var resultRows=this.model.resultJsonRows.get("rows");return this.$el.html(this.compiledTemplate({tableId:this.tableId})),this.children.waitSpinner.render().prependTo(this.$el).$el.hide(),resultRows&&resultRows.length&&(this.children.thead.render().prependTo(this.$(".table-preview")),this.children.resultsBody.render().appendTo(this.$(".table-results")),this.updateColumnsCollection(),this.bindDOMListeners(),this.restoreScrollPosition(),this.options.useDock&&(this.children.tableDock&&this.children.tableDock.remove(),this.children.tableDock=new TableDock({el:this.el,offset:37,defaultLayout:"fixed",tableSelector:".scroll-table-wrapper > .table-preview",theadSelector:".shared-datasettable-tableheader",thSelector:".shared-datasettable-tableheader > .dataset-table-head > .col-header",containerDOM:'<div class="docked-tableheader-container"></div>',containerSelector:".docked-tableheader-container",scrollContainerSelector:".scroll-table-wrapper",dockScrollBar:!0}),this.$el.addClass("shared-datasettable-docking-header"))),this.options.editingMode||(this.children.thead.enableSelection(!1),this.children.resultsBody.enableSelection(!1)),this},template:'\t                <div class="scroll-table-wrapper">\t                    <div class="table table-preview">\t                        <table class="table table-results" id="<%= tableId %>"></table>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/TableHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/shared/TableHeader")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnModel,BaseView,TableHeaderView){return TableHeaderView.extend({moduleId:module.id,shouldFastRouteOnColumnDrop:!1,initialize:function(options){TableHeaderView.prototype.initialize.apply(this,arguments)},events:$.extend({},TableHeaderView.prototype.events,{'mousedown .col-header:not(":first-child"):not(".disabled")':function(e){var isLeftClick=1===e.which;!isLeftClick||!$(e.target).hasClass("resize")||0!==this.$(".field-name-input").length&&$(this.$(".field-name-input")).is(":visible")||this.handleColumnResizeDragStart(e)},'dblclick .col-header:not(":first-child"):not(".disabled")':function(e){var $target=$(e.target),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1;!(this.model.dataset.isTable()&&this.options.editingMode&&$target)||$target.is("span.resize")||$target.is("i.field-type")||isCtrlClick||isShiftClick||this.handleDirectRename(e)}}),startListening:function(options){TableHeaderView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection),this.listenTo(this.model.state,"destroyContextualMenus",function(){this.children.typeMenu&&this.children.typeMenu.deactivate({deep:!0}).remove(),delete this.children.typeMenu})},handleTableSelect:function($allThs){$allThs.not(":last-child").addClass("column-selected"),$allThs.filter(":last-child").addClass("column-selected-end"),TableHeaderView.prototype.handleTableSelect.apply(this,arguments)},addSelectedColumn:function($column){var columnIndex=$column.data("col-index"),$previousColumn=this.$(".col-header[data-col-index="+(columnIndex-1)+"]"),$nextColumn=this.$(".col-header[data-col-index="+(columnIndex+1)+"]");$previousColumn.hasClass("column-selected-end")&&($previousColumn.removeClass("column-selected-end").addClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected-end",!1),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected",!0)),$nextColumn.hasClass("column-selected")||$nextColumn.hasClass("column-selected-end")?($column.addClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!0)):($column.addClass("column-selected-end"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected-end",!0))},removeSelectedColumn:function($column){var columnIndex=$column.data("col-index"),$previousColumn=this.$(".col-header[data-col-index="+(columnIndex-1)+"]");$previousColumn.hasClass("column-selected")&&($previousColumn.removeClass("column-selected").addClass("column-selected-end"),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected",!1),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected-end",!0)),$column.hasClass("column-selected")?($column.removeClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!1)):$column.hasClass("column-selected-end")&&($column.removeClass("column-selected-end"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected-end",!1))},handleColumnResizeDragStart:function(e){e.preventDefault(),this.resizeStartPosition=e.pageX,this.$resultsTable=this.options.resultsTable.$el,this.$colHeader=$(e.currentTarget).closest(".col-header"),this.resizeStartColWidth=$(this.$colHeader[0]).width(),this.resizeStartTableWidth=this.$resultsTable[0].clientWidth,this.resizeMinChange=this.options.minColumnWidth-this.resizeStartColWidth,$("html").on("mousemove.resize",this.handleColumnResizeDrag.bind(this)),$("html").on("mouseup.resize",this.handleColumnResizeDragEnd.bind(this))},handleColumnResizeDrag:function(e){var columnWidth,change=Math.max(e.pageX-this.resizeStartPosition,this.resizeMinChange),$realTable=this.$el.closest(".table-results"),$realHeading=this.$getColHeader(this.$colHeader.data("field")),currentCommandModel=this.model.dataset.getCurrentCommandModel(),currentColumns=currentCommandModel.columns,columnToModify=currentColumns.find(function(column){return column.get("name")===this.$colHeader.data("field")},this),columnIsSelected=this.$colHeader.hasClass("column-selected-end")||this.$colHeader.hasClass("column-selected");this.$colHeader.width(this.resizeStartColWidth+change),this.$resultsTable.width(this.resizeStartTableWidth+change),$realHeading.width(this.resizeStartColWidth+change),$realTable.width(this.resizeStartTableWidth+change),columnWidth=this.$colHeader[0].clientWidth,columnIsSelected&&(columnWidth+=4),columnToModify.set({"display.width":columnWidth}),this.model.state.trigger("updateColumnWidth",columnToModify)},handleColumnResizeDragEnd:function(e){var currentCommandModel=this.model.dataset.getCurrentCommandModel();$("html").off(".resize"),this.model.state.set("fastRoute",!0),this.model.dataset.trigger("applyAction",currentCommandModel,this.model.dataset.commands)},handleCutSelection:function(){this.$(".col-header.column-selected").addClass("column-cut"),this.$(".col-header.column-selected-end").addClass("column-cut-end")},handleClearCutSelection:function(){this.$(".col-header.column-cut, .col-header.column-cut-end").removeClass("column-cut column-cut-end")},clearSelection:function(){this.$lastColumn=null,this.$(".col-header.column-selected, .col-header.column-selected-end").removeClass("column-selected column-selected-end")},setSelection:function(){var selectedColumnInColumnsCollection,$target,selectedColumns=this.model.dataset.selectedColumns,selectionType=this.model.dataset.entry.content.get("dataset.display.selectionType"),currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),currentCommand=this.model.dataset.commands.at(currentCommandIndex);"column"===selectionType||"cell"===selectionType||"text"===selectionType?selectedColumns.each(function(selectedColumn,idx){selectedColumnInColumnsCollection=currentCommand.columns.get(selectedColumn.id),selectedColumnInColumnsCollection&&($target=this.$getColHeader(selectedColumnInColumnsCollection.get("name")),this.addSelectedColumn($target),this.$lastColumn=$target,$target.attr("draggable",!0),"cell"!==selectionType&&"text"!==selectionType||this.model.dataset.setSelectionTypeToColumn())},this):"table"===selectionType&&($target=this.$(".col-header"),this.handleTableSelect($target),this.$lastColumn=$target.last())},enableSelection:function(enable){enable?(this.$(".col-header").removeClass("disabled"),this.$("span.name").after($('<span class="resize"></span>'))):(this.$(".col-header").addClass("disabled"),
this.$(".resize").remove())},render:function(){return TableHeaderView.prototype.render.apply(this,arguments),this.$el.html(this.compiledTemplate({ColumnModel:ColumnModel,columns:this.collection.columns})),this.delegateEvents(),this.enableSelection(this.model.state.get("tableEnabled")),$.when(this.model.state.rowsRenderedDfd).always(function(){this.hasFields()&&this.options.editingMode&&(this.highlightFields(),this.setSelection())}.bind(this)),this},template:'\t                 <div class="dataset-table-head">\t                    <% if (columns.length > 0) { %>\t                        <div class="col-header all">*</div>\t                    <% } else { %>\t                        <div class="col-header placeholder">&nbsp;</div>\t                    <% } %>\t                    <% columns.each(function(column, index) { %>\t                        <div class="col-header field type-<%- column.get("type") %>" data-col-index="<%- index %>" data-field="<%- column.get("name") %>" title="<%- column.get("name") %>" style="<%- column.get("display.width") ? "width: " + column.get("display.width") + "px;" : "" %>">\t                            <i class="icon-<%- ColumnModel.ICONS[column.get("type")] %> field-type" data-type="<%- column.get("type") %>"></i>\t                            <span class="name"><%- column.get("name") %></span>\t                        </div>\t                    <% }, this); %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/shared/TableHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/EditMenu"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/Rename"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,EditMenu,ColumnsCollection,ColumnModel,BaseCommand,RenameCommand,keyboardUtil){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.apply(this,arguments);var defaults={minColumnWidth:60};_.defaults(options,defaults)},events:{'mouseenter .col-header:first-child:not(".disabled")':function(e){this.$(".col-header").addClass("hover"),this.model.state.trigger("tableInteraction","hover",!0)},'mouseleave .col-header:first-child:not(".disabled")':function(e){this.$(".col-header").removeClass("hover"),this.model.state.trigger("tableInteraction","hover",!1)},'mouseenter .col-header:not(":first-child"):not(".disabled")':function(e){this.model.state.trigger("columnInteraction",$(e.currentTarget).data("col-index"),"hover",!0)},'mouseleave .col-header:not(":first-child"):not(".disabled")':function(e){this.model.state.trigger("columnInteraction",$(e.currentTarget).data("col-index"),"hover",!1)},'mousedown .col-header:first-child:not(".disabled")':function(e){var isLeftClick=1===e.which;isLeftClick&&!$(e.target).hasClass("resize")&&(this.model.state.trigger("clearSelection"),this.handleTableSelect(this.$(".col-header")))},'click .col-header:not(":first-child"):not(".disabled")':function(e){$(e.target).hasClass("resize")||this.handleClick(e)},"dragstart .col-header.column-selected-end:not(.resize):not(.disabled), .col-header.column-selected:not(.resize):not(.disabled)":function(e){this.handleDragStart(e)},"dragenter .col-header":function(e){this.handleDragEnter(e)},"dragover .col-header":function(e){this.handleDragOver(e)},"dragend .col-header":function(e){this.handleDragEnd(e)},"drop .col-header":function(e){var $column=$(e.currentTarget);e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),this.handleDrop($column,this.shouldFastRouteOnColumnDrop)}},startListening:function(){this.listenTo(this.model.state,"clearSelection",this.clearSelection),this.listenTo(this.model.state,"clearDragability",this.clearDragability)},clearDragability:function(){this.$(".col-header").removeClass("draggable").attr("draggable",!1)},$getColHeader:function(colName){return this.$('.col-header[data-field="'+colName+'"]')},handleClick:function(e){var $currentTarget=$(e.currentTarget),$target=$(e.target),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1,columnIsReservedType=$target.data("type")===ColumnModel.TYPES._RAW||$target.data("type")===ColumnModel.TYPES._TIME;if(!$target.hasClass("field-name-input")&&(this.handleColumnSelect($currentTarget,isCtrlClick,isShiftClick),!isCtrlClick&&!isShiftClick&&$target.hasClass("field-type")&&!columnIsReservedType)){if(this.children.typeMenu&&this.children.typeMenu.shown)return void this.children.typeMenu.hide();this.children.typeMenu&&this.children.typeMenu.deactivate({deep:!0}).remove(),this.children.typeMenu=new EditMenu({model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.dataset},onHiddenRemove:!0,ignoreToggleMouseDown:!0,onlyType:!0}),this.children.typeMenu.activate({deep:!0}).render().appendTo($("body")).show($target)}},handleDirectRename:function(e){e.preventDefault();var $newColNameInput,$renameHandlerColHeader,$renameHandlerInput,$colLabel=$(e.target).is("span.name")?$(e.target):$(e.target).find("span.name"),oldFieldName=$colLabel.text(),$colHeader=this.$getColHeader(oldFieldName),selectedColId=this.model.dataset.selectedColumns.pluck("id")[0],selectedCol=this.model.dataset.getCurrentCommandModel().columns.get(selectedColId),selectedColType=selectedCol.get("type");$colHeader.attr("draggable",!1),BaseCommand.isTypeBlacklisted(selectedColType,RenameCommand.blacklist,BaseCommand.SELECTION.COLUMN)||($colHeader.find(".field-name-input").length&&$colHeader.find(".field-name-input").remove(),$colHeader.find("span.name").hide(),$newColNameInput=$('<input type="text" class="field-name-input" onfocus="this.value = this.value;">'),$newColNameInput.insertAfter($colHeader.find("i.field-type")).focus().val(oldFieldName),this.bindDirectRenameInputEvents($newColNameInput,oldFieldName),this.model.state.on("directRenameFailed",_.bind(function(oldFieldName){$renameHandlerColHeader=this.$getColHeader(oldFieldName),$renameHandlerInput=$renameHandlerColHeader.find(".field-name-input"),$renameHandlerInput.addClass("warning"),""===$renameHandlerInput.val().trim()&&$renameHandlerInput.val(oldFieldName),this.showRenameInput($renameHandlerColHeader),this.bindDirectRenameInputEvents($renameHandlerInput,oldFieldName),"cell"===this.model.dataset.entry.content.get("dataset.display.selectionType")&&(this.model.state.trigger("clearSelection"),this.addSelectedColumn($renameHandlerColHeader),this.$lastColumn=$renameHandlerColHeader,this.model.dataset.selectedColumns.add({id:selectedColId}),this.model.dataset.entry.content.set("dataset.display.selectionType","column"))},this)),this.model.state.on("directRenameSucceeded",_.bind(function(oldFieldName){$renameHandlerColHeader=this.$getColHeader(oldFieldName),this.showHeaderLabel($renameHandlerColHeader)},this)))},handleDirectRenameApply:function(e,oldFieldName){var newColName=e.target.value.trim(),$colHeader=this.$getColHeader(oldFieldName),$newColNameInput=$colHeader.find(".field-name-input");$newColNameInput.off("blur keyup"),oldFieldName!==newColName?this.model.state.trigger("directColRename",oldFieldName,newColName):this.showHeaderLabel($colHeader)},bindDirectRenameInputEvents:function($newColNameInput,oldFieldName){$newColNameInput.off("blur").on("blur",function(e){this.handleDirectRenameApply(e,oldFieldName)}.bind(this)),$newColNameInput.off("keyup").on("keyup",function(e){e.which===keyboardUtil.KEYS.ENTER&&this.handleDirectRenameApply(e,oldFieldName)}.bind(this))},handleDragStart:function(e){var realEvent=e.originalEvent,$columns=this.$(".col-header.column-selected, .col-header.column-selected-end"),colIdxs=_.map($columns,function(col){return $(col).data("col-index")});$columns.addClass("grabbed"),this.model.state.set("drag.startingIdxs",colIdxs),this.handleFadeDraggedColumns(colIdxs,!0),realEvent.dataTransfer.effectAllowed="move",realEvent.dataTransfer.dropEffect="move",realEvent.dataTransfer.setData("text/plain","move")},handleDragOver:function(e){e.originalEvent.preventDefault()},handleDragEnd:function(e){var colIdxs=this.model.state.get("drag.startingIdxs");this.clearDragMarkers(!0),this.handleFadeDraggedColumns(colIdxs,!1)},handleDragEnter:function(e){var i,currentLocation=e.originalEvent.clientX,$column=$(e.currentTarget),width=$column.outerWidth(),columnOffset=$column.offset().left,offsetInColumn=currentLocation-columnOffset,currentIdx=$column.data("col-index"),startingIdxs=this.model.state.get("drag.startingIdxs");if(_.isUndefined(currentIdx)||_.isUndefined(startingIdxs)||!startingIdxs.length)return!1;for(i=0;i<startingIdxs.length;i++)if(startingIdxs[i]===currentIdx)return!1;$column.hasClass("over-right")||$column.hasClass("over-left")||this.clearDragMarkers(),offsetInColumn>width/2?startingIdxs[0]-currentIdx!==1?$column.hasClass("over-right")||$column.addClass("over-right").removeClass("over-left"):this.clearDragMarkers():currentIdx-startingIdxs[startingIdxs.length-1]!==1?$column.hasClass("over-left")||$column.addClass("over-left").removeClass("over-right"):this.clearDragMarkers()},handleDrop:function($column,shouldFastRoute){var modelToMove,selectedColIdxs=_(this.model.state.get("drag.startingIdxs")).sortBy(function(num){return num}),newColIdx=$column.data("col-index")||0,rightSideInsert=$column.hasClass("over-right"),currentCommand=this.model.dataset.getCurrentCommandModel(),columnsCopy=new ColumnsCollection(currentCommand.columns.toJSON()),selectedColIds=columnsCopy.pluck("id"),modelsToMove=new ColumnsCollection,hasCorrectedIndex=!1,columnsHaveChanged=!1;_.each(selectedColIdxs,function(idx){idx!==newColIdx&&(modelToMove=columnsCopy.remove(columnsCopy.where({id:selectedColIds[idx]})),modelsToMove.add(modelToMove)),idx<newColIdx&&(rightSideInsert||0===newColIdx?(columnsCopy.add(modelToMove,{at:newColIdx}),columnsHaveChanged=!0):(columnsCopy.add(modelToMove,{at:newColIdx-1}),newColIdx-idx>1&&(columnsHaveChanged=!0))),idx>newColIdx&&(hasCorrectedIndex?(newColIdx++,columnsCopy.add(modelToMove,{at:newColIdx})):(rightSideInsert&&newColIdx++,hasCorrectedIndex=!0,columnsCopy.add(modelToMove,{at:newColIdx})),columnsHaveChanged=!0)},this),columnsHaveChanged&&(currentCommand.columns.reset(columnsCopy.toJSON()),this.model.dataset.selectedColumns.reset(modelsToMove.toJSON()),this.model.state.set("fastRoute",!!shouldFastRoute),this.model.dataset.trigger("applyAction",currentCommand,this.model.dataset.commands),this.$(".col-header").removeClass("hover"))},handleColumnSelect:function($target,isCtrlClick,isShiftClick){var lastColumnIndex,$allColumns,$columnsInRange,indices,selectedColumnGuids,currentSelectionType=this.model.dataset.entry.content.get("dataset.display.selectionType"),selectedColumns=this.model.dataset.selectedColumns,columnIndex=$target.data("col-index"),currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),columnGuid=this.model.dataset.commands.at(currentCommandIndex).getGuidForColIndex(columnIndex);isShiftClick&&this.$lastColumn&&"column"===currentSelectionType?(this.$(".col-header").attr("draggable",!1),lastColumnIndex=this.$lastColumn.data("col-index"),$allColumns=$target.parent().children(),$columnsInRange=$allColumns.slice(Math.min(columnIndex,lastColumnIndex)+1,Math.max(columnIndex,lastColumnIndex)+2),indices=_($columnsInRange).map(function(column){return $(column).data("col-index")},this),selectedColumnGuids=_(indices).map(function(idx){return currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),columnGuid=this.model.dataset.commands.at(currentCommandIndex).getGuidForColIndex(idx),{id:columnGuid}}.bind(this)),_($columnsInRange).each(function(el){this.addSelectedColumn($(el))},this),this.model.dataset.selectedColumns.add(selectedColumnGuids),$columnsInRange.attr("draggable",!0)):isCtrlClick&&this.$lastColumn&&"column"===currentSelectionType?selectedColumns.get(columnGuid)?selectedColumns.length>=2?(this.removeSelectedColumn($target),this.model.dataset.selectedColumns.remove(columnGuid),$target.attr("draggable",!1)):$target.attr("draggable",!0):(this.addSelectedColumn($target),this.$lastColumn=$target,this.model.dataset.selectedColumns.add({id:columnGuid}),$target.attr("draggable",!0)):(this.$(".col-header").attr("draggable",!1),this.model.state.trigger("clearSelection"),this.addSelectedColumn($target),this.$lastColumn=$target,this.model.dataset.selectedColumns.add({id:columnGuid}),$target.attr("draggable",!0)),this.model.dataset.entry.content.set("dataset.display.selectionType","column")},addSelectedColumn:function(){throw new Error("Must define addSelectedColumn method.")},removeSelectedColumn:function(){throw new Error("Must define removeSelectedColumn method.")},clearDragMarkers:function(shouldRemoveGrabbed){var $allTh=this.$(".col-header");$allTh.removeClass("over-right").removeClass("over-left"),shouldRemoveGrabbed&&$allTh.removeClass("grabbed")},enableSelection:function(enable){throw new Error("Must define enableSelection method.")},hasFields:function(){var fields=this.model.resultJsonRows.get("fields");return!(!fields||!fields.length)},handleTableSelect:function(){this.$(".col-header").attr("draggable",!1),this.model.dataset.entry.content.set("dataset.display.selectionType","table"),this.model.state.trigger("tableInteraction","column-selected",!0)},highlightFields:function(){var modifiedFields,currentModel=this.model.dataset.getCurrentCommandModel(),currentType=currentModel.get("type");currentModel.isComplete()&&currentType!==BaseCommand.INITIAL_DATA&&(modifiedFields=this.model.ast.getModifiedFieldsNameList()||[],modifiedFields.length&&this.handleColumnHighlight(modifiedFields))},handleColumnHighlight:function(fields){for(var i=0;i<fields.length;i++){var $field=this.$('.col-header[data-field="'+fields[i]+'"]');$field.addClass("column-highlighted"),this.model.state.trigger("columnInteraction",$field.data("col-index"),"column-highlighted",!0)}},handleFadeDraggedColumns:function(colIdxs,fadeOut){var $headers=this.$(".col-header");_.each(colIdxs,function(idx){fadeOut?$headers[idx+1]&&($headers[idx+1].style.opacity="0.4"):$headers[idx+1]&&($headers[idx+1].style.opacity="1")},this)},showRenameInput:function($colHeader){$colHeader.find("span.name").hide(),$colHeader.find(".field-name-input").css("display","").focus()},showHeaderLabel:function($colHeader){var $newColNameInput=$colHeader.find(".field-name-input"),$newColNameLabel=$colHeader.find("span.name");$newColNameLabel.html(_.escape($newColNameInput.val().trim())),$newColNameLabel.css("display",""),$newColNameInput.hide(),$newColNameInput.off("blur keyup")},render:function(){this.model.state.rowsRenderedDfd=$.Deferred()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/EditMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("views/table/modals/WarningDialog"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("collections/datasets/Commands"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/RemoveFields"),__webpack_require__("models/datasets/commands/Rename")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseMenu,WarningDialog,ColumnsCollection,CommandsCollection,ColumnModel,RemoveFieldsCommandModel,RenameCommandModel){var TYPE="type",typesBlacklist=[{selection:BaseMenu.SELECTION.TABLE},{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.COLUMN,types:[ColumnModel.TYPES._RAW,ColumnModel.TYPES._TIME]},{selection:BaseMenu.SELECTION.MULTICOLUMN,types:[ColumnModel.TYPES._RAW,ColumnModel.TYPES._TIME]},{selection:BaseMenu.SELECTION.TEXT}];return BaseMenu.extend({moduleId:module.id,typeMenuItems:[{className:"type-string",actionType:TYPE,type:ColumnModel.TYPES.STRING,icon:ColumnModel.ICONS[ColumnModel.TYPES.STRING],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.STRING],blacklist:typesBlacklist},{className:"type-number",actionType:TYPE,type:ColumnModel.TYPES.NUMBER,icon:ColumnModel.ICONS[ColumnModel.TYPES.NUMBER],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.NUMBER],blacklist:typesBlacklist},{className:"type-boolean",actionType:TYPE,type:ColumnModel.TYPES.BOOLEAN,icon:ColumnModel.ICONS[ColumnModel.TYPES.BOOLEAN],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.BOOLEAN],blacklist:typesBlacklist},{className:"type-ipv4",actionType:TYPE,type:ColumnModel.TYPES.IPV4,icon:ColumnModel.ICONS[ColumnModel.TYPES.IPV4],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.IPV4],blacklist:typesBlacklist},{className:"type-epoch-time",actionType:TYPE,type:ColumnModel.TYPES.EPOCH_TIME,icon:ColumnModel.ICONS[ColumnModel.TYPES.EPOCH_TIME],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.EPOCH_TIME],blacklist:typesBlacklist}],additionalMenuItems:[{className:"fields-cut-and-move",label:_("Move").t(),insertDividerAfter:!0,blacklist:[{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.TABLE},{selection:BaseMenu.SELECTION.TEXT}]},{className:"fields-delete",label:_("Delete").t(),commandConfigs:RemoveFieldsCommandModel.getDefaults(),validateSubsequentCommands:!0},{className:"fields-rename",label:_("Rename...").t(),insertDividerAfter:!0,commandConfigs:RenameCommandModel.getDefaults(),prepareOptions:function(commandConfigs){var currentCommand=this.model.table.getCurrentCommandModel();return{columnName:currentCommand.getFieldNameFromGuid(this.model.table.selectedColumns.first())}}}],initialize:function(options){BaseMenu.prototype.initialize.apply(this,arguments),options=options||{},_.defaults(options,{onlyType:!1}),this.commandMenuItems=options.onlyType?this.typeMenuItems:this.additionalMenuItems.concat(this.typeMenuItems)},startListening:function(){this.listenTo(this.model.state,"directColRename",function(oldFieldName,newFieldName){this.handleDirectRename(oldFieldName,newFieldName)}),BaseMenu.prototype.startListening.apply(this,arguments)},handleDirectRename:function(oldFieldName,newFieldName){var requiredColumnId,errorMessages,renameCommand,commandsClone=new CommandsCollection(this.model.table.commands.toJSON(),{parse:!0}),currentCommandIdx=this.model.table.getCurrentCommandIdx(),newCommandIdx=currentCommandIdx+1,selectedColumns=this.model.table.selectedColumns,previousCommand=commandsClone.at(currentCommandIdx);requiredColumnId=selectedColumns.length?selectedColumns.pluck("id"):[previousCommand.columns.where({name:oldFieldName})[0].id],commandsClone.addNewCommand({type:RenameCommandModel.getDefaults().type,newFieldName:newFieldName,isComplete:!0,requiredColumns:requiredColumnId},{at:newCommandIdx,updateSPLOptions:{previousCommand:previousCommand,applicationModel:this.model.application}}),renameCommand=commandsClone.at(newCommandIdx),this.model.table.setCollidingFieldNames({commandEdited:renameCommand,fieldsToAdd:[newFieldName]}),errorMessages=renameCommand.validate(),renameCommand.unset("collisionFields"),errorMessages?this.openFieldErrorModal(errorMessages.spl||errorMessages.collisionFields,oldFieldName,newFieldName):(this.model.table.commands.reset(commandsClone.toJSON(),{parse:!0,add:!0,at:newCommandIdx}),this.model.state.trigger("directRenameSucceeded",oldFieldName))},openFieldErrorModal:function(errorMessage,oldFieldName,newFieldName){this.children.renameWarningDialog&&(this.children.renameWarningDialog.deactivate({deep:!0}).remove(),delete this.children.renameWarningDialog),this.children.renameWarningDialog=new WarningDialog({headerText:_("Rename...").t(),message:'<div class="alert alert-error"><i class="icon-alert"></i>'+errorMessage+"</div>"}),this.children.renameWarningDialog.activate({deep:!0}).render().appendTo($("body")).show(),this.children.renameWarningDialog.on("hidden",_.bind(function(){this.model.state.trigger("directRenameFailed",oldFieldName,newFieldName)},this))},handleActionClicked:function(item){"fields-cut-and-move"===item.className?this.model.state.set("activeActionBar","cutAndMove"):item.actionType===TYPE&&this.setType(item),BaseMenu.prototype.handleActionClicked.apply(this,arguments)},setType:function(item){var selectedColumnGuids=this.model.table.selectedColumns.pluck("id"),currentCommandModel=this.model.table.getCurrentCommandModel();_.each(selectedColumnGuids,function(selectedColumnGuid){currentCommandModel.columns.get(selectedColumnGuid).set("type",item.type)},this),this.model.table.trigger("applyAction",currentCommandModel,this.model.table.commands)},shouldDisableMenuItem:function(menuItem){var baseDisable=BaseMenu.prototype.shouldDisableMenuItem.apply(this,arguments);return baseDisable?baseDisable:"fields-cut-and-move"===menuItem.className?!this.model.table.selectedColumns.length:void 0}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/BaseMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/PolymorphicCommand"),__webpack_require__("views/shared/PopTart")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,PolymorphicCommand,PopTartView){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu dataset-action-menu-dropdown",initialize:function(){PopTartView.prototype.initialize.apply(this,arguments)},events:{"click .command-menu-item":function(e){e.preventDefault();var $target=$(e.target),itemName=$target.data("item-name"),item=_.where(this.commandMenuItems,{className:itemName})[0];$target.hasClass("disabled")||this.handleActionClicked(item)}},handleActionClicked:function(item){var fields,callback=function(){this.createCommand(item.commandConfigs,item.prepareOptions)}.bind(this);item.validateSubsequentCommands?(fields=this.model.table.commands.validateSubsequentCommands(this.model.table.selectedColumns.pluck("id"),this.model.table.getCurrentCommandIdx()),fields?this.model.state.trigger("showFieldDialog",{fields:_.invoke(fields,"get","name"),callback:callback}):callback()):item.commandConfigs&&callback(),this.hide()},createCommand:function(commandConfigs,prepareOptionsFn){var options={initialStateOptions:prepareOptionsFn?prepareOptionsFn.call(this,commandConfigs):{},at:this.model.table.getCurrentCommandIdx()+1,updateSPLOptions:{applicationModel:this.model.application}},combinedValues=$.extend(!0,{},commandConfigs,{selectedColumns:this.model.table.selectedColumns.pluck("id")});combinedValues.isComplete||this.model.state.set("fastRoute",!0),this.model.table.commands.addNewCommand(combinedValues,options)},createCommandMenuItems:function(){_.each(this.commandMenuItems,function(menuItem){var icon=menuItem.icon?'<i class="icon-'+menuItem.icon+' field-type"></i>':"",iconAnchorClass=menuItem.icon?"has-icon":"",linkDescription=menuItem.description?'<span class="link-description">'+menuItem.description+"</span>":"",$menuItem=$("<li>"+icon+'<a href="#" class="command-menu-item '+iconAnchorClass+" command-menu-"+menuItem.className+'" data-item-name="'+menuItem.className+'">'+linkDescription+menuItem.label+"</a></li>");menuItem.disabled&&$menuItem.find("a.command-menu-item").addClass("disabled"),this.$(".action-menu-items").append($menuItem),menuItem.insertDividerAfter&&this.$(".action-menu-items").append($('<li class="divider"></li>'))}.bind(this))},updateDisabledState:function(){this.model.table.commands&&0!==this.model.table.commands.length&&_.each(this.commandMenuItems,function(menuItem){menuItem.disabled=this.shouldDisableMenuItem(menuItem)}.bind(this))},allChildrenDisabled:function(){return _.every(this.commandMenuItems,function(menuItem){return menuItem.disabled}.bind(this))},shouldDisableMenuItem:function(menuItem){var blacklistedColumn,selectedColumn,selectedColumnGuid,fieldType,blacklist=menuItem.blacklist||PolymorphicCommand.getBlacklist(menuItem.commandConfigs),selectedColumnGuids=this.model.table.selectedColumns.pluck("id"),selectionType=this.model.table.entry.content.get("dataset.display.selectionType"),columns=this.model.table.getCurrentCommandModel().columns,selectedColumnCount=selectedColumnGuids&&selectedColumnGuids.length,isMultiColumnSelection=selectedColumnCount>1;if(!this.model.table.isTableMode()&&menuItem.disableForSummaryMode)return!0;if(isMultiColumnSelection)return blacklistedColumn=_.find(selectedColumnGuids,function(guid){if(selectedColumn=columns.get(guid))return fieldType=selectedColumn.get("type"),this.isBlacklisted(blacklist,"multicolumn",fieldType)}.bind(this)),!!blacklistedColumn;if(1===selectedColumnCount){if(selectedColumnGuid=selectedColumnGuids[0],selectedColumn=columns.get(selectedColumnGuid))return fieldType=selectedColumn.get("type"),!!this.isBlacklisted(blacklist,selectionType,fieldType)}else if(0===selectedColumnCount)return!!this.isBlacklisted(blacklist,"table")},isBlacklisted:function(blacklist,selectionType,fieldType){var typesArray,allTypesBlacklisted,typeBlacklisted,selectionDict=_.where(blacklist,{selection:selectionType});return!!(selectionDict.length>0&&(typesArray=selectionDict[0].types,allTypesBlacklisted=!typesArray,typeBlacklisted=typesArray&&typesArray.indexOf(fieldType)!==-1,allTypesBlacklisted||typeBlacklisted))},render:function(){return this.$el.html(PopTartView.prototype.template_menu),this.$el.append(this.compiledTemplate({})),this.createCommandMenuItems(),this},template:'\t                <ul class="action-menu-items"></ul>\t            '},{SELECTION:{TABLE:"table",MULTICOLUMN:"multicolumn",COLUMN:"column",CELL:"cell",TEXT:"text"}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/resultsbody/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/datasets/Cells"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/resultsbody/Row")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,CellsCollection,BaseCommand,BaseView,TableRowView){return BaseView.extend({moduleId:module.id,tagName:"tbody",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"clearSelection",this.clearSelection),this.listenTo(this.model.state,"columnInteraction",this.toggleClassForColumn),this.listenTo(this.model.state,"tableInteraction",this.toggleClassForTable),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection),this.listenTo(this.model.state,"updateColumnWidth",this.updateColumnWidth)},updateColumnWidth:function(col){var firstRow=this.children.rows[0],colModel=this.collection.columns.get(col.id),colIdx=this.collection.columns.indexOf(colModel),colWidth=col.get("display.width");firstRow.children.cells[colIdx].$el.css("width",colWidth+"px")},handleCutSelection:function(){this.$("td.selected").addClass("cut"),this.$("td.column-selected").addClass("column-cut"),this.$("td.column-selected-end").addClass("column-cut-end")},handleClearCutSelection:function(shouldAddSelection){shouldAddSelection&&(this.clearSelection(),this.$("td.cut").addClass("selected"),this.$("td.column-cut").addClass("column-selected"),this.$("td.column-cut-end").addClass("column-selected-end")),this.$("td.cut, td.column-cut, td.column-cut-end").removeClass("cut column-cut column-cut-end")},clearSelection:function(){this.$("td.selected, td.text-selected, td.column-selected, td.column-selected-end").removeClass("selected text-selected column-selected column-selected-end"),_.each(this.$("td div span.selection"),function(el){$(el).remove()},this)},toggleClassForColumn:function(index,className,add){var $tdsInColumn=this.$("td[data-col-index="+index+"]");add?$tdsInColumn.addClass(className):$tdsInColumn.removeClass(className)},toggleClassForTable:function(className,add){var $allTds=this.$("td"),$everyTdButLastCol=$allTds.not(":last-child"),$tdsInLastCol=$allTds.filter(":last-child");add?"column-selected"===className?($everyTdButLastCol.addClass(className),$tdsInLastCol.addClass(className+"-end")):$allTds.addClass(className):$allTds.removeClass(className)},rowsFromCollection:function(){var fields=this.model.resultJsonRows.get("fields");return _.map(this.model.resultJsonRows.get("rows"),function(row,idx){return new TableRowView({model:{dataset:this.model.dataset,state:this.model.state,config:this.model.config},collection:{cells:this.extractCellsAsCollection(row,fields),columns:this.collection.columns},idx:idx+1,init_offset:this.model.resultJsonRows.get("init_offset"),editingMode:this.options.editingMode})},this)},extractCellsAsCollection:function(row,fields){var cellsCollection=new CellsCollection;return _.each(row,function(cellValue,idx){var columnModel=this.collection.columns.at(idx);columnModel&&cellsCollection.add({values:_.isArray(cellValue)?cellValue:[cellValue],isMultivalued:_.isArray(cellValue),idx:idx,field:fields[idx],columnType:columnModel.get("type")})},this),cellsCollection},removeOldRows:function(){_(this.children.rows).each(function(row){row.deactivate({deep:!0}),row.debouncedRemove({detach:!0})},this),this.children={}},addNewRows:function(){_(this.children.rows).each(function(row,i){row.render().appendTo(this.$el),0===i&&this.collection.columns.each(function(col,i){row.children.cells[i].$el.css("width",col.getWidth()+"px")},this)},this)},enableSelection:function(enable){_(this.children.rows).each(function(row){row.enableSelection(enable)},this)},render:function(){return this.options.editingMode&&this.model.state.trigger("disableTableEditing"),this.removeOldRows(),this.children.rows=this.rowsFromCollection(),this.addNewRows(),_.defer(function(){this.model.state.rowsRenderedDfd.resolve(),this.options.editingMode&&this.model.state.trigger("enableTableEditing")}.bind(this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/datasets/Cells":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("collections/Base"),__webpack_require__("models/datasets/Cell")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseCollection,CellModel){return BaseCollection.extend({model:CellModel,initialize:function(){BaseCollection.prototype.initialize.apply(this,arguments)},addCell:function(values,options){options=options||{},_.defaults(options,{useComparator:!0,deleteComparator:!0});var addedCell;return options.useComparator&&this.useComparator({comparator:options.comparator}),addedCell=this.add(values),options.deleteComparator&&this.deleteComparator(),addedCell},useComparator:function(options){options=options||{},options.comparator?this.comparator=options.comparator:this.comparator=this.defaultComparator},deleteComparator:function(){delete this.comparator},defaultComparator:function(cellOne,cellTwo){
var cellOneIsMismatched=!!cellOne.getTypeMismatchMessage(),cellTwoIsMismatched=!!cellTwo.getTypeMismatchMessage(),cellOneIsNull=cellOne.isNull(),cellTwoIsNull=cellTwo.isNull(),cellOnePercentage=cellOne.getScaledPercentage(),cellTwoPercentage=cellTwo.getScaledPercentage();return cellOneIsNull?cellTwoIsNull&&cellOnePercentage<cellTwoPercentage?1:-1:cellOneIsMismatched?cellTwoIsNull?1:cellTwoIsMismatched&&cellOnePercentage<cellTwoPercentage?1:-1:cellTwoIsNull||cellTwoIsMismatched?1:cellOnePercentage<cellTwoPercentage?1:-1},sync:function(method,model,options){throw new Error("sync not allowed for the Cell collection")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/Cell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("util/dataset_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel,ColumnModel,datasetUtils){var TYPES=ColumnModel.TYPES;return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},getTypeMismatchMessage:function(){var value=this.get("values")[0],columnType=this.get("columnType");if(!_.isNull(value)&&""!==value&&columnType!==TYPES._RAW&&columnType!==TYPES.STRING&&columnType!==TYPES._TIME)if(columnType===TYPES.EPOCH_TIME){if(!datasetUtils.isEpochTime(value))return _("This field is type Epoch Time. A field with this type expects values like: 246925704.000, 905293704, etc.").t()}else if(columnType===TYPES.NUMBER){if(!datasetUtils.isNumber(value))return _("This field is type Number. A field with this type expects values like: 7245, -24, 3.1415, 6.022e23, etc.").t()}else if(columnType===TYPES.BOOLEAN){if(!datasetUtils.isBoolean(value))return _("This field is type Boolean. A field with this type expects values: true, false.").t()}else if(columnType===TYPES.IPV4&&!datasetUtils.isIPV4(value))return _("This field is type IPv4. A field with this type expects values like: 192.0.2.0, 203.0.113.0, etc.").t()},isNull:function(){var values=this.get("values")||[];return!values.length||_.isNull(values[0])},isEmpty:function(){var values=this.get("values")||[];return!values.length||""===values[0]},getValue:function(){var values=this.get("values")||[];return values.length?values[0]:void 0},getScaledPercentage:function(){if(!this.get("nullValueMetric"))return 0;var nullValuesPercentage=parseFloat(this.get("nullValueMetric").value,10);return this.isNull()?nullValuesPercentage:parseFloat((parseFloat(this.get("unscaledPercentage"),10)*(100-nullValuesPercentage)*.01).toFixed(2),10)},sync:function(method,model,options){throw new Error("sync not allowed for the Cell model")}},{TYPES:TYPES})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/resultsbody/Row":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/resultsbody/Cell")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,CellView){return BaseView.extend({moduleId:module.id,tagName:"tr",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},cellsFromCollection:function(){return this.collection.cells.map(function(cellModel,idx){return new CellView({model:{dataset:this.model.dataset,cell:cellModel,state:this.model.state,column:this.collection.columns.at(idx),config:this.model.config},rowIdx:this.options.idx,editingMode:this.options.editingMode})},this)},enableSelection:function(enable){_(this.children.cells).each(function(cell){cell.enableSelection(enable)},this)},render:function(){var rowNum=this.options.idx;return _.isNumber(this.options.init_offset)&&(rowNum=this.options.init_offset+rowNum),this.$el.html(this.compiledTemplate({rowNum:rowNum})),this.children.cells=this.cellsFromCollection(),_(this.children.cells).each(function(cell){cell.render().appendTo(this.$el)},this),this},template:'<td class="row-num"><%- rowNum %></td>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/resultsbody/Cell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/datasettable/shared/TableCell"),__webpack_require__("util/math_utils"),__webpack_require__("shim/splunk.time"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseTableCell,mathUtils,splunkTime,undefined){return BaseTableCell.extend({moduleId:module.id,tagName:"td",className:"value",attributes:function(){return{"data-is-multivalued":this.model.cell.get("isMultivalued"),"data-field":this.model.cell.get("field"),"data-value":this.model.cell.get("values"),"data-row-index":this.options.rowIdx,"data-col-index":this.model.cell.get("idx")}},initialize:function(options){BaseTableCell.prototype.initialize.apply(this,arguments)},events:$.extend({},BaseTableCell.prototype.events,{"click .show-more-text":function(e){this.updateExpandState($(e.target),!0),e.preventDefault()},"click .show-less-text":function(e){this.updateExpandState($(e.target),!1),e.preventDefault()}}),formatValues:function(){var timezone,values=this.model.cell.get("values");return this.model.column.isSplunkTime()&&(timezone=new splunkTime.SplunkTimeZone(this.model.config.get("SERVER_ZONEINFO")),this.$el.addClass("epoch-time"),values=values.map(_.partial(this.formatTime,_,timezone))),values.map(function(value){return{truncatedValue:this.truncateValue(value),fullValue:value}}.bind(this))},formatTime:function(value,splunkTimeZone){var epoch,dateTime;return epoch=mathUtils.strictParseFloat(value),dateTime=new splunkTime.DateTime(epoch).toTimeZone(splunkTimeZone),dateTime.toString()},truncateValue:function(value){value=value||"";var fieldWidth=this.model.column.getWidth(),maxTextWidth=this.model.cell.get("isMultivalued")?Math.floor(fieldWidth/3):fieldWidth,fullHtml=_.template(this.realTextTemplate,{text:value});return maxTextWidth&&value.length>maxTextWidth&&(this.shouldExpandValue(value)?fullHtml+=_.template(this.showLessTemplate,{_:_}):(fullHtml=_.template(this.realTextTemplate,{text:value.substring(0,maxTextWidth)}),fullHtml+=_.template(this.showMoreTemplate,{_:_}))),fullHtml},updateExpandState:function($target,shouldExpand){var $cell=$target.closest(this.REAL_TEXT_WRAPPER_CLASS),value=$target.closest(".multivalue").attr("data-value");this.model.column.isSplunkTime()&&(value=this.formatTime(value)),this.updateOpenCells(shouldExpand,value),$cell.html(this.truncateValue(value))},shouldExpandValue:function(value){var openCells=this.getOpenCells(),currentField=openCells[this.model.cell.get("field")]||{};return!_.isUndefined(value)&&currentField[this.options.rowIdx]===value},updateOpenCells:function(isExpanding,value){var openCells=this.getOpenCells(),currentField=this.model.cell.get("field"),hasCellValue=this.shouldExpandValue(value);isExpanding?hasCellValue||(openCells[currentField]=openCells[currentField]||{},openCells[currentField][this.options.rowIdx]=value):hasCellValue&&delete openCells[currentField][this.options.rowIdx],this.model.dataset.entry.content.set({"dataset.display.openCells":JSON.stringify(openCells)})},getOpenCells:function(){return JSON.parse(this.model.dataset.entry.content.get("dataset.display.openCells")||"{}")},enableSelection:function(enable){enable?this.$el.removeClass("disabled"):this.$el.addClass("disabled")},render:function(){var values=this.formatValues(),isNull=this.model.cell.isNull(),cellMismatchMessage=this.model.cell.getTypeMismatchMessage();return this.$el.html(this.compiledTemplate({_:_,values:values,isMultivalued:this.model.cell.get("isMultivalued"),cell:this.model.cell,index:this.model.cell.get("idx"),field:this.model.cell.get("field"),rowNum:this.options.rowIdx,isNull:isNull})),$("body").find(".tooltip").remove(),cellMismatchMessage&&(this.$el.addClass("mismatched-type"),this.$el.tooltip({animation:!1,title:cellMismatchMessage,container:$("body")})),isNull&&this.$el.addClass("null-cell"),this.model.state.get("tableEnabled")||this.$el.addClass("disabled"),this},template:'<% _.each(values, function(value) { %><div class="multivalue selection-container" data-is-multivalued="<%= isMultivalued %>" data-field="<%- field %>" data-value="<%- value.fullValue %>" data-row-index="<%- rowNum %>" data-col-index="<%- index %>"><div class="real-text-wrapper"><% if (isNull) { %>null<% } else { %><%= value.truncatedValue %><% } %></div></div><% }) %>',realTextTemplate:'<span class="real-text"><%- text %></span>',showMoreTemplate:'<span class="show-more-prefix">&nbsp;&nbsp;...</span><a href="#" class="show-more-text"><%= _("More").t() %></a>',showLessTemplate:'<span class="show-less-prefix">&nbsp;&nbsp;</span><a href="#" class="show-less-text"><%= _("Less").t() %></a>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/shared/TableCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/FillValues"),__webpack_require__("models/datasets/commands/Replace"),__webpack_require__("views/Base"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnModel,BaseCommand,FillValuesCommand,ReplaceCommand,BaseView,keyboardUtil){return BaseView.extend({moduleId:module.id,REAL_TEXT_WRAPPER_CLASS:".real-text-wrapper",REAL_TEXT_CLASS:".real-text",SELECTION_TEXT_CLASS:".selection > .highlight",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{click:function(e){var isLeftClick=1===e.which;isLeftClick&&!$(e.currentTarget).hasClass("disabled")&&(this.model.state.trigger("clearSelection"),this.handleCellClick(e))},dblclick:function(e){$(e.currentTarget).hasClass("disabled")||$(e.currentTarget).find(".cell-value-input").length||this.handleCellDoubleClick(e)}},handleCellClick:function(e){var $cell=$(e.currentTarget),textSelection=window.getSelection(),$realTextWrapper=$cell.find(this.REAL_TEXT_WRAPPER_CLASS),$realText=$realTextWrapper.find(this.REAL_TEXT_CLASS),cellValue=$realText.length?$realText.text():null,colIndex=$cell.data("col-index"),startPosition=Math.min(textSelection.anchorOffset,textSelection.focusOffset),endPosition=Math.max(textSelection.anchorOffset,textSelection.focusOffset),selectedText=textSelection.toString();this.model.state.trigger("clearDragability"),/\S/.test(selectedText)&&startPosition!==endPosition&&this.isTextSelectable()&&!$(e.target).is("a")&&textSelection.focusNode&&textSelection.focusNode.parentNode==$realText.get(0)&&textSelection.anchorNode&&textSelection.anchorNode.parentNode==$realText.get(0)?(this.selectText(selectedText,startPosition,endPosition),this.model.state.trigger("setSelectedColumn",colIndex),this.model.dataset.entry.content.set({"dataset.display.selectedColumnValue":cellValue,"dataset.display.selectedText":selectedText,"dataset.display.selectedStart":startPosition,"dataset.display.selectedEnd":endPosition,"dataset.display.selectionType":"text","dataset.display.isSelectionError":!1})):this.handleCellSelect($cell,colIndex,cellValue)},handleCellSelect:function($cell,colIndex,cellValue){$cell.addClass("selected"),this.model.state.trigger("setSelectedColumn",colIndex),this.model.dataset.entry.content.set({"dataset.display.selectedColumnValue":cellValue,"dataset.display.selectionType":"cell","dataset.display.isSelectionError":this.$el.hasClass("mismatched-type")})},handleCellDoubleClick:function(e){var $realTextWrapper=this.$(this.REAL_TEXT_WRAPPER_CLASS),$realText=$realTextWrapper.find(this.REAL_TEXT_CLASS),oldCellValue=$realText.length?$realText.text():null,selectedColId=this.model.dataset.selectedColumns.pluck("id")[0],selectedCol=this.model.dataset.getCurrentCommandModel().columns.get(selectedColId),selectedColType=selectedCol.get("type");if(_(oldCellValue).isNull()){if(BaseCommand.isTypeBlacklisted(selectedColType,FillValuesCommand.blacklist,BaseCommand.SELECTION.COLUMN))return}else if(BaseCommand.isTypeBlacklisted(selectedColType,ReplaceCommand.blacklist,BaseCommand.SELECTION.COLUMN))return;this.renderValueInput(oldCellValue)},renderValueInput:function(oldCellValue,newCellValue){var $newValueInput,$selectionText=this.$(this.SELECTION_TEXT_CLASS),$realTextWrapper=this.$(this.REAL_TEXT_WRAPPER_CLASS),triggerDirectReplaceValue=_.bind(function(e){var newCellValue=e.target.value;oldCellValue===newCellValue||_(oldCellValue).isNull()&&""===newCellValue?($realTextWrapper.css("display",""),$selectionText&&$selectionText.css("display",""),$newValueInput.remove()):this.model.state.trigger("directReplaceValue",oldCellValue,newCellValue,this.$el.data("col-index"))},this),startingCellValue=_.isUndefined(newCellValue)?oldCellValue:newCellValue;this.$(".cell-value-input").length&&this.$(".cell-value-input").remove(),$realTextWrapper.hide(),$selectionText&&$selectionText.hide(),$newValueInput=$('<input type="text" class="cell-value-input" onfocus="this.value = this.value;">'),$newValueInput.prependTo(this.$el).focus().val(startingCellValue),$newValueInput.off("blur").on("blur",_.bind(function(e){triggerDirectReplaceValue(e)},this)),$newValueInput.off("keyup").on("keyup",_.bind(function(e){e.which===keyboardUtil.KEYS.ENTER&&triggerDirectReplaceValue(e)},this))},selectText:function(selectedText,startPosition,endPosition){var $cell=this.$el,$realTextWrapper=$cell.find(this.REAL_TEXT_WRAPPER_CLASS),$realText=$realTextWrapper.find(this.REAL_TEXT_CLASS),cellValue=$realText.text(),newHtml=_.template(this.highlightedTemplate,{startValue:cellValue.substr(0,startPosition),selectedText:selectedText,endValue:cellValue.substr(endPosition)});$cell.addClass("text-selected"),$cell.find("div.selection-container").prepend('<span class="selection"></span>'),$cell.find("div span.selection").html(newHtml)},isTextSelectable:function(){var columnModel=this.model.column,type=columnModel.get("type");return!this.model.cell.isNull()&&!(columnModel.isEpochTime()||type===ColumnModel.TYPES.NUMBER||type===ColumnModel.TYPES.BOOLEAN)},render:function(){return this.$el.html(this.compiledTemplate({result:this.result})),this},template:'<div class="selection-container"><div class="'+this.REAL_TEXT_WRAPPER_CLASS+'"><span class="'+this.REAL_TEXT_CLASS+'"><%- result %></span></div></div>',highlightedTemplate:'<%- startValue %><span class="highlight"><%- selectedText %></span><%- endValue %>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1052);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/header/dialogs/create/Create":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("util/datamodel/form_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,FlashMessage,Modal,ControlGroup,TextControl,PairedTextControls,dataModelFormUtils){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.tableDisplayNameControl=new TextControl({model:this.model.inmem.entry.content,modelAttribute:"displayName"}),this.children.tablelDisplayNameGroup=new ControlGroup({label:_("Table Title").t(),controlType:"Text",controlClass:"controls-block",controls:this.children.tableDisplayNameControl}),this.children.tableNameControl=new TextControl({model:this.model.inmem.entry.content,modelAttribute:"name"}),this.children.tableNameGroup=new ControlGroup({label:_("Table ID").t(),controlType:"Text",controlClass:"controls-block",controls:this.children.tableNameControl,tooltip:_("The ID is used as the filename on disk. Cannot be changed later.").t(),help:_("Can only contain letters, numbers and underscores.").t()}),this.children.pairedControlsDelegate=new PairedTextControls({sourceDelegate:this.children.tableDisplayNameControl,destDelegate:this.children.tableNameControl,transformFunction:dataModelFormUtils.normalizeForID}),this.children.description=new ControlGroup({label:_("Description").t(),controlType:"Textarea",controlClass:"controls-block",controlOptions:{model:this.model.inmem.entry.content,modelAttribute:"dataset.description",placeholder:_("optional").t()}})},events:{"click .modal-btn-primary":function(e){this.submit(),e.preventDefault()}},render:function(){var header=_("Save As New Table").t();return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(header),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.tablelDisplayNameGroup.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.tableNameGroup.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.description.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this},submit:function(){this.model.inmem.save({},{data:this.model.application.getPermissions("private"),success:function(model,response){this.model.inmem.trigger("createSuccess")}.bind(this)})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/initialdata/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1154);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/header/dialogs/shared/Success":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/PolymorphicDataset"),__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),__webpack_require__("uri/route"),__webpack_require__("util/string_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,PolymorphicDataset,Base,Modal,PermissionsDialogView,route,stringUtil){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments),this.listenTo(this.model.inmem,"sync",this.render)},events:{"click a.permissions-link":function(e){e.preventDefault(),this.showPermissionsDialog()}},focus:function(){this.$(".btn-primary").focus()},showPermissionsDialog:function(){this.permissionsDialog=new PermissionsDialogView({model:{document:this.model.inmem,nameModel:this.model.inmem.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles,onHiddenRemove:!0,nameLabel:this.model.inmem.getDatasetDisplayType()}),this.trigger("closeModal"),this.permissionsDialog.render().appendTo($("body")),this.permissionsDialog.show()},render:function(){var canChangePerms=this.model.inmem.entry.acl.get("can_change_perms"),routeToDatasets=route.datasets(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app")),routeToExplore=route.dataset(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:this.model.inmem.getRoutingData()});return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(this.options.title),this.$(Modal.BODY_SELECTOR).html(this.compiledTemplate({_:_,model:this.model.inmem,canChangePerms:canChangePerms})),canChangePerms?this.$("span.save-table-success-message").text(_("You may now explore your table, change additional settings, continue editing it, or return to the listings page.").t()):(this.$("span.save-table-success-message").text(_("You may now explore your table, continue editing it, or return to the listings page.").t()),this.$("p.additional-settings").remove()),this.$(Modal.FOOTER_SELECTOR).append('<a href="'+routeToDatasets+'" class="btn done pull-left">'+_("Done").t()+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="'+routeToExplore+'" class="btn explore-dataset btn-primary pull-right">'+_("Explore Dataset").t()+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn continue-editing pull-right" data-dismiss="modal">'+_("Continue Editing").t()+"</a>"),this},template:'\t                <p>\t                    <span class="save-table-success-message"></span>\t                </p>\t                <p class="additional-settings">\t                    <%- _("Additional Settings:").t() %>\t                    <ul>\t                        <% if (canChangePerms) { %>\t                            <li><a href="#" class="permissions-link"><%- _("Permissions").t() %></a></li>\t                        <% } %>\t                    </ul>\t                </p>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/search/Job"),__webpack_require__("models/datasets/commands/InitialData"),__webpack_require__("views/Base"),__webpack_require__("views/table/resultscontainer/actionbar/Master"),__webpack_require__("views/shared/datasetcontrols/jobstatus/Master"),__webpack_require__("views/shared/datasettable/Master"),__webpack_require__("views/shared/JobDispatchState"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/summarytable/Master"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,SearchJobModel,InitialDataModel,BaseView,ActionBar,JobStatusView,TableView,JobDispatchStateView,FlashMessages,SummaryView,splunkdUtils){return BaseView.extend({moduleId:module.id,className:"dataset-results-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.actionBar=new ActionBar({model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table,application:this.model.application,currentPointJob:this.model.currentPointJob}}),this.children.table=new TableView({model:{dataset:this.model.table,resultJsonRows:this.model.resultJsonRows,state:this.model.state,config:this.model.config,ast:this.model.tableAST},editingMode:!0,respectCommandIndex:!0}),this.children.summary=new SummaryView({model:{dataset:this.model.table,resultJsonRows:this.model.dataSummaryResultJsonRows,state:this.model.state,config:this.model.config,summary:this.model.dataSummarySummary,timeline:this.model.dataSummaryTimeline,dataSummaryJob:this.model.dataSummaryJob,ast:this.model.tableAST},editingMode:!0,respectCommandIndex:!0}),this.children.jobStatusView=new JobStatusView({model:{application:this.model.application,table:this.model.table,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,dataSummaryJob:this.model.dataSummaryJob,dataSummaryTimeRange:this.model.dataSummaryTimeRange,appLocal:this.model.appLocal,user:this.model.user,resultJsonRows:this.model.resultJsonRows,ast:this.model.tableAST},collection:{times:this.collection.times},hasTimeRangePicker:!0}),this.errorTypes=[splunkdUtils.FATAL,splunkdUtils.ERROR],this.children.flashMessages=new FlashMessages({model:{tableAST:this.model.tableAST},whitelist:this.errorTypes})},startListening:function(options){this.listenTo(this.model.resultJsonRows,"change",function(){this.model.resultJsonRows.hasRows()&&this.removeJobDispatchState(),this.updateActionBarState()}),this.listenTo(this.model.dataSummarySummary,"sync",function(){this.model.dataSummarySummary.getEventCount()>0&&this.removeJobDispatchState(),this.updateActionBarState()}),this.listenTo(this.model.dataSummaryResultJsonRows,"sync",function(){this.model.dataSummaryResultJsonRows.hasRows()&&this.removeJobDispatchState(),this.updateActionBarState()}),this.listenTo(this.model.table,"toggleTableState",this.updateActionBarState),this.listenTo(this.model.state,"enableTableEditing",function(){this.lockActionBar=!1,this.updateActionBarState()}),this.listenTo(this.model.state,"disableTableEditing",function(){this.lockActionBar=!0,this.updateActionBarState()})},activate:function(options){var optionsClone=$.extend(!0,{},options||{});return optionsClone.deep=!1,this.active?BaseView.prototype.activate.call(this,optionsClone):(this.manageStateOfChildren(),BaseView.prototype.activate.call(this,optionsClone))},updateActionBarState:function(shouldDisable){var hasResults,currentCommandModel=this.model.table.getCurrentCommandModel(),shouldDisableActionBar=!currentCommandModel.isComplete()||!currentCommandModel.isValid();hasResults=this.model.table.isTableMode()&&this.model.resultJsonRows.hasRows()||!this.model.table.isTableMode()&&this.children.summary.shouldRenderTable(),!hasResults||shouldDisableActionBar||shouldDisable||this.lockActionBar?this.children.actionBar.updateMenuItemsState({disable:!0}):this.children.actionBar.updateMenuItemsState({disable:!1})},manageStateOfChildren:function(){var isError=splunkdUtils.messagesContainsOneOfTypes(this.model.tableAST.error.get("messages"),this.errorTypes),mode=this.model.tableAST.isTransforming()?"results":"";if(this.removeJobDispatchState(),isError)this.children.flashMessages.activate({deep:!0}).$el.show(),this.children.actionBar.deactivate({deep:!0}).$el.hide(),this.children.summary.deactivate({deep:!0}).$el.hide(),this.children.table.deactivate({deep:!0}).$el.hide(),this.children.jobStatusView.deactivate({deep:!0}).$el.hide();else{if(this.children.flashMessages.deactivate({deep:!0}).$el.hide(),this.children.actionBar.activate({deep:!0}).$el.css("display","flex"),this.updateActionBarState(),this.model.table.isTableMode())if(this.children.summary.deactivate({deep:!0}).$el.hide(),this.model.state.get("initialDataState")===InitialDataModel.STATES.CANCELED?this.children.table.activate({deep:!0}).$el.css("display",""):this.children.table.activate({deep:!0}).render().$el.css("display",""),this.model.state.trigger("restoreScrollPosition"),this.model.table.getCurrentCommandModel().isSearchPoint){if(!this.model.searchPointJob.isDone()||!this.model.resultJsonRows.hasRows()){var jobDispatchStateMsgs={};jobDispatchStateMsgs[SearchJobModel.RUNNING]={msg:_("Now loading table dataset.").t()},this.children.jobDispatchState=new JobDispatchStateView({model:{searchJob:this.model.searchPointJob,application:this.model.application},mode:mode,jobDispatchStateMsgs:jobDispatchStateMsgs})}}else this.model.currentPointJob.isDone()&&this.model.resultJsonRows.hasRows()||(this.children.jobDispatchState=new JobDispatchStateView({model:{searchJob:this.model.currentPointJob,application:this.model.application},mode:mode}));else this.children.table.deactivate({deep:!0}).$el.hide(),this.children.summary.activate({deep:!0}).render().$el.css("display",""),this.model.dataSummaryJob.isDone()&&this.children.summary.shouldRenderTable()||(this.children.jobDispatchState=new JobDispatchStateView({model:{searchJob:this.model.dataSummaryJob,application:this.model.application},mode:"results"}));this.children.jobDispatchState&&this.children.jobDispatchState.activate({deep:!0}).render().insertAfter(this.$(".table-resultscontainer-actionbar")),this.$el.html()&&!this.children.jobStatusView.$el.html()?this.children.jobStatusView.activate({deep:!0}).render().insertAfter(this.$(".table-resultscontainer-actionbar")):this.children.jobStatusView.activate({deep:!0})}},removeJobDispatchState:function(){this.children.jobDispatchState&&(this.children.jobDispatchState.deactivate({deep:!0}).remove(),delete this.children.jobDispatchState)},render:function(){return this.children.flashMessages.render().appendTo(this.$el),this.children.actionBar.render().appendTo(this.$el),this.children.table.insertAfter(this.$(".table-resultscontainer-actionbar")),this.children.summary.insertAfter(this.$(".table-resultscontainer-actionbar")),this.children.jobStatusView.activate({deep:!0}).render().insertAfter(this.$(".table-resultscontainer-actionbar")),this.manageStateOfChildren(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/jobstatus/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/datasetcontrols/jobstatus/Count"),__webpack_require__("views/shared/datasetcontrols/diversity/Master"),__webpack_require__("views/shared/datasetcontrols/eventlimiting/Master"),__webpack_require__("views/shared/timerangepicker/Master"),__webpack_require__("views/shared/datasetcontrols/jobstatus/SummaryCount"),__webpack_require__("views/shared/ProgressBar"),__webpack_require__("views/shared/jobcontrols/Master"),__webpack_require__("views/shared/datasetcontrols/jobstatus/Master.pcss"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.window"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,CountView,DiversityView,EventLimitingView,TimeRangePicker,SummaryCountView,ProgressBarView,JobStatusControls,css,route,splunkwindow,splunkUtil,splunkd_utils,undefined){return BaseView.extend({moduleId:module.id,className:"job-status",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.fatalErrorTypes=[splunkd_utils.FATAL,splunkd_utils.NOT_FOUND],this.renderableErrorTypes=[splunkd_utils.ERROR,splunkd_utils.FATAL,splunkd_utils.NOT_FOUND],this.children.count=new CountView({model:{searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,resultJsonRows:this.model.resultJsonRows}}),this.children.diversity=new DiversityView({model:this.model.table.entry.content,rightAlign:!0,size:"small"}),this.children.eventLimiting=new EventLimitingView({model:this.model.table.entry.content,rightAlign:!0,size:"small"
}),this.options.hasTimeRangePicker&&(this.children.summaryTimeRangePicker=new TimeRangePicker({model:{state:this.model.table.entry.content,application:this.model.application,timeRange:this.model.dataSummaryTimeRange,appLocal:this.model.appLocal,user:this.model.user},collection:this.collection.times,className:"btn-group",timerangeClassName:"btn-pill",forceTimerangeChange:!0,timeRangeAttrNames:{earliest:"dataset.display.datasummary.earliestTime",latest:"dataset.display.datasummary.latestTime"},dialogOptions:{showPresetsRealTime:!1,showCustomRealTime:!1,enableCustomAdvancedRealTime:!1}})),this.options.isViewingMode||(this.children.summaryProgressBar=new ProgressBarView({model:this.model.dataSummaryJob}),this.children.summaryJobStatusControls=new JobStatusControls({model:{searchJob:this.model.dataSummaryJob,user:this.model.user},showJobMenu:!1,enableReload:!0,attachTooltipTo:$("body")})),this.children.summaryCount=new SummaryCountView({model:this.model.dataSummaryJob})},events:{"click a.job_inspector":function(e){var jobId=$(e.currentTarget).data("job-id");splunkwindow.open(route.jobInspector(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),jobId),"splunk_job_inspector",{width:870,height:560,menubar:!1}),e.preventDefault()},"click a.rerun_datasummary":function(e){e.preventDefault(),this.model.dataSummaryJob.trigger("reload")}},startListening:function(){this.model.table.isTableMode()?(this.listenTo(this.model.searchPointJob,"sync error",function(model,response){this.updateErrorState(model,response,"searchPoint"),this.updateJobControlsVisibility()}.bind(this)),this.listenTo(this.model.searchPointJob.control,"error",function(model,response){this.updateErrorState(model,response,"searchPoint")}.bind(this)),this.listenTo(this.model.currentPointJob,"sync error",function(model,response){this.updateErrorState(model,response,"currentPoint")}.bind(this)),this.listenTo(this.model.currentPointJob.control,"error",function(model,response){this.updateErrorState(model,response,"currentPoint")}.bind(this))):this.model.dataSummaryJob&&(this.listenTo(this.model.dataSummaryJob,"sync error",function(model,response){this.updateErrorState(model,response,"dataSummary")}.bind(this)),this.listenTo(this.model.dataSummaryJob.control,"error",function(model,response){this.updateErrorState(model,response,"dataSummary")}.bind(this)))},activate:function(options){var clonedOptions=_.extend({},options||{});delete clonedOptions.deep,this.ensureDeactivated({deep:!0});var currentPointJobMessages,dataSummaryJobMessages,searchPointJobMessages=this.model.searchPointJob.error.get("messages");return this.model.currentPointJob&&(currentPointJobMessages=this.model.currentPointJob.error.get("messages")),this.model.dataSummaryJob&&(dataSummaryJobMessages=this.model.dataSummaryJob.error.get("messages")),this.model.table.isTableMode()?this.model.currentPointJob&&this.model.dataSummaryJob?(this.hasFatalError=this.model.searchPointJob.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(searchPointJobMessages,this.fatalErrorTypes)||this.model.currentPointJob.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(currentPointJobMessages,this.fatalErrorTypes)||this.model.dataSummaryJob.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(dataSummaryJobMessages,this.fatalErrorTypes),this.hasRenderableError=splunkd_utils.messagesContainsOneOfTypes(searchPointJobMessages,this.renderableErrorTypes)||splunkd_utils.messagesContainsOneOfTypes(currentPointJobMessages,this.renderableErrorTypes)||splunkd_utils.messagesContainsOneOfTypes(dataSummaryJobMessages,this.renderableErrorTypes)):(this.hasFatalError=this.model.searchPointJob.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(searchPointJobMessages,this.fatalErrorTypes),this.hasRenderableError=splunkd_utils.messagesContainsOneOfTypes(searchPointJobMessages,this.renderableErrorTypes)):(this.hasFatalError=this.model.dataSummaryJob.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(dataSummaryJobMessages,this.fatalErrorTypes),this.hasRenderableError=splunkd_utils.messagesContainsOneOfTypes(dataSummaryJobMessages,this.renderableErrorTypes)),this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions)},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.call(this,options),this.$(".alert").remove(),this):BaseView.prototype.deactivate.call(this,options)},manageStateOfChildren:function(){this.updateJobControlsVisibility(),this.model.table.isTableMode()?(this.hasFatalError?this.children.count.deactivate({deep:!0}).$el.hide():this.children.count.activate({deep:!0}).$el.css("display","inline-block"),this.children.summaryCount&&this.children.summaryCount.deactivate({deep:!0}).$el.hide(),this.children.summaryTimeRangePicker&&this.children.summaryTimeRangePicker.deactivate({deep:!0}).$el.hide(),this.children.summaryProgressBar&&this.children.summaryProgressBar.deactivate({deep:!0}).$el.hide(),this.children.summaryJobStatusControls&&this.children.summaryJobStatusControls.deactivate({deep:!0}).$el.hide()):(this.children.count.deactivate({deep:!0}).$el.hide(),this.hasFatalError?(this.children.summaryCount.deactivate({deep:!0}).$el.hide(),this.children.summaryJobStatusControls.deactivate({deep:!0}).$el.hide(),this.children.summaryProgressBar.deactivate({deep:!0}).$el.hide()):(this.children.summaryCount.activate({deep:!0}).$el.css("display","inline-block"),this.children.summaryProgressBar.activate({deep:!0}).$el.css("display","inline-block"),this.children.summaryJobStatusControls.activate({deep:!0}).$el.css("display","inline-block")),this.children.summaryTimeRangePicker&&this.children.summaryTimeRangePicker.activate({deep:!0}).$el.css("display","inline-block"))},updateErrorState:function(model,response,type){var messages=model.error.get("messages");(model.entry&&model.entry.content&&model.entry.content.get("isFailed")||splunkd_utils.messagesContainsOneOfTypes(messages,this.fatalErrorTypes))&&(this.hasFatalError=!0,this.manageStateOfChildren()),splunkd_utils.messagesContainsOneOfTypes(messages,this.renderableErrorTypes)&&(this.hasRenderableError=!0,this.renderError(messages,model,response,type))},updateJobControlsVisibility:function(){this.model.table.isTableMode()?this.model.ast.isTransforming()?(this.children.eventLimiting.activate({deep:!0}).$el.css("display","inline-block"),this.children.diversity.deactivate({deep:!0}).$el.hide()):(this.children.eventLimiting.deactivate({deep:!0}).$el.hide(),this.children.diversity.activate({deep:!0}).$el.css("display","inline-block")):(this.children.diversity.deactivate({deep:!0}).$el.hide(),this.children.eventLimiting.activate({deep:!0}).$el.css("display","inline-block"))},render:function(){return this.$el.innerHTML||(this.children.count.render().appendTo(this.$el),this.children.diversity.render().appendTo(this.$el),this.children.eventLimiting.render().appendTo(this.$el),this.children.summaryCount&&this.children.summaryCount.render().appendTo(this.$el),this.children.summaryProgressBar&&this.children.summaryProgressBar.render().appendTo(this.$el),this.children.summaryJobStatusControls&&this.children.summaryJobStatusControls.render().appendTo(this.$el),this.children.summaryTimeRangePicker&&this.children.summaryTimeRangePicker.render().appendTo(this.$el)),this.hasRenderableError?this.renderError():this.$(".alert").remove(),this.manageStateOfChildren(),this},renderError:function(messages,model,response,type){var currentPointJobId,dataSummaryJobId,template,link,id,searchPointJobId=this.model.searchPointJob.id||_("unknown").t(),errors=[];return this.model.currentPointJob&&(currentPointJobId=this.model.currentPointJob.id||_("unknown").t()),this.model.dataSummaryJob&&(dataSummaryJobId=this.model.dataSummaryJob.id||_("unknown").t()),(splunkd_utils.messagesContainsOneOfTypes(messages,[splunkd_utils.NOT_FOUND])||response&&response.hasOwnProperty("status")&&404==response.status)&&(id=model.id,id.indexOf("/control")===id.length-8&&(id=id.match(/^.*\/(.*)\/control$/)[1]),"searchPoint"===type?errors.push(splunkUtil.sprintf(_('The search point job "%s" was canceled remotely or expired.').t(),id)):"currentPoint"===type?errors.push(splunkUtil.sprintf(_('The current point job "%s" was canceled remotely or expired.').t(),id)):(link='<a class="rerun_datasummary" href="#">'+_("Rerun Data Summary").t()+"</a>",errors.push(splunkUtil.sprintf(_('The data summary search job "%s" was canceled remotely or expired. %s').t(),id,link)))),this.model.table.isTableMode()?(this.model.searchPointJob.entry.content.get("isFailed")&&(link='<a class="job_inspector" href="#" data-job-id="'+searchPointJobId+'">'+_("Job Inspector").t()+"</a>",errors.push(splunkUtil.sprintf(_("The search point job has failed due to an error. You may be able view the job in the %s.").t(),link))),this.model.currentPointJob&&this.model.currentPointJob.entry.content.get("isFailed")&&(link='<a class="job_inspector" href="#" data-job-id="'+currentPointJobId+'">'+_("Job Inspector").t()+"</a>",errors.push(splunkUtil.sprintf(_("The current point job has failed due to an error. You may be able view the job in the %s.").t(),link)))):this.model.dataSummaryJob&&this.model.dataSummaryJob.entry.content.get("isFailed")&&(link='<a class="job_inspector" href="#" data-job-id="'+dataSummaryJobId+'">'+_("Job Inspector").t()+"</a>",errors.push(splunkUtil.sprintf(_("The data summary job has failed due to an error. You may be able view the job in the %s.").t(),link))),_.each(errors,function(error){template=_.template(this.errorTemplate,{error:error}),this.$el.prepend(template)}.bind(this)),this},errorTemplate:'\t                <div class="alert alert-error job-status-alert">\t                    <i class="icon-alert"></i>\t                    <%= error %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/jobstatus/Count":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("util/time"),__webpack_require__("stubs/i18n"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,time_utils,i18n,splunkUtil){return Base.extend({className:"table-count",moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.searchPointJob,"jobProgress prepared sync",this.render),this.listenTo(this.model.searchPointJob,"destroy",this.empty),this.model.currentPointJob&&(this.listenTo(this.model.currentPointJob,"jobProgress prepared sync",this.render),this.listenTo(this.model.currentPointJob,"destroy",this.empty)),this.listenTo(this.model.resultJsonRows,"change",this.render)},activate:function(options){return this.active?Base.prototype.activate.apply(this,arguments):(this.render(),Base.prototype.activate.apply(this,arguments))},empty:function(){return this.$el.empty(),this},render:function(){var modelToRender,eventCount,progress=_("Starting search point job...").t(),currentPointIsNew=!!this.model.currentPointJob&&this.model.currentPointJob.isNew(),isEvents=!0;this.model.currentPointJob&&this.model.searchPointJob.id!==this.model.currentPointJob.id||(currentPointIsNew=!0),currentPointIsNew?(modelToRender=this.model.searchPointJob,this.model.searchPointJob.isDone()?progress=_("Search point job is complete.").t():this.model.searchPointJob.isFinalizing()?progress=_("Finalizing search point job...").t():this.model.searchPointJob.isPaused()?progress=_("Search point job paused").t():this.model.searchPointJob.isQueued()?progress=_("Search point job queued").t():this.model.searchPointJob.isParsing()?progress=_("Parsing search point job...").t():this.model.searchPointJob.isRunning()&&(progress=_("Search point job running").t())):(modelToRender=this.model.currentPointJob,this.model.currentPointJob.isDone()?progress=_("Current point job is complete.").t():this.model.currentPointJob.isFinalizing()?progress=_("Finalizing current point job...").t():this.model.currentPointJob.isPaused()?progress=_("Current point job paused").t():this.model.currentPointJob.isQueued()?progress=_("Current point job queued").t():this.model.currentPointJob.isParsing()?progress=_("Parsing current point job...").t():this.model.currentPointJob.isRunning()&&(progress=_("Current point job running").t())),eventCount=modelToRender.entry.content.get("eventCount"),0===eventCount&&(this.model.currentPointJob&&this.model.currentPointJob.isReportSearch()?(isEvents=!1,eventCount=this.model.currentPointJob.resultCountSafe()):""===modelToRender.entry.content.get("eventSearch")&&(isEvents=!1,eventCount=modelToRender.entry.content.get("resultCount"))),eventCount=i18n.format_decimal(eventCount||0);var earliest_iso=this.model.searchPointJob.entry.content.get("earliestTime"),latest_iso=this.model.searchPointJob.latestTimeSafe(),template=this.compiledTemplate({progress:progress,earliest_date:this.model.searchPointJob.isOverAllTime()?null:time_utils.isoToDateObject(earliest_iso),latest_date:latest_iso?time_utils.isoToDateObject(latest_iso):new Date(0),eventCount:eventCount,isEvents:isEvents,sampleRatio:this.model.searchPointJob.isUsingSampling()?i18n.format_decimal(this.model.searchPointJob.entry.content.get("sampleRatio")):null,model:modelToRender,time_utils:time_utils,i18n:i18n,splunkUtil:splunkUtil,_:_});return this.$el.html(template),this.$el.attr("data-job-state",progress),this},template:'\t            <% if (!model.isNew()) { %>\t                <% if (model.isDone()) { %>\t                    <i class="icon-check"></i>\t                    <% if (isEvents) { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s event", "%s events", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                    <% } else { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s result", "%s results", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                    <% } %>\t                    <% if (model.entry.content.get("isFinalized")) { %>\t                        <% if (earliest_date) { %>\t                            <%- splunkUtil.sprintf(_("(Partial results for %s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("(Partial results for before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } %>\t                    <% } else { %>\t                        <% if (earliest_date) { %>\t                            <%- splunkUtil.sprintf(_("(%s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } else { %>\t                            <%- splunkUtil.sprintf(_("(before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                        <% } %>\t                    <% } %>\t                    <% if (sampleRatio) { %>\t                        <span class="ratio"><%- splunkUtil.sprintf(_("Sampled at 1 : %s").t(), sampleRatio) %></span>\t                    <% } %>\t                <% } else { %>\t                    <%- progress %>\t                <% } %>\t            <% } %>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/jobstatus/SummaryCount":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/jobstatus/Count"),__webpack_require__("util/time"),__webpack_require__("stubs/i18n"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseCount,time_utils,i18n,splunkUtil){return BaseCount.extend({className:"summary-count status",moduleId:module.id,initialize:function(options){BaseCount.prototype.initialize.apply(this,arguments)},template:'\t                <% if (!model.isNew()) { %>\t                    <% if (model.isDone()) { %>\t                        <i class="icon-check"></i>\t                        <% if (isEvents) { %>\t                            <%= splunkUtil.sprintf(i18n.ungettext("%s event", "%s events", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                        <% } else { %>\t                            <%= splunkUtil.sprintf(i18n.ungettext("%s result", "%s results", eventCount), \'<span class="number">\' + eventCount + \'</span>\') %>\t                        <% } %>\t                        <%if (model.entry.content.get("isFinalized")) { %>\t                            <% if (earliest_date) { %>\t                                <%- splunkUtil.sprintf(_("(Partial results for %s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                            <% } else { %>\t                                <%- splunkUtil.sprintf(_("(Partial results for before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                            <% } %>\t                        <% } else { %>\t                            <% if (earliest_date) { %>\t                                <%- splunkUtil.sprintf(_("(%s to %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(earliest_date)), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                            <% } else { %>\t                                <%- splunkUtil.sprintf(_("(before %s)").t(), i18n.format_datetime_microseconds(time_utils.jsDateToSplunkDateTimeWithMicroseconds(latest_date))) %>\t                            <% } %>\t                        <% } %>\t                        <% if (eventCount == 0) {%>\t                            <% if (earliest_date) { %>\t                                <div class="warning-no-results"><i class="icon-alert"></i><%- _("No results found. Try expanding the time range.").t() %></div>\t                            <% } else { %>\t                                <div class="warning-no-results"><i class="icon-alert"></i><%- _("No results found.").t() %></div>\t                            <% } %>\t                        <% } %>\t                    <% } else if (model.isRunning()) { %>\t                        <%= splunkUtil.sprintf(i18n.ungettext("%s of %s event matched", "%s of %s events matched", scanCount), \'<span class="number">\' + eventCount + \'</span>\', \'<span class="number">\' + scanCount + \'</span>\') %>\t                    <% } else if (model.entry.content.get("isPaused")) { %>\t                        <i class="icon-warning icon-warning-paused"></i><%- _("Your search is paused.").t() %>\t                    <% } else { %>\t                        <%- progress %>\t                    <% } %>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/jobstatus/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1155);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/header/dialogs/save/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Table"),__webpack_require__("views/shared/MultiStepModal"),__webpack_require__("views/table/header/dialogs/save/Save"),__webpack_require__("views/table/header/dialogs/shared/Success")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,TableModel,MultiStepModal,Save,Success){return MultiStepModal.extend({moduleId:module.id,initialize:function(){MultiStepModal.prototype.initialize.apply(this,arguments),this.model.inmem=this.model.table.clone(),this.children.save=new Save({model:{application:this.model.application,inmem:this.model.inmem,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob}}),this.children.success=new Success({model:{application:this.model.application,inmem:this.model.inmem,searchPointJob:this.model.searchPointJob,currentPointJob:this.model.currentPointJob,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles},title:_("Your Table Has Been Saved").t()}),this.model.inmem.on("saveSuccess",function(){this.stepViewStack.setSelectedView(this.children.success),this.children.success.focus()},this),this.on("hidden",function(){this.model.inmem.get("updated")>this.model.table.get("updated")&&this.model.table.fetch()},this),this.children.success.on("closeModal",this.remove,this)},getStepViews:function(){return[this.children.save,this.children.success]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/resultscontainer/actionbar/StandardActions"),__webpack_require__("views/table/resultscontainer/actionbar/CutAndMove")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,StandardActionsView,CutAndMoveView){return BaseView.extend({moduleId:module.id,className:"dataset-action-bar",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.standardActions=new StandardActionsView({model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table,application:this.model.application,currentPointJob:this.model.currentPointJob}}),this.children.cutAndMove=new CutAndMoveView({model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table,application:this.model.application,currentPointJob:this.model.currentPointJob}})},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions))},startListening:function(options){this.listenTo(this.model.state,"change:activeActionBar",this.manageStateOfChildren)},manageStateOfChildren:function(){var activeActionBar=this.model.state.get("activeActionBar");"cutAndMove"===activeActionBar?(this.children.standardActions.deactivate({deep:!0}).$el.hide(),this.children.cutAndMove.activate({deep:!0}).$el.css("display","")):(this.children.standardActions.activate({deep:!0}).$el.css("display",""),this.children.cutAndMove.deactivate({deep:!0}).$el.hide())},updateMenuItemsState:function(options){this.children.standardActions.updateMenuItemsState(options),this.children.cutAndMove.updateMenuItemsState(options)},render:function(){return this.children.standardActions.render().appendTo(this.$el),this.children.cutAndMove.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/StandardActions":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/Base"),__webpack_require__("views/table/resultscontainer/actionbar/ActionBarItem"),__webpack_require__("views/table/modals/FieldRemovalDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCommandModel,BaseView,ActionBarItem,FieldRemovalDialog){var actionTypes=[{name:"edit",label:_("Edit").t()},{name:"sort",label:_("Sort").t()},{name:"filter",label:_("Filter").t()},{name:"clean",label:_("Clean").t()},{name:"summarize",label:_("Summarize").t()},{name:"new",label:_("Add New").t()}];return BaseView.extend({moduleId:module.id,tagName:"ul",className:"nav dataset-action-menu-list",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.actionMenus=[],_(actionTypes).each(function(actionType){this.children.actionMenus.push(new ActionBarItem({model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table,application:this.model.application,currentPointJob:this.model.currentPointJob},actionType:actionType}))}.bind(this))},startListening:function(){this.listenTo(this.model.state,"showFieldDialog",function(options){this.children.fieldRemovalDialog&&this.children.fieldRemovalDialog.remove(),this.children.fieldRemovalDialog=new FieldRemovalDialog({fields:options.fields}),this.children.fieldRemovalDialog.render().appendTo($("body")).show(),this.listenTo(this.children.fieldRemovalDialog,"accepted",function(){options.callback()})})},updateMenuItemsState:function(options){options=options||{},_.each(this.children.actionMenus,function(actionMenu){options.disable?actionMenu.$el.addClass("disabled"):actionMenu.updateDisabledState()})},render:function(){return _(this.children.actionMenus).each(function(child){child.render().appendTo(this.$el)}.bind(this)),this}},{actionTypes:actionTypes})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/ActionBarItem":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/CleanMenu"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/EditMenu"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/FilterMenu"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/NewMenu"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/SortMenu"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/SummarizeMenu")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,CleanMenu,EditMenu,FilterMenu,NewMenu,SortMenu,BaseMenu,SummarizeMenu){return Base.extend({moduleId:module.id,tagName:"li",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.menuType=this.options.actionType.name,this.initializeMenu()},events:{"click a.dataset-action-menu-activator":function(e){e.preventDefault(),this.$el.hasClass("disabled")||this.openMenu($(e.currentTarget))}},startListening:function(){this.listenTo(this.model.table.entry.content,"change:dataset.display.selectedColumns change:dataset.display.selectedColumnValue change:dataset.display.selectedText change:dataset.display.selectionType",function(){this.updateDisabledState()})},activate:function(){return this.active?Base.prototype.activate.apply(this,arguments):(this.updateDisabledState(),Base.prototype.activate.apply(this,arguments))},initializeMenu:function(){var menuOptions={model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.table},onHiddenRemove:!0,ignoreToggleMouseDown:!0};switch(this.children.menu&&this.children.menu.deactivate({deep:!0}).remove(),this.menuType){case"clean":this.children.menu=new CleanMenu(menuOptions);break;case"edit":this.children.menu=new EditMenu(menuOptions);break;case"filter":this.children.menu=new FilterMenu(menuOptions);break;case"new":this.children.menu=new NewMenu(menuOptions);break;case"sort":this.children.menu=new SortMenu(menuOptions);break;case"summarize":this.children.menu=new SummarizeMenu(menuOptions);break;default:throw new Error("You must pass a valid menu type.")}},openMenu:function($target){return this.children.menu&&this.children.menu.shown?void this.children.menu.hide():($target.addClass("active"),this.initializeMenu(),this.children.menu.render().appendTo($("body")),this.children.menu.activate({deep:!0}),this.children.menu.show($target),void this.children.menu.on("hide",function(){$target.removeClass("active")},this))},updateDisabledState:function(){Object.getPrototypeOf(this.children.menu)instanceof BaseMenu&&(this.children.menu.updateDisabledState(),this.children.menu.allChildrenDisabled()?this.$el.addClass("disabled"):this.$el.removeClass("disabled"))},render:function(){return this.$el.html(this.compiledTemplate({_:_,label:this.options.actionType.label})),this.updateDisabledState(),this},template:'\t               <a class="dataset-action-menu-activator" href="#"><%- label %><b class="caret"></b></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/FilterMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/FilterValues"),__webpack_require__("models/datasets/commands/Dedup"),__webpack_require__("models/datasets/commands/Truncate"),__webpack_require__("models/datasets/commands/Search"),__webpack_require__("models/datasets/commands/FilterRegex"),__webpack_require__("models/datasets/commands/FilterMismatchedTypes")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseMenu,ColumnModel,BaseCommandModel,FilterValuesModel,DedupModel,TruncateModel,SearchModel,FilterRegexModel,FilterMismatchedTypesModel){var prepareFilterOptions=function(commandConfigs){var options={initialComparator:commandConfigs.initialComparator},selectionType=this.model.table.entry.content.get("dataset.display.selectionType"),selectedValue=this.model.table.entry.content.get("dataset.display.selectedColumnValue");return selectionType===BaseCommandModel.SELECTION.CELL&&""===selectedValue?commandConfigs.initialComparator===FilterValuesModel.filterTypes.EQUALS?options.initialComparator=FilterValuesModel.filterTypes.ISEMPTY:commandConfigs.initialComparator===FilterValuesModel.filterTypes.DOESNOTEQUAL&&(options.initialComparator=FilterValuesModel.filterTypes.ISNOTEMPTY):selectionType===BaseCommandModel.SELECTION.CELL&&_.isNull(selectedValue)&&(commandConfigs.initialComparator===FilterValuesModel.filterTypes.EQUALS?options.initialComparator=FilterValuesModel.filterTypes.ISNULL:commandConfigs.initialComparator===FilterValuesModel.filterTypes.DOESNOTEQUAL&&(options.initialComparator=FilterValuesModel.filterTypes.ISNOTNULL)),
selectionType===BaseCommandModel.SELECTION.CELL?options.cellVal=_.isNull(selectedValue)?"null":selectedValue:selectionType===BaseCommandModel.SELECTION.TEXT&&(options.textVal=this.model.table.entry.content.get("dataset.display.selectedText")),options};return BaseMenu.extend({moduleId:module.id,commandMenuItems:[{className:"filter-values",label:_("Filter by Value...").t(),commandConfigs:FilterValuesModel.getDefaults(),insertDividerAfter:!0,prepareOptions:prepareFilterOptions},{className:"filter-equals-value",label:_("Equals Selected Value").t(),commandConfigs:FilterValuesModel.getDefaults({initialComparator:FilterValuesModel.filterTypes.EQUALS,isComplete:!0}),blacklist:[{selection:BaseMenu.SELECTION.TEXT},{selection:BaseMenu.SELECTION.COLUMN},{selection:BaseMenu.SELECTION.CELL,types:[ColumnModel.TYPES._TIME,ColumnModel.TYPES._RAW]},{selection:BaseMenu.SELECTION.MULTICOLUMN},{selection:BaseMenu.SELECTION.TABLE}],prepareOptions:prepareFilterOptions},{className:"filter-not-equals-value",label:_("Does Not Equal Selected Value").t(),commandConfigs:FilterValuesModel.getDefaults({initialComparator:FilterValuesModel.filterTypes.DOESNOTEQUAL,isComplete:!0}),blacklist:[{selection:BaseMenu.SELECTION.TEXT},{selection:BaseMenu.SELECTION.COLUMN},{selection:BaseMenu.SELECTION.CELL,types:[ColumnModel.TYPES._TIME,ColumnModel.TYPES._RAW]},{selection:BaseMenu.SELECTION.MULTICOLUMN},{selection:BaseMenu.SELECTION.TABLE}],prepareOptions:prepareFilterOptions},{className:"filter-contains-selection",label:_("Contains Selected Text").t(),commandConfigs:FilterValuesModel.getDefaults({initialComparator:FilterValuesModel.filterTypes.CONTAINS,isComplete:!0}),blacklist:[{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.COLUMN},{selection:BaseMenu.SELECTION.TEXT,types:[ColumnModel.TYPES.EPOCH_TIME,ColumnModel.TYPES._TIME,ColumnModel.TYPES.BOOLEAN,ColumnModel.TYPES.NUMBER]},{selection:BaseMenu.SELECTION.MULTICOLUMN},{selection:BaseMenu.SELECTION.TABLE}],prepareOptions:prepareFilterOptions},{className:"filter-not-contains-selection",label:_("Does Not Contain Selected Text").t(),commandConfigs:FilterValuesModel.getDefaults({initialComparator:FilterValuesModel.filterTypes.DOESNOTCONTAIN,isComplete:!0}),blacklist:[{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.COLUMN},{selection:BaseMenu.SELECTION.TEXT,types:[ColumnModel.TYPES.EPOCH_TIME,ColumnModel.TYPES._TIME,ColumnModel.TYPES.BOOLEAN,ColumnModel.TYPES.NUMBER]},{selection:BaseMenu.SELECTION.MULTICOLUMN},{selection:BaseMenu.SELECTION.TABLE}],prepareOptions:prepareFilterOptions},{className:"filter-remove-null-values",label:_("Is Not Null").t(),insertDividerAfter:!0,commandConfigs:FilterValuesModel.getDefaults({initialComparator:FilterValuesModel.filterTypes.ISNOTNULL,isComplete:!0}),blacklist:[{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.COLUMN,types:[ColumnModel.TYPES._TIME,ColumnModel.TYPES._RAW]},{selection:BaseMenu.SELECTION.MULTICOLUMN,types:[ColumnModel.TYPES._TIME,ColumnModel.TYPES._RAW]},{selection:BaseMenu.SELECTION.TABLE},{selection:BaseMenu.SELECTION.TEXT}],prepareOptions:prepareFilterOptions},{className:"filter-remove-duplicates",label:_("Remove Duplicates").t(),insertDividerAfter:!0,commandConfigs:DedupModel.getDefaults()},{className:"filter-remove-mismatched-types",label:_("Remove Type Mismatches").t(),insertDividerAfter:!0,commandConfigs:FilterMismatchedTypesModel.getDefaults()},{className:"filter-truncate",label:_("Limit Rows").t(),insertDividerAfter:!0,commandConfigs:TruncateModel.getDefaults()},{className:"advanced-search",label:_("Search...").t(),description:_("Advanced").t(),commandConfigs:SearchModel.getDefaults(),prepareOptions:function(commandConfigs){var options,selectionValue,currentCommand=this.model.table.getCurrentCommandModel(),selectionType=this.model.table.entry.content.get("dataset.display.selectionType"),isText=!1;return selectionType===BaseCommandModel.SELECTION.TEXT?(selectionValue=this.model.table.entry.content.get("dataset.display.selectedText"),isText=!0):selectionType===BaseCommandModel.SELECTION.CELL&&(selectionValue=this.model.table.entry.content.get("dataset.display.selectedColumnValue")),options={selectionValue:selectionValue,isText:isText,columnName:currentCommand.getFieldNameFromGuid(this.model.table.selectedColumns.first())}}},{className:"advanced-match-with-regex",label:_("Match Regular Expression...").t(),description:_("Advanced").t(),commandConfigs:FilterRegexModel.getDefaults()}],initialize:function(){BaseMenu.prototype.initialize.apply(this,arguments)},shouldDisableMenuItem:function(menuItem){var selectedColumnGuids=this.model.table.selectedColumns.pluck("id"),selectedColumnModels=this.model.table.getCurrentCommandModel().columns.filter(function(col){return selectedColumnGuids.indexOf(col.get("id"))>-1},this),selectedColumnTypes=_.map(selectedColumnModels,function(selectedColumnModel){return selectedColumnModel.get("type")}),shouldRestrict=_.any(selectedColumnTypes,function(type){return type===ColumnModel.TYPES.NUMBER||type===ColumnModel.TYPES.BOOLEAN},this),shouldAllow=_.any(selectedColumnTypes,function(type){return type!==ColumnModel.TYPES._RAW&&type!==ColumnModel.TYPES._TIME},this);return!(!this.model.table.entry.content.get("dataset.display.isSelectionError")||!shouldRestrict||"filter-values"!==menuItem.className&&"filter-equals-value"!==menuItem.className&&"filter-not-equals-value"!==menuItem.className)||(!this.model.table.entry.content.get("dataset.display.isSelectionError")||!shouldAllow||"filter-remove-mismatched-types"!==menuItem.className)&&BaseMenu.prototype.shouldDisableMenuItem.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/CleanMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/ChangeCase"),__webpack_require__("models/datasets/commands/FillValues"),__webpack_require__("models/datasets/commands/Replace"),__webpack_require__("models/datasets/commands/ReplaceMismatchedTypes"),__webpack_require__("models/datasets/commands/EvalExistingField"),__webpack_require__("models/datasets/commands/Round"),__webpack_require__("models/datasets/commands/Bucket")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseMenu,ColumnModel,BaseCommandModel,ChangeCaseModel,FillValuesModel,ReplaceModel,ReplaceMismatchedTypesModel,EvalExistingFieldModel,RoundModel,BucketModel){return BaseMenu.extend({moduleId:module.id,commandMenuItems:[{className:"clean-changecase",label:_("Change Case...").t(),commandConfigs:ChangeCaseModel.getDefaults()},{className:"clean-fill-values",label:_("Fill Null or Empty Values...").t(),commandConfigs:FillValuesModel.getDefaults()},{className:"clean-replace-values",label:_("Replace Values...").t(),commandConfigs:ReplaceModel.getDefaults(),prepareOptions:function(commandConfigs){var options,selectionValue,selectionType=this.model.table.entry.content.get("dataset.display.selectionType"),isText=!1;return selectionType===BaseCommandModel.SELECTION.TEXT?(selectionValue=this.model.table.entry.content.get("dataset.display.selectedText"),isText=!0):selectionType===BaseCommandModel.SELECTION.CELL&&(selectionValue=this.model.table.entry.content.get("dataset.display.selectedColumnValue")),options={selectionValue:selectionValue,isText:isText}}},{className:"clean-round",label:_("Round Values").t(),commandConfigs:RoundModel.getDefaults()},{className:"clean-replace-type-mismatches",label:_("Replace Type Mismatches With Null").t(),commandConfigs:ReplaceMismatchedTypesModel.getDefaults()},{className:"clean-bucket",label:_("Bucket...").t(),insertDividerAfter:!0,commandConfigs:BucketModel.getDefaults()},{className:"advanced-eval",label:_("Eval Expression...").t(),description:_("Advanced").t(),commandConfigs:_.extend(EvalExistingFieldModel.getDefaults()),prepareOptions:function(commandConfigs){var currentCommand=this.model.table.getCurrentCommandModel(),options={};return 1===this.model.table.selectedColumns.length&&(options.columnName=currentCommand.getFieldNameFromGuid(this.model.table.selectedColumns.first())),options}}],initialize:function(){BaseMenu.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.state,"directReplaceValue",function(oldCellValue,newCellValue,colIndex){this.handleDirectReplaceValue(oldCellValue,newCellValue,colIndex)}),BaseMenu.prototype.startListening.apply(this,arguments)},handleDirectReplaceValue:function(oldCellValue,newCellValue,colIndex){var requiredColumnIds=this.model.table.selectedColumns.pluck("id"),currentCommandIdx=this.model.table.getCurrentCommandIdx(),newCommandIdx=currentCommandIdx+1;requiredColumnIds.length||(requiredColumnIds=[this.model.table.getCurrentCommandModel().getGuidForColIndex(colIndex)]),_(oldCellValue).isNull()?this.model.table.commands.addNewCommand({type:FillValuesModel.getDefaults().type,isComplete:!0,requiredColumns:requiredColumnIds,fillType:FillValuesModel.TYPES.NULL,fillValue:newCellValue},{at:newCommandIdx,updateSPLOptions:{applicationModel:this.model.application}}):this.model.table.commands.addNewCommand({type:ReplaceModel.getDefaults().type,isComplete:!0,requiredColumns:requiredColumnIds,editorValues:{oldValue:oldCellValue,newValue:newCellValue}},{at:newCommandIdx,updateSPLOptions:{applicationModel:this.model.application}})},shouldDisableMenuItem:function(menuItem){var selectedColumnGuids=this.model.table.selectedColumns.pluck("id"),selectedColumnModels=this.model.table.getCurrentCommandModel().columns.filter(function(col){return selectedColumnGuids.indexOf(col.get("id"))>-1},this),selectedColumnTypes=_.map(selectedColumnModels,function(selectedColumnModel){return selectedColumnModel.get("type")}),shouldAllow=_.any(selectedColumnTypes,function(type){return type!==ColumnModel.TYPES._RAW&&type!==ColumnModel.TYPES._TIME},this);return(!this.model.table.entry.content.get("dataset.display.isSelectionError")||!shouldAllow||"clean-replace-type-mismatches"!==menuItem.className)&&BaseMenu.prototype.shouldDisableMenuItem.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/NewMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/Rex"),__webpack_require__("models/datasets/commands/ExtractDateTime"),__webpack_require__("models/datasets/commands/Join"),__webpack_require__("models/datasets/commands/Duplicate"),__webpack_require__("models/datasets/commands/Coalesce"),__webpack_require__("models/datasets/commands/Concatenate"),__webpack_require__("models/datasets/commands/Rangemap"),__webpack_require__("models/datasets/commands/Eval"),__webpack_require__("models/datasets/commands/AdvancedRex"),__webpack_require__("models/datasets/commands/Split"),__webpack_require__("models/datasets/commands/CalculateField"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ColumnModel,BaseCommand,RexCommand,ExtractDateTimeCommand,JoinCommand,DuplicateCommand,CoalesceCommand,ConcatenateCommand,RangemapCommand,EvalCommand,AdvancedRexCommand,SplitCommand,CalculateFieldCommand,BaseMenu){return BaseMenu.extend({moduleId:module.id,commandMenuItems:[{className:"enrich-calculated-field",label:_("Calculate Field...").t(),commandConfigs:CalculateFieldCommand.getDefaults()},{className:"enrich-extract-text",label:_("Extract Selected Text...").t(),commandConfigs:RexCommand.getDefaults(),prepareOptions:function(commandConfigs){return{startPosition:this.model.table.entry.content.get("dataset.display.selectedStart"),endPosition:this.model.table.entry.content.get("dataset.display.selectedEnd"),fullText:this.model.table.entry.content.get("dataset.display.selectedColumnValue"),selectedText:this.model.table.entry.content.get("dataset.display.selectedText")}}},{className:"enrich-extract-date-time",label:_("Format Timestamp...").t(),insertDividerAfter:!0,commandConfigs:ExtractDateTimeCommand.getDefaults()},{className:"enrich-join",label:_("Join from Lookup...").t(),insertDividerAfter:!0,commandConfigs:JoinCommand.getDefaults()},{className:"fields-duplicate",label:_("Duplicate Field...").t(),commandConfigs:DuplicateCommand.getDefaults(),prepareOptions:function(commandConfigs){var currentCommand=this.model.table.getCurrentCommandModel();return{columnName:currentCommand.getFieldNameFromGuid(this.model.table.selectedColumns.first())}}},{className:"fields-coalesce",label:_("Coalesce Fields...").t(),commandConfigs:CoalesceCommand.getDefaults()},{className:"fields-concatenate",label:_("Concatenate Fields or Text...").t(),commandConfigs:ConcatenateCommand.getDefaults()},{className:"enrich-map-ranges",label:_("Map Ranges...").t(),insertDividerAfter:!0,commandConfigs:RangemapCommand.getDefaults(),prepareOptions:function(commandConfigs){if(this.model.table.entry.content.get("dataset.display.selectionType")===BaseCommand.SELECTION.CELL)return{selectionValue:this.model.table.entry.content.get("dataset.display.selectedColumnValue")}}},{className:"fields-split",label:_("Split Fields...").t(),commandConfigs:SplitCommand.getDefaults()},{className:"advanced-eval",label:_("Eval Expression...").t(),description:_("Advanced").t(),commandConfigs:EvalCommand.getDefaults()},{className:"advanced-extract-with-regex",label:_("Extract with Regular Expression...").t(),description:_("Advanced").t(),commandConfigs:AdvancedRexCommand.getDefaults()}],initialize:function(){BaseMenu.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/SortMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("models/datasets/commands/Sort")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseMenu,SortCommand){return BaseMenu.extend({moduleId:module.id,commandMenuItems:[{className:"sort-ascending",label:_("Sort Ascending").t(),commandConfigs:SortCommand.getDefaults(),prepareOptions:function(commandConfigs){return{order:"ascending"}}},{className:"sort-descending",label:_("Sort Descending").t(),commandConfigs:SortCommand.getDefaults(),prepareOptions:function(commandConfigs){return{order:"descending"}}}],initialize:function(){BaseMenu.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/SummarizeMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("models/datasets/commands/Stats"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/Column")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseMenu,StatsModel,BaseCommandModel,ColumnModel){return BaseMenu.extend({moduleId:module.id,commandMenuItems:[{className:"summarize-stats",label:_("Stats...").t(),commandConfigs:StatsModel.getDefaults(),prepareOptions:function(commandConfigs){var options,currentSelectedColumn,currentSelectedColumnType,selectionType=this.model.table.entry.content.get("dataset.display.selectionType"),selectedColumns=JSON.parse(this.model.table.entry.content.get("dataset.display.selectedColumns")),aggregateGuids=[],splitByGuids=[],addRowCount=!1;return selectionType===BaseCommandModel.SELECTION.COLUMN||selectionType===BaseCommandModel.SELECTION.MULTICOLUMN?_.each(selectedColumns,function(selectedColumn){currentSelectedColumn=this.model.table.getCurrentCommandModel().columns.get(selectedColumn.id),currentSelectedColumnType=currentSelectedColumn.get("type"),currentSelectedColumnType===ColumnModel.TYPES.NUMBER?aggregateGuids.push(currentSelectedColumn.id):splitByGuids.push(currentSelectedColumn.id)},this):selectionType===BaseCommandModel.SELECTION.TABLE&&(addRowCount=!0),options={aggregateGuids:aggregateGuids,splitByGuids:splitByGuids,addRowCount:addRowCount}}}],initialize:function(){BaseMenu.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/CutAndMove":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,ColumnsCollection,BaseView){return BaseView.extend({moduleId:module.id,tagName:"ul",className:"nav dataset-action-menu-list",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.table.selectedColumns,"add remove reset",this.toggleEnabledState),this.listenTo(this.model.table.entry.content,"change:dataset.display.selectionType",this.toggleEnabledState)},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.model.state.trigger("cutSelection"),this.cutColumns=this.model.table.selectedColumns.pluck("id"),this.toggleEnabledState(),BaseView.prototype.activate.apply(this,arguments))},events:{'click li.insert-before:not(".disabled") a':function(e){e.preventDefault(),this.insertCutColumns({insertAfter:!1})},'click li.insert-after:not(".disabled") a':function(e){e.preventDefault(),this.insertCutColumns({insertAfter:!0})},"click a.cancel":function(e){e.preventDefault(),this.model.state.trigger("clearCutSelection"),this.model.state.unset("activeActionBar")}},updateMenuItemsState:function(options){},toggleEnabledState:function(){"column"!==this.model.table.entry.content.get("dataset.display.selectionType")||1!==this.model.table.selectedColumns.length||_.contains(this.cutColumns,this.model.table.selectedColumns.first().id)?(this.$("li.insert-after").addClass("disabled"),this.$("li.insert-before").addClass("disabled")):(this.$("li.insert-after").removeClass("disabled"),this.$("li.insert-before").removeClass("disabled"))},insertCutColumns:function(options){options=options||{};var currentCommandModel=this.model.table.getCurrentCommandModel(),currentColumns=currentCommandModel.columns,currentColumnsCopy=new ColumnsCollection(currentColumns.toJSON()),colsToInsert=currentColumnsCopy.remove(this.cutColumns),selectedColumns=this.model.table.selectedColumns.pluck("id"),columnToInsertAt=options.insertAfter?currentColumnsCopy.get(_.last(selectedColumns)):currentColumnsCopy.get(_.first(selectedColumns)),columnIndexToInsertAt=currentColumnsCopy.indexOf(columnToInsertAt);if(this.model.state.trigger("clearCutSelection"),columnIndexToInsertAt<0)throw new Error("Selected column is missing from command's columns");options.insertAfter&&columnIndexToInsertAt++,currentColumnsCopy.add(colsToInsert,{at:columnIndexToInsertAt}),_.isEqual(currentColumns.toJSON(),currentColumnsCopy.toJSON())?this.model.state.unset("activeActionBar"):(currentColumns.reset(currentColumnsCopy.toJSON()),this.model.table.trigger("applyAction",currentCommandModel,this.model.table.commands))},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this},template:'\t                <li class="insert-before">\t                    <a class="dataset-action-menu-activator" href="#"><%= _("Insert Before").t() %></a>\t                </li>\t                <li class="insert-after">\t                    <a class="dataset-action-menu-activator" href="#"><%= _("Insert After").t() %></a>\t                </li>\t                <li>\t                    <a class="dataset-action-menu-activator cancel" href="#"><%= _("Cancel").t() %></a>\t                </li>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/Base"),__webpack_require__("views/shared/summarytable/TableHeader"),__webpack_require__("views/shared/summarytable/resultsbody/Master"),__webpack_require__("views/shared/delegates/TableDock"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("views/shared/summarytable/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnsCollection,BaseView,TableHeaderView,ResultsBodyView,TableDock,WaitSpinnerView,css){return BaseView.extend({moduleId:module.id,className:"table-wrapper",initialize:function(options){BaseView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{},this.collection.columns=this.collection.columns||new ColumnsCollection,this.children.thead=new TableHeaderView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state,summary:this.model.summary,ast:this.model.ast},collection:{columns:this.collection.columns},editingMode:this.options.editingMode}),this.children.resultsBody=new ResultsBodyView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,summary:this.model.summary,state:this.model.state,timeline:this.model.timeline,dataSummaryJob:this.model.dataSummaryJob},collection:{columns:this.collection.columns},editingMode:this.options.editingMode}),this.children.waitSpinner=new WaitSpinnerView({color:"green",size:"medium",frameWidth:19})},startListening:function(options){this.listenTo(this.model.state,"clearSelection",function(){this.model.dataset.clearSelections()}),this.listenTo(this.model.state,"setSelectedColumn",function(colIndex){this.model.dataset.setSelectedColumn(colIndex)}),this.listenTo(this.model.resultJsonRows,"sync",this.debouncedRender),this.listenTo(this.model.summary,"sync",this.debouncedRender),this.listenTo(this.model.state,"change:tableEnabled",function(){var enable=this.model.state.get("tableEnabled");this.children.thead.enableSelection(enable),this.children.resultsBody.enableSelection(enable)},this)},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.children.waitSpinner.stop(),this.children.waitSpinner.$el.hide(),this.$el.removeClass("disabled"),this.bindDOMListeners(),this.updateColumnsCollection(),this.children.tableDock&&this.children.tableDock.update(),BaseView.prototype.activate.apply(this,arguments))},bindDOMListeners:function(){if(this.$el.html()){var scrollTableWrapper=this.$getScrollTableWrapper();scrollTableWrapper.length&&scrollTableWrapper.off("scroll").on("scroll",_.bind(this.onScrollChange,this))}},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.children.waitSpinner.$el.show(),!this.children.waitSpinner.active&&this.children.waitSpinner.start(),this.$el.addClass("disabled"),this.$getScrollTableWrapper().off("scroll"),this):BaseView.prototype.deactivate.apply(this,arguments)},$getScrollTableWrapper:function(){return this.$(".scroll-table-wrapper")},onAddedToDocument:function(options){this.bindDOMListeners(),this.restoreScrollPosition(),BaseView.prototype.onAddedToDocument.apply(this,arguments)},restoreScrollPosition:function(){var scrollLeft=this.model.dataset.entry.content.get("dataset.display.scrollLeft");scrollLeft&&this.$getScrollTableWrapper().scrollLeft(scrollLeft),scrollLeft=this.$getScrollTableWrapper().scrollLeft(),this.setScrollPositionOnTableHeader(scrollLeft)},onScrollChange:function(){var scrollLeft=this.$getScrollTableWrapper().scrollLeft();this.model.dataset.entry.content.set("dataset.display.scrollLeft",scrollLeft),this.setScrollPositionOnTableHeader(scrollLeft),this.model.state.trigger("destroyContextualMenus"),this.children.tableDock&&this.children.tableDock.handleContainerScroll()},setScrollPositionOnTableHeader:function(scrollLeft){scrollLeft=scrollLeft||0,this.$(".dataset-table-head").css("margin-left",-scrollLeft+"px")},updateColumnsCollection:function(){var lastSafeCommand,columnsData=[];this.model.dataset.isTable()&&this.options.respectCommandIndex?(lastSafeCommand=this.model.dataset.getLastSafeCommandForCommandIndex(),lastSafeCommand&&(columnsData=lastSafeCommand.columns.toJSON())):columnsData=this.model.dataset.getTypedFields({withoutUnfixed:!0}),this.columnsAreDifferent=!_.isEqual(columnsData,this.collection.columns.toJSON()),this.collection.columns.reset(columnsData)},shouldRenderTable:function(){return this.model.summary.getEventCount()>0||this.model.resultJsonRows.hasRows()},render:function(){var currentCommandModel,renderOptions={columnsAreDifferent:this.columnsAreDifferent},shouldDisableSelection=!0;return this.shouldRenderTable()?(this.$el.html()||this.$el.html(this.compiledTemplate({})),this.children.waitSpinner.render().prependTo(this.$el).$el.hide(),this.$el.removeClass("summary-table-no-results"),this.$(".summary-table-results").length?(this.children.thead.render(renderOptions),this.children.resultsBody.render(renderOptions),this.children.tableDock&&this.collection.columns.each(function(column){var colName=column.get("name"),metrics=this.model.resultJsonRows.extractMetrics(column,this.model.summary.extractTopResults(colName)),$column=this.children.tableDock.$('.col-header[data-field="'+colName+'"]');this.children.thead.toggleBarVisibility($column,metrics,"MatchedType","match"),this.children.thead.toggleBarVisibility($column,metrics,"MismatchedType","mismatch"),this.children.thead.toggleBarVisibility($column,metrics,"NullOrEmptyValues","null-or-empty"),this.children.thead.toggleBarVisibility($column,metrics,void 0,"loading")},this)):(this.children.thead.render(renderOptions).appendTo(this.$(".table-summary")),this.children.resultsBody.render(renderOptions).appendTo(this.$(".table-summary")),this.options.useDock&&(this.children.tableDock&&this.children.tableDock.remove(),this.children.tableDock=new TableDock({el:this.el,offset:37,defaultLayout:"fixed",tableSelector:".scroll-table-wrapper > .table-summary",theadSelector:".shared-summarytable-tableheader",thSelector:".shared-summarytable-tableheader > .dataset-table-head > .col-header",containerDOM:'<div class="docked-tableheader-container"></div>',containerSelector:".docked-tableheader-container",scrollContainerSelector:".scroll-table-wrapper",dockScrollBar:!0}),this.$el.addClass("shared-summarytable-docking-header"))),this.columnsAreDifferent=!1,this.bindDOMListeners(),this.restoreScrollPosition(),this.children.thead.clearSelection(),this.children.resultsBody.clearSelection(),this.children.thead.clearHighlight(),this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid(),this.children.thead.setSelection(),this.children.thead.highlightFields()),this.children.thead.enableSelection(!shouldDisableSelection),this.children.resultsBody.enableSelection(!shouldDisableSelection),this.model.dataSummaryJob.isDone()||this.children.thead.clearDragability()):(this.$el.html(this.compiledTemplate({})),this.$el.addClass("summary-table-no-results")),this.model.state.trigger("clearCutSelection"),this},template:'\t                <div class="scroll-table-wrapper">\t                    <div class="table table-summary">\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/TableHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/shared/TableHeader")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnModel,BaseView,TableHeaderView){return TableHeaderView.extend({moduleId:module.id,shouldFastRouteOnColumnDrop:!0,initialize:function(options){TableHeaderView.prototype.initialize.apply(this,arguments)},events:$.extend({},TableHeaderView.prototype.events,{'dblclick .col-header:not(":first-child"):not(".disabled")':function(e){var $target=$(e.target),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1;!$target||$target.is("span.resize")||$target.is("i.field-type")||isCtrlClick||isShiftClick||this.handleDirectRename(e)}}),startListening:function(options){TableHeaderView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection),this.listenTo(this.model.state,"columnInteraction",this.toggleClassForColumn),this.listenTo(this.model.state,"columnSelection",this.handleColumnSelect),this.listenTo(this.model.state,"destroyContextualMenus",function(){this.children.typeMenu&&this.children.typeMenu.deactivate({deep:!0}).remove(),delete this.children.typeMenu})},toggleClassForColumn:function(index,className,add){var $column=this.$("div[data-col-index="+index+"]");add?$column.addClass(className):$column.removeClass(className)},handleTableSelect:function($allColsSelected){$allColsSelected.addClass("column-selected"),TableHeaderView.prototype.handleTableSelect.apply(this,arguments)},addSelectedColumn:function($column){var columnIndex=$column.data("col-index");$column.addClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!0)},removeSelectedColumn:function($column){var columnIndex=$column.data("col-index");$column.hasClass("column-selected")&&($column.removeClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!1))},handleCutSelection:function(){this.$(".col-header.column-selected").addClass("column-cut")},handleClearCutSelection:function(){this.$(".col-header.column-cut").removeClass("column-cut")},clearSelection:function(){this.$(".column-selected").removeClass("column-selected")},clearHighlight:function(){this.$(".column-highlighted").removeClass("column-highlighted")},setSelection:function(){var selectedColumnInColumnsCollection,selectedValueString,selectedValue,selectedColumnId,selectedColumn,selectedColumnTopValues,$target,triggerArgs,selectedColumns=this.model.dataset.selectedColumns,selectionType=this.model.dataset.entry.content.get("dataset.display.selectionType"),selectedText=this.model.dataset.entry.content.get("dataset.display.selectedText"),currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),currentCommand=this.model.dataset.commands.at(currentCommandIndex);
"column"===selectionType?selectedColumns.each(function(selectedColumn){selectedColumnInColumnsCollection=currentCommand.columns.get(selectedColumn.id),selectedColumnInColumnsCollection&&($target=this.$getColHeader(selectedColumnInColumnsCollection.get("name")),this.addSelectedColumn($target),$target.attr("draggable",!0))},this):"cell"===selectionType||"text"===selectionType?(selectedValueString=this.model.dataset.entry.content.get("dataset.display.selectedColumnValue"),selectedColumnId=selectedColumns&&selectedColumns.length>0&&selectedColumns.first().id,selectedColumn=this.collection.columns.get(selectedColumnId),selectedColumnTopValues=selectedColumn&&this.model.summary.extractTopResults(selectedColumn.get("name")),selectedValue=_.where(selectedColumnTopValues,{name:selectedValueString})||[],1===selectedValue.length?(triggerArgs={columnName:selectedColumn.get("name"),selectedValue:selectedValueString},"text"===selectionType&&_.extend(triggerArgs,{selectedText:selectedText,startIndex:this.model.dataset.entry.content.get("dataset.display.selectedStart"),endIndex:this.model.dataset.entry.content.get("dataset.display.selectedEnd")}),this.model.state.trigger("setValueSelection",triggerArgs)):($target=this.$getColHeader(selectedColumn.get("name")),this.addSelectedColumn($target))):"table"===selectionType&&($target=this.$(".col-header"),this.handleTableSelect($target))},toggleBarVisibility:function($column,metrics,metricName,barClass){var $bar=$column.find("."+barClass),metric=_.findWhere(metrics,{key:metricName}),showMetric=metric&&!metric.isZero,barWidth=metric&&metric.value;metrics.length?"loading"===barClass?this._toggle$BarVisibility($bar,!1):this._toggle$BarVisibility($bar,showMetric,barWidth):"loading"===barClass?this._toggle$BarVisibility($bar,!0,"0"):this._toggle$BarVisibility($bar,!1)},_toggle$BarVisibility:function($bar,showMetric,barWidth){showMetric?($bar.show(),$bar.css("flex","1 1 "+barWidth+"%"),this.$(".bar.empty").hide()):$bar.hide()},enableSelection:function(enable){enable?this.$(".col-header").removeClass("disabled"):this.$(".col-header").addClass("disabled")},render:function(options){TableHeaderView.prototype.render.apply(this,arguments);var currentCommandModel,metrics,colName,$column,shouldDisableSelection=!0;return this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),(!this.$el.html()||options&&options.columnsAreDifferent)&&this.$el.html(this.compiledTemplate({ColumnModel:ColumnModel,columns:this.collection.columns})),this.collection.columns.each(function(column){colName=column.get("name"),metrics=this.model.resultJsonRows.extractMetrics(column,this.model.summary.extractTopResults(colName)),$column=this.$getColHeader(colName),this.toggleBarVisibility($column,metrics,"MatchedType","match"),this.toggleBarVisibility($column,metrics,"MismatchedType","mismatch"),this.toggleBarVisibility($column,metrics,"NullOrEmptyValues","null-or-empty"),this.toggleBarVisibility($column,metrics,void 0,"loading")},this),this.delegateEvents(),this},template:'\t                <div class="dataset-table-head">\t                    <% if (columns.length > 0) { %>\t                        <div class="col-header all"><span class="name all">*</span></div>\t                    <% } else { %>\t                        <div class="col-header placeholder">&nbsp;</th>\t                    <% } %>\t                    <% columns.each(function(column, index) { %>\t                        <% var colName = column.get("name"); %>\t                        <div class="col-header field type-<%- column.get("type") %>" data-col-index="<%- index %>" data-field="<%- colName %>" style="<%- column.get("display.width") ? "width: " + column.get("display.width") + "px; min-width: " + Math.max(column.get("display.width"), 200) + "px;": "" %>">\t                            <i class="icon-<%- ColumnModel.ICONS[column.get("type")] %> field-type" data-type="<%- column.get("type") %>"></i>\t                            <span class="name" title="<%- colName %>"><%- colName %></span>\t                            <div class="coverage" data-field="<%- colName %>">\t                                <div class="bar match"></div>\t                                <div class="bar mismatch"></div>\t                                <div class="bar null-or-empty"></div>\t                                <div class="bar loading"></div>\t                            </div>\t                        </div>\t                    <% }, this); %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/Base"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/shared/summarytable/resultsbody/column/Master"),__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCollection,ColumnsCollection,ColumnView,BaseView){return BaseView.extend({moduleId:module.id,className:"summary-table-results",initialize:function(options){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"clearSelection",this.clearSelection),this.listenTo(this.model.state,"columnInteraction",this.toggleClassForColumn),this.listenTo(this.model.state,"tableInteraction",this.toggleClassForTable),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection)},handleCutSelection:function(){this.$("div.summary-table-column.column-selected").addClass("column-cut")},handleClearCutSelection:function(shouldAddSelection){shouldAddSelection&&(this.clearSelection(),this.$("div.summary-table-column.column-cut").addClass("column-selected")),this.$("div.summary-table-column.column-cut").removeClass("column-cut")},columnsFromCollection:function(){return this.collection.columns.map(function(column,i){return new ColumnView({model:{column:column,dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,summary:this.model.summary,timeline:this.model.timeline,state:this.model.state,dataSummaryJob:this.model.dataSummaryJob},colIndex:i,editingMode:this.options.editingMode})},this)},addNewColumns:function(){_.each(this.children.columns,function(columnView){columnView.activate({deep:!0}).render().appendTo(this.$el)},this)},clearSelection:function(){this.$("div.selected, div.column-selected, div.text-selected").removeClass("selected column-selected text-selected"),_.each(this.$("span.selection"),function(el){$(el).remove()},this)},toggleClassForColumn:function(index,className,add){var $column=this.$("div[data-col-index="+index+"]");add?$column.addClass(className):$column.removeClass(className)},toggleClassForTable:function(className,add){var $allCols=this.$("div[data-col-index]");add?$allCols.addClass(className):$allCols.removeClass(className)},enableSelection:function(enable){_.each(this.children.columns,function(columnView){columnView.enableSelection(enable)},this)},removeOldColumns:function(){_(this.children.columns).each(function(column){column.deactivate({deep:!0}),column.debouncedRemove({detach:!0})},this)},render:function(options){return!this.$el.html()||options&&options.columnsAreDifferent?(this.removeOldColumns(),this.children.columns=this.columnsFromCollection(),_.each(this.children.columns,function(columnView){columnView.activate({deep:!0}).render().appendTo(this.$el)},this)):_.each(this.children.columns,function(columnView){columnView.render()},this),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/column/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Cells"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/summarytable/resultsbody/column/Metrics"),__webpack_require__("views/shared/summarytable/resultsbody/column/TopResult"),__webpack_require__("models/datasets/Column")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,CellsCollection,ColumnModel,BaseView,MetricsResultsView,TopResultsView){return BaseView.extend({moduleId:module.id,className:"summary-table-column",attributes:function(){return{"data-col-index":this.options.colIndex}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{}},createCellsCollection:function(options){options=options||{},this.collection.cells=new CellsCollection;var nullValues,nullValuesPercentage,results=this.model.summary.extractTopResults(this.model.column.get("name")),extractedMetrics=options.extractedMetrics,columnType=this.model.column.get("type"),columnName=this.model.column.get("name"),columnIndex=this.options.colIndex;extractedMetrics&&extractedMetrics.length&&(nullValues=_.where(extractedMetrics,{key:"NullValues"})[0],nullValuesPercentage=nullValues&&parseFloat(nullValues.value,10)||0,nullValuesPercentage>0&&this.collection.cells.addCell({columnType:columnType,field:columnName,colIndex:columnIndex,nullValueMetric:nullValues,values:[]})),_.each(results,function(result){this.collection.cells.addCell({columnType:columnType,colIndex:columnIndex,field:columnName,nullValueMetric:nullValues,values:[result.name],unscaledPercentage:result.percentage})},this)},topResultsViewsFromCollection:function(){return this.collection.cells.map(function(cellModel){return new TopResultsView({model:{cell:cellModel,column:this.model.column,dataset:this.model.dataset,state:this.model.state},editingMode:this.options.editingMode})},this)},shouldRenderTopResults:function(){return!this.model.column.isSplunkTime()&&this.model.column.get("type")!==ColumnModel.TYPES._RAW},enableSelection:function(enable){this.children.metricsResultsView&&this.children.metricsResultsView.enableSelection(enable),_.each(this.children.topResultsViews,function(resultView){resultView.enableSelection(enable)},this)},render:function(){var valueBeingEdited,newEditValue,currentCommandModel,columnWidth=this.model.column.get("display.width"),results=this.model.summary.extractTopResults(this.model.column.get("name")),extractedMetrics=this.model.resultJsonRows.extractMetrics(this.model.column,results),shouldDisableSelection=!0;return columnWidth&&this.$el.css("width",columnWidth+"px"),this.$el.attr("data-col-index",this.options.index),this.$el.addClass("column-"+this.model.column.get("name")),this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),this.children.metricsResultsView&&(this.children.metricsResultsView.deactivate({deep:!0}).remove(),delete this.children.metricsResultsView),this.children.metricsResultsView=new MetricsResultsView({model:{dataset:this.model.dataset,timeline:this.model.timeline,resultJsonRows:this.model.resultJsonRows,column:this.model.column,state:this.model.state,dataSummaryJob:this.model.dataSummaryJob},colIndex:this.options.colIndex,extractedMetrics:extractedMetrics,editingMode:this.options.editingMode}),this.children.metricsResultsView.activate({deep:!0}).render().appendTo(this.$el),this.shouldRenderTopResults()&&(_.each(this.children.topResultsViews,function(resultView,i){resultView.$("input.cell-value-input").length&&(newEditValue=resultView.$("input.cell-value-input").val(),valueBeingEdited=resultView.model.cell.getValue()),resultView.deactivate({deep:!0}).remove(),delete this.children.topResultsViews[i]},this),this.createCellsCollection({extractedMetrics:extractedMetrics}),this.children.topResultsViews=this.topResultsViewsFromCollection(),_.each(this.children.topResultsViews,function(resultView){resultView.render().activate({deep:!0}).appendTo(this.$el),_.isUndefined(valueBeingEdited)||resultView.model.cell.getValue()!==valueBeingEdited||resultView.renderValueInput(valueBeingEdited,newEditValue)},this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/column/Metrics":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView){return BaseView.extend({moduleId:module.id,className:"list-summary-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection)},events:{'mouseenter .list-summary:not(".disabled")':function(e){this.model.state.trigger("columnInteraction",this.options.colIndex,"hover",!0)},'mouseleave .list-summary:not(".disabled")':function(e){this.model.state.trigger("columnInteraction",this.options.colIndex,"hover",!1)},'click .list-summary:not(".disabled")':function(e){var $target=$(e.currentTarget),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1;this.model.state.trigger("clearSelection"),this.model.state.trigger("columnSelection",$target,isCtrlClick,isShiftClick)}},handleCutSelection:function(){this.$(".list-summary.column-selected").addClass("column-cut")},handleClearCutSelection:function(){this.$(".list-summary").removeClass("column-cut")},enableSelection:function(enable){enable?this.$(".list-summary").removeClass("disabled"):this.$(".list-summary").addClass("disabled")},render:function(){var currentCommandModel,metrics,extractedMetrics=this.model.resultJsonRows.extractMetrics(this.model.column),loadingMessage=_("Loading...").t(),shouldDisableSelection=!0;return this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),extractedMetrics.length||this.model.dataSummaryJob.isDone()?(metrics=extractedMetrics,metrics=metrics.filter(_.bind(function(metric){return metric.key!==this.model.resultJsonRows.NULL_VALUES},this))):metrics=[{label:this.model.resultJsonRows.parseLabelFromKey(this.model.resultJsonRows.MATCHED_TYPE),value:loadingMessage},{label:this.model.resultJsonRows.parseLabelFromKey(this.model.resultJsonRows.MISMATCHED_TYPE),value:loadingMessage},{label:this.model.resultJsonRows.parseLabelFromKey(this.model.resultJsonRows.NULL_OR_EMPTY_VALUES),value:loadingMessage}],this.$el.html(this.compiledTemplate({_:_,colIndex:this.options.colIndex,resultJsonRows:this.model.resultJsonRows,metrics:metrics})),this},template:'\t                <div class="list-summary" data-col-index=<%- colIndex %> >\t                    <% _.each(metrics, function(metric) { %>\t                        <% var isTypeAggregate = metric.key === resultJsonRows.MATCHED_TYPE || metric.key === resultJsonRows.MISMATCHED_TYPE || metric.key === resultJsonRows.NULL_OR_EMPTY_VALUES %>\t                        <div class="list-summary-row <% if (metric.breakAfter) { %>list-summary-row-last <% } %>">\t                            <div class="list-summary-label <%- metric.className ? metric.className.toLowerCase() : \'\' %> <% if (metric.isZero) {%> summary-zero <% } %>" >\t                                <% if (metric.key === resultJsonRows.MATCHED_TYPE) { %>\t                                    <i class="icon-check-circle"></i>\t                                <% } else if (metric.key === resultJsonRows.MISMATCHED_TYPE) { %>\t                                    <i class="icon-alert-circle"></i>\t                                <% } else if (metric.key === resultJsonRows.NULL_OR_EMPTY_VALUES) { %>\t                                    <i class="icon-alert"></i>\t                                <% } %>\t                                <%- metric.label %> \t                            </div>\t                            <div class="list-summary-value">\t                                <%- metric.value %><%= isTypeAggregate ? "%" : ""%>\t                            </div>\t                            <div class="list-summary-spacer">&nbsp;</div>\t                        </div>\t                    <% }); %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/column/TopResult":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/shared/datasettable/shared/TableCell")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,CommandModel,BaseTableCell){return BaseTableCell.extend({moduleId:module.id,className:"top-results-cell",attributes:function(){return{"data-field":this.model.cell.getValue(),"data-col-index":this.model.cell.get("colIndex")}},initialize:function(){BaseTableCell.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.state,"setValueSelection",this.setSelection),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection)},setSelection:function(args){var columnName=args.columnName,selectedValue=args.selectedValue,currentColumnIsSelected=this.model.column.get("name")===columnName,currentCellIsSelected=selectedValue===this.model.cell.getValue();currentColumnIsSelected&&currentCellIsSelected&&this.$el.addClass("selected")},enableSelection:function(enable){enable?this.$el.removeClass("disabled"):this.$el.addClass("disabled")},handleCutSelection:function(){this.$el.hasClass("column-selected")&&this.$el.addClass("column-cut")},handleClearCutSelection:function(){this.$el.removeClass("column-cut")},isTextSelectable:function(){return!1},render:function(){var currentCommandModel,value=this.model.cell.getValue(),percentage=this.model.cell.getScaledPercentage(),width=Math.round(percentage)||1,isNull=this.model.cell.isNull(),isEmpty=this.model.cell.isEmpty(),shouldDisableSelection=!0;return this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),this.$el.html(this.compiledTemplate({_:_,value:value,percentage:percentage,width:width,isNull:isNull})),isNull?this.$(".result-bar").addClass("null"):isEmpty?this.$(".result-bar").addClass("empty"):this.model.cell.getTypeMismatchMessage()?this.$(".result-bar").addClass("mismatched"):this.$(".result-bar").addClass("matched"),this},template:'<span class="result-bar" style="width:<%- width %>%"></span><div class="result-field selection-container <%- isNull && "null-cell"%>"><div class="real-text-wrapper"><% if (isNull) { %>null<% } else { %><span class="real-text"><%- value %></span><% } %></div></div><span class="result-value"><%- percentage %>%</span>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1053);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/header/dialogs/save/Save":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Base,ControlGroup,FlashMessage,Modal){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.displayName=new ControlGroup({label:_("Table Title").t(),controlType:"Text",controlClass:"controls-block",controlOptions:{model:this.model.inmem.entry.content,modelAttribute:"displayName"}}),this.children.name=new ControlGroup({label:_("Table ID").t(),controlType:"Label",controlOptions:{model:this.model.inmem.entry,modelAttribute:"name"}}),this.children.description=new ControlGroup({label:_("Description").t(),controlType:"Textarea",controlClass:"controls-block",controlOptions:{model:this.model.inmem.entry.content,modelAttribute:"dataset.description",placeholder:_("optional").t()}})},events:{"click .modal-btn-primary":function(e){this.submit(),e.preventDefault()}},submit:function(){this.model.inmem.entry.content.set({"request.ui_dispatch_view":this.model.application.get("page")}),this.model.inmem.save({},{success:function(model,response){this.model.inmem.trigger("saveSuccess")}.bind(this)})},render:function(){var header=_("Save Table").t();return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(header),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),$(_.template(this.warningTemplate,{_:_})).appendTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.displayName.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.name.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.description.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this},warningTemplate:'\t                <div class="alert alert-warning">\t                    <i class="icon-alert"></i>\t                    <%- _("If you save this dataset, any changes that you have made will propagate to datasets extended from it.").t() %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1156);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/commandeditor/editorforms/coalesce/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/table/commandeditor/editorforms/BaseSortable"),__webpack_require__("views/table/commandeditor/editorforms/coalesce/CoalesceRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,BaseCommandModel,ControlGroup,BaseSortableEditorView,FieldRowView){return BaseSortableEditorView.extend({moduleId:module.id,className:BaseSortableEditorView.CLASS_NAME+" commandeditor-form-coalesce",FieldRowView:FieldRowView,initialize:function(){BaseSortableEditorView.prototype.initialize.apply(this,arguments),this.children.fieldName=new ControlGroup({controlType:"Text",size:"small",label:_("New field name").t(),controlClass:"controls-fill",controlOptions:{model:this.model.command,modelAttribute:"newFieldName",updateOnKeyUp:!0}})},render:function(){return this.$el.html()||($(BaseSortableEditorView.COMMANDEDITOR_SECTION).appendTo(this.$el),this.$(BaseSortableEditorView.COMMANDEDITOR_SECTION_SELECTOR).html(this.compiledTemplate({_:_})),this.children.fieldName.render().appendTo(this.$(".commandeditor-section-field-name")),_.each(this.children,function(rowView){rowView.model&&rowView.render().appendTo(this.getSortableContainer())},this),this.appendButtons(),this.appendAdvancedEditorLink(),this.setSortingOnContainer()),this},template:'\t                <div class="commandeditor-section commandeditor-section-padded commandeditor-section-field-name"></div>\t                <div class="commandeditor-section commandeditor-section-scrolling commandeditor-section-sortable ui-sortable"></div>\t                <div class="commandeditor-section commandeditor-section-padded">\t                    <div>\t                        <a class="add-field">\t                            <i class="icon-plus"></i>\t                            <%- _("Add field...").t()%>\t                        </a>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});