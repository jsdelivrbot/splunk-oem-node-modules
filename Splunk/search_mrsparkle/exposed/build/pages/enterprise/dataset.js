webpackJsonp([31],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/enterprise")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("routers/Dataset"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(DatasetRouter,router_utils){new DatasetRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1050:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".dataset-explore-menu,.dataset-explore-menu div{display:inline-block}.explore-menu-poptart{width:15em}.explore-menu-poptart .explore_actions .mlselector>.icon-triangle-right-small{margin-left:9px}",""])},1051:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".dataset-extend-menu,.dataset-extend-menu div{display:inline-block}",""])},1052:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.table>tbody>tr>td:focus{background:transparent}.shared-datasettable{position:relative;display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0px;width:100%;margin-top:-3px;min-width:0;min-height:0}.shared-datasettable.disabled{opacity:.5}.shared-datasettable.disabled .scroll-table-wrapper{max-width:100%;overflow:hidden}.shared-datasettable .shared-waitspinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100}.shared-datasettable .scroll-table-wrapper{height:auto;margin-left:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 0px;flex:1 1 0px}.shared-datasettable .dataset-table-head{border-bottom:1px solid #d5d5d5;z-index:1;background-color:#fff;height:34px;position:absolute;display:-ms-flexbox;-ms-flex-direction:row;transform:translateZ(0);top:3px;left:0;-moz-transform:none;display:flex;flex-direction:row}.shared-datasettable .dataset-table-head .icon-ipv4:before{font-family:inherit;content:"IP";font-size:75%}.shared-datasettable .table{min-width:0}.shared-datasettable .table-results{table-layout:fixed;width:0;margin-right:-1px;margin-top:-1px;border-collapse:separate;background-color:#fff;border-top:0;margin-bottom:16px}.shared-datasettable .col-header{-ms-flex-negative:0;flex-shrink:0;font-size:15px;line-height:17px;position:relative;box-sizing:border-box;border-left:none;border-right:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis}.shared-datasettable .col-header:first-child{font-size:22px;width:60px;text-align:left;padding-top:13px;padding-left:43px}.shared-datasettable .col-header:first-child.column-selected{padding-top:11px;padding-left:41px}.shared-datasettable .col-header.column-selected-end:active,.shared-datasettable .col-header.column-selected:active,.shared-datasettable .col-header.grabbed{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}.shared-datasettable .col-header.field{width:200px;padding:5px 9px;vertical-align:middle;line-height:20px}.shared-datasettable .col-header.field.type-raw{width:600px}.shared-datasettable .col-header.over-right{border-right:4px solid #1e93c6!important;padding-left:10px;right:1px}.shared-datasettable .col-header.over-right>.resize{right:-5px;border-left:none;border-right:none}.shared-datasettable .col-header.over-left{border-left:4px solid #1e93c6!important;padding-left:10px;left:-5px}.shared-datasettable .col-header.over-left>.resize{right:-3px}.shared-datasettable .col-header.column-selected,.shared-datasettable .col-header.column-selected-end{border-top:2px solid #1e93c6;padding-top:3px;cursor:move;cursor:-webkit-grab;cursor:grab}.shared-datasettable .col-header.column-selected-end .field-name-input,.shared-datasettable .col-header.column-selected .field-name-input{padding-right:10px}.shared-datasettable .col-header.column-selected:first-child,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected-end{border-left:2px solid #1e93c6}.shared-datasettable .col-header.column-selected:first-child i.field-type,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected-end i.field-type,.shared-datasettable .col-header:not(.column-selected):not(.column-selected-end)+.col-header.column-selected i.field-type{margin-left:0}.shared-datasettable .col-header.column-selected-end{border-right:2px solid #1e93c6}.shared-datasettable .col-header span.name{display:inline-block;white-space:nowrap;word-break:normal;overflow:hidden;text-overflow:ellipsis;width:calc(100% - 20px);margin-bottom:-5px;margin-left:6px}.shared-datasettable .col-header .field-name-input{display:inline-block;margin:-4px 0 -2px 4px;width:calc(100% - 40px);font-size:15px;border:none;border-radius:0;padding-top:3px;padding-bottom:3px}.shared-datasettable .col-header .field-name-input.warning{border:1px solid #d6563c}.shared-datasettable .col-header i.field-type{position:relative;display:inline-block;margin-top:2px;margin-left:2px;color:#999}.shared-datasettable .col-header:not(.disabled) i.field-type:not([data-type=raw]):not([data-type=timestamp]){cursor:pointer}.shared-datasettable .resize{display:block;position:absolute;right:2px;top:2px;bottom:2px;width:1px;border-left:1px dotted #d5d5d5;border-right:1px dotted #d5d5d5;cursor:ew-resize}.shared-datasettable tr+tr{border-top:1px dashed #d5d5d5}.shared-datasettable td{box-sizing:border-box}.shared-datasettable td.value{font-family:Droid Sans Mono,Consolas,Monaco,Courier New,Courier,monospace;white-space:pre-wrap;word-wrap:break-word}.shared-datasettable td.value.epoch-time{font-family:inherit;color:#999;font-style:italic}.shared-datasettable td.value.null-cell{font-family:inherit;color:#bbb;font-style:italic}.shared-datasettable td.selected,.shared-datasettable td.text-selected{border:2px solid #1e93c6;padding:3px 6px 2px}.shared-datasettable td.selected:last-child,.shared-datasettable td.text-selected:last-child{padding-right:18px}.shared-datasettable td.row-num.column-selected,.shared-datasettable td:not(.column-selected):not(.column-selected-end)+td.column-selected,.shared-datasettable td:not(.column-selected):not(.column-selected-end)+td.column-selected-end{border-left:2px solid #1e93c6;padding-left:6px}.shared-datasettable td.column-selected-end{border-right:2px solid #1e93c6;padding-right:6px}.shared-datasettable td.column-selected-end:last-child{padding-right:18px}.shared-datasettable td.row-num{color:#999;text-align:right;width:60px}.shared-datasettable td.row-type{width:90px}.shared-datasettable td.truncated{background-color:#f5f5f5;text-align:center}.shared-datasettable td.mismatched-type span{color:#d6563c}.shared-datasettable td .highlight{background-color:#c7e4f1}.shared-datasettable td div.multivalue{position:relative}.shared-datasettable td div.multivalue .selection{color:transparent}.shared-datasettable td div.multivalue .selection+.real-text-wrapper{position:absolute;left:0;right:0;top:0;bottom:0}.shared-datasettable td .cell-value-input{box-sizing:border-box;height:100%;width:100%}.shared-datasettable tr:last-child td.column-selected,.shared-datasettable tr:last-child td.column-selected-end{border-bottom:2px solid #1e93c6;padding-bottom:2px}.shared-datasettable .col-header.null-cell,.shared-datasettable td.null-cell{background:#f5f5f5}.shared-datasettable .col-header.column-highlighted,.shared-datasettable td.column-highlighted{background:#fdf4dd}.shared-datasettable .col-header.column-cut,.shared-datasettable .col-header.column-cut-end,.shared-datasettable td.column-cut,.shared-datasettable td.column-cut-end{background:#f5d5ce}.shared-datasettable .col-header.column-selected,.shared-datasettable .col-header.column-selected-end,.shared-datasettable .col-header.selected,.shared-datasettable td.column-selected,.shared-datasettable td.column-selected-end,.shared-datasettable td.selected{background:#c7e4f1}.shared-datasettable .col-header.hover:not(.disabled),.shared-datasettable .col-header.value:hover:not(.disabled),.shared-datasettable td.hover:not(.disabled),.shared-datasettable td.value:hover:not(.disabled){background:#e4e4e4}',""])},1053:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.shared-summarytable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 0px;flex:1 1 0px;position:relative}.shared-summarytable:not(.summary-table-no-results){background-color:#999}.shared-summarytable.summary-table-no-results{background-color:#fff}.shared-summarytable.summary-table-no-results .table-summary{min-height:0}.shared-summarytable.disabled{opacity:.5}.shared-summarytable.disabled .scroll-table-wrapper{max-width:100%;overflow:hidden}.shared-summarytable .shared-waitspinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100}.shared-summarytable .header-table-wrapper{border-bottom:none}.shared-summarytable .scroll-table-wrapper{margin-top:41px;height:auto;margin-left:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 0px;flex:1 1 0px;background-color:#999}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.shared-summarytable .scroll-table-wrapper{height:calc(100vh - 65px - 40px - 100px);width:auto}.shared-summarytable .header-table-wrapper{margin-right:0!important}}.shared-summarytable .dataset-table-head{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;transform:translateZ(0);top:0;left:0;border-top:3px solid #999;z-index:1;-moz-transform:none}.shared-summarytable .table-summary{margin-bottom:0;background-color:#999}.shared-summarytable .table-summary thead{float:left}.shared-summarytable .summary-header i{float:right;margin-right:10px;color:#999}.shared-summarytable .coverage{display:-ms-flexbox;display:flex;width:100%;margin-top:2px}.shared-summarytable .coverage .bar{height:10px;min-width:5px}.shared-summarytable .coverage>.match{background-color:#a2cc3e}.shared-summarytable .coverage>.mismatch{background-color:#d6563c}.shared-summarytable .coverage>.null-or-empty{background-color:#f2b827}.shared-summarytable .coverage>.loading{background-color:rgba(0,0,0,.1)}.shared-summarytable .col-header,.shared-summarytable .summary-table-column{border-left:2px solid #999;border-right:2px solid #999}.shared-summarytable .col-header.column-selected:after,.shared-summarytable .summary-table-column.column-selected:after{content:"";border:2px solid #467fc7;position:absolute;top:-2px;right:-1px;bottom:-2px;left:-1px;pointer-events:none}.shared-summarytable .col-header.column-selected:after{border-bottom:none}.shared-summarytable .col-header{font-size:15px;line-height:22px;position:relative;box-sizing:border-box;word-wrap:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;padding:0}.shared-summarytable .col-header:first-child{width:60px;min-width:60px}.shared-summarytable .col-header.column-selected,.shared-summarytable .col-header.column-selected-end{cursor:move;cursor:-webkit-grab;cursor:grab}.shared-summarytable .col-header.column-selected-end:active,.shared-summarytable .col-header.column-selected:active,.shared-summarytable .col-header.grabbed{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}.shared-summarytable .col-header.over-right{border-right:4px solid #1e93c6!important;border-left:none;right:-2px}.shared-summarytable .col-header.over-right+div.col-header{border-left:none;margin-left:2px;margin-right:-2px;border-right-width:4px}.shared-summarytable .col-header.over-left{border-left:4px solid #1e93c6!important;border-right:none;left:-2px}.shared-summarytable .col-header:not(:first-child){min-width:200px}.shared-summarytable .col-header:last-child{padding-right:0}.shared-summarytable .col-header.field{width:200px}.shared-summarytable .col-header.field.type-raw{width:600px}.shared-summarytable .col-header.all{font-size:22px;float:right;text-align:right}.shared-summarytable .col-header:not(.disabled) i.field-type:not([data-type=raw]):not([data-type=timestamp]){cursor:pointer}.shared-summarytable .col-header span.name{display:block;white-space:nowrap;word-break:normal;overflow:hidden;text-overflow:ellipsis;position:relative;padding:3px 10px 1px 11px}.shared-summarytable .col-header span.name.all{top:5px}.shared-summarytable .col-header i.field-type{position:relative;float:left;margin-top:3px;margin-left:9px;color:#999}.shared-summarytable .col-header i.field-type.icon-ipv4{margin-top:2px}.shared-summarytable .col-header i.icon-ipv4:before{font-family:inherit;content:"IP";font-size:75%}.shared-summarytable .col-header .field-name-input{display:inline-block;margin:2px 5px 0;width:calc(100% - 60px);font-size:15px;border:none;border-radius:0}.shared-summarytable .col-header .field-name-input.warning{border:1px solid #d6563c}.summary-table-results{white-space:nowrap;height:auto;padding-bottom:2px;padding-left:60px;max-width:100%}.summary-table-column{background-color:#fff;box-sizing:border-box;display:inline-block;vertical-align:top;position:relative;min-width:200px}.summary-table-column div.result-field{position:relative}.summary-table-column div.result-field .selection{color:transparent}.summary-table-column div.result-field .selection+.real-text-wrapper{position:absolute;left:0;right:0;top:0;bottom:0}.summary-table-column:not(.column-_raw){width:200px}.summary-table-column.column-_raw{width:600px}.metrics-no-results{display:inline-block;padding:6px}.list-summary{padding:10px 20px 10px 0;position:relative}.list-summary-row{max-width:280px;line-height:20px}.list-summary-row:after,.list-summary-row:before{display:table;content:"";line-height:0}.list-summary-row:after{clear:both}.list-summary-row-last{padding-bottom:10px}.list-summary-label{position:relative;-ms-flex:1000 0 0px;flex:1000 0 0;padding-left:15px;float:left}.list-summary-label.summary-matchedtype,.list-summary-label.summary-mismatchedtype,.list-summary-label.summary-nulloremptyvalues{padding-left:30px}.list-summary-label i{position:absolute;font-size:150%;top:-1px;left:14px;color:#ccc}.list-summary-label.summary-matchedtype:not(.summary-zero) i{color:#a2cc3e}.list-summary-label.summary-mismatchedtype:not(.summary-zero) i{color:#d6563c}.list-summary-label.summary-nulloremptyvalues:not(.summary-zero) i{color:#f2b827}.list-summary-spacer{position:relative;overflow:hidden}.list-summary-spacer:before{position:absolute;left:0;top:0;content:"......................................................................................................................................................"}.list-summary-value{-ms-flex:1 0 auto;flex:1 0 auto;text-align:right;margin:0;color:#999;white-space:nowrap;float:right}.top-results-cell{border-top:1px solid #999;padding:4px 6px;position:relative;z-index:0}.top-results-cell:after,.top-results-cell:before{display:table;content:"";line-height:0}.top-results-cell:after{clear:both}.top-results-cell.selected{padding:3px 4px 2px;border:2px solid #1e93c6}.top-results-cell .result-bar{position:absolute;top:2px;right:2px;bottom:2px;z-index:-1;max-width:calc(100% - 4px)}.top-results-cell .result-bar.matched{background-color:rgba(162,204,62,.5)}.top-results-cell .result-bar.mismatched{background-color:rgba(214,86,60,.3)}.top-results-cell .result-bar.empty,.top-results-cell .result-bar.null{background-color:rgba(242,184,39,.5)}.top-results-cell .result-field{float:left;white-space:normal;max-width:100%;word-wrap:break-word}.top-results-cell .result-field.null-cell{font-style:italic;color:#bbb}.top-results-cell .result-value{float:right;color:#999}.top-results-cell .cell-value-input{margin:0;box-sizing:border-box;height:100%;float:left;width:calc(100% - 40px)}.col-header.column-highlighted,.list-summary.column-highlighted,.top-results-cell.column-highlighted{background:#fdf4dd}.col-header.column-cut,.list-summary.column-cut,.top-results-cell.column-cut{background:#f5d5ce}.col-header.column-selected,.col-header.selected,.list-summary.column-selected,.list-summary.selected,.top-results-cell.column-selected,.top-results-cell.selected{background:#c7e4f1}.col-header.hover:not(.disabled),.col-header:hover:not(.disabled),.list-summary.hover:not(.disabled),.list-summary:hover:not(.disabled),.top-results-cell.hover:not(.disabled),.top-results-cell:hover:not(.disabled){background:#e4e4e4}',""])},1054:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".dataset-tablecontainer-results{background:#fff}.alert-warning,.message-single{padding-left:40px}.icon-alert{font-size:200%;position:absolute;top:1px;left:20px}.count-control{margin-top:5px;margin-left:10px}.table-caption-inner{border-bottom:1px solid #ccc;text-align:left}.table-caption-inner.affix-top{background-color:#fff}.table-caption-inner i.icon-check{text-align:center}.header-table-docked{z-index:405}.data-summary-status-bar{background:#fff}.message{float:left;margin-top:10px;margin-left:20px}",""])},"views/shared/datasetcontrols/editmenu/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/datasetcontrols/editmenu/Menu")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,EditMenuPopTart){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var defaults={button:!0,showOpenActions:!1,deleteRedirect:!1,fetchDelete:!1};_.defaults(this.options,defaults)},events:{"click a.edit":function(e){e.preventDefault(),this.openEdit($(e.currentTarget))}},openEdit:function($target){return this.children.editMenuPopTart&&this.children.editMenuPopTart.shown?void this.children.editMenuPopTart.hide():($target.addClass("active"),this.children.editMenuPopTart=new EditMenuPopTart({model:{application:this.model.application,appLocal:this.model.appLocal,dataset:this.model.dataset,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,state:this.model.state,timeRange:this.model.timeRange,user:this.model.user},collection:{roles:this.collection.roles,times:this.collection.times},showOpenActions:this.options.showOpenActions,showScheduleLink:this.options.showScheduleLink,deleteRedirect:this.options.deleteRedirect,fetchDelete:this.options.fetchDelete,onHiddenRemove:!0,ignoreToggleMouseDown:!0}),this.children.editMenuPopTart.render().appendTo($("body")),this.children.editMenuPopTart.show($target),void this.children.editMenuPopTart.on("hide",function(){$target.removeClass("active")},this))},render:function(){var canWrite=this.model.dataset.canWrite(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),canDelete=this.model.dataset.canDelete();return(canWrite||this.options.showOpenActions||canDelete)&&this.$el.append('<a class="dropdown-toggle edit'+(this.options.button?" btn":"")+'" href="#">'+_("Manage").t()+'<span class="caret"></span></a>'),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/editmenu/Menu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/search/Report"),__webpack_require__("models/services/datamodel/DataModel"),__webpack_require__("models/services/datasets/PolymorphicDataset"),__webpack_require__("views/shared/PopTart"),__webpack_require__("views/shared/datasetcontrols/editmenu/FetchDeleteDialog"),__webpack_require__("views/shared/datasetcontrols/editmenu/FetchAccelerationDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/TitleDescriptionDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/DeleteDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),__webpack_require__("views/shared/reportcontrols/dialogs/schedule_dialog/Master"),__webpack_require__("views/data_model_manager/components/PermissionsDialog"),__webpack_require__("uri/route"),__webpack_require__("util/string_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,$,_,ReportModel,DataModel,PolymorphicDatasetModel,PopTartView,FetchDeleteDialog,FetchAccelerationDialog,TitleDescriptionDialog,DeleteDialog,PermissionsDialog,ScheduleDialog,DataModelPermissionsDialog,route,stringUtil){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu dropdown-menu-narrow",initialize:function(){PopTartView.prototype.initialize.apply(this,arguments);var defaults={button:!0,deleteRedirect:!1,fetchDelete:!1};_.defaults(this.options,defaults)},events:{"click a.edit-description":function(e){this.hide(),this.children.titleDescriptionDialog=new TitleDescriptionDialog({model:{report:this.model.dataset},onHiddenRemove:!0}),this.children.titleDescriptionDialog.render().appendTo($("body")).show(),e.preventDefault()},"click a.delete":function(e){this.hide(),this.children.deleteDialog=new DeleteDialog({model:{dataset:this.model.dataset,application:this.model.application},deleteRedirect:this.options.deleteRedirect,onHiddenRemove:!0}),this.children.deleteDialog.render().appendTo($("body")),this.children.deleteDialog.show(),e.preventDefault()},"click a.fetch-delete":function(e){this.hide(),this.children.fetchDeleteDialog=new FetchDeleteDialog({model:{dataset:this.model.dataset,application:this.model.application},deleteRedirect:this.options.deleteRedirect,onHiddenRemove:!0}),this.children.fetchDeleteDialog.render().appendTo($("body")),this.children.fetchDeleteDialog.show(),e.preventDefault()},"click a.edit-permissions":function(e){var PermissionsDialogConstructor=PermissionsDialog,acceleratable=this.model.dataset.typeCanBeAccelerated()&&this.model.dataset.getType()!==PolymorphicDatasetModel.DATAMODEL,originalACL=this.model.dataset.entry.acl.toJSON(),fetchDatasetDeferred=$.Deferred();acceleratable?(PermissionsDialogConstructor=DataModelPermissionsDialog,this.model.dataset.fetch({success:function(model,response){fetchDatasetDeferred.resolve()}.bind(this),error:function(model,response){fetchDatasetDeferred.resolve()}.bind(this)})):fetchDatasetDeferred.resolve(),this.hide(),$.when(fetchDatasetDeferred).then(function(){this.children.permissionsDialog=new PermissionsDialogConstructor({model:{document:this.model.dataset,nameModel:this.model.dataset.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles,onHiddenRemove:!0,nameLabel:this.model.dataset.getDatasetDisplayType()}),this.children.permissionsDialog.render().appendTo($("body")),this.children.permissionsDialog.show(),acceleratable&&this.listenTo(this.children.permissionsDialog,"hidden",function(){var currentACL=this.model.dataset.entry.acl.toJSON();_.isEqual(currentACL,originalACL)||"user"!==currentACL.sharing||(this.model.dataset.entry.content.acceleration.set("enabled",0),this.model.dataset.save({},{success:function(model,response){this.model.dataset.entry.content.set("accelerated",!1),this.model.state&&this.model.state.trigger("change:search")}.bind(this)})),this.remove()}.bind(this))}.bind(this)),e.preventDefault()},"click a.edit-acceleration":function(e){this.hide(),this.children.fetchAccelerationDialog=new FetchAccelerationDialog({model:{dataset:this.model.dataset,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:{roles:this.collection.roles},onHiddenRemove:!1,nameLabel:stringUtil.capitalize(this.model.dataset.getDatasetDisplayType())}),this.children.fetchAccelerationDialog.render().appendTo($("body")),this.children.fetchAccelerationDialog.show(),e.preventDefault()},"click a.schedule-dataset":function(e){e.preventDefault(),this.hide(),this.model.report=new ReportModel,$.when(this.model.report.fetch()).then(function(){this.model.report.entry.content.set({search:this.model.dataset.getFromSearch(),is_scheduled:!0,disabled:!1,"dispatch.earliest_time":this.model.dataset.entry.content.get("dispatch.earliest_time"),"dispatch.latest_time":this.model.dataset.entry.content.get("dispatch.latest_time")}),this.children.scheduleDialog=new ScheduleDialog({model:{application:this.model.application,report:this.model.report,timeRange:this.model.timeRange,user:this.model.user},collection:{roles:this.collection.roles,times:this.collection.times},successMessage:_("You have successfully created and scheduled a report from this dataset.").t()}),this.children.scheduleDialog.render().appendTo($("body")).show()}.bind(this))}},render:function(){var editLink,editType,canWrite=this.model.dataset.canWrite(),showScheduleLink=this.options.showScheduleLink&&this.model.user.canScheduleSearch(),canDelete=this.model.dataset.canDelete(),canTable=this.model.dataset.canTable()&&this.model.user.canAccessSplunkDatasetExtensions(),canEditDescription=this.model.dataset.canEditDescription(),canEditPermission=this.model.dataset.canEditPermissions(),canAccelerateDatamodels=this.model.user.canAccelerateDataModel(),canAccelerateDatasetType=this.model.dataset.typeCanBeAccelerated(),type=this.model.dataset.getType(),datasetName=this.model.dataset.getFromName(),fromType=this.model.dataset.getFromType(),canFetchDelete=this.options.fetchDelete&&type!==PolymorphicDatasetModel.DATAMODEL,fromQuery="| from "+fromType+':"'+datasetName+'"',extendTableLink=route.table(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{bs:fromQuery}});return type===DataModel.DOCUMENT_TYPES.TABLE?canTable&&(editType=_("Edit Table").t(),editLink=route.table(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{t:this.model.dataset.id}})):type===PolymorphicDatasetModel.LOOKUP_TRANSFORM?(editType=_("Edit Lookup Definition").t(),editLink=route.managerEdit(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),["data","transforms","lookups",this.model.dataset.entry.content.get("name")],this.model.dataset.id)):type===PolymorphicDatasetModel.LOOKUP_TABLE?(editType=_("Edit Lookup Table Files").t(),editLink=route.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),["data","lookup-table-files"])):type===PolymorphicDatasetModel.DATAMODEL&&(editType=_("Edit Data Model").t(),editLink=route.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{model:this.model.dataset.entry.content.get("parent.link")}})),this.$el.html(PopTartView.prototype.template_menu),this.$el.append(this.compiledTemplate({_:_,button:this.options.button,dataset:this.model.dataset,user:this.model.user,editLink:editLink,editType:editType})),canWrite?(editLink&&this.$(".edit_actions").append('<li><a class="edit-link" href="'+editLink+'">'+editType+"</a></li>"),canEditDescription&&this.$(".edit_actions").append('<li><a class="edit-description" href="#">'+_("Edit Description").t()+"</a></li>"),canEditPermission&&this.model.dataset.entry.acl.get("can_change_perms")&&this.$(".edit_actions").append('<li><a class="edit-permissions" href="#">'+_("Edit Permissions").t()+"</a></li>"),canAccelerateDatamodels&&canAccelerateDatasetType&&type!==PolymorphicDatasetModel.DATAMODEL&&this.$(".edit_actions").append('<li><a class="edit-acceleration" href="#">'+_("Edit Acceleration").t()+"</a></li>")):this.$(".edit_actions").remove(),canTable&&this.$(".other_actions").append('<li><a href="'+extendTableLink+'" class="extend">'+_("Extend in Table").t()+"</a></li>"),showScheduleLink&&this.$(".other_actions").append('<li><a href="#" class="schedule-dataset">'+_("Schedule Report").t()+"</a></li>"),canDelete?this.$(".other_actions").append('<li><a href="#" class="delete">'+_("Delete").t()+"</a></li>"):canFetchDelete&&this.$(".other_actions").append('<li><a href="#" class="fetch-delete">'+_("Delete").t()+"</a></li>"),canFetchDelete||canDelete||canTable||showScheduleLink||this.$(".other_actions").remove(),this},template:'\t                <ul class="edit_actions">\t                </ul>\t                <ul class="other_actions">\t                </ul>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/editmenu/FetchAccelerationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/services/data/vix/Indexes"),__webpack_require__("collections/services/data/vix/Archives"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/dialogs/TextDialog"),__webpack_require__("views/data_model_manager/components/AccelerationDialog"),__webpack_require__("views/data_model_manager/components/PermissionsDialog"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,VixIndexCollection,ArchivesCollection,Modal,FlashMessages,TextDialog,AccelerationDialog,PermissionsDialog,route,splunkUtil){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.collection.vix=new VixIndexCollection,this.collection.archives=new ArchivesCollection,this.children.flashMessages=new FlashMessages({model:this.model.dataset})},events:$.extend({},Modal.prototype.events,{"click a.edit-permissions":function(e){this.hide(),this.children.permissionsDialog=new PermissionsDialog({model:{document:this.model.dataset,nameModel:this.model.dataset.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles,onHiddenRemove:!0,nameLabel:this.model.dataset.getDatasetDisplayType()}),
this.children.permissionsDialog.render().appendTo($("body")),this.children.permissionsDialog.show(),e.preventDefault(),this.listenTo(this.children.permissionsDialog,"hidden",function(){this.remove()}.bind(this))}}),handleFetchDataset:function(){var $loadingMessage=this.$(".loading-message"),datasetDeferred=this.model.dataset.fetch();$.when(datasetDeferred).then(function(){var accelerationHelpLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.datasets.acceleration");if(this.model.dataset.canAccelerate())if(this.model.dataset.isPrivate())$loadingMessage.hide(),this.$(Modal.BODY_SELECTOR).append(_(this.permissionsWarningTemplate).template({datasetType:this.model.dataset.getType(),_:_})),this.$(Modal.FOOTER_SELECTOR).empty(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(_(this.editPermissionsButtonTemplate).template({_:_}));else{this.collection.vix.fetchData.set({count:0},{silent:!0});var vixFetch=this.collection.vix.fetch();this.collection.archives.fetchData.set({count:0},{silent:!0});var archiveFetch=this.collection.archives.fetch();$.when(vixFetch,archiveFetch).then(function(){this.hide(),this.children.accelerationDialog=new AccelerationDialog({model:{dataModel:this.model.dataset,application:this.model.application},collection:{vix:this.collection.vix,archives:this.collection.archives},onHiddenRemove:!0,nameLabel:this.model.dataset.getDatasetDisplayType()}),this.children.accelerationDialog.render().appendTo($("body")),this.children.accelerationDialog.show(),this.listenTo(this.children.accelerationDialog,"hide",function(){this.remove(),this.model.dataset.trigger("updateCollection")}.bind(this)),this.listenTo(this.children.accelerationDialog,"action:saveModel",function(){var accelerated=this.model.dataset.entry.content.acceleration.get("enabled");this.model.dataset.entry.content.set("accelerated",!!accelerated),this.model.dataset.save({},{success:function(model,response){this.children.accelerationDialog.hide(),this.children.accelerationDialog.cleanup(),this.children.accelerationDialog.remove()}.bind(this)})}.bind(this))}.bind(this))}else $loadingMessage.hide(),this.$(Modal.BODY_SELECTOR).append(_(this.accelerationWarningTemplate).template({datasetType:this.model.dataset.getType(),accelerationHelpLink:accelerationHelpLink,_:_})),this.on("hidden",this.remove,this)}.bind(this))},render:function(){return this.$el.html(Modal.TEMPLATE),this.children.flashMessages.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Dataset Acceleration").t()),this.$(Modal.BODY_SELECTOR).append(_(this.loadingTemplate).template({_:_})),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CLOSE),this.handleFetchDataset(),this},loadingTemplate:'\t                <span class="loading-message"><%- _("Loading...").t() %></span>\t            ',accelerationWarningTemplate:'\t                <% if (datasetType === "table") { %>\t                    <span class="acceleration-warning"><%= _("This table dataset cannot be accelerated because its search includes streaming commands.").t() %></span>\t                    <a class="external datasets-help-link" href="<%- accelerationHelpLink %>" target="_blank"><span><%- _("Learn more.").t() %></span></a>\t                <% } else { %>\t                    <span class="acceleration-warning"><%= _("You can only accelerate data models that include at least one event-based dataset or one search-based dataset that does not include streaming commands.").t() %></span>\t                <% } %>\t            ',permissionsWarningTemplate:'\t                <% if (datasetType === "table") { %>\t                    <span class="acceleration-warning"><%= _("Private table datasets cannot be accelerated. Edit the permissions before enabling acceleration.").t() %></span>\t                <% } else { %>\t                    <span class="acceleration-warning"><%= _("Private data models cannot be accelerated. Edit the permissions before enabling acceleration.").t() %></span>\t                <% } %>\t            ',editPermissionsButtonTemplate:'\t                <a href="#" class="btn edit-permissions"><%- _("Edit Permissions").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/editmenu/FetchDeleteDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,FlashMessages,route,splunkUtil){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.children.flashMessages=new FlashMessages({model:this.model.dataset})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){var deleteDeferred=this.model.dataset.destroy({wait:!0});$.when(deleteDeferred).then(function(){this.hide(),this.options.deleteRedirect&&(window.location=route.datasets(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app")))}.bind(this)),e.preventDefault()}}),handleFetchDataset:function(){var $loadingMessage=this.$(".loading-message"),datasetDeferred=this.model.dataset.fetch();$.when(datasetDeferred).then(function(){$loadingMessage.hide(),this.model.dataset.canDelete()?(this.$(Modal.BODY_SELECTOR).append("<span>"+splunkUtil.sprintf(_("Are you sure you want to delete %s?").t(),"<em>"+_.escape(this.model.dataset.getFormattedName())+"</em>")+"</span>"),this.$(Modal.FOOTER_SELECTOR).empty(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(_(this.deleteButtonTemplate).template({_:_}))):this.$(Modal.BODY_SELECTOR).append("<span>"+splunkUtil.sprintf(_("You do not have permission to delete %s.").t(),"<em>"+_.escape(this.model.dataset.getFormattedName())+"</em>")+"</span>")}.bind(this))},render:function(){return this.$el.html(Modal.TEMPLATE),this.children.flashMessages.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Delete Dataset").t()),this.$(Modal.BODY_SELECTOR).append(_(this.loadingTemplate).template({_:_})),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CLOSE),this.handleFetchDataset(),this},loadingTemplate:'\t                <span class="loading-message"><%- _("Loading...").t() %></span>\t            ',deleteButtonTemplate:'\t                <a href="#" class="btn btn-primary"><%- _("Delete").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/documentcontrols/dialogs/TitleDescriptionDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,ControlGroup,FlashMessage){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments);var defaults={showSearchField:!1};_.defaults(this.options,defaults),this.modelAttribute="description",_.isFunction(this.model.report.isDataset)&&this.model.report.isDataset()&&"table"===this.model.report.getType()&&(this.modelAttribute="dataset.description"),this.model.inmem=this.model.report.clone(),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.titleField=new ControlGroup({controlType:"Label",controlOptions:{modelAttribute:"name",model:this.model.inmem.entry},label:_("Title").t()}),this.children.descriptionField=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:this.modelAttribute,model:this.model.inmem.entry.content,placeholder:_("optional").t()},label:_("Description").t()}),this.on("hidden",function(){this.model.inmem.get("updated")>this.model.report.get("updated")&&(this.model.report.entry.content.set(this.modelAttribute,this.model.inmem.entry.content.get(this.modelAttribute)),this.model.report.entry.set("updated",this.model.inmem.entry.get("updated")),this.model.report.trigger("updateCollection"))},this)},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.inmem.save({},{success:function(model,response){this.hide()}.bind(this)}),e.preventDefault()}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Description").t()),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.titleField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.descriptionField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/exploremenu/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasetcontrols/exploremenu/menu/Master"),__webpack_require__("views/shared/datasetcontrols/exploremenu/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseModel,BaseView,ExploreMenuPopTart,css){return BaseView.extend({moduleId:module.id,className:"dataset-explore-menu",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var defaults={button:!0};_.defaults(this.options,defaults)},events:{"click a.explore":function(e){e.preventDefault(),this.openExplore($(e.currentTarget))}},openExplore:function($target){return this.children.exploreMenuPopTart&&this.children.exploreMenuPopTart.shown?void this.children.exploreMenuPopTart.hide():($target.addClass("active"),this.children.exploreMenuPopTart=new ExploreMenuPopTart({model:{application:this.model.application,appLocal:this.model.appLocal,dataset:this.model.dataset,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,user:this.model.user},collection:{apps:this.collection.apps},onHiddenRemove:!0,ignoreToggleMouseDown:!0}),this.children.exploreMenuPopTart.render().appendTo($("body")),this.children.exploreMenuPopTart.show($target),void this.children.exploreMenuPopTart.on("hide",function(){$target.removeClass("active")},this))},render:function(){return this.$el.append('<a class="dropdown-toggle explore'+(this.options.button?" btn":"")+'" href="#">'+_("Explore").t()+'<span class="caret"></span></a>'),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/exploremenu/menu/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("views/shared/PopTart"),__webpack_require__("views/shared/datasetcontrols/exploremenu/menu/ExploreList"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,$,_,BaseModel,PopTartView,ExploreListView,route){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu dropdown-menu-narrow explore-menu-poptart",initialize:function(){this.model.menuState=new BaseModel,PopTartView.prototype.initialize.apply(this,arguments);var defaults={button:!0};_.defaults(this.options,defaults),this.children.exploreListView=new ExploreListView({model:{menuState:this.model.menuState,application:this.model.application,appLocal:this.model.appLocal,dataset:this.model.dataset,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,user:this.model.user},collection:{apps:this.collection.apps}})},startListening:function(options){this.listenTo(this.model.menuState,"convertToExplore",function(){this.children.mlListView.$el.hide(),this.children.exploreListView.$el.show(),this.children.popdownDialogDelegate.$el.find("a.explore_link").first().focus()}),PopTartView.prototype.startListening.apply(this,arguments)},render:function(){return this.$el.html(PopTartView.prototype.template_menu),this.children.exploreListView.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/exploremenu/menu/ExploreList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/Base"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,$,_,BaseView,route){return BaseView.extend({moduleId:module.id,tagName:"ul",className:"explore_actions",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){var extendSearchLink,extendPivotLink,datasetName=this.model.dataset.getFromName(),fromType=this.model.dataset.getFromType(),fromQuery=this.model.dataset.getFromSearch(),selectedFieldsString=this.model.dataset.getSelectedFieldsString(),hasTimeField=this.model.dataset.hasField("_time"),appName=this.model.dataset.entry.acl.get("app"),datasetApp=_.find(this.collection.apps.models,function(app){return app.entry.get("name")===appName}),app=datasetApp&&datasetApp.entry.content.get("visible")?appName:this.options.alternateApp,openInApp=this.model.application.get("app"),searchLinkData={q:fromQuery},pivotLinkData={data:{dataset:datasetName,type:fromType}};return this.model.searchJob&&!this.model.searchJob.isNew()&&(hasTimeField&&(pivotLinkData.data.windowedEarliest=this.model.searchJob.getWindowedEarliestTimeOrAllTime(),pivotLinkData.data.windowedLatest=this.model.searchJob.getWindowedLatestTimeOrAllTime()),pivotLinkData.data.earliest=this.model.searchJob.getDispatchEarliestTime(),pivotLinkData.data.latest=this.model.searchJob.getDispatchLatestTime(),searchLinkData.sid=this.model.searchJob.id,searchLinkData.earliest=this.model.searchJob.getDispatchEarliestTime(),searchLinkData.latest=this.model.searchJob.getDispatchLatestTime(),searchLinkData.q=this.model.searchJob.getSearch()),extendPivotLink=route.pivot(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),pivotLinkData),"system"===openInApp&&(openInApp=app),selectedFieldsString&&(searchLinkData["display.events.fields"]=selectedFieldsString),extendSearchLink=route.search(this.model.application.get("root"),this.model.application.get("locale"),openInApp,{data:searchLinkData}),this.$el.html(this.compiledTemplate({canSearch:this.model.dataset.canSearch(),searchLink:extendSearchLink,canPivot:this.model.dataset.canPivot(),pivotLink:extendPivotLink})),this},template:'\t                <% if (canPivot) { %>\t                    <li><a class="explore_link" href="<%= pivotLink %>"><%- _("Visualize with Pivot").t() %></a></li>\t                <% } %>\t                <% if (canSearch) { %>\t                    <li><a class="explore_link" href="<%= searchLink %>"><%- _("Investigate in Search").t() %></a></li>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/exploremenu/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1050);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1055:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".explorer-page{overflow-x:hidden}.section-header{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;padding:10px 20px 4px}.dataset-header-title{-ms-flex:1 0 0px;flex:1 0 0;min-width:30%;word-break:break-word}.shared-summarytable .scroll-table-wrapper{margin-top:0}.table-preview{margin-bottom:0}.shared-datasettable-tableheader{width:100%;height:36px}.shared-summarytable-tableheader{width:100%;height:41px}.shared-summarytable-docking-header>.header-table-docked{background-color:#999}.shared-summarytable>.scroll-table-wrapper{overflow-y:hidden;height:auto}.job-status-container{min-height:33px;border-bottom:1px solid #ccc}.job-status-container .shared-jobstatus{padding-right:0}.more-info>.popdown-dialog{width:400px}.more-info>.popdown-dialog .popdown-dialog-body{padding:10px 20px 20px}.shared-timerangepicker{height:25px;padding-left:20px}.dataset-flash-messages{padding-top:50px;padding-left:25px}.timerange>.controls>.btn{box-sizing:border-box;width:100%}.explorer-page .shared-summarytable{-ms-flex-direction:row;flex-direction:row}.summary-table-column{background-color:#fff}.btn-group-summary{min-width:30%}.btn-group-tabs .btn{border:none;border-bottom:4px solid transparent;background:none;line-height:16px;box-shadow:none;position:relative}.btn-group-tabs .btn.active,.btn-group-tabs .btn.active:focus,.btn-group-tabs .btn.active:hover,.btn-group-tabs .btn:hover{box-shadow:none;background:none;border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-group-tabs .btn:hover{border-bottom:4px solid #999}.btn-group-tabs .btn.active{border-bottom:4px solid #1e93c6}.edit-info-section{display:inline-block}.dataset-explore-menu{margin:0 6px 0 3px}.icon-lightning-selected{color:#f2b827!important;text-shadow:0 1px 0 #a97c0a}",""])},"views/shared/datasetcontrols/extendmenu/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/datasetcontrols/clone/Master"),__webpack_require__("views/shared/datasetcontrols/extendmenu/Master.pcss"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,CloneDialog,css,route){return BaseView.extend({moduleId:module.id,className:"dataset-extend-menu",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click a.clone":function(e){this.children.cloneDialog=new CloneDialog({model:{dataset:this.model.dataset,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},onHiddenRemove:!0,nameLabel:this.model.dataset.getDatasetDisplayType()}),this.children.cloneDialog.render().appendTo($("body")),this.children.cloneDialog.show(),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({canClone:this.model.dataset.canClone()})),this.options.displayAsButtons&&(this.$el.addClass("btn-group"),this.$("div").addClass("btn-combo"),this.$("a").addClass("btn")),this},template:'\t                <% if (canClone) { %>\t                    <div>\t                        <a href="#" class="clone"><%- _("Clone").t() %></a>\t                    </div>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/clone/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("views/shared/Modal"),module,__webpack_require__("views/shared/datasetcontrols/clone/Clone"),__webpack_require__("views/shared/datasetcontrols/clone/Success")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,Modal,module,Clone,Success){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.model.inmem=this.model.dataset.clone(),this.children.clone=new Clone({model:{dataset:this.model.dataset,application:this.model.application,inmem:this.model.inmem,serverInfo:this.model.serverInfo},nameLabel:this.options.nameLabel}),this.children.success=new Success({model:{application:this.model.application,dataset:this.model.dataset,inmem:this.model.inmem,user:this.model.user},nameLabel:this.options.nameLabel}),this.model.inmem.on("createSuccess",function(){this.children.clone.$el.hide(),this.children.success.render().appendTo(this.$el)},this),this.on("hidden",function(){this.model.inmem.isNew()||this.model.dataset.trigger("updateCollection")},this)},render:function(){return this.children.clone.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/clone/Clone":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("util/datamodel/form_utils"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,Modal,ControlGroup,FlashMessages,TextControl,PairedTextControls,dataModelFormUtils,splunkUtil){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.model.inmem.unset("id"),this.model.inmem.set({clonePermissions:!1}),this.model.inmem.entry.content.set({name:this.model.inmem.entry.get("name")+"_clone"}),this.children.flashMessage=new FlashMessages({model:this.model.inmem}),this.model.inmem.isTable()?(this.model.inmem.entry.content.set({displayName:this.model.inmem.entry.content.get("displayName")+"_clone"}),this.children.tableDisplayNameControl=new TextControl({model:this.model.inmem.entry.content,modelAttribute:"displayName"}),this.children.tablelDisplayNameGroup=new ControlGroup({label:_("Table Title").t(),controlType:"Text",controlClass:"controls-block",controls:this.children.tableDisplayNameControl}),this.children.tableNameControl=new TextControl({model:this.model.inmem.entry.content,modelAttribute:"name"}),this.children.tableNameGroup=new ControlGroup({label:_("Table ID").t(),controlType:"Text",controlClass:"controls-block",controls:this.children.tableNameControl,tooltip:_("The ID is used as the filename on disk. Cannot be changed later.").t(),help:_("Can only contain letters, numbers and underscores.").t()}),this.children.pairedControlsDelegate=new PairedTextControls({sourceDelegate:this.children.tableDisplayNameControl,destDelegate:this.children.tableNameControl,transformFunction:dataModelFormUtils.normalizeForID})):this.children.titleField=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"name",model:this.model.inmem.entry.content},label:_("New Name").t()}),this.model.dataset.canEditDescription()&&(this.children.descriptionField=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"dataset.description",model:this.model.inmem.entry.content,placeholder:_("optional").t()},label:_("New Description").t()}))},events:{"click .btn-primary":function(e){this.model.inmem.isTable()&&this.model.inmem.entry.content.set("search",this.model.inmem.getSearch()),this.model.inmem.save({},{data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){this.model.inmem.trigger("createSuccess")}.bind(this)}),e.preventDefault()}},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(splunkUtil.sprintf(_("Clone %s").t(),this.options.nameLabel)),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL_JUSTIFIED),this.model.inmem.isTable()?(this.children.tablelDisplayNameGroup.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.tableNameGroup.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR))):this.children.titleField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.descriptionField&&this.children.descriptionField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Clone Dataset").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/clone/Success":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,Modal,FlashMessages,route,splunkUtil){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.children.flashMessage=new FlashMessages({model:this.model.inmem})},events:{},render:function(){var viewText=(this.model.dataset.getType(),_("View").t()),routeToPivot=route.pivot(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{dataset:this.model.inmem.entry.get("name"),type:this.model.inmem.getFromType()}}),datasetLink=route.dataset(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:this.model.inmem.getRoutingData()}),canTable=this.model.inmem.isTable()&&this.model.inmem.canTable()&&this.model.user.canAccessSplunkDatasetExtensions();return canTable&&(viewText=_("Edit").t(),datasetLink=route.table(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{t:this.model.inmem.id}})),this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Dataset Has Been Cloned").t()),this.$(Modal.BODY_SELECTOR).html(this.compiledTemplate({_:_,model:this.model.inmem})),canTable?this.$("span.save-dataset-success-message").text(_("You may now edit your dataset, or visualize your dataset in Pivot.").t()):this.$("span.save-dataset-success-message").text(_("You may now view your dataset, or visualize your dataset in Pivot.").t()),this.$(Modal.FOOTER_SELECTOR).append('<a href="'+datasetLink+'" class="btn btn-primary modal-btn-primary">'+viewText+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="'+routeToPivot+'" class="btn pull-left">'+_("Pivot").t()+"</a>"),this},template:'\t            <p>\t                <span class="save-dataset-success-message"></span>\t            </p>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasetcontrols/extendmenu/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1051);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/dataset/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/dataset/header/Master"),__webpack_require__("views/shared/timerangepicker/Master"),__webpack_require__("views/shared/jobstatus/Master"),__webpack_require__("views/dataset/tablecontainer/Master"),__webpack_require__("util/splunkd_utils"),__webpack_require__("views/dataset/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,FlashMessages,HeaderView,TimeRangePicker,JobStatus,TableContainerView,splunkdUtils,css){return BaseView.extend({moduleId:module.id,className:"explorer-page",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.errorTypes=[splunkdUtils.FATAL,splunkdUtils.ERROR],this.children.flashMessages=new FlashMessages({className:"dataset-flash-messages",model:{dataset:this.model.dataset},whitelist:this.errorTypes}),this.children.header=new HeaderView({model:{application:this.model.application,appLocal:this.model.appLocal,dataset:this.model.dataset,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,timeRange:this.model.timeRange,user:this.model.user},collection:{apps:this.collection.apps,roles:this.collection.roles}}),this.children.timeRangePicker=new TimeRangePicker({model:{application:this.model.application,state:this.model.dataset.entry.content,timeRange:this.model.timeRange,user:this.model.user},collection:this.collection.times,className:"controls",timerangeClassName:"btn btn-primary pull-left",dialogOptions:{showPresetsRealTime:!1,showCustomRealTime:!1,enableCustomAdvancedRealTime:!1}}),this.children.tableContainer=new TableContainerView({model:{application:this.model.application,appLocal:this.model.appLocal,config:this.model.config,dataset:this.model.dataset,result:this.model.result,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,state:this.model.state,timeRange:this.model.timeRange,user:this.model.user,ast:this.model.ast},flashMessagesHelper:this.children.flashMessages.flashMsgHelper}),_.each(this.children,function(child){child.deactivate({deep:!0})})},activate:function(options){if(this.active)return BaseView.prototype.activate.apply(this,arguments);var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.children.jobStatus||this.initializeJobStatus(),this.children.jobStatus.options.showControlsAndJobInfo=this.model.searchJob.id,this.$el.html()&&!this.children.jobStatus.$el.html()?this.children.jobStatus.activate({deep:!0}).render().appendTo(this.$(".job-status-container")):this.children.jobStatus.activate({deep:!0}),this.triggerError(),this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions)},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.children.jobStatus.remove(),delete this.children.jobStatus,this.isError=!1,this):BaseView.prototype.deactivate.apply(this,arguments)},initializeJobStatus:function(){this.children.jobStatus=new JobStatus({model:{application:this.model.application,appLocal:this.model.appLocal,
state:this.model.dataset.entry.content,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,user:this.model.user},enableReload:!0,enableSearchMode:!1,allowDelete:!1,hidePrintButton:!0,allowRawEventsExport:!1,fields:_.pluck(this.model.dataset.getFields(),"name")}),this.children.jobStatus.deactivate({deep:!0})},manageStateOfChildren:function(){this.isError?(this.children.flashMessages.activate({deep:!0}).$el.css("display",""),this.children.header.deactivate({deep:!0}).$el.hide(),this.children.timeRangePicker.deactivate({deep:!0}).$el.hide(),this.children.tableContainer.deactivate({deep:!0}).$el.hide()):(this.children.flashMessages.deactivate({deep:!0}).$el.hide(),this.children.header.activate({deep:!0}).$el.css("display",""),this.children.timeRangePicker.activate({deep:!0}).$el.css("display",""),this.children.tableContainer.activate({deep:!0}).$el.css("display",""))},triggerError:function(){var didTriggerError=!1;if(this.isError=splunkdUtils.messagesContainsOneOfTypes(this.model.dataset.error.get("messages"),this.errorTypes),this.model.dataset.isNew()&&!this.isError){var noDatasetIdError=splunkdUtils.createSplunkDMessage(splunkdUtils.FATAL,_("No dataset was specified.").t());this.model.dataset.trigger("error",this.model.dataset,noDatasetIdError),this.isError=!0,didTriggerError=!0}return didTriggerError},render:function(){var html=this.$el.html();return html||(this.children.flashMessages.render().appendTo(this.$el),this.children.header.render().appendTo(this.$el),this.children.timeRangePicker.render().appendTo(this.$el),this.$el.append(this.template),this.children.jobStatus&&this.children.jobStatus.render().appendTo(this.$(".job-status-container")),this.children.tableContainer.render().appendTo(this.$el)),this},template:'\t                <div class="job-status-container"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/tablecontainer/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("mixins/dataset"),__webpack_require__("views/Base"),__webpack_require__("views/dataset/tablecontainer/results/Master"),__webpack_require__("views/dataset/tablecontainer/datasummary/Master"),__webpack_require__("views/dataset/tablecontainer/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,datasetMixin,BaseView,ResultsView,DataSummaryView,css){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.resultsView=new ResultsView({model:{application:this.model.application,ast:this.model.ast,config:this.model.config,dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,state:this.model.state}}),this.children.dataSummaryView=new DataSummaryView({model:{application:this.model.application,ast:this.model.ast,config:this.model.config,dataset:this.model.dataset,searchJob:this.model.searchJob,state:this.model.state,timeRange:this.model.timeRange}})},startListening:function(){this.listenTo(this.model.dataset.entry.content,"change:dataset.display.mode",this.manageStateOfChildren)},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions))},manageStateOfChildren:function(){this.model.dataset.entry.content.get("dataset.display.mode")===datasetMixin.MODES.TABLE?(this.children.resultsView.activate({deep:!0}).$el.css("display",""),this.children.dataSummaryView.deactivate({deep:!0}).$el.hide()):(this.children.resultsView.deactivate({deep:!0}).$el.hide(),this.children.dataSummaryView.activate({deep:!0}).$el.css("display",""))},render:function(){return this.$el.html()||(this.$el.html(this.compiledTemplate({_:_,containsStar:this.model.dataset.getFlattenedFieldsObj().containsStar})),this.children.resultsView.render().appendTo(this.$el),this.children.dataSummaryView.render().appendTo(this.$el),this.manageStateOfChildren()),this},template:'\t                <% if (containsStar) { %>\t                    <div class="alert-warning">\t                        <i class="icon-alert"></i>\t                        <%= _("There may be more fields for this dataset than are displayed here. Open this dataset in Search to explore it further.").t() %>\t                    </div>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/tablecontainer/results/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/search/Job"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/dataset/tablecontainer/results/DatasetControls"),__webpack_require__("views/shared/JobDispatchState"),__webpack_require__("views/shared/datasettable/Master"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,SearchJobModel,BaseView,FlashMessages,DatasetControls,JobDispatchState,TableView,splunkdUtils){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.errorTypes=[splunkdUtils.FATAL,splunkdUtils.ERROR],this.children.flashMessages=new FlashMessages({model:{ast:this.model.ast},whitelist:this.errorTypes}),this.children.datasetControls=new DatasetControls({model:{dataset:this.model.dataset,searchJob:this.model.searchJob,state:this.model.state}}),this.children.table=new TableView({model:{config:this.model.config,dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state},editingMode:!1,useDock:!0})},startListening:function(){this.listenTo(this.model.resultJsonRows,"change",this.manageStateOfChildren)},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):BaseView.prototype.activate.call(this,clonedOptions)},deactivate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?(BaseView.prototype.deactivate.call(this,clonedOptions),this):BaseView.prototype.deactivate.call(this,clonedOptions)},manageStateOfChildren:function(){var isError=splunkdUtils.messagesContainsOneOfTypes(this.model.ast.error.get("messages"),this.errorTypes),jobDispatchStateMsgs={};isError?(this.children.flashMessages.activate({deep:!0}).$el.show(),this.children.datasetControls.deactivate({deep:!0}).$el.hide(),this.children.table.deactivate({deep:!0}).$el.hide(),this.children.jobDispatchState&&this.children.jobDispatchState.deactivate({deep:!0}).$el.hide()):(this.children.flashMessages.deactivate({deep:!0}).$el.hide(),this.children.datasetControls.activate({deep:!0}).$el.css("display",""),this.children.table.activate({deep:!0}).$el.css("display",""),this.children.jobDispatchState&&(this.children.jobDispatchState.deactivate({deep:!0}).remove(),delete this.children.jobDispatchState),jobDispatchStateMsgs[SearchJobModel.DONE]={msg:this.getDoneJobMessage.bind(this)},this.model.resultJsonRows.hasRows()||(this.children.jobDispatchState=new JobDispatchState({model:{application:this.model.application,searchJob:this.model.searchJob},mode:this.model.ast.isTransforming()?"results":"",jobDispatchStateMsgs:jobDispatchStateMsgs}),this.$el.html()&&this.children.jobDispatchState.activate({deep:!0}).render().appendTo(this.$el)))},getDoneJobMessage:function(){var transformingCondition=this.model.ast.isTransforming()?this.model.searchJob.entry.content.get("eventCount")>0:this.model.searchJob.isUneventfulReportSearch();return this.model.searchJob.isOverAllTime()||transformingCondition?_("No results found.").t():_("No results found. Try expanding the time range.").t()},render:function(){return this.children.flashMessages.render().appendTo(this.$el),this.children.datasetControls.render().appendTo(this.$el),this.children.table.render().appendTo(this.$el),this.children.jobDispatchState&&this.children.jobDispatchState.activate({deep:!0}).render().appendTo(this.$el),this.manageStateOfChildren(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/tablecontainer/results/DatasetControls":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/SearchResultsPaginator"),__webpack_require__("views/shared/delegates/Dock")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,SyntheticSelectControl,SearchResultsPaginator,Dock){return BaseView.extend({moduleId:module.id,className:"table-caption",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.count=new SyntheticSelectControl({model:this.model.dataset.entry.content,modelAttribute:"dataset.display.count",items:[{value:"10",label:_("10 per page").t()},{value:"20",label:_("20 per page").t()},{value:"50",label:_("50 per page").t()}],className:"btn-group pull-left count-control",menuWidth:"narrow",toggleClassName:"btn-pill"})},initializePaginator:function(){this.children.searchResultsPaginator=new SearchResultsPaginator({model:{state:this.model.dataset.entry.content,searchJob:this.model.searchJob},countKey:"dataset.display.count",offsetKey:"dataset.display.offset",mode:this.model.searchJob.isReportSearch()?"results_preview":"events"}),this.children.searchResultsPaginator.deactivate({deep:!0})},startListening:function(){this.listenTo(this.model.searchJob,"prepared",function(){this.children.searchResultsPaginator||(this.initializePaginator(),this.$el.html()&&!this.children.searchResultsPaginator.$el.html()&&this.children.searchResultsPaginator.activate({deep:!0}).render().appendTo(this.$(".table-caption-inner")))})},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.children.searchResultsPaginator||this.model.searchJob.isPreparing()||this.initializePaginator(),this.children.searchResultsPaginator&&this.$el.html()&&!this.children.searchResultsPaginator.$el.html()&&this.children.searchResultsPaginator.activate({deep:!0}).render().appendTo(this.$(".table-caption-inner")),BaseView.prototype.activate.apply(this,arguments))},deactivate:function(options){return this.active?(this.children.searchResultsPaginator&&(this.children.searchResultsPaginator.remove(),delete this.children.searchResultsPaginator),BaseView.prototype.deactivate.apply(this,arguments),this):BaseView.prototype.deactivate.apply(this,arguments)},render:function(){this.$el.html(this.template);var $tableCaptionInner=this.$(".table-caption-inner");return this.children.count.render().appendTo($tableCaptionInner),this.children.searchResultsPaginator&&this.children.searchResultsPaginator.render().appendTo($tableCaptionInner),this.children.dock=new Dock({el:this.el,affix:".table-caption-inner"}),this},template:'\t                <div class="table-caption-inner"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/TableHeader"),__webpack_require__("views/shared/datasettable/resultsbody/Master"),__webpack_require__("views/shared/delegates/TableDock"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("util/dataset_utils"),__webpack_require__("views/shared/datasettable/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnsCollection,ColumnModel,BaseView,TableHeadView,ResultsBodyView,TableDock,WaitSpinnerView,datasetUtils,css){return BaseView.extend({moduleId:module.id,className:"table-wrapper",initialize:function(options){BaseView.prototype.initialize.apply(this,arguments),this.tableId=this.cid+"-table",this.collection=this.collection||{},this.collection.columns=new ColumnsCollection,this.children.resultsBody=new ResultsBodyView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state,config:this.model.config},collection:{columns:this.collection.columns},editingMode:this.options.editingMode}),this.children.thead=new TableHeadView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state,ast:this.model.ast},collection:{columns:this.collection.columns},editingMode:this.options.editingMode,resultsTable:this.children.resultsBody}),this.children.waitSpinner=new WaitSpinnerView({color:"green",size:"medium",frameWidth:19})},startListening:function(options){this.listenTo(this.model.state,"clearSelection",function(){this.model.dataset.clearSelections()}),this.listenTo(this.model.state,"setSelectedColumn",function(colIndex){this.model.dataset.setSelectedColumn(colIndex)}),this.listenTo(this.model.resultJsonRows,"change:fields",this.updateColumnsCollection),this.listenTo(this.model.resultJsonRows,"change",this.render),this.listenTo(this.model.state,"restoreScrollPosition",this.restoreScrollPosition),this.listenTo(this.model.state,"change:tableEnabled",function(){var enable=this.model.state.get("tableEnabled");this.children.thead.enableSelection(enable),this.children.resultsBody.enableSelection(enable)},this),this.listenTo(this.model.state,"disableTableEditing",function(){this.disableTable()}),this.listenTo(this.model.state,"enableTableEditing",function(){this.enableTable()})},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.bindDOMListeners(),this.updateColumnsCollection(),BaseView.prototype.activate.apply(this,arguments),this.enableTable(),this)},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.disableTable(),this.$getScrollTableWrapper().off("scroll"),this):BaseView.prototype.deactivate.apply(this,arguments)},enableTable:function(){var currentCommandModel,shouldEnableSelection=!1;this.$el.hasClass("disabled")&&(this.children.waitSpinner.stop(),this.children.waitSpinner.$el.hide(),this.$el.removeClass("disabled")),this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldEnableSelection=currentCommandModel.isComplete()&&currentCommandModel.isValid()),this.model.state.set("tableEnabled",shouldEnableSelection)},disableTable:function(){this.$el.hasClass("disabled")||(this.children.waitSpinner.$el.show(),!this.children.waitSpinner.active&&this.children.waitSpinner.start(),this.$el.addClass("disabled")),this.model.state.set("tableEnabled",!1)},$getScrollTableWrapper:function(){return this.$(".scroll-table-wrapper")},onAddedToDocument:function(options){return this.restoreScrollPosition(),BaseView.prototype.onAddedToDocument.apply(this,arguments)},handleContainerScroll:function(){this.saveScrollPosition(),this.model.state.trigger("destroyContextualMenus")},restoreScrollPosition:function(){var scrollLeft=this.model.dataset.entry.content.get("dataset.display.scrollLeft");scrollLeft&&this.$getScrollTableWrapper().scrollLeft(scrollLeft),scrollLeft=this.$getScrollTableWrapper().scrollLeft(),this.setScrollPositionOnTableHeader(scrollLeft)},onScrollChange:function(){var scrollLeft=this.$getScrollTableWrapper().scrollLeft();this.model.dataset.entry.content.set("dataset.display.scrollLeft",scrollLeft),this.setScrollPositionOnTableHeader(scrollLeft),this.model.state.trigger("destroyContextualMenus"),this.children.tableDock&&this.children.tableDock.handleContainerScroll()},setScrollPositionOnTableHeader:function(scrollLeft){scrollLeft=scrollLeft||0,this.$(".dataset-table-head").css("margin-left",-scrollLeft+"px")},saveScrollPosition:function(){var scrollLeft=this.$(".scroll-table-wrapper").scrollLeft();null!==scrollLeft&&this.model.dataset.entry.content.set("dataset.display.scrollLeft",scrollLeft)},bindDOMListeners:function(){if(this.$el.html()){var $scrollTableWrapper=this.$getScrollTableWrapper();$scrollTableWrapper.length&&$scrollTableWrapper.off("scroll").on("scroll",_.bind(this.onScrollChange,this))}},updateColumnsCollection:function(){var lastSafeCommand,columnsData=[],fields=this.model.resultJsonRows.get("fields")||[];this.model.dataset.isTable()&&this.options.respectCommandIndex?(lastSafeCommand=this.model.dataset.getLastSafeCommandForCommandIndex(),lastSafeCommand&&(columnsData=lastSafeCommand.columns.toJSON())):columnsData=this.model.dataset.getTypedFields({withoutUnfixed:!0}),columnsData.length||_(fields).each(function(field){columnsData.push({name:field})},this),this.options.autoTypeColumns&&this.guessColumnTypes(columnsData,lastSafeCommand),this.collection.columns.reset(columnsData)},guessColumnTypes:function(columnsData,command){var matchedTypeCountObj,i,j,value,columnObj,threshold,rows=this.model.resultJsonRows.get("rows")||[],fields=this.model.resultJsonRows.get("fields")||[];for(i=0;i<fields.length;i++)if(matchedTypeCountObj={ip:0,bool:0,number:0},columnObj=_.find(columnsData,function(columnObj){return columnObj.name===fields[i]}.bind(this)),columnObj&&columnObj.type===ColumnModel.TYPES.STRING)for(j=0;j<rows.length;j++)if(value=rows[j][i],threshold=rows.length/2,datasetUtils.isIPV4(value)){if(matchedTypeCountObj.ip++,matchedTypeCountObj.ip>threshold){columnObj.type=ColumnModel.TYPES.IPV4;break}}else if(datasetUtils.isBoolean(value)){if(matchedTypeCountObj.bool++,matchedTypeCountObj.bool>threshold){columnObj.type=ColumnModel.TYPES.BOOLEAN;break}}else if(datasetUtils.isNumber(value)&&(matchedTypeCountObj.number++,matchedTypeCountObj.number>threshold)){columnObj.type=ColumnModel.TYPES.NUMBER;break}command&&command.columns.reset(columnsData)},render:function(){var resultRows=this.model.resultJsonRows.get("rows");return this.$el.html(this.compiledTemplate({tableId:this.tableId})),this.children.waitSpinner.render().prependTo(this.$el).$el.hide(),resultRows&&resultRows.length&&(this.children.thead.render().prependTo(this.$(".table-preview")),this.children.resultsBody.render().appendTo(this.$(".table-results")),this.updateColumnsCollection(),this.bindDOMListeners(),this.restoreScrollPosition(),this.options.useDock&&(this.children.tableDock&&this.children.tableDock.remove(),this.children.tableDock=new TableDock({el:this.el,offset:37,defaultLayout:"fixed",tableSelector:".scroll-table-wrapper > .table-preview",theadSelector:".shared-datasettable-tableheader",thSelector:".shared-datasettable-tableheader > .dataset-table-head > .col-header",containerDOM:'<div class="docked-tableheader-container"></div>',containerSelector:".docked-tableheader-container",scrollContainerSelector:".scroll-table-wrapper",dockScrollBar:!0}),this.$el.addClass("shared-datasettable-docking-header"))),this.options.editingMode||(this.children.thead.enableSelection(!1),this.children.resultsBody.enableSelection(!1)),this},template:'\t                <div class="scroll-table-wrapper">\t                    <div class="table table-preview">\t                        <table class="table table-results" id="<%= tableId %>"></table>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/TableHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/shared/TableHeader")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnModel,BaseView,TableHeaderView){return TableHeaderView.extend({moduleId:module.id,shouldFastRouteOnColumnDrop:!1,initialize:function(options){TableHeaderView.prototype.initialize.apply(this,arguments)},events:$.extend({},TableHeaderView.prototype.events,{'mousedown .col-header:not(":first-child"):not(".disabled")':function(e){var isLeftClick=1===e.which;!isLeftClick||!$(e.target).hasClass("resize")||0!==this.$(".field-name-input").length&&$(this.$(".field-name-input")).is(":visible")||this.handleColumnResizeDragStart(e)},'dblclick .col-header:not(":first-child"):not(".disabled")':function(e){var $target=$(e.target),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1;!(this.model.dataset.isTable()&&this.options.editingMode&&$target)||$target.is("span.resize")||$target.is("i.field-type")||isCtrlClick||isShiftClick||this.handleDirectRename(e)}}),startListening:function(options){TableHeaderView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection),this.listenTo(this.model.state,"destroyContextualMenus",function(){this.children.typeMenu&&this.children.typeMenu.deactivate({deep:!0}).remove(),delete this.children.typeMenu})},handleTableSelect:function($allThs){$allThs.not(":last-child").addClass("column-selected"),$allThs.filter(":last-child").addClass("column-selected-end"),TableHeaderView.prototype.handleTableSelect.apply(this,arguments)},addSelectedColumn:function($column){var columnIndex=$column.data("col-index"),$previousColumn=this.$(".col-header[data-col-index="+(columnIndex-1)+"]"),$nextColumn=this.$(".col-header[data-col-index="+(columnIndex+1)+"]");$previousColumn.hasClass("column-selected-end")&&($previousColumn.removeClass("column-selected-end").addClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected-end",!1),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected",!0)),$nextColumn.hasClass("column-selected")||$nextColumn.hasClass("column-selected-end")?($column.addClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!0)):($column.addClass("column-selected-end"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected-end",!0))},removeSelectedColumn:function($column){var columnIndex=$column.data("col-index"),$previousColumn=this.$(".col-header[data-col-index="+(columnIndex-1)+"]");$previousColumn.hasClass("column-selected")&&($previousColumn.removeClass("column-selected").addClass("column-selected-end"),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected",!1),this.model.state.trigger("columnInteraction",columnIndex-1,"column-selected-end",!0)),$column.hasClass("column-selected")?($column.removeClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!1)):$column.hasClass("column-selected-end")&&($column.removeClass("column-selected-end"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected-end",!1))},handleColumnResizeDragStart:function(e){e.preventDefault(),this.resizeStartPosition=e.pageX,this.$resultsTable=this.options.resultsTable.$el,this.$colHeader=$(e.currentTarget).closest(".col-header"),this.resizeStartColWidth=$(this.$colHeader[0]).width(),this.resizeStartTableWidth=this.$resultsTable[0].clientWidth,this.resizeMinChange=this.options.minColumnWidth-this.resizeStartColWidth,$("html").on("mousemove.resize",this.handleColumnResizeDrag.bind(this)),$("html").on("mouseup.resize",this.handleColumnResizeDragEnd.bind(this))},handleColumnResizeDrag:function(e){var columnWidth,change=Math.max(e.pageX-this.resizeStartPosition,this.resizeMinChange),$realTable=this.$el.closest(".table-results"),$realHeading=this.$getColHeader(this.$colHeader.data("field")),currentCommandModel=this.model.dataset.getCurrentCommandModel(),currentColumns=currentCommandModel.columns,columnToModify=currentColumns.find(function(column){return column.get("name")===this.$colHeader.data("field")},this),columnIsSelected=this.$colHeader.hasClass("column-selected-end")||this.$colHeader.hasClass("column-selected");this.$colHeader.width(this.resizeStartColWidth+change),this.$resultsTable.width(this.resizeStartTableWidth+change),$realHeading.width(this.resizeStartColWidth+change),$realTable.width(this.resizeStartTableWidth+change),columnWidth=this.$colHeader[0].clientWidth,columnIsSelected&&(columnWidth+=4),columnToModify.set({"display.width":columnWidth}),this.model.state.trigger("updateColumnWidth",columnToModify)},handleColumnResizeDragEnd:function(e){var currentCommandModel=this.model.dataset.getCurrentCommandModel();$("html").off(".resize"),this.model.state.set("fastRoute",!0),this.model.dataset.trigger("applyAction",currentCommandModel,this.model.dataset.commands)},handleCutSelection:function(){this.$(".col-header.column-selected").addClass("column-cut"),this.$(".col-header.column-selected-end").addClass("column-cut-end")},handleClearCutSelection:function(){this.$(".col-header.column-cut, .col-header.column-cut-end").removeClass("column-cut column-cut-end")},clearSelection:function(){this.$lastColumn=null,this.$(".col-header.column-selected, .col-header.column-selected-end").removeClass("column-selected column-selected-end")},setSelection:function(){var selectedColumnInColumnsCollection,$target,selectedColumns=this.model.dataset.selectedColumns,selectionType=this.model.dataset.entry.content.get("dataset.display.selectionType"),currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),currentCommand=this.model.dataset.commands.at(currentCommandIndex);"column"===selectionType||"cell"===selectionType||"text"===selectionType?selectedColumns.each(function(selectedColumn,idx){selectedColumnInColumnsCollection=currentCommand.columns.get(selectedColumn.id),selectedColumnInColumnsCollection&&($target=this.$getColHeader(selectedColumnInColumnsCollection.get("name")),this.addSelectedColumn($target),this.$lastColumn=$target,$target.attr("draggable",!0),"cell"!==selectionType&&"text"!==selectionType||this.model.dataset.setSelectionTypeToColumn())},this):"table"===selectionType&&($target=this.$(".col-header"),this.handleTableSelect($target),this.$lastColumn=$target.last())},enableSelection:function(enable){enable?(this.$(".col-header").removeClass("disabled"),this.$("span.name").after($('<span class="resize"></span>'))):(this.$(".col-header").addClass("disabled"),this.$(".resize").remove())},render:function(){return TableHeaderView.prototype.render.apply(this,arguments),this.$el.html(this.compiledTemplate({ColumnModel:ColumnModel,columns:this.collection.columns})),this.delegateEvents(),this.enableSelection(this.model.state.get("tableEnabled")),$.when(this.model.state.rowsRenderedDfd).always(function(){this.hasFields()&&this.options.editingMode&&(this.highlightFields(),this.setSelection())}.bind(this)),this},template:'\t                 <div class="dataset-table-head">\t                    <% if (columns.length > 0) { %>\t                        <div class="col-header all">*</div>\t                    <% } else { %>\t                        <div class="col-header placeholder">&nbsp;</div>\t                    <% } %>\t                    <% columns.each(function(column, index) { %>\t                        <div class="col-header field type-<%- column.get("type") %>" data-col-index="<%- index %>" data-field="<%- column.get("name") %>" title="<%- column.get("name") %>" style="<%- column.get("display.width") ? "width: " + column.get("display.width") + "px;" : "" %>">\t                            <i class="icon-<%- ColumnModel.ICONS[column.get("type")] %> field-type" data-type="<%- column.get("type") %>"></i>\t                            <span class="name"><%- column.get("name") %></span>\t                        </div>\t                    <% }, this); %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/shared/TableHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/EditMenu"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/Rename"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,EditMenu,ColumnsCollection,ColumnModel,BaseCommand,RenameCommand,keyboardUtil){return BaseView.extend({moduleId:module.id,initialize:function(options){BaseView.prototype.initialize.apply(this,arguments);var defaults={minColumnWidth:60};_.defaults(options,defaults)},events:{'mouseenter .col-header:first-child:not(".disabled")':function(e){this.$(".col-header").addClass("hover"),this.model.state.trigger("tableInteraction","hover",!0)},'mouseleave .col-header:first-child:not(".disabled")':function(e){this.$(".col-header").removeClass("hover"),this.model.state.trigger("tableInteraction","hover",!1)},'mouseenter .col-header:not(":first-child"):not(".disabled")':function(e){this.model.state.trigger("columnInteraction",$(e.currentTarget).data("col-index"),"hover",!0)},'mouseleave .col-header:not(":first-child"):not(".disabled")':function(e){this.model.state.trigger("columnInteraction",$(e.currentTarget).data("col-index"),"hover",!1)},'mousedown .col-header:first-child:not(".disabled")':function(e){var isLeftClick=1===e.which;isLeftClick&&!$(e.target).hasClass("resize")&&(this.model.state.trigger("clearSelection"),this.handleTableSelect(this.$(".col-header")))},'click .col-header:not(":first-child"):not(".disabled")':function(e){$(e.target).hasClass("resize")||this.handleClick(e)},"dragstart .col-header.column-selected-end:not(.resize):not(.disabled), .col-header.column-selected:not(.resize):not(.disabled)":function(e){this.handleDragStart(e)},"dragenter .col-header":function(e){this.handleDragEnter(e)},"dragover .col-header":function(e){this.handleDragOver(e)},"dragend .col-header":function(e){this.handleDragEnd(e)},"drop .col-header":function(e){var $column=$(e.currentTarget);e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),this.handleDrop($column,this.shouldFastRouteOnColumnDrop)}},startListening:function(){this.listenTo(this.model.state,"clearSelection",this.clearSelection),this.listenTo(this.model.state,"clearDragability",this.clearDragability)},clearDragability:function(){this.$(".col-header").removeClass("draggable").attr("draggable",!1)},$getColHeader:function(colName){return this.$('.col-header[data-field="'+colName+'"]')},handleClick:function(e){var $currentTarget=$(e.currentTarget),$target=$(e.target),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1,columnIsReservedType=$target.data("type")===ColumnModel.TYPES._RAW||$target.data("type")===ColumnModel.TYPES._TIME;
if(!$target.hasClass("field-name-input")&&(this.handleColumnSelect($currentTarget,isCtrlClick,isShiftClick),!isCtrlClick&&!isShiftClick&&$target.hasClass("field-type")&&!columnIsReservedType)){if(this.children.typeMenu&&this.children.typeMenu.shown)return void this.children.typeMenu.hide();this.children.typeMenu&&this.children.typeMenu.deactivate({deep:!0}).remove(),this.children.typeMenu=new EditMenu({model:{resultJsonRows:this.model.resultJsonRows,state:this.model.state,table:this.model.dataset},onHiddenRemove:!0,ignoreToggleMouseDown:!0,onlyType:!0}),this.children.typeMenu.activate({deep:!0}).render().appendTo($("body")).show($target)}},handleDirectRename:function(e){e.preventDefault();var $newColNameInput,$renameHandlerColHeader,$renameHandlerInput,$colLabel=$(e.target).is("span.name")?$(e.target):$(e.target).find("span.name"),oldFieldName=$colLabel.text(),$colHeader=this.$getColHeader(oldFieldName),selectedColId=this.model.dataset.selectedColumns.pluck("id")[0],selectedCol=this.model.dataset.getCurrentCommandModel().columns.get(selectedColId),selectedColType=selectedCol.get("type");$colHeader.attr("draggable",!1),BaseCommand.isTypeBlacklisted(selectedColType,RenameCommand.blacklist,BaseCommand.SELECTION.COLUMN)||($colHeader.find(".field-name-input").length&&$colHeader.find(".field-name-input").remove(),$colHeader.find("span.name").hide(),$newColNameInput=$('<input type="text" class="field-name-input" onfocus="this.value = this.value;">'),$newColNameInput.insertAfter($colHeader.find("i.field-type")).focus().val(oldFieldName),this.bindDirectRenameInputEvents($newColNameInput,oldFieldName),this.model.state.on("directRenameFailed",_.bind(function(oldFieldName){$renameHandlerColHeader=this.$getColHeader(oldFieldName),$renameHandlerInput=$renameHandlerColHeader.find(".field-name-input"),$renameHandlerInput.addClass("warning"),""===$renameHandlerInput.val().trim()&&$renameHandlerInput.val(oldFieldName),this.showRenameInput($renameHandlerColHeader),this.bindDirectRenameInputEvents($renameHandlerInput,oldFieldName),"cell"===this.model.dataset.entry.content.get("dataset.display.selectionType")&&(this.model.state.trigger("clearSelection"),this.addSelectedColumn($renameHandlerColHeader),this.$lastColumn=$renameHandlerColHeader,this.model.dataset.selectedColumns.add({id:selectedColId}),this.model.dataset.entry.content.set("dataset.display.selectionType","column"))},this)),this.model.state.on("directRenameSucceeded",_.bind(function(oldFieldName){$renameHandlerColHeader=this.$getColHeader(oldFieldName),this.showHeaderLabel($renameHandlerColHeader)},this)))},handleDirectRenameApply:function(e,oldFieldName){var newColName=e.target.value.trim(),$colHeader=this.$getColHeader(oldFieldName),$newColNameInput=$colHeader.find(".field-name-input");$newColNameInput.off("blur keyup"),oldFieldName!==newColName?this.model.state.trigger("directColRename",oldFieldName,newColName):this.showHeaderLabel($colHeader)},bindDirectRenameInputEvents:function($newColNameInput,oldFieldName){$newColNameInput.off("blur").on("blur",function(e){this.handleDirectRenameApply(e,oldFieldName)}.bind(this)),$newColNameInput.off("keyup").on("keyup",function(e){e.which===keyboardUtil.KEYS.ENTER&&this.handleDirectRenameApply(e,oldFieldName)}.bind(this))},handleDragStart:function(e){var realEvent=e.originalEvent,$columns=this.$(".col-header.column-selected, .col-header.column-selected-end"),colIdxs=_.map($columns,function(col){return $(col).data("col-index")});$columns.addClass("grabbed"),this.model.state.set("drag.startingIdxs",colIdxs),this.handleFadeDraggedColumns(colIdxs,!0),realEvent.dataTransfer.effectAllowed="move",realEvent.dataTransfer.dropEffect="move",realEvent.dataTransfer.setData("text/plain","move")},handleDragOver:function(e){e.originalEvent.preventDefault()},handleDragEnd:function(e){var colIdxs=this.model.state.get("drag.startingIdxs");this.clearDragMarkers(!0),this.handleFadeDraggedColumns(colIdxs,!1)},handleDragEnter:function(e){var i,currentLocation=e.originalEvent.clientX,$column=$(e.currentTarget),width=$column.outerWidth(),columnOffset=$column.offset().left,offsetInColumn=currentLocation-columnOffset,currentIdx=$column.data("col-index"),startingIdxs=this.model.state.get("drag.startingIdxs");if(_.isUndefined(currentIdx)||_.isUndefined(startingIdxs)||!startingIdxs.length)return!1;for(i=0;i<startingIdxs.length;i++)if(startingIdxs[i]===currentIdx)return!1;$column.hasClass("over-right")||$column.hasClass("over-left")||this.clearDragMarkers(),offsetInColumn>width/2?startingIdxs[0]-currentIdx!==1?$column.hasClass("over-right")||$column.addClass("over-right").removeClass("over-left"):this.clearDragMarkers():currentIdx-startingIdxs[startingIdxs.length-1]!==1?$column.hasClass("over-left")||$column.addClass("over-left").removeClass("over-right"):this.clearDragMarkers()},handleDrop:function($column,shouldFastRoute){var modelToMove,selectedColIdxs=_(this.model.state.get("drag.startingIdxs")).sortBy(function(num){return num}),newColIdx=$column.data("col-index")||0,rightSideInsert=$column.hasClass("over-right"),currentCommand=this.model.dataset.getCurrentCommandModel(),columnsCopy=new ColumnsCollection(currentCommand.columns.toJSON()),selectedColIds=columnsCopy.pluck("id"),modelsToMove=new ColumnsCollection,hasCorrectedIndex=!1,columnsHaveChanged=!1;_.each(selectedColIdxs,function(idx){idx!==newColIdx&&(modelToMove=columnsCopy.remove(columnsCopy.where({id:selectedColIds[idx]})),modelsToMove.add(modelToMove)),idx<newColIdx&&(rightSideInsert||0===newColIdx?(columnsCopy.add(modelToMove,{at:newColIdx}),columnsHaveChanged=!0):(columnsCopy.add(modelToMove,{at:newColIdx-1}),newColIdx-idx>1&&(columnsHaveChanged=!0))),idx>newColIdx&&(hasCorrectedIndex?(newColIdx++,columnsCopy.add(modelToMove,{at:newColIdx})):(rightSideInsert&&newColIdx++,hasCorrectedIndex=!0,columnsCopy.add(modelToMove,{at:newColIdx})),columnsHaveChanged=!0)},this),columnsHaveChanged&&(currentCommand.columns.reset(columnsCopy.toJSON()),this.model.dataset.selectedColumns.reset(modelsToMove.toJSON()),this.model.state.set("fastRoute",!!shouldFastRoute),this.model.dataset.trigger("applyAction",currentCommand,this.model.dataset.commands),this.$(".col-header").removeClass("hover"))},handleColumnSelect:function($target,isCtrlClick,isShiftClick){var lastColumnIndex,$allColumns,$columnsInRange,indices,selectedColumnGuids,currentSelectionType=this.model.dataset.entry.content.get("dataset.display.selectionType"),selectedColumns=this.model.dataset.selectedColumns,columnIndex=$target.data("col-index"),currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),columnGuid=this.model.dataset.commands.at(currentCommandIndex).getGuidForColIndex(columnIndex);isShiftClick&&this.$lastColumn&&"column"===currentSelectionType?(this.$(".col-header").attr("draggable",!1),lastColumnIndex=this.$lastColumn.data("col-index"),$allColumns=$target.parent().children(),$columnsInRange=$allColumns.slice(Math.min(columnIndex,lastColumnIndex)+1,Math.max(columnIndex,lastColumnIndex)+2),indices=_($columnsInRange).map(function(column){return $(column).data("col-index")},this),selectedColumnGuids=_(indices).map(function(idx){return currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),columnGuid=this.model.dataset.commands.at(currentCommandIndex).getGuidForColIndex(idx),{id:columnGuid}}.bind(this)),_($columnsInRange).each(function(el){this.addSelectedColumn($(el))},this),this.model.dataset.selectedColumns.add(selectedColumnGuids),$columnsInRange.attr("draggable",!0)):isCtrlClick&&this.$lastColumn&&"column"===currentSelectionType?selectedColumns.get(columnGuid)?selectedColumns.length>=2?(this.removeSelectedColumn($target),this.model.dataset.selectedColumns.remove(columnGuid),$target.attr("draggable",!1)):$target.attr("draggable",!0):(this.addSelectedColumn($target),this.$lastColumn=$target,this.model.dataset.selectedColumns.add({id:columnGuid}),$target.attr("draggable",!0)):(this.$(".col-header").attr("draggable",!1),this.model.state.trigger("clearSelection"),this.addSelectedColumn($target),this.$lastColumn=$target,this.model.dataset.selectedColumns.add({id:columnGuid}),$target.attr("draggable",!0)),this.model.dataset.entry.content.set("dataset.display.selectionType","column")},addSelectedColumn:function(){throw new Error("Must define addSelectedColumn method.")},removeSelectedColumn:function(){throw new Error("Must define removeSelectedColumn method.")},clearDragMarkers:function(shouldRemoveGrabbed){var $allTh=this.$(".col-header");$allTh.removeClass("over-right").removeClass("over-left"),shouldRemoveGrabbed&&$allTh.removeClass("grabbed")},enableSelection:function(enable){throw new Error("Must define enableSelection method.")},hasFields:function(){var fields=this.model.resultJsonRows.get("fields");return!(!fields||!fields.length)},handleTableSelect:function(){this.$(".col-header").attr("draggable",!1),this.model.dataset.entry.content.set("dataset.display.selectionType","table"),this.model.state.trigger("tableInteraction","column-selected",!0)},highlightFields:function(){var modifiedFields,currentModel=this.model.dataset.getCurrentCommandModel(),currentType=currentModel.get("type");currentModel.isComplete()&&currentType!==BaseCommand.INITIAL_DATA&&(modifiedFields=this.model.ast.getModifiedFieldsNameList()||[],modifiedFields.length&&this.handleColumnHighlight(modifiedFields))},handleColumnHighlight:function(fields){for(var i=0;i<fields.length;i++){var $field=this.$('.col-header[data-field="'+fields[i]+'"]');$field.addClass("column-highlighted"),this.model.state.trigger("columnInteraction",$field.data("col-index"),"column-highlighted",!0)}},handleFadeDraggedColumns:function(colIdxs,fadeOut){var $headers=this.$(".col-header");_.each(colIdxs,function(idx){fadeOut?$headers[idx+1]&&($headers[idx+1].style.opacity="0.4"):$headers[idx+1]&&($headers[idx+1].style.opacity="1")},this)},showRenameInput:function($colHeader){$colHeader.find("span.name").hide(),$colHeader.find(".field-name-input").css("display","").focus()},showHeaderLabel:function($colHeader){var $newColNameInput=$colHeader.find(".field-name-input"),$newColNameLabel=$colHeader.find("span.name");$newColNameLabel.html(_.escape($newColNameInput.val().trim())),$newColNameLabel.css("display",""),$newColNameInput.hide(),$newColNameInput.off("blur keyup")},render:function(){this.model.state.rowsRenderedDfd=$.Deferred()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Dataset":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("routers/Base"),__webpack_require__("collections/services/authorization/Roles"),__webpack_require__("collections/services/data/ui/Times"),__webpack_require__("models/Base"),__webpack_require__("models/classicurl"),__webpack_require__("models/datasets/PolymorphicDataset"),__webpack_require__("models/datasets/TableAST"),__webpack_require__("models/services/search/jobs/ResultJsonRows"),__webpack_require__("models/shared/fetchdata/ResultsFetchData"),__webpack_require__("models/shared/TimeRange"),__webpack_require__("models/search/Job"),__webpack_require__("mixins/dataset"),__webpack_require__("views/dataset/Master"),__webpack_require__("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),__webpack_require__("util/general_utils"),__webpack_require__("util/time")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseRouter,RolesCollection,TimesCollection,BaseModel,classicUrlModel,PolymorphicDatasetModel,ASTModel,ResultJsonRowsModel,ResultsFetchDataModel,TimeRangeModel,SearchJobModel,datasetMixin,DatasetView,PermissionsDialogView,generalUtils,timeUtils){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.fetchAppLocals=!0,this.urlFilter=["^dataset.display..*","^dispatch.earliest_time$","^dispatch.latest_time$"],this.userPrefsFilter=["^default_earliest_time$","^default_latest_time$"],this.model.classicUrl=classicUrlModel,this.model.resultJsonRows=new ResultJsonRowsModel,this.model.searchJob=new SearchJobModel({},{delay:SearchJobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:SearchJobModel.DEFAULT_LONG_POLLING_INTERVAL}),this.model.state=new BaseModel,this.model.ast=new ASTModel,this.model.timeRange=new(TimeRangeModel.extend({defaults:{enableRealTime:!1}})),this.collection.roles=new RolesCollection,this.collection.times=new TimesCollection,this.deferreds.preloadReplaced=$.Deferred(),this.deferreds.rolesCollection=$.Deferred(),this.deferreds.timesCollection=$.Deferred(),this.setPageTitle(_("Dataset").t())},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),this.shouldRender||this.deactivate(),"resolved"!==this.deferreds.rolesCollection.state()&&this.rolesCollectionBootstrap(this.deferreds.rolesCollection),"resolved"!==this.deferreds.timesCollection.state()&&this.timesCollectionBootstrap(this.deferreds.timesCollection),this.bootstrapDeferred=$.Deferred(),this.datasetInstantiatedDeferred=$.Deferred(),$.when(this.deferreds.userPref).then(function(){this.model.classicUrl.fetch({success:function(model,response){this.model.classicUrl.set({"dataset.display.offset":void 0,"dataset.display.mode":void 0}),(timeUtils.isRealtime(this.model.classicUrl.get("dispatch.earliest_time"))||timeUtils.isRealtime(this.model.classicUrl.get("dispatch.latest_time")))&&this.model.classicUrl.set({"dispatch.earliest_time":void 0,"dispatch.latest_time":void 0}),this.syncFromClassicURL()}.bind(this)})}.bind(this)),$.when(this.deferreds.pageViewRendered,this.datasetInstantiatedDeferred).then(function(){this.shouldRender&&(this.initializeDatasetView(),$(".preload").replaceWith(this.pageView.el),this.deferreds.preloadReplaced.resolve())}.bind(this)),$.when(this.deferreds.appLocal,this.deferreds.user,this.deferreds.preloadReplaced,this.deferreds.serverInfo,this.deferreds.rolesCollection,this.bootstrapDeferred).then(function(){this.datasetView.activate({deep:!0,skipRender:!0}),this.activate(),this.shouldRender&&(this.datasetView.render().replaceContentsOf($(".main-section-body")),$(document).trigger("rendered"),"permissions"===this.model.classicUrl.get("dialog")&&(this.model.classicUrl.save({dialog:void 0},{replaceState:!0}),this.permissionsDialog=new PermissionsDialogView({model:{document:this.model.dataset,nameModel:this.model.dataset.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles,onHiddenRemove:!0,nameLabel:this.model.dataset.getDatasetDisplayType()}),this.permissionsDialog.render().appendTo($("body")),this.permissionsDialog.show()))}.bind(this))},activate:function(){this.model.dataset.entry.content.on("newSample change:dispatch.earliest_time change:dispatch.latest_time",_.debounce(this.loadNewJob,0),this),this.model.searchJob.on("reload",this.loadNewJob,this),this.model.searchJob.on("prepared",function(){this.registerSearchJobFriends()},this),this.model.dataset.entry.content.on("change:dataset.display.count change:dataset.display.offset",_.debounce(function(){this.fetchResultJSONRows(),this.populateClassicUrlFromDataset()}.bind(this),0),this),this.model.dataset.on("updateCollection",function(){this.model.dataset.fetch({success:function(model,response){if(this.model.dataset.entry.content.acceleration){var accelerated=this.model.dataset.entry.content.acceleration.get("enabled");this.model.dataset.entry.content.set("accelerated",!!accelerated)}}.bind(this)})},this)},deactivate:function(){this.datasetView.deactivate({deep:!0}),this.permissionsDialog&&this.permissionsDialog.remove(),this.shouldRender||(this.model.state.off(null,null,this),this.model.dataset.off(null,null,this),this.model.dataset.entry.content.off(null,null,this)),this.model.searchJob.off(null,null,this),this.model.searchJob.clear(),this.model.state.clear(),this.model.dataset.clear({setDefaults:!0}),this.model.ast.fetchAbort(),this.model.resultJsonRows.fetchAbort(),this.model.resultJsonRows.clear()},initializeDatasetView:function(){this.datasetView||(this.datasetView=new DatasetView({model:{application:this.model.application,ast:this.model.ast,config:this.model.config,dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,state:this.model.state,timeRange:this.model.timeRange,user:this.model.user},collection:{apps:this.collection.appLocals,roles:this.collection.roles,times:this.collection.times}}))},syncFromClassicURL:function(){var fetchDatasetDeferred=$.Deferred(),fetchJobDeferred=$.Deferred(),jobCreationDeferred=$.Deferred(),astFetchDeferred=$.Deferred(),timeRangeDeferred=$.Deferred(),searchJobIdFromURL=this.model.classicUrl.get("sid"),attrsFromUserPrefs=this.model.userPref.entry.content.filterByWildcards(this.userPrefsFilter),attrsFromUrl=this.model.classicUrl.filterByWildcards(this.urlFilter,{allowEmpty:!0});this.mediateUserPrefAttrs(attrsFromUserPrefs),this.fetchJob(fetchJobDeferred,searchJobIdFromURL),$.when(fetchJobDeferred).then(function(){this.fetchDataset(fetchDatasetDeferred),$.when(fetchDatasetDeferred).then(function(){this.astBootstrap(astFetchDeferred),$.when(astFetchDeferred).then(function(){this.model.dataset.entry.content.set($.extend(!0,{},attrsFromUserPrefs,attrsFromUrl)),this.populateClassicUrlFromDataset(),this.model.searchJob.isNew()?this.startNewSearch(jobCreationDeferred):jobCreationDeferred.resolve(),this.timeRangeBootstrap(timeRangeDeferred),$.when(jobCreationDeferred,timeRangeDeferred).then(function(){this.model.searchJob.isPreparing()||this.registerSearchJobFriends(),this.model.searchJob.isNew()||(this.populateClassicUrlFromSearchJob(),this.model.searchJob.startPolling()),this.bootstrapDeferred.resolve()}.bind(this))}.bind(this))}.bind(this))}.bind(this))},loadNewJob:function(){this.model.classicUrl.get("sid")&&this.model.classicUrl.save({sid:void 0,"dispatch.earliest_time":this.model.dataset.entry.content.get("dispatch.earliest_time"),"dispatch.latest_time":this.model.dataset.entry.content.get("dispatch.latest_time")},{trigger:!0})},mediateUserPrefAttrs:function(attrs){generalUtils.transferKey(attrs,"default_earliest_time","dispatch.earliest_time"),generalUtils.transferKey(attrs,"default_latest_time","dispatch.latest_time")},fetchDataset:function(fetchDatasetDeferred){var datasetName,datasetEAIType,datasetEAIApp,datasetEAIOwner,datasetType,datasetLinksAlternate,splunkDPayload,fetchSuccess;this.model.searchJob.isNew()?(datasetName=this.model.classicUrl.get("name"),datasetEAIType=this.model.classicUrl.get("eaiType"),datasetEAIApp=this.model.classicUrl.get("eaiApp"),datasetEAIOwner=this.model.classicUrl.get("eaiOwner"),datasetType=this.model.classicUrl.get("datasetType"),datasetLinksAlternate=this.model.classicUrl.get("linksAlternate")):(datasetName=this.model.searchJob.entry.content.custom.get("dataset.name"),datasetEAIType=this.model.searchJob.entry.content.custom.get("dataset.eaiType"),datasetEAIApp=this.model.searchJob.entry.content.custom.get("dataset.eaiApp"),datasetEAIOwner=this.model.searchJob.entry.content.custom.get("dataset.eaiOwner"),datasetType=this.model.searchJob.entry.content.custom.get("dataset.type"),datasetLinksAlternate=this.model.searchJob.entry.content.custom.get("dataset.linksAlternate")),splunkDPayload={entry:[{acl:{app:datasetEAIApp,owner:datasetEAIOwner},content:{"eai:type":datasetEAIType||"datamodel","dataset.type":datasetType},links:{alternate:datasetLinksAlternate},name:datasetName}]},this.model.dataset?this.model.dataset.setFromSplunkD(splunkDPayload):this.model.dataset=new PolymorphicDatasetModel(splunkDPayload,{parse:!0}),this.datasetInstantiatedDeferred.resolve(),fetchSuccess=function(){_.isEmpty(this.model.dataset.entry.get("name"))||_.isEmpty(this.model.dataset.entry.acl.get("owner"))||_.isEmpty(this.model.dataset.entry.acl.get("app"))||_.isEmpty(this.model.dataset.entry.content.get("eai:type"))?fetchDatasetDeferred.resolve():$.when(this.model.dataset.fetchAsDataset({app:this.model.application.get("app"),owner:this.model.application.get("owner")})).then(function(){this.model.dataset.entry.content.set({"dataset.display.count":"20","dataset.display.offset":"0","dataset.display.mode":datasetMixin.MODES.TABLE}),fetchDatasetDeferred.resolve()}.bind(this))}.bind(this),datasetLinksAlternate?this.model.dataset.fetch({success:fetchSuccess,error:function(){fetchDatasetDeferred.resolve()}.bind(this)}):fetchSuccess()},fetchJob:function(fetchJobDeferred,searchJobIdFromUrl){searchJobIdFromUrl?(this.model.searchJob.set("id",searchJobIdFromUrl),this.model.searchJob.fetch({success:function(model,response){this.model.searchJob.isRealtime()&&this.model.searchJob.clear(),fetchJobDeferred.resolve()}.bind(this),error:function(model,response){this.model.classicUrl.save({sid:void 0},{replaceState:!0}),this.model.searchJob.unset("id"),fetchJobDeferred.resolve()}.bind(this)})):fetchJobDeferred.resolve()},startNewSearch:function(jobCreationDeferred,options){options=options||{};var fromSearch=this.model.dataset.getFromSearch(),isTransforming=this.model.ast.isTransforming(),newSearchModel=new SearchJobModel;newSearchModel.entry.content.custom.set({"dataset.name":this.model.dataset.entry.get("name"),"dataset.eaiType":this.model.dataset.entry.content.get("eai:type"),"dataset.eaiApp":this.model.dataset.entry.acl.get("app"),"dataset.eaiOwner":this.model.dataset.entry.acl.get("owner"),"dataset.type":this.model.dataset.entry.content.get("dataset.type"),"dataset.linksAlternate":"datamodel"!==this.model.dataset.getType()?this.model.dataset.entry.links.get("alternate"):void 0}),this.addNewSearchListeners(newSearchModel,jobCreationDeferred),newSearchModel.save({},{data:{search:fromSearch,earliest_time:this.model.dataset.entry.content.get("dispatch.earliest_time"),latest_time:this.model.dataset.entry.content.get("dispatch.latest_time"),auto_cancel:SearchJobModel.DEFAULT_AUTO_CANCEL,status_buckets:300,ui_dispatch_app:this.model.application.get("app"),preview:!0,adhoc_search_level:"smart",app:this.model.application.get("app"),owner:this.model.application.get("owner"),sample_seed:void 0,sample_ratio:options.sample_ratio||this.model.dataset.getDispatchRatio({isTransforming:isTransforming}),indexedRealtime:this.model.dataset.entry.content.get("dispatch.indexedRealtime"),auto_finalize_ec:this.model.dataset.getEventLimit({isTransforming:isTransforming}),provenance:"UI:Dataset"}})},addNewSearchListeners:function(newSearchModel,jobCreationDeferred){newSearchModel.on("sync",function(model,response,options){var messages;this.model.searchJob.clear(),this.model.searchJob.setFromSplunkD(newSearchModel.toSplunkD()),model.error.get("messages")&&(messages=model.error.get("messages")),messages&&this.model.searchJob.error.set({messages:messages}),newSearchModel.off(),jobCreationDeferred.resolve()},this),newSearchModel.on("error",function(model,response,options){this.model.searchJob.trigger("error",this.model.searchJob,response),model.off(),jobCreationDeferred.resolve()},this)},registerSearchJobFriends:function(){this.model.searchJob.isReportSearch()?this.model.searchJob.registerJobProgressLinksChild(SearchJobModel.RESULTS_PREVIEW,this.model.resultJsonRows,this.fetchResultJSONRows,this):this.model.searchJob.registerJobProgressLinksChild(SearchJobModel.EVENTS,this.model.resultJsonRows,this.fetchResultJSONRows,this)},fetchResultJSONRows:function(options){if(options=options||{},this.model.searchJob.entry.content.get("isPreviewEnabled")||this.model.searchJob.isDone()){var fetchDataModel=new ResultsFetchDataModel,columnsList=this.model.dataset.getFlattenedFieldsObj().fields.join(","),data=$.extend(fetchDataModel.toJSON(),{show_metadata:!1,include_null_fields:!0,field_list:columnsList,time_format:"%s.%Q",count:this.model.dataset.entry.content.get("dataset.display.count"),offset:this.model.dataset.entry.content.get("dataset.display.offset")});$.extend(!0,data,options),this.model.resultJsonRows.safeFetch({data:data})}},populateClassicUrlFromDataset:function(){var attrs={"dataset.display.count":this.model.dataset.entry.content.get("dataset.display.count"),"dataset.display.offset":this.model.dataset.entry.content.get("dataset.display.offset")};this.model.classicUrl.save(attrs,{replaceState:!0})},populateClassicUrlFromSearchJob:function(){var attrs={sid:this.model.searchJob.entry.content.get("sid"),"dispatch.earliest_time":this.model.searchJob.getDispatchEarliestTimeOrAllTime(),"dispatch.latest_time":this.model.searchJob.getDispatchLatestTimeOrAllTime(),name:this.model.searchJob.entry.content.custom.get("dataset.name"),eaiType:this.model.searchJob.entry.content.custom.get("dataset.eaiType"),eaiApp:this.model.searchJob.entry.content.custom.get("dataset.eaiApp"),eaiOwner:this.model.searchJob.entry.content.custom.get("dataset.eaiOwner"),datasetType:this.model.searchJob.entry.content.custom.get("dataset.type"),linksAlternate:this.model.searchJob.entry.content.custom.get("dataset.linksAlternate")};this.model.classicUrl.save(attrs,{replaceState:!0})},rolesCollectionBootstrap:function(rolesCollectionDeferred){this.collection.roles.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(model,response){rolesCollectionDeferred.resolve()}.bind(this),error:function(model,response){rolesCollectionDeferred.resolve()}.bind(this)})},timesCollectionBootstrap:function(timesCollectionDeferred){this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(model,response){timesCollectionDeferred.resolve()}.bind(this),error:function(model,response){timesCollectionDeferred.resolve()}.bind(this)})},astBootstrap:function(astFetchDeferred){var search=this.model.dataset.getFromSearch();return this.model.ast.get("spl")===search&&this.model.ast.get("ast")?void astFetchDeferred.resolve():(this.model.ast.set({spl:search,ast:void 0}),void this.model.ast.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(model,response){astFetchDeferred.resolve()}.bind(this),error:function(model,response){astFetchDeferred.resolve()}.bind(this)}))},timeRangeBootstrap:function(timeRangeDeferred){this.model.timeRange.save({earliest:this.model.dataset.entry.content.get("dispatch.earliest_time"),latest:this.model.dataset.entry.content.get("dispatch.latest_time")},{validate:!1,success:function(model,response){timeRangeDeferred.resolve()}.bind(this),error:function(model,response){timeRangeDeferred.resolve()}.bind(this)})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/resultscontainer/actionbar/actionmenus/BaseMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/datasets/PolymorphicCommand"),__webpack_require__("views/shared/PopTart")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,PolymorphicCommand,PopTartView){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu dataset-action-menu-dropdown",initialize:function(){PopTartView.prototype.initialize.apply(this,arguments)},events:{"click .command-menu-item":function(e){e.preventDefault();var $target=$(e.target),itemName=$target.data("item-name"),item=_.where(this.commandMenuItems,{className:itemName})[0];$target.hasClass("disabled")||this.handleActionClicked(item)}},handleActionClicked:function(item){var fields,callback=function(){this.createCommand(item.commandConfigs,item.prepareOptions)}.bind(this);item.validateSubsequentCommands?(fields=this.model.table.commands.validateSubsequentCommands(this.model.table.selectedColumns.pluck("id"),this.model.table.getCurrentCommandIdx()),fields?this.model.state.trigger("showFieldDialog",{fields:_.invoke(fields,"get","name"),callback:callback}):callback()):item.commandConfigs&&callback(),this.hide()},createCommand:function(commandConfigs,prepareOptionsFn){var options={initialStateOptions:prepareOptionsFn?prepareOptionsFn.call(this,commandConfigs):{},at:this.model.table.getCurrentCommandIdx()+1,updateSPLOptions:{applicationModel:this.model.application}},combinedValues=$.extend(!0,{},commandConfigs,{selectedColumns:this.model.table.selectedColumns.pluck("id")});combinedValues.isComplete||this.model.state.set("fastRoute",!0),this.model.table.commands.addNewCommand(combinedValues,options)},createCommandMenuItems:function(){_.each(this.commandMenuItems,function(menuItem){var icon=menuItem.icon?'<i class="icon-'+menuItem.icon+' field-type"></i>':"",iconAnchorClass=menuItem.icon?"has-icon":"",linkDescription=menuItem.description?'<span class="link-description">'+menuItem.description+"</span>":"",$menuItem=$("<li>"+icon+'<a href="#" class="command-menu-item '+iconAnchorClass+" command-menu-"+menuItem.className+'" data-item-name="'+menuItem.className+'">'+linkDescription+menuItem.label+"</a></li>");menuItem.disabled&&$menuItem.find("a.command-menu-item").addClass("disabled"),this.$(".action-menu-items").append($menuItem),menuItem.insertDividerAfter&&this.$(".action-menu-items").append($('<li class="divider"></li>'))}.bind(this))},updateDisabledState:function(){this.model.table.commands&&0!==this.model.table.commands.length&&_.each(this.commandMenuItems,function(menuItem){menuItem.disabled=this.shouldDisableMenuItem(menuItem)}.bind(this))},allChildrenDisabled:function(){return _.every(this.commandMenuItems,function(menuItem){return menuItem.disabled}.bind(this))},shouldDisableMenuItem:function(menuItem){var blacklistedColumn,selectedColumn,selectedColumnGuid,fieldType,blacklist=menuItem.blacklist||PolymorphicCommand.getBlacklist(menuItem.commandConfigs),selectedColumnGuids=this.model.table.selectedColumns.pluck("id"),selectionType=this.model.table.entry.content.get("dataset.display.selectionType"),columns=this.model.table.getCurrentCommandModel().columns,selectedColumnCount=selectedColumnGuids&&selectedColumnGuids.length,isMultiColumnSelection=selectedColumnCount>1;if(!this.model.table.isTableMode()&&menuItem.disableForSummaryMode)return!0;if(isMultiColumnSelection)return blacklistedColumn=_.find(selectedColumnGuids,function(guid){if(selectedColumn=columns.get(guid))return fieldType=selectedColumn.get("type"),this.isBlacklisted(blacklist,"multicolumn",fieldType)}.bind(this)),!!blacklistedColumn;if(1===selectedColumnCount){if(selectedColumnGuid=selectedColumnGuids[0],selectedColumn=columns.get(selectedColumnGuid))return fieldType=selectedColumn.get("type"),!!this.isBlacklisted(blacklist,selectionType,fieldType)}else if(0===selectedColumnCount)return!!this.isBlacklisted(blacklist,"table")},isBlacklisted:function(blacklist,selectionType,fieldType){var typesArray,allTypesBlacklisted,typeBlacklisted,selectionDict=_.where(blacklist,{selection:selectionType});return!!(selectionDict.length>0&&(typesArray=selectionDict[0].types,allTypesBlacklisted=!typesArray,typeBlacklisted=typesArray&&typesArray.indexOf(fieldType)!==-1,allTypesBlacklisted||typeBlacklisted))},render:function(){return this.$el.html(PopTartView.prototype.template_menu),this.$el.append(this.compiledTemplate({})),this.createCommandMenuItems(),this},template:'\t                <ul class="action-menu-items"></ul>\t            '},{SELECTION:{TABLE:"table",MULTICOLUMN:"multicolumn",COLUMN:"column",CELL:"cell",TEXT:"text"}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/table/modals/WarningDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/Modal")],
__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,Modal){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments)},render:function(){var headerDOM=this.options.headerText?"<h3>"+this.options.headerText+"</h3>":"";return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_SELECTOR).html(headerDOM),this.$(Modal.BODY_SELECTOR).html(this.options.message),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_OK),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/resultsbody/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/datasets/Cells"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/resultsbody/Row")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,CellsCollection,BaseCommand,BaseView,TableRowView){return BaseView.extend({moduleId:module.id,tagName:"tbody",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"clearSelection",this.clearSelection),this.listenTo(this.model.state,"columnInteraction",this.toggleClassForColumn),this.listenTo(this.model.state,"tableInteraction",this.toggleClassForTable),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection),this.listenTo(this.model.state,"updateColumnWidth",this.updateColumnWidth)},updateColumnWidth:function(col){var firstRow=this.children.rows[0],colModel=this.collection.columns.get(col.id),colIdx=this.collection.columns.indexOf(colModel),colWidth=col.get("display.width");firstRow.children.cells[colIdx].$el.css("width",colWidth+"px")},handleCutSelection:function(){this.$("td.selected").addClass("cut"),this.$("td.column-selected").addClass("column-cut"),this.$("td.column-selected-end").addClass("column-cut-end")},handleClearCutSelection:function(shouldAddSelection){shouldAddSelection&&(this.clearSelection(),this.$("td.cut").addClass("selected"),this.$("td.column-cut").addClass("column-selected"),this.$("td.column-cut-end").addClass("column-selected-end")),this.$("td.cut, td.column-cut, td.column-cut-end").removeClass("cut column-cut column-cut-end")},clearSelection:function(){this.$("td.selected, td.text-selected, td.column-selected, td.column-selected-end").removeClass("selected text-selected column-selected column-selected-end"),_.each(this.$("td div span.selection"),function(el){$(el).remove()},this)},toggleClassForColumn:function(index,className,add){var $tdsInColumn=this.$("td[data-col-index="+index+"]");add?$tdsInColumn.addClass(className):$tdsInColumn.removeClass(className)},toggleClassForTable:function(className,add){var $allTds=this.$("td"),$everyTdButLastCol=$allTds.not(":last-child"),$tdsInLastCol=$allTds.filter(":last-child");add?"column-selected"===className?($everyTdButLastCol.addClass(className),$tdsInLastCol.addClass(className+"-end")):$allTds.addClass(className):$allTds.removeClass(className)},rowsFromCollection:function(){var fields=this.model.resultJsonRows.get("fields");return _.map(this.model.resultJsonRows.get("rows"),function(row,idx){return new TableRowView({model:{dataset:this.model.dataset,state:this.model.state,config:this.model.config},collection:{cells:this.extractCellsAsCollection(row,fields),columns:this.collection.columns},idx:idx+1,init_offset:this.model.resultJsonRows.get("init_offset"),editingMode:this.options.editingMode})},this)},extractCellsAsCollection:function(row,fields){var cellsCollection=new CellsCollection;return _.each(row,function(cellValue,idx){var columnModel=this.collection.columns.at(idx);columnModel&&cellsCollection.add({values:_.isArray(cellValue)?cellValue:[cellValue],isMultivalued:_.isArray(cellValue),idx:idx,field:fields[idx],columnType:columnModel.get("type")})},this),cellsCollection},removeOldRows:function(){_(this.children.rows).each(function(row){row.deactivate({deep:!0}),row.debouncedRemove({detach:!0})},this),this.children={}},addNewRows:function(){_(this.children.rows).each(function(row,i){row.render().appendTo(this.$el),0===i&&this.collection.columns.each(function(col,i){row.children.cells[i].$el.css("width",col.getWidth()+"px")},this)},this)},enableSelection:function(enable){_(this.children.rows).each(function(row){row.enableSelection(enable)},this)},render:function(){return this.options.editingMode&&this.model.state.trigger("disableTableEditing"),this.removeOldRows(),this.children.rows=this.rowsFromCollection(),this.addNewRows(),_.defer(function(){this.model.state.rowsRenderedDfd.resolve(),this.options.editingMode&&this.model.state.trigger("enableTableEditing")}.bind(this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/datasets/Cells":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("collections/Base"),__webpack_require__("models/datasets/Cell")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseCollection,CellModel){return BaseCollection.extend({model:CellModel,initialize:function(){BaseCollection.prototype.initialize.apply(this,arguments)},addCell:function(values,options){options=options||{},_.defaults(options,{useComparator:!0,deleteComparator:!0});var addedCell;return options.useComparator&&this.useComparator({comparator:options.comparator}),addedCell=this.add(values),options.deleteComparator&&this.deleteComparator(),addedCell},useComparator:function(options){options=options||{},options.comparator?this.comparator=options.comparator:this.comparator=this.defaultComparator},deleteComparator:function(){delete this.comparator},defaultComparator:function(cellOne,cellTwo){var cellOneIsMismatched=!!cellOne.getTypeMismatchMessage(),cellTwoIsMismatched=!!cellTwo.getTypeMismatchMessage(),cellOneIsNull=cellOne.isNull(),cellTwoIsNull=cellTwo.isNull(),cellOnePercentage=cellOne.getScaledPercentage(),cellTwoPercentage=cellTwo.getScaledPercentage();return cellOneIsNull?cellTwoIsNull&&cellOnePercentage<cellTwoPercentage?1:-1:cellOneIsMismatched?cellTwoIsNull?1:cellTwoIsMismatched&&cellOnePercentage<cellTwoPercentage?1:-1:cellTwoIsNull||cellTwoIsMismatched?1:cellOnePercentage<cellTwoPercentage?1:-1},sync:function(method,model,options){throw new Error("sync not allowed for the Cell collection")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/Cell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("models/datasets/Column"),__webpack_require__("util/dataset_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel,ColumnModel,datasetUtils){var TYPES=ColumnModel.TYPES;return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},getTypeMismatchMessage:function(){var value=this.get("values")[0],columnType=this.get("columnType");if(!_.isNull(value)&&""!==value&&columnType!==TYPES._RAW&&columnType!==TYPES.STRING&&columnType!==TYPES._TIME)if(columnType===TYPES.EPOCH_TIME){if(!datasetUtils.isEpochTime(value))return _("This field is type Epoch Time. A field with this type expects values like: 246925704.000, 905293704, etc.").t()}else if(columnType===TYPES.NUMBER){if(!datasetUtils.isNumber(value))return _("This field is type Number. A field with this type expects values like: 7245, -24, 3.1415, 6.022e23, etc.").t()}else if(columnType===TYPES.BOOLEAN){if(!datasetUtils.isBoolean(value))return _("This field is type Boolean. A field with this type expects values: true, false.").t()}else if(columnType===TYPES.IPV4&&!datasetUtils.isIPV4(value))return _("This field is type IPv4. A field with this type expects values like: 192.0.2.0, 203.0.113.0, etc.").t()},isNull:function(){var values=this.get("values")||[];return!values.length||_.isNull(values[0])},isEmpty:function(){var values=this.get("values")||[];return!values.length||""===values[0]},getValue:function(){var values=this.get("values")||[];return values.length?values[0]:void 0},getScaledPercentage:function(){if(!this.get("nullValueMetric"))return 0;var nullValuesPercentage=parseFloat(this.get("nullValueMetric").value,10);return this.isNull()?nullValuesPercentage:parseFloat((parseFloat(this.get("unscaledPercentage"),10)*(100-nullValuesPercentage)*.01).toFixed(2),10)},sync:function(method,model,options){throw new Error("sync not allowed for the Cell model")}},{TYPES:TYPES})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/resultsbody/Row":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/resultsbody/Cell")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView,CellView){return BaseView.extend({moduleId:module.id,tagName:"tr",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},cellsFromCollection:function(){return this.collection.cells.map(function(cellModel,idx){return new CellView({model:{dataset:this.model.dataset,cell:cellModel,state:this.model.state,column:this.collection.columns.at(idx),config:this.model.config},rowIdx:this.options.idx,editingMode:this.options.editingMode})},this)},enableSelection:function(enable){_(this.children.cells).each(function(cell){cell.enableSelection(enable)},this)},render:function(){var rowNum=this.options.idx;return _.isNumber(this.options.init_offset)&&(rowNum=this.options.init_offset+rowNum),this.$el.html(this.compiledTemplate({rowNum:rowNum})),this.children.cells=this.cellsFromCollection(),_(this.children.cells).each(function(cell){cell.render().appendTo(this.$el)},this),this},template:'<td class="row-num"><%- rowNum %></td>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/resultsbody/Cell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/shared/datasettable/shared/TableCell"),__webpack_require__("util/math_utils"),__webpack_require__("shim/splunk.time"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseTableCell,mathUtils,splunkTime,undefined){return BaseTableCell.extend({moduleId:module.id,tagName:"td",className:"value",attributes:function(){return{"data-is-multivalued":this.model.cell.get("isMultivalued"),"data-field":this.model.cell.get("field"),"data-value":this.model.cell.get("values"),"data-row-index":this.options.rowIdx,"data-col-index":this.model.cell.get("idx")}},initialize:function(options){BaseTableCell.prototype.initialize.apply(this,arguments)},events:$.extend({},BaseTableCell.prototype.events,{"click .show-more-text":function(e){this.updateExpandState($(e.target),!0),e.preventDefault()},"click .show-less-text":function(e){this.updateExpandState($(e.target),!1),e.preventDefault()}}),formatValues:function(){var timezone,values=this.model.cell.get("values");return this.model.column.isSplunkTime()&&(timezone=new splunkTime.SplunkTimeZone(this.model.config.get("SERVER_ZONEINFO")),this.$el.addClass("epoch-time"),values=values.map(_.partial(this.formatTime,_,timezone))),values.map(function(value){return{truncatedValue:this.truncateValue(value),fullValue:value}}.bind(this))},formatTime:function(value,splunkTimeZone){var epoch,dateTime;return epoch=mathUtils.strictParseFloat(value),dateTime=new splunkTime.DateTime(epoch).toTimeZone(splunkTimeZone),dateTime.toString()},truncateValue:function(value){value=value||"";var fieldWidth=this.model.column.getWidth(),maxTextWidth=this.model.cell.get("isMultivalued")?Math.floor(fieldWidth/3):fieldWidth,fullHtml=_.template(this.realTextTemplate,{text:value});return maxTextWidth&&value.length>maxTextWidth&&(this.shouldExpandValue(value)?fullHtml+=_.template(this.showLessTemplate,{_:_}):(fullHtml=_.template(this.realTextTemplate,{text:value.substring(0,maxTextWidth)}),fullHtml+=_.template(this.showMoreTemplate,{_:_}))),fullHtml},updateExpandState:function($target,shouldExpand){var $cell=$target.closest(this.REAL_TEXT_WRAPPER_CLASS),value=$target.closest(".multivalue").attr("data-value");this.model.column.isSplunkTime()&&(value=this.formatTime(value)),this.updateOpenCells(shouldExpand,value),$cell.html(this.truncateValue(value))},shouldExpandValue:function(value){var openCells=this.getOpenCells(),currentField=openCells[this.model.cell.get("field")]||{};return!_.isUndefined(value)&&currentField[this.options.rowIdx]===value},updateOpenCells:function(isExpanding,value){var openCells=this.getOpenCells(),currentField=this.model.cell.get("field"),hasCellValue=this.shouldExpandValue(value);isExpanding?hasCellValue||(openCells[currentField]=openCells[currentField]||{},openCells[currentField][this.options.rowIdx]=value):hasCellValue&&delete openCells[currentField][this.options.rowIdx],this.model.dataset.entry.content.set({"dataset.display.openCells":JSON.stringify(openCells)})},getOpenCells:function(){return JSON.parse(this.model.dataset.entry.content.get("dataset.display.openCells")||"{}")},enableSelection:function(enable){enable?this.$el.removeClass("disabled"):this.$el.addClass("disabled")},render:function(){var values=this.formatValues(),isNull=this.model.cell.isNull(),cellMismatchMessage=this.model.cell.getTypeMismatchMessage();return this.$el.html(this.compiledTemplate({_:_,values:values,isMultivalued:this.model.cell.get("isMultivalued"),cell:this.model.cell,index:this.model.cell.get("idx"),field:this.model.cell.get("field"),rowNum:this.options.rowIdx,isNull:isNull})),$("body").find(".tooltip").remove(),cellMismatchMessage&&(this.$el.addClass("mismatched-type"),this.$el.tooltip({animation:!1,title:cellMismatchMessage,container:$("body")})),isNull&&this.$el.addClass("null-cell"),this.model.state.get("tableEnabled")||this.$el.addClass("disabled"),this},template:'<% _.each(values, function(value) { %><div class="multivalue selection-container" data-is-multivalued="<%= isMultivalued %>" data-field="<%- field %>" data-value="<%- value.fullValue %>" data-row-index="<%- rowNum %>" data-col-index="<%- index %>"><div class="real-text-wrapper"><% if (isNull) { %>null<% } else { %><%= value.truncatedValue %><% } %></div></div><% }) %>',realTextTemplate:'<span class="real-text"><%- text %></span>',showMoreTemplate:'<span class="show-more-prefix">&nbsp;&nbsp;...</span><a href="#" class="show-more-text"><%= _("More").t() %></a>',showLessTemplate:'<span class="show-less-prefix">&nbsp;&nbsp;</span><a href="#" class="show-less-text"><%= _("Less").t() %></a>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/shared/TableCell":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/Base"),__webpack_require__("models/datasets/commands/FillValues"),__webpack_require__("models/datasets/commands/Replace"),__webpack_require__("views/Base"),__webpack_require__("util/keyboard")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnModel,BaseCommand,FillValuesCommand,ReplaceCommand,BaseView,keyboardUtil){return BaseView.extend({moduleId:module.id,REAL_TEXT_WRAPPER_CLASS:".real-text-wrapper",REAL_TEXT_CLASS:".real-text",SELECTION_TEXT_CLASS:".selection > .highlight",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{click:function(e){var isLeftClick=1===e.which;isLeftClick&&!$(e.currentTarget).hasClass("disabled")&&(this.model.state.trigger("clearSelection"),this.handleCellClick(e))},dblclick:function(e){$(e.currentTarget).hasClass("disabled")||$(e.currentTarget).find(".cell-value-input").length||this.handleCellDoubleClick(e)}},handleCellClick:function(e){var $cell=$(e.currentTarget),textSelection=window.getSelection(),$realTextWrapper=$cell.find(this.REAL_TEXT_WRAPPER_CLASS),$realText=$realTextWrapper.find(this.REAL_TEXT_CLASS),cellValue=$realText.length?$realText.text():null,colIndex=$cell.data("col-index"),startPosition=Math.min(textSelection.anchorOffset,textSelection.focusOffset),endPosition=Math.max(textSelection.anchorOffset,textSelection.focusOffset),selectedText=textSelection.toString();this.model.state.trigger("clearDragability"),/\S/.test(selectedText)&&startPosition!==endPosition&&this.isTextSelectable()&&!$(e.target).is("a")&&textSelection.focusNode&&textSelection.focusNode.parentNode==$realText.get(0)&&textSelection.anchorNode&&textSelection.anchorNode.parentNode==$realText.get(0)?(this.selectText(selectedText,startPosition,endPosition),this.model.state.trigger("setSelectedColumn",colIndex),this.model.dataset.entry.content.set({"dataset.display.selectedColumnValue":cellValue,"dataset.display.selectedText":selectedText,"dataset.display.selectedStart":startPosition,"dataset.display.selectedEnd":endPosition,"dataset.display.selectionType":"text","dataset.display.isSelectionError":!1})):this.handleCellSelect($cell,colIndex,cellValue)},handleCellSelect:function($cell,colIndex,cellValue){$cell.addClass("selected"),this.model.state.trigger("setSelectedColumn",colIndex),this.model.dataset.entry.content.set({"dataset.display.selectedColumnValue":cellValue,"dataset.display.selectionType":"cell","dataset.display.isSelectionError":this.$el.hasClass("mismatched-type")})},handleCellDoubleClick:function(e){var $realTextWrapper=this.$(this.REAL_TEXT_WRAPPER_CLASS),$realText=$realTextWrapper.find(this.REAL_TEXT_CLASS),oldCellValue=$realText.length?$realText.text():null,selectedColId=this.model.dataset.selectedColumns.pluck("id")[0],selectedCol=this.model.dataset.getCurrentCommandModel().columns.get(selectedColId),selectedColType=selectedCol.get("type");if(_(oldCellValue).isNull()){if(BaseCommand.isTypeBlacklisted(selectedColType,FillValuesCommand.blacklist,BaseCommand.SELECTION.COLUMN))return}else if(BaseCommand.isTypeBlacklisted(selectedColType,ReplaceCommand.blacklist,BaseCommand.SELECTION.COLUMN))return;this.renderValueInput(oldCellValue)},renderValueInput:function(oldCellValue,newCellValue){var $newValueInput,$selectionText=this.$(this.SELECTION_TEXT_CLASS),$realTextWrapper=this.$(this.REAL_TEXT_WRAPPER_CLASS),triggerDirectReplaceValue=_.bind(function(e){var newCellValue=e.target.value;oldCellValue===newCellValue||_(oldCellValue).isNull()&&""===newCellValue?($realTextWrapper.css("display",""),$selectionText&&$selectionText.css("display",""),$newValueInput.remove()):this.model.state.trigger("directReplaceValue",oldCellValue,newCellValue,this.$el.data("col-index"))},this),startingCellValue=_.isUndefined(newCellValue)?oldCellValue:newCellValue;this.$(".cell-value-input").length&&this.$(".cell-value-input").remove(),$realTextWrapper.hide(),$selectionText&&$selectionText.hide(),$newValueInput=$('<input type="text" class="cell-value-input" onfocus="this.value = this.value;">'),$newValueInput.prependTo(this.$el).focus().val(startingCellValue),$newValueInput.off("blur").on("blur",_.bind(function(e){triggerDirectReplaceValue(e)},this)),$newValueInput.off("keyup").on("keyup",_.bind(function(e){e.which===keyboardUtil.KEYS.ENTER&&triggerDirectReplaceValue(e)},this))},selectText:function(selectedText,startPosition,endPosition){var $cell=this.$el,$realTextWrapper=$cell.find(this.REAL_TEXT_WRAPPER_CLASS),$realText=$realTextWrapper.find(this.REAL_TEXT_CLASS),cellValue=$realText.text(),newHtml=_.template(this.highlightedTemplate,{startValue:cellValue.substr(0,startPosition),selectedText:selectedText,endValue:cellValue.substr(endPosition)});$cell.addClass("text-selected"),$cell.find("div.selection-container").prepend('<span class="selection"></span>'),$cell.find("div span.selection").html(newHtml)},isTextSelectable:function(){var columnModel=this.model.column,type=columnModel.get("type");return!this.model.cell.isNull()&&!(columnModel.isEpochTime()||type===ColumnModel.TYPES.NUMBER||type===ColumnModel.TYPES.BOOLEAN)},render:function(){return this.$el.html(this.compiledTemplate({result:this.result})),this},template:'<div class="selection-container"><div class="'+this.REAL_TEXT_WRAPPER_CLASS+'"><span class="'+this.REAL_TEXT_CLASS+'"><%- result %></span></div></div>',highlightedTemplate:'<%- startValue %><span class="highlight"><%- selectedText %></span><%- endValue %>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/datasettable/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1052);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/dataset/header/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("mixins/dataset"),__webpack_require__("views/Base"),__webpack_require__("views/dataset/header/Title"),__webpack_require__("views/shared/controls/SyntheticRadioControl"),__webpack_require__("views/dataset/header/TaskBar")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,datasetMixin,BaseView,Title,SyntheticRadioControl,TaskBar){return BaseView.extend({moduleId:module.id,className:"section-header",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.title=new Title({model:{dataset:this.model.dataset}}),"inputlookup-table"!==this.model.dataset.getType()&&(this.children.datasetModeTabs=new SyntheticRadioControl({model:this.model.dataset.entry.content,modelAttribute:"dataset.display.mode",items:[{label:_("View Results").t(),value:datasetMixin.MODES.TABLE},{label:_("Summarize Fields").t(),value:datasetMixin.MODES.DATA_SUMMARY}],additionalClassNames:"btn-group-tabs btn-group-summary"})),this.children.taskBar=new TaskBar({model:{application:this.model.application,appLocal:this.model.appLocal,dataset:this.model.dataset,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,timeRange:this.model.timeRange,user:this.model.user},collection:{apps:this.collection.apps,roles:this.collection.roles}})},render:function(){return this.children.title.render().appendTo(this.$el),this.children.datasetModeTabs&&this.children.datasetModeTabs.render().appendTo(this.$el),this.children.taskBar.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/tablecontainer/datasummary/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/DataSummarySearchJob"),__webpack_require__("models/datasets/DataSummaryResultJsonRows"),__webpack_require__("models/datasets/DataSummarySummary"),__webpack_require__("models/services/search/jobs/Timeline"),__webpack_require__("models/shared/fetchdata/ResultsFetchData"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/summarytable/Master"),__webpack_require__("views/dataset/tablecontainer/datasummary/StatusBar"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,DataSummarySearchJobModel,DataSummaryResultJsonRowsModel,DataSummarySummaryModel,TimelineModel,ResultsFetchDataModel,BaseView,FlashMessages,DataSummaryTable,DataSummaryStatusBar,splunkdUtils){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.dataSummaryJob=new DataSummarySearchJobModel({},{delay:DataSummarySearchJobModel.DEFAULT_POLLING_INTERVAL,processKeepAlive:!0,keepAliveInterval:DataSummarySearchJobModel.DEFAULT_LONG_POLLING_INTERVAL}),this.model.dataSummarySummary=new DataSummarySummaryModel,this.model.dataSummaryTimeline=new TimelineModel,this.model.dataSummaryResultJsonRows=new DataSummaryResultJsonRowsModel,this.errorTypes=[splunkdUtils.FATAL,splunkdUtils.ERROR],this.children.flashMessages=new FlashMessages({model:{ast:this.model.ast},whitelist:this.errorTypes}),this.children.dataSummaryStatusBar=new DataSummaryStatusBar({model:{application:this.model.application,dataSummaryJob:this.model.dataSummaryJob}}),this.children.dataSummaryTable=new DataSummaryTable({model:{ast:this.model.ast,config:this.model.config,dataset:this.model.dataset,dataSummaryJob:this.model.dataSummaryJob,resultJsonRows:this.model.dataSummaryResultJsonRows,state:this.model.state,summary:this.model.dataSummarySummary,timeline:this.model.dataSummaryTimeline},useDock:!0,editingMode:!1})},activate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?BaseView.prototype.activate.call(this,clonedOptions):(this.startDataSummaryJob(),this.manageStateOfChildren(),BaseView.prototype.activate.call(this,clonedOptions))},deactivate:function(options){var clonedOptions=_.extend({},options||{});return delete clonedOptions.deep,this.active?(BaseView.prototype.deactivate.call(this,clonedOptions),this.model.dataSummaryJob.off(null,null,this),this.clearModels(),this):BaseView.prototype.deactivate.call(this,clonedOptions)},startListening:function(){this.listenTo(this.model.dataSummaryResultJsonRows,"change",this.manageStateOfChildren),this.listenTo(this.model.dataSummaryJob,"restart",this.startDataSummaryJob)},startDataSummaryJob:function(){var search;$.when(this.clearModels()).then(function(){search=this.model.dataSummaryJob.appendStatsToSearch(this.model.dataset.getFromSearch(),{columns:this.model.dataset.getTypedFields()}),this.model.dataSummaryJob.save({},{data:{search:search,earliest_time:this.model.searchJob.getWindowedEarliestTimeOrAllTime(),latest_time:this.model.searchJob.getWindowedLatestTimeOrAllTime(),adhoc_search_level:"verbose",preview:!0,status_buckets:300,app:this.model.application.get("app"),ui_dispatch_app:this.model.application.get("app"),owner:this.model.application.get("owner"),auto_cancel:DataSummarySearchJobModel.DEFAULT_AUTO_CANCEL,provenance:"UI:Dataset"},success:function(model,response){this.model.dataSummaryJob.isPreparing()?this.listenToOnce(this.model.dataSummaryJob,"prepared",function(){this.registerDataSummaryJobFriends()}.bind(this)):this.registerDataSummaryJobFriends(),this.model.dataSummaryJob.startPolling()}.bind(this)})}.bind(this))},registerDataSummaryJobFriends:function(options){this.model.dataSummaryJob.registerJobProgressLinksChild(DataSummarySearchJobModel.SUMMARY,this.model.dataSummarySummary,this.fetchDataSummarySummary,this),this.model.dataSummaryJob.registerJobProgressLinksChild(DataSummarySearchJobModel.TIMELINE,this.model.dataSummaryTimeline,this.fetchDataSummaryTimeline,this),this.model.dataSummaryJob.registerJobProgressLinksChild(DataSummarySearchJobModel.RESULTS_PREVIEW,this.model.dataSummaryResultJsonRows,this.fetchDataSummaryResultJSONRows,this)},fetchDataSummarySummary:function(){this.model.dataSummarySummary.safeFetch({data:{min_freq:0,top_count:100}})},fetchDataSummaryTimeline:function(){this.model.dataSummaryTimeline.safeFetch()},fetchDataSummaryResultJSONRows:function(options){if(options=options||{},this.model.dataSummaryJob.entry.content.get("isPreviewEnabled")||this.model.dataSummaryJob.isDone()){var fetchDataModel=new ResultsFetchDataModel,data=$.extend(fetchDataModel.toJSON(),{time_format:"%s.%Q"});$.extend(!0,data,options),this.model.dataSummaryResultJsonRows.safeFetch({data:data})}},clearModels:function(){var deferred=$.Deferred();return this.model.dataSummaryJob.isNew()?deferred.resolve():(this.model.dataSummaryJob.fetchAbort(),$.when(this.model.dataSummaryJob.destroy()).always(function(){this.model.dataSummaryJob.clear(),deferred.resolve()}.bind(this))),this.model.dataSummarySummary.fetchAbort(),this.model.dataSummarySummary.clear(),this.model.dataSummaryTimeline.fetchAbort(),this.model.dataSummaryTimeline.clear(),this.model.dataSummaryResultJsonRows.fetchAbort(),this.model.dataSummaryResultJsonRows.clear(),deferred},manageStateOfChildren:function(){var isError=splunkdUtils.messagesContainsOneOfTypes(this.model.ast.error.get("messages"),this.errorTypes);isError?(this.children.flashMessages.activate({deep:!0}).$el.show(),this.children.dataSummaryStatusBar.deactivate({deep:!0}).$el.hide(),this.children.dataSummaryTable.deactivate({deep:!0}).$el.hide()):(this.children.flashMessages.deactivate({deep:!0}).$el.hide(),this.children.dataSummaryStatusBar.activate({deep:!0}).$el.css("display",""),this.children.dataSummaryTable.activate({deep:!0}).$el.css("display",""))},render:function(){return this.children.flashMessages.render().appendTo(this.$el),this.children.dataSummaryStatusBar.render().appendTo(this.$el),this.children.dataSummaryTable.render().appendTo(this.$el),this.manageStateOfChildren(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/DataSummarySearchJob":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("models/search/Job"),__webpack_require__("models/datasets/Column")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,ColumnsCollection,SearchJob,Column){return SearchJob.extend({initialize:function(){SearchJob.prototype.initialize.apply(this,arguments)},appendStatsToSearch:function(initialSearch,options){options=options||{};var search=initialSearch||"",statsForColumns=[];return _.isArray(options.columns)&&(options.columns=new ColumnsCollection(options.columns)),search+=this.generateInitialPipes(options.columns),search+=" | stats ",options.columns&&options.columns.each(function(column){statsForColumns=statsForColumns.concat(this.createStatsForColumn(column))},this),search+=statsForColumns.join(", "),search+=this.generateAdditionalPipes(options.columns)},createStatsForColumn:function(column){var stats=[],name=column.get("name"),type=column.get("type");return column.isEpochTime()?(stats.push("count(eval(isnum('"+name+"'))) as \""+name+':MatchedType"'),stats.push("count(eval(!isnum('"+name+"') AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name,name)),stats.push('min("'+name+'") as "'+name+':Earliest"'),stats.push('max("'+name+'") as "'+name+':Latest"')):type===Column.TYPES._RAW?(stats.push("count(eval(!isnull('"+name+"'))) as \""+name+':MatchedType"'),stats.push("count(eval(isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),
stats.push(this.generateNullValuesStat(name,name)),stats.push('max("_linecount") as "'+name+':MaxLineCount"'),stats.push('avg("_linecount") as "'+name+':AverageLineCount"'),stats.push('min("_linecount") as "'+name+':MinLineCount"')):type===Column.TYPES.NUMBER?(stats.push("count(eval(isnum('"+name+"'))) as \""+name+':MatchedType"'),stats.push("count(eval(!isnum('"+name+"') AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push(this.generateSingleValueStat(name)),stats.push(this.generateNumericStat(name,"max","Maximum")),stats.push(this.generateNumericStat(name,"min","Minimum")),stats.push(this.generateNumericStat(name,"avg","Average")),stats.push(this.generateNumericStat(name,"median","Median")),stats.push(this.generateNumericStat(name,"mode","Mode")),stats.push(this.generateNumericStat(name,"stdev","StandardDeviation"))):type===Column.TYPES.STRING?(stats.push("count(eval(isstr('"+name+"') AND '"+name+'\'!="")) as "'+name+':MatchedType"'),stats.push("count(eval(!isstr('"+name+"') AND !isnull('"+name+"'))) as \""+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push(this.generateSingleValueStat(name)),stats.push("count(eval(mvcount('"+name+"') > 1)) as \""+name+':Multivalue"'),stats.push("max(eval(mvcount('"+name+"'))) as \""+name+':MaxValueCount"'),stats.push("min(eval(mvcount('"+name+"'))) as \""+name+':MinValueCount"'),stats.push("mode(eval(mvcount('"+name+"'))) as \""+name+':ModeValueCount"'),stats.push("median(eval(mvcount('"+name+"'))) as \""+name+':MedianValueCount"'),stats.push("avg(eval(mvcount('"+name+"'))) as \""+name+':AverageValueCount"'),stats.push(this.generateUniqueValuesStat(name))):type===Column.TYPES.BOOLEAN?(stats.push("count(eval('"+name+"'=\"true\" OR '"+name+'\'="false")) as "'+name+':MatchedType"'),stats.push("count(eval('"+name+"'!=\"true\" AND '"+name+"'!=\"false\" AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push("count(eval('"+name+'\'="true")) as "'+name+':CountTrue"'),stats.push("count(eval('"+name+'\'="false")) as "'+name+':CountFalse"')):type===Column.TYPES.IPV4&&(stats.push("count(eval(match('"+name+'\',"^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$"))) as "'+name+':MatchedType"'),stats.push("count(eval(!match('"+name+"',\"^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$\") AND !isnull('"+name+"') AND '"+name+'\'!="")) as "'+name+':MismatchedType"'),stats.push(this.generateNullValuesStat(name)),stats.push(this.generateSingleValueStat(name)),stats.push("count(eval(mvcount('"+name+"') > 1)) as \""+name+':Multivalue"'),stats.push("max(eval(mvcount('"+name+"'))) as \""+name+':MaxValueCount"'),stats.push("min(eval(mvcount('"+name+"'))) as \""+name+':MinValueCount"'),stats.push("mode(eval(mvcount('"+name+"'))) as \""+name+':ModeValueCount"'),stats.push("median(eval(mvcount('"+name+"'))) as \""+name+':MedianValueCount"'),stats.push("avg(eval(mvcount('"+name+"'))) as \""+name+':AverageValueCount"'),stats.push(this.generateUniqueValuesStat(name))),stats},generateNumericStat:function(fieldName,command,metricName){return command+"(eval(if(isnum('"+fieldName+"'), '"+fieldName+"', null()))) as \""+fieldName+":"+metricName+'"'},generateNullValuesStat:function(fieldName,newName){return"count(eval(isnull('"+fieldName+"'))) as \""+(newName||fieldName)+':NullValues"'},generateUniqueValuesStat:function(fieldName,newName){return'dc("'+fieldName+'") as "'+(newName||fieldName)+':UniqueValues"'},generateSingleValueStat:function(name){return"count(eval(mvcount('"+name+"') == 1)) as \""+name+':SingleValue"'},generateInitialPipes:function(columns){var initialPipes="";return columns.each(function(column){column.get("type")===Column.TYPES._RAW&&(initialPipes+=' | eval "_linecount" = len(replace(\'_raw\', "[^\\n\\r]+", "")) + 1')},this),initialPipes},generateAdditionalPipes:function(columns){var fieldName,additionalPipes="";return columns.each(function(column){column.isEpochTime()&&(fieldName=column.get("name"),additionalPipes+=' | eval "'+fieldName+":Earliest\"=strftime('"+fieldName+':Earliest\', "%F %T")',additionalPipes+=' | eval "'+fieldName+":Latest\"=strftime('"+fieldName+':Latest\', "%F %T")')},this),additionalPipes}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/DataSummaryResultJsonRows":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/services/search/jobs/ResultJsonRows"),__webpack_require__("models/datasets/Column"),__webpack_require__("util/math_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,ResultJsonRows,ColumnModel,mathUtil){return ResultJsonRows.extend({MATCHED_TYPE:"MatchedType",MISMATCHED_TYPE:"MismatchedType",NULL_VALUES:"NullValues",EMPTY_VALUES:"EmptyValues",NULL_OR_EMPTY_VALUES:"NullOrEmptyValues",MIN_LINE_COUNT:"MinLineCount",MAX_LINE_COUNT:"MaxLineCount",AVERAGE_LINE_COUNT:"AverageLineCount",MINIMUM:"Minimum",MAXIMUM:"Maximum",AVERAGE:"Average",MEDIAN:"Median",MODE:"Mode",STANDARD_DEVIATION:"StandardDeviation",AVERAGE_VALUE_COUNT:"AverageValueCount",MULTIVALUE:"Multivalue",SINGLE_VALUE:"SingleValue",UNIQUE_VALUES:"UniqueValues",MAX_VALUE_COUNT:"MaxValueCount",MIN_VALUE_COUNT:"MinValueCount",MODE_VALUE_COUNT:"ModeValueCount",MEDIAN_VALUE_COUNT:"MedianValueCount",EARLIEST:"Earliest",LATEST:"Latest",COUNT_TRUE:"CountTrue",COUNT_FALSE:"CountFalse",initialize:function(){ResultJsonRows.prototype.initialize.call(this,arguments)},extractMetrics:function(column,topResults){var columnMetric,fieldComponents,metricValue,isZero,result,nullAndEmptyFieldsMetric,mismatchedValuesIndex,mismatchedValue,fields=this.get("fields"),rows=this.get("rows"),columnMetrics=[],multivalueIsZero=!1;return this.columnType=column.get("type"),this.columnName=column.get("name"),fields&&fields.length&&rows&&rows.length&&_.each(fields,function(field,i){if(fieldComponents=this.parseFieldName(field),fieldComponents&&fieldComponents.fieldName===this.columnName){if(result=rows[0][i],metricValue=this.enforceNumeric(result,fieldComponents.metricName),isZero=0===parseInt(metricValue,10),fieldComponents.metricName===this.MULTIVALUE&&isZero&&(multivalueIsZero=!0),multivalueIsZero&&(fieldComponents.metricName===this.MAX_VALUE_COUNT||fieldComponents.metricName===this.MIN_VALUE_COUNT||fieldComponents.metricName===this.MODE_VALUE_COUNT||fieldComponents.metricName===this.MEDIAN_VALUE_COUNT||fieldComponents.metricName===this.AVERAGE_VALUE_COUNT))return;columnMetric={key:fieldComponents.metricName,value:this.formatValue(fieldComponents.metricName,metricValue,this.columnName),label:this.parseLabelFromKey(fieldComponents.metricName),className:"summary-"+fieldComponents.metricName.toLowerCase(),isZero:isZero},this.insertNewlineAfter(fieldComponents.metricName)&&(columnMetric.breakAfter=!0),columnMetrics.push(columnMetric)}},this),mismatchedValue=_.where(columnMetrics,{key:this.MISMATCHED_TYPE}),mismatchedValuesIndex=mismatchedValue.length&&_.indexOf(columnMetrics,mismatchedValue[0]),nullAndEmptyFieldsMetric=this.getConsolidatedNullAndEmptyFields(columnMetrics,topResults),columnMetrics.splice(mismatchedValuesIndex+1,0,nullAndEmptyFieldsMetric),columnMetrics},getConsolidatedNullAndEmptyFields:function(columnMetrics,topResults){var nullValues=_.where(columnMetrics,{key:this.NULL_VALUES})[0],nullValuesPercentage=nullValues&&parseFloat(nullValues.value)||0,emptyValues=_.where(topResults,{name:""})[0],emptyValuesPercentage=emptyValues&&parseFloat(emptyValues.percentage)||0,nullOrEmptyValuesPercentage=nullValuesPercentage+emptyValuesPercentage;return{key:this.NULL_OR_EMPTY_VALUES,value:nullOrEmptyValuesPercentage.toFixed(2),label:this.parseLabelFromKey(this.NULL_OR_EMPTY_VALUES),className:"summary-"+this.NULL_OR_EMPTY_VALUES.toLowerCase(),isZero:0===parseInt(nullOrEmptyValuesPercentage,10),breakAfter:!0}},parseFieldName:function(fullFieldName){var fieldComponents=fullFieldName.split(":");if(2===fieldComponents.length)return{fieldName:fieldComponents[0],metricName:fieldComponents[1]}},calculateTotalCount:function(columnName){var matchedTypeCount=parseInt(this.getFieldValue(this.MATCHED_TYPE,columnName),10),mismatchedTypeCount=parseInt(this.getFieldValue(this.MISMATCHED_TYPE,columnName),10),nullOrEmptyValuesCount=parseInt(this.getFieldValue(this.NULL_VALUES,columnName),10)+parseInt(this.getFieldValue(this.EMPTY_VALUES,columnName),10),totalCount=matchedTypeCount+mismatchedTypeCount+nullOrEmptyValuesCount;return totalCount},getFieldValue:function(metricName,columnName){var rows=this.get("rows"),fields=this.get("fields");if(rows.length){var i=_.indexOf(fields,this.getFullFieldName(metricName,columnName));return this.enforceNumeric(rows[0][i])}},getFullFieldName:function(metricName,columnName){return columnName+":"+metricName},enforceNumeric:function(metricValue,metricName){return"Earliest"===metricName||"Latest"===metricName||null!==metricValue&&!isNaN(metricValue)?metricValue:0},formatValue:function(key,value,columnName){var totalCount=this.calculateTotalCount(columnName);return"Earliest"===key||"Latest"===key?value:key===this.MATCHED_TYPE||key===this.MISMATCHED_TYPE||key===this.NULL_VALUES||key===this.EMPTY_VALUES?0===totalCount?0:mathUtil.convertToTwoDecimalPercentage(value,totalCount):mathUtil.roundToDecimal(parseFloat(value),-2)},parseLabelFromKey:function(key){switch(key){case this.MATCHED_TYPE:return _("Matched type").t();case this.MISMATCHED_TYPE:return _("Mismatched type").t();case this.NULL_VALUES:return _("Null values").t();case this.EMPTY_VALUES:return _("Empty values").t();case this.NULL_OR_EMPTY_VALUES:return _("Null or empty").t();case this.MIN_LINE_COUNT:return _("Min line count").t();case this.MAX_LINE_COUNT:return _("Max line count").t();case this.AVERAGE_LINE_COUNT:return _("Average line count").t();case this.MINIMUM:return _("Minimum").t();case this.MAXIMUM:return _("Maximum").t();case this.AVERAGE:return _("Average").t();case this.MEDIAN:return _("Median").t();case this.MODE:return _("Mode").t();case this.STANDARD_DEVIATION:return _("Standard deviation").t();case this.MULTIVALUE:return _("Multivalue").t();case this.SINGLE_VALUE:return _("Single value").t();case this.UNIQUE_VALUES:return _("Unique values").t();case this.MAX_VALUE_COUNT:return _("Max value count").t();case this.MIN_VALUE_COUNT:return _("Min value count").t();case this.MODE_VALUE_COUNT:return _("Mode value count").t();case this.MEDIAN_VALUE_COUNT:return _("Median value count").t();case this.AVERAGE_VALUE_COUNT:return _("Average value count").t();case this.EARLIEST:return _("Earliest").t();case this.LATEST:return _("Latest").t();case this.COUNT_FALSE:return _("Count false").t();case this.COUNT_TRUE:return _("Count true").t();default:throw new Error("Unable to generate data summary metric label from the provided metric type.")}},insertNewlineAfter:function(metricName){if(metricName===this.NULL_OR_EMPTY_VALUES)return!0;if(this.columnType===ColumnModel.TYPES._RAW){if(metricName===this.MIN_LINE_COUNT)return!0}else if(this.columnType===ColumnModel.TYPES.NUMBER){if(metricName===this.MINIMUM)return!0}else if(this.columnType===ColumnModel.TYPES.STRING&&metricName===this.AVERAGE_VALUE_COUNT)return!0;return!1}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/datasets/DataSummarySummary":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/services/search/jobs/Summary"),__webpack_require__("util/math_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,SummaryModel,mathUtil){return SummaryModel.extend({initialize:function(){SummaryModel.prototype.initialize.call(this,arguments)},extractTopResults:function(columnName){var fieldSummary=this.fields.get(columnName);if(fieldSummary){var parsedResults,count,name,percentage,totalCount=fieldSummary.get("count"),results=fieldSummary.get("modes");return parsedResults=_.map(results,function(result){return count=result.count,name=result.value,percentage=mathUtil.convertToTwoDecimalPercentage(count,totalCount),{name:name,percentage:percentage}},this)}return[]}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/Base"),__webpack_require__("views/shared/summarytable/TableHeader"),__webpack_require__("views/shared/summarytable/resultsbody/Master"),__webpack_require__("views/shared/delegates/TableDock"),__webpack_require__("views/shared/waitspinner/Master"),__webpack_require__("views/shared/summarytable/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnsCollection,BaseView,TableHeaderView,ResultsBodyView,TableDock,WaitSpinnerView,css){return BaseView.extend({moduleId:module.id,className:"table-wrapper",initialize:function(options){BaseView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{},this.collection.columns=this.collection.columns||new ColumnsCollection,this.children.thead=new TableHeaderView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,state:this.model.state,summary:this.model.summary,ast:this.model.ast},collection:{columns:this.collection.columns},editingMode:this.options.editingMode}),this.children.resultsBody=new ResultsBodyView({model:{dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,summary:this.model.summary,state:this.model.state,timeline:this.model.timeline,dataSummaryJob:this.model.dataSummaryJob},collection:{columns:this.collection.columns},editingMode:this.options.editingMode}),this.children.waitSpinner=new WaitSpinnerView({color:"green",size:"medium",frameWidth:19})},startListening:function(options){this.listenTo(this.model.state,"clearSelection",function(){this.model.dataset.clearSelections()}),this.listenTo(this.model.state,"setSelectedColumn",function(colIndex){this.model.dataset.setSelectedColumn(colIndex)}),this.listenTo(this.model.resultJsonRows,"sync",this.debouncedRender),this.listenTo(this.model.summary,"sync",this.debouncedRender),this.listenTo(this.model.state,"change:tableEnabled",function(){var enable=this.model.state.get("tableEnabled");this.children.thead.enableSelection(enable),this.children.resultsBody.enableSelection(enable)},this)},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.children.waitSpinner.stop(),this.children.waitSpinner.$el.hide(),this.$el.removeClass("disabled"),this.bindDOMListeners(),this.updateColumnsCollection(),this.children.tableDock&&this.children.tableDock.update(),BaseView.prototype.activate.apply(this,arguments))},bindDOMListeners:function(){if(this.$el.html()){var scrollTableWrapper=this.$getScrollTableWrapper();scrollTableWrapper.length&&scrollTableWrapper.off("scroll").on("scroll",_.bind(this.onScrollChange,this))}},deactivate:function(options){return this.active?(BaseView.prototype.deactivate.apply(this,arguments),this.children.waitSpinner.$el.show(),!this.children.waitSpinner.active&&this.children.waitSpinner.start(),this.$el.addClass("disabled"),this.$getScrollTableWrapper().off("scroll"),this):BaseView.prototype.deactivate.apply(this,arguments)},$getScrollTableWrapper:function(){return this.$(".scroll-table-wrapper")},onAddedToDocument:function(options){this.bindDOMListeners(),this.restoreScrollPosition(),BaseView.prototype.onAddedToDocument.apply(this,arguments)},restoreScrollPosition:function(){var scrollLeft=this.model.dataset.entry.content.get("dataset.display.scrollLeft");scrollLeft&&this.$getScrollTableWrapper().scrollLeft(scrollLeft),scrollLeft=this.$getScrollTableWrapper().scrollLeft(),this.setScrollPositionOnTableHeader(scrollLeft)},onScrollChange:function(){var scrollLeft=this.$getScrollTableWrapper().scrollLeft();this.model.dataset.entry.content.set("dataset.display.scrollLeft",scrollLeft),this.setScrollPositionOnTableHeader(scrollLeft),this.model.state.trigger("destroyContextualMenus"),this.children.tableDock&&this.children.tableDock.handleContainerScroll()},setScrollPositionOnTableHeader:function(scrollLeft){scrollLeft=scrollLeft||0,this.$(".dataset-table-head").css("margin-left",-scrollLeft+"px")},updateColumnsCollection:function(){var lastSafeCommand,columnsData=[];this.model.dataset.isTable()&&this.options.respectCommandIndex?(lastSafeCommand=this.model.dataset.getLastSafeCommandForCommandIndex(),lastSafeCommand&&(columnsData=lastSafeCommand.columns.toJSON())):columnsData=this.model.dataset.getTypedFields({withoutUnfixed:!0}),this.columnsAreDifferent=!_.isEqual(columnsData,this.collection.columns.toJSON()),this.collection.columns.reset(columnsData)},shouldRenderTable:function(){return this.model.summary.getEventCount()>0||this.model.resultJsonRows.hasRows()},render:function(){var currentCommandModel,renderOptions={columnsAreDifferent:this.columnsAreDifferent},shouldDisableSelection=!0;return this.shouldRenderTable()?(this.$el.html()||this.$el.html(this.compiledTemplate({})),this.children.waitSpinner.render().prependTo(this.$el).$el.hide(),this.$el.removeClass("summary-table-no-results"),this.$(".summary-table-results").length?(this.children.thead.render(renderOptions),this.children.resultsBody.render(renderOptions),this.children.tableDock&&this.collection.columns.each(function(column){var colName=column.get("name"),metrics=this.model.resultJsonRows.extractMetrics(column,this.model.summary.extractTopResults(colName)),$column=this.children.tableDock.$('.col-header[data-field="'+colName+'"]');this.children.thead.toggleBarVisibility($column,metrics,"MatchedType","match"),this.children.thead.toggleBarVisibility($column,metrics,"MismatchedType","mismatch"),this.children.thead.toggleBarVisibility($column,metrics,"NullOrEmptyValues","null-or-empty"),this.children.thead.toggleBarVisibility($column,metrics,void 0,"loading")},this)):(this.children.thead.render(renderOptions).appendTo(this.$(".table-summary")),this.children.resultsBody.render(renderOptions).appendTo(this.$(".table-summary")),this.options.useDock&&(this.children.tableDock&&this.children.tableDock.remove(),this.children.tableDock=new TableDock({el:this.el,offset:37,defaultLayout:"fixed",tableSelector:".scroll-table-wrapper > .table-summary",theadSelector:".shared-summarytable-tableheader",thSelector:".shared-summarytable-tableheader > .dataset-table-head > .col-header",containerDOM:'<div class="docked-tableheader-container"></div>',containerSelector:".docked-tableheader-container",scrollContainerSelector:".scroll-table-wrapper",dockScrollBar:!0}),this.$el.addClass("shared-summarytable-docking-header"))),this.columnsAreDifferent=!1,this.bindDOMListeners(),this.restoreScrollPosition(),this.children.thead.clearSelection(),this.children.resultsBody.clearSelection(),this.children.thead.clearHighlight(),this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid(),this.children.thead.setSelection(),this.children.thead.highlightFields()),this.children.thead.enableSelection(!shouldDisableSelection),this.children.resultsBody.enableSelection(!shouldDisableSelection),this.model.dataSummaryJob.isDone()||this.children.thead.clearDragability()):(this.$el.html(this.compiledTemplate({})),this.$el.addClass("summary-table-no-results")),this.model.state.trigger("clearCutSelection"),this},template:'\t                <div class="scroll-table-wrapper">\t                    <div class="table table-summary">\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/TableHeader":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/datasettable/shared/TableHeader")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,ColumnModel,BaseView,TableHeaderView){return TableHeaderView.extend({moduleId:module.id,shouldFastRouteOnColumnDrop:!0,initialize:function(options){TableHeaderView.prototype.initialize.apply(this,arguments)},events:$.extend({},TableHeaderView.prototype.events,{'dblclick .col-header:not(":first-child"):not(".disabled")':function(e){var $target=$(e.target),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1;!$target||$target.is("span.resize")||$target.is("i.field-type")||isCtrlClick||isShiftClick||this.handleDirectRename(e)}}),startListening:function(options){TableHeaderView.prototype.startListening.apply(this,arguments),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection),this.listenTo(this.model.state,"columnInteraction",this.toggleClassForColumn),this.listenTo(this.model.state,"columnSelection",this.handleColumnSelect),this.listenTo(this.model.state,"destroyContextualMenus",function(){this.children.typeMenu&&this.children.typeMenu.deactivate({deep:!0}).remove(),delete this.children.typeMenu})},toggleClassForColumn:function(index,className,add){var $column=this.$("div[data-col-index="+index+"]");add?$column.addClass(className):$column.removeClass(className)},handleTableSelect:function($allColsSelected){$allColsSelected.addClass("column-selected"),TableHeaderView.prototype.handleTableSelect.apply(this,arguments)},addSelectedColumn:function($column){var columnIndex=$column.data("col-index");$column.addClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!0)},removeSelectedColumn:function($column){var columnIndex=$column.data("col-index");$column.hasClass("column-selected")&&($column.removeClass("column-selected"),this.model.state.trigger("columnInteraction",columnIndex,"column-selected",!1))},handleCutSelection:function(){this.$(".col-header.column-selected").addClass("column-cut")},handleClearCutSelection:function(){this.$(".col-header.column-cut").removeClass("column-cut")},clearSelection:function(){this.$(".column-selected").removeClass("column-selected")},clearHighlight:function(){this.$(".column-highlighted").removeClass("column-highlighted")},setSelection:function(){var selectedColumnInColumnsCollection,selectedValueString,selectedValue,selectedColumnId,selectedColumn,selectedColumnTopValues,$target,triggerArgs,selectedColumns=this.model.dataset.selectedColumns,selectionType=this.model.dataset.entry.content.get("dataset.display.selectionType"),selectedText=this.model.dataset.entry.content.get("dataset.display.selectedText"),currentCommandIndex=this.model.dataset.getCurrentCommandIdx(),currentCommand=this.model.dataset.commands.at(currentCommandIndex);"column"===selectionType?selectedColumns.each(function(selectedColumn){selectedColumnInColumnsCollection=currentCommand.columns.get(selectedColumn.id),selectedColumnInColumnsCollection&&($target=this.$getColHeader(selectedColumnInColumnsCollection.get("name")),this.addSelectedColumn($target),$target.attr("draggable",!0))},this):"cell"===selectionType||"text"===selectionType?(selectedValueString=this.model.dataset.entry.content.get("dataset.display.selectedColumnValue"),selectedColumnId=selectedColumns&&selectedColumns.length>0&&selectedColumns.first().id,selectedColumn=this.collection.columns.get(selectedColumnId),selectedColumnTopValues=selectedColumn&&this.model.summary.extractTopResults(selectedColumn.get("name")),selectedValue=_.where(selectedColumnTopValues,{name:selectedValueString})||[],1===selectedValue.length?(triggerArgs={columnName:selectedColumn.get("name"),selectedValue:selectedValueString},"text"===selectionType&&_.extend(triggerArgs,{selectedText:selectedText,startIndex:this.model.dataset.entry.content.get("dataset.display.selectedStart"),endIndex:this.model.dataset.entry.content.get("dataset.display.selectedEnd")}),this.model.state.trigger("setValueSelection",triggerArgs)):($target=this.$getColHeader(selectedColumn.get("name")),this.addSelectedColumn($target))):"table"===selectionType&&($target=this.$(".col-header"),this.handleTableSelect($target))},toggleBarVisibility:function($column,metrics,metricName,barClass){var $bar=$column.find("."+barClass),metric=_.findWhere(metrics,{key:metricName}),showMetric=metric&&!metric.isZero,barWidth=metric&&metric.value;metrics.length?"loading"===barClass?this._toggle$BarVisibility($bar,!1):this._toggle$BarVisibility($bar,showMetric,barWidth):"loading"===barClass?this._toggle$BarVisibility($bar,!0,"0"):this._toggle$BarVisibility($bar,!1)},_toggle$BarVisibility:function($bar,showMetric,barWidth){showMetric?($bar.show(),$bar.css("flex","1 1 "+barWidth+"%"),this.$(".bar.empty").hide()):$bar.hide()},enableSelection:function(enable){enable?this.$(".col-header").removeClass("disabled"):this.$(".col-header").addClass("disabled")},render:function(options){TableHeaderView.prototype.render.apply(this,arguments);var currentCommandModel,metrics,colName,$column,shouldDisableSelection=!0;return this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),(!this.$el.html()||options&&options.columnsAreDifferent)&&this.$el.html(this.compiledTemplate({ColumnModel:ColumnModel,columns:this.collection.columns})),this.collection.columns.each(function(column){colName=column.get("name"),metrics=this.model.resultJsonRows.extractMetrics(column,this.model.summary.extractTopResults(colName)),$column=this.$getColHeader(colName),this.toggleBarVisibility($column,metrics,"MatchedType","match"),this.toggleBarVisibility($column,metrics,"MismatchedType","mismatch"),this.toggleBarVisibility($column,metrics,"NullOrEmptyValues","null-or-empty"),this.toggleBarVisibility($column,metrics,void 0,"loading")},this),this.delegateEvents(),this},template:'\t                <div class="dataset-table-head">\t                    <% if (columns.length > 0) { %>\t                        <div class="col-header all"><span class="name all">*</span></div>\t                    <% } else { %>\t                        <div class="col-header placeholder">&nbsp;</th>\t                    <% } %>\t                    <% columns.each(function(column, index) { %>\t                        <% var colName = column.get("name"); %>\t                        <div class="col-header field type-<%- column.get("type") %>" data-col-index="<%- index %>" data-field="<%- colName %>" style="<%- column.get("display.width") ? "width: " + column.get("display.width") + "px; min-width: " + Math.max(column.get("display.width"), 200) + "px;": "" %>">\t                            <i class="icon-<%- ColumnModel.ICONS[column.get("type")] %> field-type" data-type="<%- column.get("type") %>"></i>\t                            <span class="name" title="<%- colName %>"><%- colName %></span>\t                            <div class="coverage" data-field="<%- colName %>">\t                                <div class="bar match"></div>\t                                <div class="bar mismatch"></div>\t                                <div class="bar null-or-empty"></div>\t                                <div class="bar loading"></div>\t                            </div>\t                        </div>\t                    <% }, this); %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("collections/Base"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("views/shared/summarytable/resultsbody/column/Master"),__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseCollection,ColumnsCollection,ColumnView,BaseView){return BaseView.extend({moduleId:module.id,className:"summary-table-results",initialize:function(options){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"clearSelection",this.clearSelection),this.listenTo(this.model.state,"columnInteraction",this.toggleClassForColumn),this.listenTo(this.model.state,"tableInteraction",this.toggleClassForTable),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection)},handleCutSelection:function(){this.$("div.summary-table-column.column-selected").addClass("column-cut")},handleClearCutSelection:function(shouldAddSelection){shouldAddSelection&&(this.clearSelection(),this.$("div.summary-table-column.column-cut").addClass("column-selected")),this.$("div.summary-table-column.column-cut").removeClass("column-cut")},columnsFromCollection:function(){return this.collection.columns.map(function(column,i){return new ColumnView({model:{column:column,dataset:this.model.dataset,resultJsonRows:this.model.resultJsonRows,summary:this.model.summary,timeline:this.model.timeline,state:this.model.state,dataSummaryJob:this.model.dataSummaryJob},colIndex:i,editingMode:this.options.editingMode})},this)},addNewColumns:function(){_.each(this.children.columns,function(columnView){columnView.activate({deep:!0}).render().appendTo(this.$el)},this)},clearSelection:function(){this.$("div.selected, div.column-selected, div.text-selected").removeClass("selected column-selected text-selected"),_.each(this.$("span.selection"),function(el){$(el).remove()},this)},toggleClassForColumn:function(index,className,add){var $column=this.$("div[data-col-index="+index+"]");add?$column.addClass(className):$column.removeClass(className)},toggleClassForTable:function(className,add){var $allCols=this.$("div[data-col-index]");add?$allCols.addClass(className):$allCols.removeClass(className)},enableSelection:function(enable){_.each(this.children.columns,function(columnView){columnView.enableSelection(enable)},this)},removeOldColumns:function(){_(this.children.columns).each(function(column){column.deactivate({deep:!0}),column.debouncedRemove({detach:!0})},this)},render:function(options){return!this.$el.html()||options&&options.columnsAreDifferent?(this.removeOldColumns(),this.children.columns=this.columnsFromCollection(),_.each(this.children.columns,function(columnView){columnView.activate({deep:!0}).render().appendTo(this.$el)},this)):_.each(this.children.columns,function(columnView){columnView.render()},this),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/column/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("collections/datasets/Cells"),__webpack_require__("models/datasets/Column"),__webpack_require__("views/Base"),__webpack_require__("views/shared/summarytable/resultsbody/column/Metrics"),__webpack_require__("views/shared/summarytable/resultsbody/column/TopResult"),__webpack_require__("models/datasets/Column")],
__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,CellsCollection,ColumnModel,BaseView,MetricsResultsView,TopResultsView){return BaseView.extend({moduleId:module.id,className:"summary-table-column",attributes:function(){return{"data-col-index":this.options.colIndex}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{}},createCellsCollection:function(options){options=options||{},this.collection.cells=new CellsCollection;var nullValues,nullValuesPercentage,results=this.model.summary.extractTopResults(this.model.column.get("name")),extractedMetrics=options.extractedMetrics,columnType=this.model.column.get("type"),columnName=this.model.column.get("name"),columnIndex=this.options.colIndex;extractedMetrics&&extractedMetrics.length&&(nullValues=_.where(extractedMetrics,{key:"NullValues"})[0],nullValuesPercentage=nullValues&&parseFloat(nullValues.value,10)||0,nullValuesPercentage>0&&this.collection.cells.addCell({columnType:columnType,field:columnName,colIndex:columnIndex,nullValueMetric:nullValues,values:[]})),_.each(results,function(result){this.collection.cells.addCell({columnType:columnType,colIndex:columnIndex,field:columnName,nullValueMetric:nullValues,values:[result.name],unscaledPercentage:result.percentage})},this)},topResultsViewsFromCollection:function(){return this.collection.cells.map(function(cellModel){return new TopResultsView({model:{cell:cellModel,column:this.model.column,dataset:this.model.dataset,state:this.model.state},editingMode:this.options.editingMode})},this)},shouldRenderTopResults:function(){return!this.model.column.isSplunkTime()&&this.model.column.get("type")!==ColumnModel.TYPES._RAW},enableSelection:function(enable){this.children.metricsResultsView&&this.children.metricsResultsView.enableSelection(enable),_.each(this.children.topResultsViews,function(resultView){resultView.enableSelection(enable)},this)},render:function(){var valueBeingEdited,newEditValue,currentCommandModel,columnWidth=this.model.column.get("display.width"),results=this.model.summary.extractTopResults(this.model.column.get("name")),extractedMetrics=this.model.resultJsonRows.extractMetrics(this.model.column,results),shouldDisableSelection=!0;return columnWidth&&this.$el.css("width",columnWidth+"px"),this.$el.attr("data-col-index",this.options.index),this.$el.addClass("column-"+this.model.column.get("name")),this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),this.children.metricsResultsView&&(this.children.metricsResultsView.deactivate({deep:!0}).remove(),delete this.children.metricsResultsView),this.children.metricsResultsView=new MetricsResultsView({model:{dataset:this.model.dataset,timeline:this.model.timeline,resultJsonRows:this.model.resultJsonRows,column:this.model.column,state:this.model.state,dataSummaryJob:this.model.dataSummaryJob},colIndex:this.options.colIndex,extractedMetrics:extractedMetrics,editingMode:this.options.editingMode}),this.children.metricsResultsView.activate({deep:!0}).render().appendTo(this.$el),this.shouldRenderTopResults()&&(_.each(this.children.topResultsViews,function(resultView,i){resultView.$("input.cell-value-input").length&&(newEditValue=resultView.$("input.cell-value-input").val(),valueBeingEdited=resultView.model.cell.getValue()),resultView.deactivate({deep:!0}).remove(),delete this.children.topResultsViews[i]},this),this.createCellsCollection({extractedMetrics:extractedMetrics}),this.children.topResultsViews=this.topResultsViewsFromCollection(),_.each(this.children.topResultsViews,function(resultView){resultView.render().activate({deep:!0}).appendTo(this.$el),_.isUndefined(valueBeingEdited)||resultView.model.cell.getValue()!==valueBeingEdited||resultView.renderValueInput(valueBeingEdited,newEditValue)},this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/column/Metrics":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseView){return BaseView.extend({moduleId:module.id,className:"list-summary-container",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(options){this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection)},events:{'mouseenter .list-summary:not(".disabled")':function(e){this.model.state.trigger("columnInteraction",this.options.colIndex,"hover",!0)},'mouseleave .list-summary:not(".disabled")':function(e){this.model.state.trigger("columnInteraction",this.options.colIndex,"hover",!1)},'click .list-summary:not(".disabled")':function(e){var $target=$(e.currentTarget),isCtrlClick=e.metaKey||e.ctrlKey||!1,isShiftClick=e.shiftKey||!1;this.model.state.trigger("clearSelection"),this.model.state.trigger("columnSelection",$target,isCtrlClick,isShiftClick)}},handleCutSelection:function(){this.$(".list-summary.column-selected").addClass("column-cut")},handleClearCutSelection:function(){this.$(".list-summary").removeClass("column-cut")},enableSelection:function(enable){enable?this.$(".list-summary").removeClass("disabled"):this.$(".list-summary").addClass("disabled")},render:function(){var currentCommandModel,metrics,extractedMetrics=this.model.resultJsonRows.extractMetrics(this.model.column),loadingMessage=_("Loading...").t(),shouldDisableSelection=!0;return this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),extractedMetrics.length||this.model.dataSummaryJob.isDone()?(metrics=extractedMetrics,metrics=metrics.filter(_.bind(function(metric){return metric.key!==this.model.resultJsonRows.NULL_VALUES},this))):metrics=[{label:this.model.resultJsonRows.parseLabelFromKey(this.model.resultJsonRows.MATCHED_TYPE),value:loadingMessage},{label:this.model.resultJsonRows.parseLabelFromKey(this.model.resultJsonRows.MISMATCHED_TYPE),value:loadingMessage},{label:this.model.resultJsonRows.parseLabelFromKey(this.model.resultJsonRows.NULL_OR_EMPTY_VALUES),value:loadingMessage}],this.$el.html(this.compiledTemplate({_:_,colIndex:this.options.colIndex,resultJsonRows:this.model.resultJsonRows,metrics:metrics})),this},template:'\t                <div class="list-summary" data-col-index=<%- colIndex %> >\t                    <% _.each(metrics, function(metric) { %>\t                        <% var isTypeAggregate = metric.key === resultJsonRows.MATCHED_TYPE || metric.key === resultJsonRows.MISMATCHED_TYPE || metric.key === resultJsonRows.NULL_OR_EMPTY_VALUES %>\t                        <div class="list-summary-row <% if (metric.breakAfter) { %>list-summary-row-last <% } %>">\t                            <div class="list-summary-label <%- metric.className ? metric.className.toLowerCase() : \'\' %> <% if (metric.isZero) {%> summary-zero <% } %>" >\t                                <% if (metric.key === resultJsonRows.MATCHED_TYPE) { %>\t                                    <i class="icon-check-circle"></i>\t                                <% } else if (metric.key === resultJsonRows.MISMATCHED_TYPE) { %>\t                                    <i class="icon-alert-circle"></i>\t                                <% } else if (metric.key === resultJsonRows.NULL_OR_EMPTY_VALUES) { %>\t                                    <i class="icon-alert"></i>\t                                <% } %>\t                                <%- metric.label %> \t                            </div>\t                            <div class="list-summary-value">\t                                <%- metric.value %><%= isTypeAggregate ? "%" : ""%>\t                            </div>\t                            <div class="list-summary-spacer">&nbsp;</div>\t                        </div>\t                    <% }); %>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/resultsbody/column/TopResult":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/commands/Base"),__webpack_require__("views/shared/datasettable/shared/TableCell")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,CommandModel,BaseTableCell){return BaseTableCell.extend({moduleId:module.id,className:"top-results-cell",attributes:function(){return{"data-field":this.model.cell.getValue(),"data-col-index":this.model.cell.get("colIndex")}},initialize:function(){BaseTableCell.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.state,"setValueSelection",this.setSelection),this.listenTo(this.model.state,"cutSelection",this.handleCutSelection),this.listenTo(this.model.state,"clearCutSelection",this.handleClearCutSelection)},setSelection:function(args){var columnName=args.columnName,selectedValue=args.selectedValue,currentColumnIsSelected=this.model.column.get("name")===columnName,currentCellIsSelected=selectedValue===this.model.cell.getValue();currentColumnIsSelected&&currentCellIsSelected&&this.$el.addClass("selected")},enableSelection:function(enable){enable?this.$el.removeClass("disabled"):this.$el.addClass("disabled")},handleCutSelection:function(){this.$el.hasClass("column-selected")&&this.$el.addClass("column-cut")},handleClearCutSelection:function(){this.$el.removeClass("column-cut")},isTextSelectable:function(){return!1},render:function(){var currentCommandModel,value=this.model.cell.getValue(),percentage=this.model.cell.getScaledPercentage(),width=Math.round(percentage)||1,isNull=this.model.cell.isNull(),isEmpty=this.model.cell.isEmpty(),shouldDisableSelection=!0;return this.model.dataset.isTable()&&this.options.editingMode&&(currentCommandModel=this.model.dataset.getCurrentCommandModel(),shouldDisableSelection=!currentCommandModel.isComplete()||!currentCommandModel.isValid()),this.$el.html(this.compiledTemplate({_:_,value:value,percentage:percentage,width:width,isNull:isNull})),isNull?this.$(".result-bar").addClass("null"):isEmpty?this.$(".result-bar").addClass("empty"):this.model.cell.getTypeMismatchMessage()?this.$(".result-bar").addClass("mismatched"):this.$(".result-bar").addClass("matched"),this},template:'<span class="result-bar" style="width:<%- width %>%"></span><div class="result-field selection-container <%- isNull && "null-cell"%>"><div class="real-text-wrapper"><% if (isNull) { %>null<% } else { %><span class="real-text"><%- value %></span><% } %></div></div><span class="result-value"><%- percentage %>%</span>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/summarytable/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1053);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/dataset/header/Title":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.dataset.entry,"change:name",this.debouncedRender),this.listenTo(this.model.dataset.entry.content,"change:accelerated",this.debouncedRender),this.listenTo(this.model.dataset.entry.content,"change:dataset.description",this.debouncedRender)},render:function(){return this.$el.html(this.compiledTemplate({name:this.model.dataset.getFormattedName(),description:this.model.dataset.getDescription(),datasetTypeCanBeAccelerated:this.model.dataset.typeCanBeAccelerated(),isAcceleratedDataset:this.model.dataset.isAcceleratedDataset()})),this},template:'\t                <h2 class="section-title">\t                    <%- name %>\t                    <% if (datasetTypeCanBeAccelerated) { %>\t                        <i class="icon-lightning <% if (isAcceleratedDataset) { %>icon-lightning-selected<% } %>" title="<%= isAcceleratedDataset ? _("Accelerated").t() : _("Not Accelerated").t() %>"></i>\t                    <% } %>\t                </td>\t                </h2>\t                <% if (description) { %>\t                    <p class="section-description">\t                        <%- description %>\t                    </p>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/tablecontainer/datasummary/StatusBar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("models/datasets/DataSummarySearchJob"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/shared/SearchResultsPaginator"),__webpack_require__("views/shared/delegates/Dock"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util"),__webpack_require__("shim/splunk.window")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,DataSummarySearchJob,BaseView,SyntheticSelectControl,SearchResultsPaginator,Dock,route,splunkUtils,splunkWindow){return BaseView.extend({moduleId:module.id,className:"data-summary-status-bar table-caption",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},events:{"click .cancel":function(e){e.preventDefault(),this.model.dataSummaryJob.handleJobDestroy(),this.model.dataSummaryJob.entry.content.set("dispatchState",DataSummarySearchJob.CANCELED)},"click .inspect":function(e){e.preventDefault(),splunkWindow.open(route.jobInspector(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),this.model.dataSummaryJob.id),"splunk_job_inspector",{width:870,height:560,menubar:!1})},"click .restart":function(e){e.preventDefault(),this.model.dataSummaryJob.trigger("restart")}},startListening:function(){this.listenTo(this.model.dataSummaryJob,"jobProgress",this.render),this.listenTo(this.model.dataSummaryJob.entry.content,"change:dispatchState",this.render)},getMessage:function(){var message,dispatchState=this.model.dataSummaryJob.entry.content.get("dispatchState"),inspectText=(this.model.dataSummaryJob.entry.content.get("resultPreviewCount"),_("Inspect").t()),cancelText=_("Cancel").t(),restartText=_("Restart").t();return this.model.dataSummaryJob.isNew()?message=_("Summarize fields job is starting...").t():this.model.dataSummaryJob.isFailed()?message=splunkUtils.sprintf(_("Summarize fields job failed. %s").t(),'<a href="#" class="inspect" title="'+inspectText+'">'+inspectText+"</a>"):dispatchState===DataSummarySearchJob.QUEUED?message=splunkUtils.sprintf(_("Summarize fields job is queued... %s").t(),'<a href="#" class="cancel" title="'+cancelText+'">'+cancelText+"</a>"):dispatchState===DataSummarySearchJob.PARSING?message=splunkUtils.sprintf(_("Summarize fields job is parsing... %s").t(),'<a href="#" class="cancel" title="'+cancelText+'">'+cancelText+"</a>"):dispatchState===DataSummarySearchJob.RUNNING?message=splunkUtils.sprintf(_("Summarize fields job is running... %s").t(),'<a href="#" class="cancel" title="'+cancelText+'">'+cancelText+"</a>"):dispatchState===DataSummarySearchJob.FINALIZING?message=splunkUtils.sprintf(_("Summarize fields job is finalizing... %s").t(),'<a href="#" class="cancel" title="'+cancelText+'">'+cancelText+"</a>"):dispatchState===DataSummarySearchJob.CANCELED?message=splunkUtils.sprintf(_("Summarize fields job was cancelled. %s").t(),'<a href="#" class="restart" title="'+restartText+'">'+restartText+"</a>"):dispatchState===DataSummarySearchJob.DONE&&(message=_("Summarize fields job is done!").t()),message},render:function(){return this.$el.html(this.compiledTemplate({_:_,message:this.getMessage()})),this.children.dock=new Dock({el:this.el,affix:".table-caption-inner"}),this},template:'\t                <div class="table-caption-inner">\t                    <div class="message">\t                        <%= message %>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/tablecontainer/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1054);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/dataset/header/TaskBar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/datasetcontrols/editmenu/Master"),__webpack_require__("views/shared/datasetcontrols/details/Master"),__webpack_require__("views/shared/datasetcontrols/exploremenu/Master"),__webpack_require__("views/shared/datasetcontrols/extendmenu/Master"),__webpack_require__("views/shared/delegates/Popdown")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,EditMenu,DetailsView,ExploreMenu,ExtendMenu,Popdown){return BaseView.extend({moduleId:module.id,className:"pull-right",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.editMenu=new EditMenu({model:{application:this.model.application,appLocal:this.model.appLocal,dataset:this.model.dataset,searchJob:this.model.searchJob,serverInfo:this.model.serverInfo,user:this.model.user},collection:{roles:this.collection.roles},deleteRedirect:!0,showScheduleLink:!0,className:"btn-combo"}),this.children.detailsView=new DetailsView({model:{dataset:this.model.dataset,application:this.model.application,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles}}),this.children.exploreMenu=new ExploreMenu({model:{dataset:this.model.dataset,application:this.model.application,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{apps:this.collection.apps}}),this.children.extendMenu=new ExtendMenu({model:{dataset:this.model.dataset,application:this.model.application,timeRange:this.model.timeRange,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{apps:this.collection.apps},displayAsButtons:!0})},activate:function(options){return this.active?BaseView.prototype.activate.apply(this,arguments):(this.children.extendMenu.render(),BaseView.prototype.activate.apply(this,arguments))},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this.children.editMenu.render().prependTo(this.$(".edit-info-section")),this.children.detailsView.render().prependTo(this.$(".more-info .popdown-dialog-body")),this.children.exploreMenu.render().appendTo(this.$el),this.children.extendMenu.render().appendTo(this.$el),this.children.popdownDelegate=new Popdown({el:this.$(".more-info")}),this},template:'\t                <div class="edit-info-section btn-group">\t                    <div class="btn-combo more-info">\t                        <div class="popdown-dialog">\t                            <div class="arrow">\t                            </div>\t                            <div class="popdown-dialog-body">\t                            </div>\t                        </div>\t                        <a href=# class="popdown-toggle btn">\t                            <%- _("More Info").t() %>\t                            <span class="caret"></span>\t                        </a>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/dataset/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1055);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/table/resultscontainer/actionbar/actionmenus/EditMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),module,__webpack_require__("views/table/resultscontainer/actionbar/actionmenus/BaseMenu"),__webpack_require__("views/table/modals/WarningDialog"),__webpack_require__("collections/datasets/Columns"),__webpack_require__("collections/datasets/Commands"),__webpack_require__("models/datasets/Column"),__webpack_require__("models/datasets/commands/RemoveFields"),__webpack_require__("models/datasets/commands/Rename")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,module,BaseMenu,WarningDialog,ColumnsCollection,CommandsCollection,ColumnModel,RemoveFieldsCommandModel,RenameCommandModel){var TYPE="type",typesBlacklist=[{selection:BaseMenu.SELECTION.TABLE},{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.COLUMN,types:[ColumnModel.TYPES._RAW,ColumnModel.TYPES._TIME]},{selection:BaseMenu.SELECTION.MULTICOLUMN,types:[ColumnModel.TYPES._RAW,ColumnModel.TYPES._TIME]},{selection:BaseMenu.SELECTION.TEXT}];return BaseMenu.extend({moduleId:module.id,typeMenuItems:[{className:"type-string",actionType:TYPE,type:ColumnModel.TYPES.STRING,icon:ColumnModel.ICONS[ColumnModel.TYPES.STRING],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.STRING],blacklist:typesBlacklist},{className:"type-number",actionType:TYPE,type:ColumnModel.TYPES.NUMBER,icon:ColumnModel.ICONS[ColumnModel.TYPES.NUMBER],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.NUMBER],blacklist:typesBlacklist},{className:"type-boolean",actionType:TYPE,type:ColumnModel.TYPES.BOOLEAN,icon:ColumnModel.ICONS[ColumnModel.TYPES.BOOLEAN],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.BOOLEAN],blacklist:typesBlacklist},{className:"type-ipv4",actionType:TYPE,type:ColumnModel.TYPES.IPV4,icon:ColumnModel.ICONS[ColumnModel.TYPES.IPV4],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.IPV4],blacklist:typesBlacklist},{className:"type-epoch-time",actionType:TYPE,type:ColumnModel.TYPES.EPOCH_TIME,icon:ColumnModel.ICONS[ColumnModel.TYPES.EPOCH_TIME],label:ColumnModel.TYPE_LABELS[ColumnModel.TYPES.EPOCH_TIME],blacklist:typesBlacklist}],additionalMenuItems:[{className:"fields-cut-and-move",label:_("Move").t(),insertDividerAfter:!0,blacklist:[{selection:BaseMenu.SELECTION.CELL},{selection:BaseMenu.SELECTION.TABLE},{selection:BaseMenu.SELECTION.TEXT}]},{className:"fields-delete",label:_("Delete").t(),commandConfigs:RemoveFieldsCommandModel.getDefaults(),validateSubsequentCommands:!0},{className:"fields-rename",label:_("Rename...").t(),insertDividerAfter:!0,commandConfigs:RenameCommandModel.getDefaults(),prepareOptions:function(commandConfigs){var currentCommand=this.model.table.getCurrentCommandModel();return{columnName:currentCommand.getFieldNameFromGuid(this.model.table.selectedColumns.first())}}}],initialize:function(options){BaseMenu.prototype.initialize.apply(this,arguments),options=options||{},_.defaults(options,{onlyType:!1}),this.commandMenuItems=options.onlyType?this.typeMenuItems:this.additionalMenuItems.concat(this.typeMenuItems)},startListening:function(){this.listenTo(this.model.state,"directColRename",function(oldFieldName,newFieldName){this.handleDirectRename(oldFieldName,newFieldName)}),BaseMenu.prototype.startListening.apply(this,arguments)},handleDirectRename:function(oldFieldName,newFieldName){var requiredColumnId,errorMessages,renameCommand,commandsClone=new CommandsCollection(this.model.table.commands.toJSON(),{parse:!0}),currentCommandIdx=this.model.table.getCurrentCommandIdx(),newCommandIdx=currentCommandIdx+1,selectedColumns=this.model.table.selectedColumns,previousCommand=commandsClone.at(currentCommandIdx);requiredColumnId=selectedColumns.length?selectedColumns.pluck("id"):[previousCommand.columns.where({name:oldFieldName})[0].id],commandsClone.addNewCommand({type:RenameCommandModel.getDefaults().type,newFieldName:newFieldName,isComplete:!0,requiredColumns:requiredColumnId},{at:newCommandIdx,updateSPLOptions:{previousCommand:previousCommand,applicationModel:this.model.application}}),renameCommand=commandsClone.at(newCommandIdx),this.model.table.setCollidingFieldNames({commandEdited:renameCommand,fieldsToAdd:[newFieldName]}),errorMessages=renameCommand.validate(),renameCommand.unset("collisionFields"),errorMessages?this.openFieldErrorModal(errorMessages.spl||errorMessages.collisionFields,oldFieldName,newFieldName):(this.model.table.commands.reset(commandsClone.toJSON(),{parse:!0,add:!0,at:newCommandIdx}),this.model.state.trigger("directRenameSucceeded",oldFieldName))},openFieldErrorModal:function(errorMessage,oldFieldName,newFieldName){this.children.renameWarningDialog&&(this.children.renameWarningDialog.deactivate({deep:!0}).remove(),delete this.children.renameWarningDialog),this.children.renameWarningDialog=new WarningDialog({headerText:_("Rename...").t(),message:'<div class="alert alert-error"><i class="icon-alert"></i>'+errorMessage+"</div>"}),this.children.renameWarningDialog.activate({deep:!0}).render().appendTo($("body")).show(),this.children.renameWarningDialog.on("hidden",_.bind(function(){this.model.state.trigger("directRenameFailed",oldFieldName,newFieldName)},this))},handleActionClicked:function(item){"fields-cut-and-move"===item.className?this.model.state.set("activeActionBar","cutAndMove"):item.actionType===TYPE&&this.setType(item),BaseMenu.prototype.handleActionClicked.apply(this,arguments)},setType:function(item){var selectedColumnGuids=this.model.table.selectedColumns.pluck("id"),currentCommandModel=this.model.table.getCurrentCommandModel();_.each(selectedColumnGuids,function(selectedColumnGuid){currentCommandModel.columns.get(selectedColumnGuid).set("type",item.type)},this),this.model.table.trigger("applyAction",currentCommandModel,this.model.table.commands)},shouldDisableMenuItem:function(menuItem){var baseDisable=BaseMenu.prototype.shouldDisableMenuItem.apply(this,arguments);return baseDisable?baseDisable:"fields-cut-and-move"===menuItem.className?!this.model.table.selectedColumns.length:void 0}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});