webpackJsonp([35],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/enterprise")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/backbone"),__webpack_require__("routers/DeploymentServerAddClients"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,DeploymentServerAddClientsRouter,routerUtils){new DeploymentServerAddClientsRouter;routerUtils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/deploymentserver/ClientsPreview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({url:"deployment/server/clients/preview",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/deploymentserver/ClientMachineTypes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/deploymentserver/ClientMachineTypes"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,Collection){return Collection.extend({initialize:function(){Collection.prototype.initialize.apply(this,arguments)},url:"deployment/server/clients/countClients_by_machineType",model:Model})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/deploymentserver/ClientMachineTypes":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(SplunkDBaseModel){return SplunkDBaseModel.extend({url:"deployment/server/clients/countClients_by_machineType",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/AddClients":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("views/deploymentserver/Search"),__webpack_require__("views/deploymentserver/editServerclass/ServerClassName"),__webpack_require__("views/deploymentserver/editServerclass/addClients/Filter"),__webpack_require__("views/deploymentserver/editServerclass/addApps/SaveButton"),__webpack_require__("views/deploymentserver/editServerclass/addApps/CancelButton"),__webpack_require__("views/deploymentserver/editServerclass/addClients/PreviewButton"),__webpack_require__("views/deploymentserver/editServerclass/addClients/SelectedClientsTab"),__webpack_require__("views/deploymentserver/editServerclass/addClients/UnselectedClientsTab"),__webpack_require__("views/deploymentserver/editServerclass/addClients/AllClientsTab"),__webpack_require__("views/deploymentserver/editServerclass/addClients/MachineFiltersList"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("models/Base"),__webpack_require__("uri/route"),__webpack_require__(1076),__webpack_require__("views/deploymentserver/editServerclass/addClients/AddClients.pcss"),__webpack_require__("views/deploymentserver/shared.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,_,Backbone,Search,ServerClassName,FilterView,SaveButtonView,CancelButtonView,PreviewButtonView,SelectedClientsTab,UnselectedClientsTab,AllClientsTab,MachineFiltersList,FlashMessagesView,ControlGroup,BaseModel,route,addClientsTemplate,css,cssShared){return BaseView.extend({moduleId:module.id,template:addClientsTemplate,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.selectedClientsPaginator=new Backbone.Model,this.model.unselectedClientsPaginator=new Backbone.Model,this.model.allClientsPaginator=new Backbone.Model;var that=this;this.model.serverClass.fetch({success:function(model,response){that.extractWhitelistAndBlacklist(),that.performWhitelistBlacklistFiltering()}});var _SelectedClientsTab=this._getSelectedClientsTab(),_UnselectedClientsTab=this._getUnselectedClientsTab(),_AllClientsTab=this._getAllClientsTab();this.model.selectedSearch=new Backbone.Model,this.children.selectedSearch=new Search({model:this.model.selectedSearch}),this.children.selectedClientsTab=new _SelectedClientsTab({model:{paginator:this.model.selectedClientsPaginator,search:this.model.selectedSearch},collection:this.collection.selectedClients}),this.model.unselectedSearch=new Backbone.Model,this.children.unselectedSearch=new Search({model:this.model.unselectedSearch}),this.children.unselectedClientsTab=new _UnselectedClientsTab({model:{paginator:this.model.unselectedClientsPaginator,search:this.model.unselectedSearch},collection:this.collection.unselectedClients}),this.model.allClientsSearch=new Backbone.Model,this.children.allClientsSearch=new Search({model:this.model.allClientsSearch}),this.children.allClientsTab=new _AllClientsTab({model:{paginator:this.model.allClientsPaginator,search:this.model.allClientsSearch},collection:this.collection.allClients}),this.children.serverClassName=new ServerClassName({model:this.model.serverClass}),this.children.saveButton=new SaveButtonView,this.children.saveButton.on("saveClicked",this.handleSaveClicked,this),this.children.cancelButton=new CancelButtonView,this.children.cancelButton.on("cancelClicked",this.handleCancelClicked,this),this.children.previewButton=new PreviewButtonView,this.children.previewButton.on("previewClicked",this.performWhitelistBlacklistFiltering,this);var whiteListValidationModel=BaseModel.extend({validation:function(){return{filter:{required:!0,msg:_("Include (whitelist) is required.").t()}}}});this.model.whitelist=new whiteListValidationModel,this.children.whitelist=new ControlGroup({className:"control-group",controlType:"Textarea",controlOptions:{model:this.model.whitelist,textareaClassName:"filter-text-area",modelAttribute:"filter",className:"regex-box",placeholder:_("Required").t()}}),this.model.blacklist=new Backbone.Model,this.children.blacklist=new ControlGroup({className:"control-group",controlType:"Textarea",controlOptions:{model:this.model.blacklist,textareaClassName:"filter-text-area",modelAttribute:"filter",className:"regex-box",placeholder:_("Optional").t()}}),this.children.machineFiltersList=new MachineFiltersList({collection:{machineTypes:this.collection.machineTypes,selectedMachineTypes:this.collection.selectedMachineTypes}}),this.children.flashMessagesView=new FlashMessagesView({model:[this.model.selectedClientsPaginator,this.model.unselectedClientsPaginator,this.model.allClientsPaginator,this.model.serverClass,this.model.whitelist],collection:this.collection}),this.model.tabView=new Backbone.Model,this.model.tabView.set("selectedView","all_clients"),this.children.tabToggle=new ControlGroup({label:_("").t(),controlType:"SyntheticRadio",controlOptions:{className:"btn-group btn-group-2",items:[{value:"all_clients",label:_("All").t()},{value:"selected_clients",label:_("Matched").t()},{value:"unselected_clients",label:_("Unmatched").t()}],model:this.model.tabView,modelAttribute:"selectedView"}}),this.model.tabView.on("change:selectedView",this.showSelectedView,this)},showSelectedView:function(){var selectedView=this.model.tabView.get("selectedView");this.$("#selected_clients").hide(),this.$("#unselected_clients").hide(),this.$("#all_clients").hide(),this.$("#selectedClientsFilterContainer").hide(),this.$("#unselectedClientsFilterContainer").hide(),this.$("#allClientsFilterContainer").hide(),"selected_clients"==selectedView?(this.$("#selected_clients").show(),this.$("#selectedClientsFilterContainer").show()):"unselected_clients"==selectedView?(this.$("#unselected_clients").show(),this.$("#unselectedClientsFilterContainer").show()):"all_clients"==selectedView&&(this.$("#all_clients").show(),this.$("#allClientsFilterContainer").show())},render:function(){var filtersDocUrl=this.getFiltersDocUrl(),docUrl=this.getDocUrl(),html=this.compiledTemplate({backButtonUrl:this.getBackButtonUrl(),sectionTitle:this.getSectionTitle(),nameLabel:this.getNameLabel(),docUrl:docUrl,filtersDocUrl:filtersDocUrl,_:_,serverClass:this.model});return this.children.machineFiltersList.detach(),this.$el.html(html),this.$("#controls").append(this.children.tabToggle.render().el),this.$("#serverClassName").append(this.children.serverClassName.render().el),this.$("#whitelist").append(this.children.whitelist.render().el),this.$("#blacklist").append(this.children.blacklist.render().el),this.$("#selected_clients").append(this.children.selectedClientsTab.render().el),this.$("#unselected_clients").append(this.children.unselectedClientsTab.render().el),this.$("#all_clients").append(this.children.allClientsTab.render().el),this.$("#selectedClientsFilterContainer").append(this.children.selectedSearch.render().el),this.$("#unselectedClientsFilterContainer").append(this.children.unselectedSearch.render().el),this.$("#allClientsFilterContainer").append(this.children.allClientsSearch.render().el),this.$("#selected_clients").hide(),this.$("#unselected_clients").hide(),this.$("#selectedClientsFilterContainer").hide(),this.$("#unselectedClientsFilterContainer").hide(),this.$("#page-actions").append(this.children.cancelButton.render().el),this.$("#page-actions").append(this.children.previewButton.render().el),this.$("#page-actions").append(this.children.saveButton.render().el),this.$(".flash-messages-placeholder").append(this.children.flashMessagesView.render().el),this.children.machineFiltersList.render().$el.appendTo(this.$("#machine-filters-container")),this},handleSaveClicked:function(){if(!this.model.whitelist.validate()){var i,whiteListLength=this.model.serverClass.entry.content.get("whitelist-size");for(i=0;i<whiteListLength;i++)this.model.serverClass.entry.content.set("whitelist."+i,null);var blackListLength=this.model.serverClass.entry.content.get("blacklist-size");for(i=0;i<blackListLength;i++)this.model.serverClass.entry.content.set("blacklist."+i,null);"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var whiteList="",blackList="";this.model.whitelist.get("filter")&&(whiteList=this.model.whitelist.get("filter").replace(/\n/g,"").split(",")),this.model.blacklist.get("filter")&&(blackList=this.model.blacklist.get("filter").replace(/\n/g,"").split(","));var pruned_index=0;for(i=0;i<whiteList.length;i++)whiteList[i].trim()&&(this.model.serverClass.entry.content.set("whitelist."+pruned_index,whiteList[i]),pruned_index++);for(i=pruned_index;i<whiteListLength;i++)this.model.serverClass.entry.content.unset("whitelist."+i,whiteList[i]);for(pruned_index=0,i=0;i<blackList.length;i++)blackList[i].trim()&&(this.model.serverClass.entry.content.set("blacklist."+pruned_index,blackList[i]),pruned_index++);for(i=pruned_index;i<blackListLength;i++)this.model.serverClass.entry.content.unset("blacklist."+i,blackList[i]);var machineFilters=this.collection.selectedMachineTypes.pluck("name").join(",");this.model.serverClass.entry.content.set("machineTypesFilter",machineFilters),this.model.serverClass.entry.content.set("clearOldFilters",!0),delete this.model.serverClass.entry.content.attributes.repositoryLocation,delete this.model.serverClass.entry.content.attributes.restartSplunkWeb,delete this.model.serverClass.entry.content.attributes.restartSplunkd,delete this.model.serverClass.entry.content.attributes.stateOnClient,this.model.serverClass.save(null,{success:this.goBack.bind(this)})}},handleCancelClicked:function(){return this.goBack(),!1},performWhitelistBlacklistFiltering:function(){var whiteList=this.model.whitelist.get("filter")||"";whiteList=whiteList.replace(/\n/g,"");var blackList=this.model.blacklist.get("filter")||"";blackList=blackList.replace(/\n/g,"");var machineFilters=this.collection.selectedMachineTypes.pluck("name").join(",");this.model.selectedClientsPaginator.set("data",{whitelist:whiteList,blacklist:blackList,machineTypesFilter:machineFilters,sort_key:this.model.selectedSearch.get("sortKey"),sort_dir:this.model.selectedSearch.get("sortDirection")}),this.model.unselectedClientsPaginator.set("data",{whitelist:whiteList,blacklist:blackList,machineTypesFilter:machineFilters,complement:!0,sort_key:this.model.unselectedSearch.get("sortKey"),sort_dir:this.model.unselectedSearch.get("sortDirection")}),this.model.allClientsPaginator.set("data",{whitelist:whiteList,blacklist:blackList,machineTypesFilter:machineFilters,selectionAsAttribute:!0,sort_key:this.model.allClientsSearch.get("sortKey"),sort_dir:this.model.allClientsSearch.get("sortDirection")})},extractWhitelistAndBlacklist:function(){var i,nextRegex,whitelist="",blacklist="",whiteListLength=this.model.serverClass.entry.content.get("whitelist-size");for(i=0;i<whiteListLength;i++)nextRegex=this.model.serverClass.entry.content.get("whitelist."+i),whitelist+=nextRegex,i<whiteListLength-1&&(whitelist+=", ");this.model.whitelist.set("filter",whitelist);var blackListLength=this.model.serverClass.entry.content.get("blacklist-size");for(i=0;i<blackListLength;i++)nextRegex=this.model.serverClass.entry.content.get("blacklist."+i),blacklist+=nextRegex,i<blackListLength-1&&(blacklist+=", ");this.model.blacklist.set("filter",blacklist),this.extractMachineTypes()},extractMachineTypes:function(){if(this.model.serverClass.entry.content.get("machineTypesFilter")){var i,machineTypes=this.model.serverClass.entry.content.get("machineTypesFilter").split(",");for(i=0;i<machineTypes.length;i++)if(""!=machineTypes[i]){var selectedMachineFilter=new Backbone.Model;selectedMachineFilter.set("name",machineTypes[i]),this.collection.selectedMachineTypes.add(selectedMachineFilter)}}},goBack:function(model){model=model||this.model.serverClass,window.location.href=this.getReturnTo(model)},getReturnTo:function(model){return model=model||this.model.serverClass,this.options.return_to?this.options.return_to:route.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"deploymentserveredit",{data:{id:model.id}})},getFiltersDocUrl:function(){return route.docHelp(this.options.application.get("root"),this.options.application.get("locale"),"learnmore.deployment.filters")},getDocUrl:function(){return route.docHelp(this.options.application.get("root"),this.options.application.get("locale"),"manager.deployment.fm.clients")},getSectionTitle:function(){return _("Edit Clients").t()},getNameLabel:function(){return _("Server Class").t()},getBackButtonUrl:function(){return null},_getSelectedClientsTab:function(){return SelectedClientsTab},_getUnselectedClientsTab:function(){return UnselectedClientsTab},_getAllClientsTab:function(){return AllClientsTab}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/UnselectedClientsTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("util/general_utils"),__webpack_require__("views/deploymentserver/Search"),__webpack_require__("views/deploymentserver/shared/DSPaginator"),__webpack_require__("views/deploymentserver/editServerclass/addClients/ClientsGrid")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,_,Backbone,general_utils,Search,Paginator,ClientsTabGrid){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.paginator=new Paginator({model:this.model.paginator,collection:this.collection});var _ClientsTabGrid=this._getClientsTabGrid();this.children.clientsTabGrid=new _ClientsTabGrid({model:{search:this.model.search,paginator:this.model.paginator},collection:this.collection,areAllClientsSelected:!1}),this.collection.on("reset",this.showEmptyMessage,this)},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.$("#unselectedClients_paginator").html(this.children.paginator.render().el),this.$("#unselectedClientsGridContainer").append(this.children.clientsTabGrid.render().el),this.$("#unselected_empty_message").html('<div class="message-single">  <div class="alert alert-error"> <i class="icon-alert"></i>'+_("No clients unselected.").t()+"</div> </div>"),this.showEmptyMessage(),this},showEmptyMessage:function(){0!=this.collection.length||this.model.search.get("filter")?(this.$("#unselected_empty_message").hide(),this.$("#unselectedClients_paginator").show(),this.$("#unselectedClientsGridContainer").show()):(this.$("#unselectedClients_paginator").hide(),this.$("#unselectedClientsGridContainer").hide(),this.$("#unselected_empty_message").show())},_getClientsTabGrid:function(){return ClientsTabGrid},template:'\t                <div id="unselected_empty_message"></div>\t                <div id="unselectedClients_paginator"></div>\t                <div id="unselectedClientsGridContainer"></div>\t               '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addApps/SaveButton":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,_){return BaseView.extend({moduleId:module.id,tagName:"button",className:"btn btn-primary",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},attributes:{href:"#"},render:function(){return this.$el.html(_("Save").t()),this},events:{click:function(e){return this.trigger("saveClicked"),!1}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/PreviewButton":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,_){return BaseView.extend({moduleId:module.id,tagName:"a",className:"btn",attributes:{href:"#"},initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(_("Preview").t()),this},events:{click:function(e){return this.trigger("previewClicked"),!1}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/AllClientsTab":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("require/underscore"),__webpack_require__("views/Base"),__webpack_require__("require/backbone"),__webpack_require__("util/general_utils"),__webpack_require__("views/deploymentserver/shared/DSPaginator"),__webpack_require__("views/deploymentserver/editServerclass/addClients/ClientsGrid")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,_,BaseView,Backbone,general_utils,Paginator,ClientsTabGrid){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.paginator=new Paginator({model:this.model.paginator,collection:this.collection});var _ClientsTabGrid=this._getClientsTabGrid();this.children.clientsTabGrid=new _ClientsTabGrid({model:{search:this.model.search,paginator:this.model.paginator},collection:this.collection,areAllClientsSelected:!1}),this.collection.on("reset",this.showEmptyMessage,this)},showEmptyMessage:function(){0!=this.collection.length||this.model.search.get("filter")?(this.$("#allclients_empty_message").hide(),this.$("#allclients_paginator").show(),this.$("#allClientsGridContainer").show()):(this.$("#allclients_paginator").hide(),this.$("#allClientsGridContainer").hide(),this.$("#allclients_empty_message").show())},render:function(){var html=this.compiledTemplate();return this.$el.html(html),this.$("#allclients_paginator").html(this.children.paginator.render().el),this.$("#allClientsGridContainer").append(this.children.clientsTabGrid.render().el),this.$("#allclients_empty_message").html('<div class="message-single">  <div class="alert alert-error"> <i class="icon-alert"></i>'+_("No clients have phoned home.").t()+"</div> </div>"),this.showEmptyMessage(),this},_getClientsTabGrid:function(){return ClientsTabGrid},template:'\t                <div id="allclients_empty_message"></div>\t                <div id="allclients_paginator"></div>\t                <div id="allClientsGridContainer"></div>\t               '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/DeploymentServerAddClients":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("routers/Base"),__webpack_require__("require/backbone"),__webpack_require__("views/deploymentserver/editServerclass/addClients/AddClients"),__webpack_require__("models/services/deploymentserver/DeploymentServerClass"),__webpack_require__("collections/services/deploymentserver/ClientMachineTypes"),__webpack_require__("models/classicurl"),__webpack_require__("collections/services/deploymentserver/ClientsPreview"),__webpack_require__("collections/services/deploymentserver/DeploymentServerClients"),__webpack_require__("shim/bootstrap.tab")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,BaseRouter,Backbone,AddClientsView,DeploymentServerClassModel,MachineTypesCollection,classicurlModel,DeploymentServerClientsCollection,AllClientsCollection,bootstrapTab){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Edit Clients").t()),this.enableAppBar=!1,this.addClientsViewClass=AddClientsView},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments);var _ServerClientsCollection=this.getClientsPreviewCollection(),_MachineTypesCollection=this.getMachineTypesCollection(),selectedClientsCollection=new _ServerClientsCollection,unselectedClientsCollection=new _ServerClientsCollection,allClientsCollection=new _ServerClientsCollection,machineTypes=new _MachineTypesCollection,selectedMachineTypes=new Backbone.Collection;this.deferreds.machineTypes=machineTypes.fetch();var that=this;classicurlModel.fetch({success:function(){var serverClassModel=that.getServerClassModel(classicurlModel),return_to=classicurlModel.get("return_to");that.addClientsView=new that.addClientsViewClass({collection:{selectedClients:selectedClientsCollection,unselectedClients:unselectedClientsCollection,allClients:allClientsCollection,selectedMachineTypes:selectedMachineTypes,machineTypes:machineTypes},model:{serverClass:serverClassModel},application:that.model.application,return_to:return_to})}}),$.when(this.deferreds.pageViewRendered,this.deferreds.machineTypes).then(function(){$(".preload").replaceWith(this.pageView.el),this.pageView.$(".main-section-body").append(this.addClientsView.render().el)}.bind(this))},getServerClassModel:function(fetchedClassicurl){var serverClassModel=new DeploymentServerClassModel;return serverClassModel.set("id",classicurlModel.get("id")),serverClassModel},getClientsPreviewCollection:function(){return DeploymentServerClientsCollection},getMachineTypesCollection:function(){return MachineTypesCollection}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/shared/DropDownMenuWithCounts":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("views/shared/DropDownMenu"),__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__(1075),module],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,DropDownMenuView,Popdown,dropDownTemplate,module){return DropDownMenuView.extend({moduleId:module.id,DEFAULT_CLASS_NAME:"btn-group",DEFAULT_ANCHOR_CLASS_NAME:"btn",initialize:function(options){DropDownMenuView.prototype.initialize.apply(this,arguments),this.collection.on("add remove reset",this.render,this)},template:dropDownTemplate,events:{"click li .unselected":function(e){var selectedMachineFilter=new Backbone.Model;selectedMachineFilter.set("name",$(e.target).attr("data-value")),this.collection.add(selectedMachineFilter)}},render:function(){var html=_(this.template).template({options:this.options,collection:this.collection,useNestedArrays:DropDownMenuView.prototype.isArrayofArrays.apply(this,[this.options.items])});return this.$el.html(html),this.$(".dropdown-toggle").addClass(this.anchorClassName||this.DEFAULT_ANCHOR_CLASS_NAME),this.$(".dropdown-menu").on("click","ul > li > a",_(DropDownMenuView.prototype.handleItemClick).bind(this)),this.children.popdown=new Popdown({el:this.el}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1075:function(module,exports){module.exports=' <a class="dropdown-toggle" href="#">\n                <% if (options.labelIcon) { %>\n                    <i class="icon-<%- options.labelIcon %> icon-large"></i>\n                <% } %>\n                <span class="link-label"><%- options.label %></span>\n            </a>\n            <div class="dropdown-menu dropdown-menu-selectable">\n                <div class="arrow"></div>\n                <% if (useNestedArrays) { %>\n                    <% _(options.items).each(function(itemsChild, i) { %>\n                        <ul>\n                        <% _(itemsChild).each(function(object, j) { %>\n                            <% \n                                var machineTypeClass = ""; \n                                if (object.hasOwnProperty(\'label2\')) {\n                                    machineTypeClass = "unselected"; \n                                    collection.each(function(model){\n                                        if (model.get(\'name\') == object.value) machineTypeClass = \'disabled\';\n                                    }); \n                                }\n                            %> \n                            <li style="position:relative" >\n                                <a href="#" data-value="<%- object.value %>"  data-items-array-index="<%- i %>" data-item-index="<%- j %>" class="<%- machineTypeClass %>">\n                                    <% if (object.icon) { %> \n                                        <i class="icon-<%- object.icon %> icon-large"></i>\n                                    <% } %>\n                                    <span data-value="<%- object.value %>" style=""><%- object.label1 %></span>\n                                    <span data-value="<%- object.value %>" style="position:absolute; right:10px"><%- object.label2 %></span>\n                                </a>\n                            </li>\n                            <% }) %>\n                           </ul> \n                        <% }) %>\n                <% } else { %>\n                    <ul>\n                        <% _(options.items).each(function(object, k) { %>\n                            <% \n                                var machineTypeClass = ""; \n                                if (object.hasOwnProperty(\'label2\')) {\n                                    machineTypeClass = "unselected"; \n                                    collection.each(function(model){\n                                        if (model.get(\'name\') == object.value) machineTypeClass = \'disabled\';\n                                    }); \n                                }\n                            %> \n                            <li style="position:relative" >\n                                <a href="#" data-value="<%- object.value %>" data-item-index="<%- k %>" class="<%- machineTypeClass %>">\n                                    <% if (object.icon) { %> \n                                        <i class="icon-<%- object.icon %> icon-large"></i>\n                                    <% } %>\n                                    <span data-value="<%- object.value %>" style=""><%- object.label1 %></span>\n                                    <span data-value="<%- object.value %>" style="position:absolute; right:10px"><%- object.label2 %></span>\n                                </a>\n                            </li>\n                        <% }) %>\n                    </ul>\n               <% } %>\n\n            </div>\n'},"views/deploymentserver/editServerclass/addClients/SelectedMachineTypesList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("views/deploymentserver/editServerclass/addClients/SelectedMachineTypeElement")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,SelectedMachineTypeElement){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection.on("add remove reset",this.render,this)},render:function(){this.$el.html("");var that=this;
return this.collection.each(function(model){var newMachineType=new SelectedMachineTypeElement({model:model});newMachineType.on("itemRemoved",that.removeMachineType,that),that.$el.append(newMachineType.render().el)}),this},removeMachineType:function(machineTypeModel){this.collection.remove(machineTypeModel)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/SelectedMachineTypeElement":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView){return BaseView.extend({moduleId:module.id,className:"selectedMachineTypeElement btn-combo",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){var template=this.compiledTemplate({machineType:this.model.get("name")});return this.$el.html(template),this},events:{"click .removeMachineType":function(){this.trigger("itemRemoved",this.model)}},template:'\t                    <div class="btn "><%-machineType%></div>\t                    <a href="#" class="btn  removeMachineType"><i class="icon-cancel"></i></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1076:function(module,exports){module.exports='\n<div class="section-header section-padded">\n    <% if (docUrl) { %>\n    <a href="<%-docUrl%>" target="_blank" class="btn pull-right"><%-_(\'Documentation\').t()%> <i class="icon-external"></i></a>\n    <% } %>\n    <% if (!backButtonUrl) { %>\n    <h2 class="section-title"> <%- sectionTitle %> </h2>\n    <p class="section-description"> <strong><%- nameLabel %></strong>: <span id="serverClassName"></span>\n    <% } else { %>\n    <h2 class="section-title"> <span id="serverClassName"></span> </h2>\n    <a href="<%- backButtonUrl %>">&lt; <%- _(\'Back to server classes\').t() %></a>\n    <% } %>\n    </p>\n</div>\n<div class="divider"></div>\n\n<div class="section-padded">\n\n    <div class="flash-messages-placeholder"></div>\n\n    <form class="add-edit-form">\n        <div id="whitelist-container" class="list-container">\n            <div class="list-inner">\n                <label>\n                    <strong><%-_("Include").t()%></strong>\n                    <%- _(" (whitelist)").t() %>\n                </label>\n                <div id="whitelist"></div>\n                <div class="help-block">\n                    <%-_("Can be client name, host name, IP address, or DNS name.").t()%><br/>\n                    <%-_("Examples: ").t()%>\n                    <span class="example-text mono-space">185.2.3.*, fwdr-* </span>\n                </div>\n                <div>\n                    <a href="<%-filtersDocUrl%>" target="_blank" class="external"><%-_(\'Learn more\').t()%></a>\n                </div>\n            </div>\n        </div>\n\n        <div id="blacklist-container" class="list-container">\n            <div class="list-inner">\n                <label>\n                    <strong><%-_("Exclude").t()%></strong>\n                    <%- _(" (blacklist)").t() %>\n                </label>\n                <div id="blacklist"></div>\n                <div class="help-block">\n                    <%-_("Can be client name, host name, IP address, or DNS name.").t()%><br/>\n                    <%-_("Examples: ").t()%>\n                    <span class="example-text mono-space">ronnie, rarity</span>\n                </div>\n                <div>\n                    <a href="<%-filtersDocUrl%>" target="_blank" class="external"><%-_(\'Learn more\').t()%></a>\n                </div>\n            </div>\n        </div>\n\n        <div id="machine-filters-container" class="list-container"></div>\n    </form>\n\n    <div class="divider" style="margin: 10px -20px"></div>\n\n    <div id="page-actions" class="pull-right"></div>\n</div>\n\n<div class="tab-content" id="clients-tabs-contents">\n    <div class="pull-left" id="controls"></div>\n    <div id="selectedClientsFilterContainer" class="pull-left searchFilterContainer"></div>\n    <div id="unselectedClientsFilterContainer" class="pull-left searchFilterContainer"></div>\n    <div id="allClientsFilterContainer" class="pull-left searchFilterContainer"></div>\n    <div style="clear:both"/>\n    <div id="selected_clients"></div>\n    <div id="unselected_clients"> </div>\n    <div id="all_clients"> </div>\n</div>\n\n\n'},"views/deploymentserver/editServerclass/addClients/AddClients.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1077);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},1077:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,'.section-header{position:relative;padding:10px 20px}.section-header:after,.section-header:before{display:table;content:"";line-height:0}.section-header:after{clear:both}.section-header .btn-toolbar{float:right}.section-padded{padding:10px 20px}.section-padded:after,.section-padded:before{display:table;content:"";line-height:0}.divider,.section-padded:after{clear:both}.tab-content{background-color:#eee;padding:20px;overflow:visible;min-height:400px}pre{border:none;background-color:transparent;padding:0}.btn+.btn{margin-left:1em}.message-single{margin:60px 0}.list-container{float:left;width:33%}.list-inner{margin-right:60px}.list-area{width:100%;min-height:60px;resize:vertical;box-sizing:border-box}.deploymentserver-edit-addclients-selectedmachinetypeslist .btn:first-child{width:160px;cursor:default}.deploymentserver-edit-addclients-selectedmachinetypeslist .btn-combo+.btn-combo{display:block;margin-left:0;margin-bottom:5px}.selectedMachineTypeElement{margin-bottom:2px}.add-edit-form:after{display:table;content:"";line-height:0;clear:both}#allClientsGridContainer,#selectedClientsGridContainer,#unselectedClientsGridContainer{margin-left:-20px;margin-right:-20px}.create-drop-down .btn{font-size:15px;padding:0;width:24px;height:24px;line-height:24px}#machine-filters-selecter{margin-bottom:5px}.searchFilterContainer{margin-left:20px}.tab-content{border-top:1px solid #999}td .client-check{text-align:center}#controls .control-label{display:none}#controls .control-label .control-group{margin-bottom:10px}.searchFilterContainer .deploymentserver-search{margin-bottom:0}#clients-tabs-contents{padding-top:10px}#blacklist .filter-text-area,#whitelist .filter-text-area{width:100%;min-height:50px}',""])},"collections/services/deploymentserver/ClientsPreview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/deploymentserver/ClientsPreview"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Model,Collection){return Collection.extend({initialize:function(){Collection.prototype.initialize.apply(this,arguments)},url:"deployment/server/clients/preview",model:Model})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/deploymentserver/editServerclass/addClients/MachineFiltersList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/deploymentserver/shared/DropDownMenuWithCounts"),__webpack_require__("views/deploymentserver/editServerclass/addClients/SelectedMachineTypesList"),__webpack_require__("require/underscore"),__webpack_require__("views/Base"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,DropDownMenu,SelectedMachineTypesList,_,BaseView){var STRINGS={noResultsFound:_("No results found").t()};return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.machineTypesList=new SelectedMachineTypesList({collection:this.collection.selectedMachineTypes}),this.collection.machineTypes.on("reset",this.debouncedRender,this)},render:function(){var template=this.compiledTemplate({_:_});this.$el.html(template);var machineTypesModel=this.collection.machineTypes.length?this.collection.machineTypes.first():null;if(!machineTypesModel)return this;var machineTypesTable=[],counts=machineTypesModel.entry.content.get("counts");for(var key in counts)counts.hasOwnProperty(key)&&machineTypesTable.push({label1:key,label2:counts[key],value:key});return this.children.machineFiltersDropDown=new DropDownMenu({label:"+",className:"create-drop-down",items:machineTypesTable,collection:this.collection.selectedMachineTypes}),this.$("#machine-filters-selecter").html(this.children.machineFiltersDropDown.render().el),0===machineTypesTable.length&&(this.children.machineFiltersDropDown.disable(),this.children.machineFiltersDropDown.$("a.dropdown-toggle").tooltip({title:STRINGS.noResultsFound})),this.$("#selected-machine-filters").append(this.children.machineTypesList.render().el),this},template:'\t                <div class="list-inner">\t                    <label><strong><%- _("Filter by Machine Type").t() %></strong><%-_(" (machineTypesFilter)").t()%></label>\t                    <div id="selected-machine-filters"></div>\t                    <div id="machine-filters-selecter"></div>\t                    <div class="help-block">\t                    <%-_("Optional").t()%>\t                    </div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});