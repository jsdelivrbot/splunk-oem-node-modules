webpackJsonp([15],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/build/pages/enterprise")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("routers/Archives"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(ArchivesRouter,router_utils){new ArchivesRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},551:function(module,exports){module.exports='<td class="index-name"><a href="#" class="editAction"><%- model.entry.get("name") %></a></td>\n<td class="s3-bucket-path"><%- model.entry.content.get("vix.fs.default.name") %></td>\n<td class="actions">\n    <a href="#" class="editAction"><%= _("Edit").t() %></a>\n    <a href="#" class="deleteAction"><%= _("Delete").t() %></a>\n</td>\n'},552:function(module,exports){module.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <!--<col class="col-flex col-info <%- headerCellClass %>">\n        <col class="col-slim col-selected">-->\n        <col class="col-flex col-name">\n        <col class="col-slim col-s3-bucket">\n        <col class="col-slim col-actions">\n    </colgroup>\n    <thead>\n    <tr>\n        <!--<th class="<%- headerCellClass %>"><i class="icon-info"></i></th>\n        <th class="select-all-checkbox"></th>-->\n        <th class="<%- sortCellClass %>" <%- sortKeyAttribute %>="name">\n        <a href="#" class="name-sort-link"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="<%- sortCellClass %>" <%- sortKeyAttribute %>="vix.fs.default.name">\n        <a href="#" class="s3-bucket-sort-link"><%= _(\'AWS S3 Path\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th><%= _(\'Actions\').t() %></th>\n    </tr>\n    </thead>\n    <tbody class="archives-grid-table-body">\n\n    </tbody>\n\n</table>\n'},553:function(module,exports){module.exports='<div class="section-header section-padded">\n    <div class="create-button-container pull-right">\n        <a href="#" class="btn btn-primary new-archive-button"><%- _("New Archive").t() %></a>\n    </div>\n    <h1 class="section-title"><%- _("Archives").t() %></h1>\n    <div class="block-text"><%- _("Archives let you store data in AWS S3 buckets.").t() %>\n    <a href="<%- docUrl %>" target="_blank" class="help-link"><%- _("Learn More").t() %> <i class="icon-external"></i></a></div>\n    <div class="flash-messages"></div>\n</div>\n<div class="main-section">\n    <div class="table-toolbar">\n        <div class="filter-container">\n            <div class="collection-count"></div>\n            <div class="text-name-filter"></div>\n            <div class="select-page-count"></div>\n        </div>\n        <div class="paginator-container">\n        </div>\n    </div>\n    <div class="archives-grid"></div>\n</div>\n'},554:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(),exports.push([module.id,".archives-view .main-section .table-toolbar>*{min-height:28px;padding:0 8px 4px}.archives-view .main-section .table-toolbar>*>*{display:inline-block}.archives-view .main-section .table-toolbar .filter-container{border-top:1px solid #ccc;padding-top:10px}.archives-view .main-section .table-toolbar .filter-container .collection-count{margin-left:13px}.archives-view .main-section .table-toolbar .filter-container .collection-count+.text-name-filter{margin-left:10px}.archives-view .main-section .table-toolbar .filter-container .collection-count h3{font-size:12px;font-weight:400;margin:0;min-width:140px;text-align:left}.archives-view .main-section .table-toolbar .filter-container .collection-count .shared-waitspinner{float:left;width:14px;height:14px;margin-right:10px}.archives-view .main-section .table-toolbar .filter-container .collection-count .disabled{color:#bbb}.archives-view .main-section .table-toolbar .filter-container .select-page-count{float:right}.archives-view .main-section .table-toolbar .paginator-container{min-height:0}.archives-view .main-section .archives-grid{clear:both}.archives-view .main-section .archives-grid td.frozen-path,.archives-view .main-section .archives-grid td.home-path,.archives-view .main-section .archives-grid td.index-name{min-width:100px;max-width:200px;word-break:break-word}.archives-view .main-section .archives-grid td.actions,.archives-view .main-section .archives-grid td.index-status{white-space:nowrap}.archives-view .main-section .archives-grid td.actions a{padding-right:8px}.archives-view .main-section .archives-grid td.actions .disabled-action{color:#bbb;padding-right:8px}.archives-view .main-section .archives-grid tr.list-item td{transition:background,.2s}.archives-view .main-section .archives-grid tr.list-item:hover td{background-color:#e4e4e4;transition:background,.02s}.archives-view .main-section .archives-grid tr.list-item i{width:14px;font-size:1.2em;display:inline-block}.archives-view .main-section .archives-grid tr.list-item i.enable-icon{color:#a2cc3e}.archives-view .main-section .archives-grid tr.list-item i.disable-icon{color:#d6563c}.archives-view .main-section .archives-grid .message-single{margin-left:10px}.archives-view.archives-disabled-view{position:relative;min-height:500px}.archives-view.archives-disabled-view>.section-header{z-index:10;background-color:#eee}.archives-view.archives-disabled-view .main-section .table{margin-bottom:0}.archives-view.archives-disabled-view .main-section .table-disabled-screen{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#ccc;opacity:.5}.archives-view.archives-disabled-view .main-section .archives-grid .section-header{text-align:center;width:100%}.archives-view.archives-disabled-view .main-section .archives-grid .section-header.disabled-message{margin-top:80px}.archives-view.archives-disabled-view .main-section .archives-grid .section-header .learn-more-link{margin:5px 0 0}.archives-view .expanded-info{padding-top:1em}.archives-view .col-info,.archives-view .col-selected{width:1em}.archives-view .checkbox{padding:0}.archives-view .bandwidth-header{white-space:nowrap}.delete-archive-dialog .big-warning,.delete-archive-error-dialog .big-warning{font-size:4em;color:#d99f0d;padding-right:20px;vertical-align:super}.delete-archive-dialog .big-error,.delete-archive-error-dialog .big-error{font-size:4em;color:#d6563c;padding-right:20px;vertical-align:super}.delete-archive-dialog .delete-text,.delete-archive-error-dialog .delete-text{width:80%;display:inline-block}.delete-archive-dialog .index-name,.delete-archive-error-dialog .index-name{font-style:italic;padding-left:1em}.archives-modal .path-placeholder .controls .shared-controls-textcontrol,.archives-modal .path-placeholder .controls>div{display:inline-block;vertical-align:top}.archives-modal .path-placeholder .controls .shared-controls-textcontrol.shared-controls-textcontrol,.archives-modal .path-placeholder .controls>div.shared-controls-textcontrol{z-index:1}.archives-modal .path-placeholder .controls .enable-button{width:141px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.archives-modal .create-new-message{margin:-5px -20px 20px;padding:0 20px 15px;border-bottom:1px solid #ccc}.archives-modal.modal-wide .path-placeholder .controls>div.shared-controls-textcontrol input{width:460px;border-top-right-radius:0;border-bottom-right-radius:0}.archives-modal.modal-wide .path-placeholder .controls .enable-button{width:121px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.archives-modal.modal-wide span.uneditable-input{box-sizing:border-box;min-height:26px;width:460px;border-top-right-radius:0;border-bottom-right-radius:0}.archives-modal.modal-wide .control textarea{min-width:566px}.archives-modal.modal-wide .control-label span.required{margin-right:-8px}.archives-modal.modal-wide .role-json-placeholder button{margin-bottom:10px}.archives-modal.modal-wide .role-json-placeholder textarea{min-height:140px}.archives-modal.modal-wide .role-json-placeholder textarea[readonly]{background-color:#fff;cursor:text}",""])},"models/indexes/cloud/AddEditArchive":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel){return BaseModel.extend({idAttribute:"name",defaults:{name:"","vix.fs.default.name":""},validation:{name:{fn:function(value,attr,computedState){if(computedState.isNew&&""==value)return _("Archive Name is required.").t()}},"vix.fs.default.name":[{required:!0,msg:_("AWS S3 Path is required.").t()},{fn:function(value){var schemePattern=/^([a-z]([a-z0-9\+\.\-]*):\/\/)/i,rootedPathPattern=/^([^\/]+)\/?$/i,schemeMatch=value.match(schemePattern);if(!schemeMatch)return _("No scheme found in AWS S3 Path.").t();var path=value.slice(schemeMatch[0].length);if(0==path.length)return _("AWS S3 Path is missing the bucket name.").t();var pathMatch=path.match(rootedPathPattern);return pathMatch?void 0:_("AWS S3 Path must point to the root of the bucket.").t()}}]},getArchiveAttributes:function(){return{"vix.fs.default.name":this.get("vix.fs.default.name"),"vix.description":this.get("vix.description")}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/indexes/cloud/S3BucketPolicy":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/SplunkDBase"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,SplunkDBase,splunkDUtils){var S3BucketPolicy=SplunkDBase.extend({url:"cluster_blaster_archives/s3_bucket_policy",initialize:function(){SplunkDBase.prototype.initialize.apply(this,arguments)},isNew:function(){return!1},_onerror:function(model,response,options){var messages=this.parseSplunkDMessages(response.responseJSON);return 0==messages.length?SplunkDBase.prototype._onerror.apply(this,arguments):this._onsync(model,response.responseJSON,options)},sync:function(method,model,options){if("read"!=method)throw new Error("S3BucketPolicy only supports read");var url,appOwner={},defaults=($.Deferred(),{data:{output_mode:"json"}});return url=_.isFunction(model.url)?model.url():model.url,$.extend(!0,defaults,options),$.extend(!0,defaults.data,model.toJSON()),defaults.url=splunkDUtils.fullpath(url,appOwner),defaults.type="GET",defaults.data=splunkDUtils.normalizeValuesForPOST(defaults.data),defaults.processData=!0,Backbone.sync.call(null,"read",model,defaults)},parse:function(response,options){return response.policyJSON=JSON.stringify(response),response}});return S3BucketPolicy}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/DeleteArchiveDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("shim/splunk.util"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,splunkUtil,FlashMessages,Modal){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" delete-archive-dialog",initialize:function(options){Modal.prototype.initialize.call(this,arguments),this.children.flashMessagesView=new FlashMessages({model:this.model})},events:$.extend({},Modal.prototype.events,{"click .modal-btn-delete":function(e){var archiveName=this.model.entry.get("name"),deleteArchiveDeferred=this.model.destroy({wait:!0});$.when(deleteArchiveDeferred).done(_(function(){this.trigger("deleteArchiveConfirmed",archiveName),this.hide()}).bind(this))}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Delete Archive").t()),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).html(_(this.dialogFormBodyTemplate).template({confirmationMessage:splunkUtil.sprintf(_("Are you sure you want to delete the archive named <i>%s</i>?").t(),this.model.entry.get("name")),noDeleteMessage:splunkUtil.sprintf(_("The data in your S3 bucket <i>%s</i> will NOT be deleted.").t(),this.model.entry.content.get("vix.fs.default.name"))})),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-view-placeholder")),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL_PRIMARY),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DELETE_SECONDARY),this},dialogFormBodyTemplate:'\t                <div class="flash-messages-view-placeholder"></div>\t                <!--<div class="pull-left">--><i style="" class="big-warning icon-warning"></i><!--</div>-->\t                <p class="delete-text"><%= confirmationMessage %>\t                <br/><br/><%= noDeleteMessage %> \t                </p>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/DeleteArchiveErrorDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("shim/splunk.util"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,splunkUtil,FlashMessages,Modal){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" delete-archive-error-dialog",initialize:function(options){Modal.prototype.initialize.call(this,arguments),this.children.flashMessagesView=new FlashMessages({model:this.model})},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Delete Archive").t()),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).html(_(this.dialogFormBodyTemplate).template({errorMessage:splunkUtil.sprintf(_("You can not delete the archive <i>%s</i> until the following indexes are no longer archiving data to this archive:").t(),this.model.entry.get("name")),indexes:this.collection})),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-view-placeholder")),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE),this},dialogFormBodyTemplate:'\t                <div class="flash-messages-view-placeholder"></div>\t                <i style="" class="big-error icon-error"></i>\t                <p class="delete-text">\t                  <%= errorMessage %>\t                  <br/>\t                  <% indexes.each(function(index) { %>\t                      <br/><span class="index-name"><%= index.entry.content.get("vix.output.buckets.from.indexes") %></span>\t                  <% }) %>\t                  <br/>\t                </p>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Archives":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("shim/jquery"),__webpack_require__("routers/Base"),__webpack_require__("views/error/Master"),__webpack_require__("views/archives/shared/ArchivesController"),__webpack_require__("views/archives/shared/ArchivesDisabledView")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone,$,BaseRouter,ErrorView,ArchivesController,ArchivesDisabledView){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Manage Archives").t()),this.enableAppBar=!1,this.fetchUser=!0},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),$.when(this.deferreds.pageViewRendered).done(_(function(){$(".preload").replaceWith(this.pageView.el),this.model.user.canArchive()?this.model.user.canEditArchives()?this.archivesController=new ArchivesController({model:this.model,collection:this.collection}):this.archivesController=new ErrorView({model:{application:this.model.application,error:new Backbone.Model({status:_("Access Denied").t(),message:_("You do not have permission to view this page.").t()})}}):this.archivesController=new ArchivesDisabledView({model:this.model,collection:this.collection}),this.pageView.$(".main-section-body").append(this.archivesController.render().el)}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/ArchivesGrid":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("helpers/grid/RowIterator"),__webpack_require__("views/archives/shared/ArchivesGridRow"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("views/shared/delegates/ColumnSort"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__(552),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,RowIterator,ArchivesGridRow,FlashMessagesView,SyntheticCheckboxControl,ColumnSort,RowExpandCollapse,template,route,splunkDUtils){return BaseView.extend({moduleId:module.id,template:template,initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.columnSort=new ColumnSort({el:this.el,model:this.collection.archives.fetchData,autoUpdate:!1}),this.children.flashMessages=new FlashMessagesView({className:"message-single"}),this.collection.archives.on("change reset",function(){0==this.collection.archives.length?this.updateNoArchivesMessage():this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_archive"),this.debouncedRender()},this)},updateNoArchivesMessage:function(){if(0==this.collection.archives.length){var learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.archive"),errMessage=_("No archives are defined.").t()+'<a href="'+learnMoreLink+'" target="_blank">'+_("Learn more.").t()+' <i class="icon-external"></i></a>';this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_archive",{type:splunkDUtils.ERROR,html:errMessage})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_archive")},onSelectAllCheckBoxChange:function(newValue,oldValue){_(this.archivesRows).each(function(archiveRow){archiveRow.setCheckBoxValue(newValue)},this)},onSelectedChange:function(archiveID,selected){this.trigger("selectedChange",archiveID,selected)},getIDFromTarget:function(event){return $(event.target).closest("tr").data("row-expand-collapse-id")},render:function(){var rowIterator=new RowIterator({});this.archivesRows=[];var html=this.compiledTemplate({_:_,collection:this.collection.archives,sortCellClass:ColumnSort.SORTABLE_ROW,sortKeyAttribute:ColumnSort.SORT_KEY_ATTR,headerCellClass:RowExpandCollapse.HEADER_CELL_CLASS}),$html=$(html);return rowIterator.eachRow(this.collection.archives,function(archiveModel,index,rowNumber,isExpanded){var archivesRow=new ArchivesGridRow({model:{archive:archiveModel,controller:this.model.controller},index:index,isExpanded:isExpanded,rowNumber:rowNumber});this.archivesRows.push(archivesRow),$html.find(".archives-grid-table-body").append(archivesRow.render().el)},this),this.children.columnSort.update($html),this.$el.html($html),this.children.flashMessages.render().appendTo(this.$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/ArchivesGridRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("views/shared/delegates/RowExpandCollapse"),__webpack_require__("util/format_numbers_utils"),__webpack_require__("util/time"),__webpack_require__("shim/splunk.util"),__webpack_require__(551)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,SyntheticCheckboxControl,RowExpandCollapse,formatNumbersUtils,timeUtils,splunkUtils,template){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"list-item",template:template,events:function(){var events={};return events["click td."+RowExpandCollapse.TOGGLE_CELL_CLASS]="toggleCellClickHandler",events["click a.edit-older-than-btn"]=function(){this.trigger("action:editOlderThan",this.model.archive.get("id"))},events["click .deleteAction"]=function(e){this.model.controller.trigger("deleteArchive",this.model.archive),e.preventDefault()},events["click .editAction"]=function(e){this.model.controller.trigger("editArchive",this.model.archive),e.preventDefault()},events}(),initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.checkBoxSelected=new SyntheticCheckboxControl,this.listenTo(this.children.checkBoxSelected,"change",this.onCheckBoxSelectedChange)},setCheckBoxValue:function(newValue){this.children.checkBoxSelected.setValue(newValue)},toggleCellClickHandler:function(e){e.preventDefault(),this.isExpanded=!this.isExpanded,this.debouncedRender()},onCheckBoxSelectedChange:function(){this.trigger("selectedChange",this.model.archive.get("id"),this.children.checkBoxSelected.getValue())},formatToRelativeTime:function(isoTime){if(_.isUndefined(isoTime)||""==isoTime)return"";var epochTime=splunkUtils.getEpochTimeFromISO(isoTime);return timeUtils.convertToRelativeTime(epochTime)},render:function(){this.children.checkBoxSelected.detach();var html=this.compiledTemplate({model:this.model.archive,isExpanded:this.isExpanded,formatNumbersUtils:formatNumbersUtils,timeUtils:timeUtils,toggleCellClass:RowExpandCollapse.TOGGLE_CELL_CLASS,expandedCellBody:RowExpandCollapse.EXPANDED_CELL_MARKUP,collapsedCellBody:RowExpandCollapse.COLLAPSED_CELL_MARKUP,rowIdAttribute:RowExpandCollapse.ROW_ID_ATTR});return this.$el.html(html),this.$el.attr(RowExpandCollapse.ROW_ID_ATTR,this.model.archive.get("id")),this.isExpanded?this.$el.addClass(RowExpandCollapse.EXPANDED_ROW_CLASS):this.$el.removeClass(RowExpandCollapse.EXPANDED_ROW_CLASS),this.children.checkBoxSelected.render().appendTo(this.$(".selected-checkbox")),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},555:function(module,exports){module.exports='<div class="section-header section-padded">\n    <div class="create-button-container pull-right">\n        <a class="btn btn-primary new-archive-button" disabled><%- _("New Archive").t() %></a>\n    </div>\n    <h1 class="section-title"><%- _("Archives").t() %></h1>\n    <div class="block-text"><%- _("Archives let you store data in AWS S3 buckets.").t() %>\n        <a href="<%- docUrl %>" target="_blank" class="help-link"><%- _("Learn More").t() %> <i class="icon-external"></i></a>\n    </div>\n</div><!-- .section-header -->\n<div class="main-section">\n    <div class="table-toolbar">\n        <div class="filter-container">\n            <div class="collection-count">\n                <span class="disabled"><%= _(\'0 archives\').t() %></span>\n            </div><!-- .collection-count -->\n            <div class="text-name-filter">\n                <div class="control shared-controls-textcontrol">\n                    <input type="text" class="search-query" placeholder="<%= _(\'filter\').t() %>" disabled>\n                </div>\n            </div><!-- .text-name-filter -->\n            <div class="select-page-count">\n                <div class="control btn-group shared-dataenrichment-preview-components-selectpagecount">\n                    <a class="dropdown-toggle btn-pill disabled">\n                        <i class="icon-large"></i>\n                        <span class="link-label"><%= _(\'20 per page\').t() %></span>\n                        <span class="caret"></span>\n                    </a>\n                </div>\n            </div><!-- .select-page-count-->\n        </div><!-- .filter-container -->\n        <div class="paginator-container"></div>\n    </div><!-- .table-toolbar -->\n    <div class="archives-grid archives-shared-archivesgrid archives-grid-disabled">\n        <table class="table table-chrome table-striped">\n            <thead>\n                <tr>\n                    <th class="sorts">\n                        <%= _(\'Name\').t() %>\n                        <i class="icon-sorts"></i>\n                    </th>\n                    <th class="sorts">\n                        <%= _(\'AWS S3 Path\').t() %>\n                        <i class="icon-sorts"></i>\n                    </th>\n                    <th>\n                        <%= _(\'Actions\').t() %>\n                    </th>\n                </tr>\n            </thead>\n        </table>\n        <div class="table-disabled-screen"></div>\n        <div class="section-header disabled-message">\n            <h1 class="section-title"><%= _(\'Now you can archive data from Splunk Cloud to AWS S3!\').t() %></h1>\n            <h3 class="learn-more-link"><a href="<%- docUrl %>" target="_blank" class="help-link"><%- _("Learn More").t() %> <i class="icon-external"></i></a></h3>\n        </div>\n    </div><!-- .archives-grid -->\n</div><!-- .main-section -->\n'},"views/archives/shared/ArchivesController":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/services/AppLocals"),__webpack_require__("collections/indexes/cloud/Archives"),__webpack_require__("collections/services/data/vix/Indexes"),__webpack_require__("controllers/Base"),__webpack_require__("views/archives/shared/AddEditArchiveDialog"),__webpack_require__("views/archives/shared/DeleteArchiveDialog"),__webpack_require__("views/archives/shared/DeleteArchiveErrorDialog"),__webpack_require__("views/archives/shared/ArchivesView"),__webpack_require__("models/classicurl"),__webpack_require__("models/indexes/cloud/Archive"),__webpack_require__("models/shared/EAIFilterFetchData"),__webpack_require__("views/archives/shared/ArchivesController.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,AppsCollection,ArchivesCollection,IndexesCollection,BaseController,AddEditArchiveDialog,DeleteArchiveDialog,DeleteArchiveErrorDialog,ArchivesView,classicUrl,Archive,ArchiveFetchData,css){var ArchivesController=BaseController.extend({moduleId:module.id,initialize:function(options){BaseController.prototype.initialize.apply(this,arguments),this.model=this.model||{},this.model.controller=new Backbone.Model({fetching:!1}),this.listenTo(this.model.controller,"fetchCollection",this.fetchArchivesCollection),this.listenTo(this.model.controller,"editArchive",this.onEditArchive),this.listenTo(this.model.controller,"deleteArchive",this.onDeleteArchive),this.listenTo(this.model.controller,"createArchive",this.onCreateArchive),this.archiveCollectionFetchData=new ArchiveFetchData({count:"20",offset:0}),this.listenTo(this.archiveCollectionFetchData,"change:nameFilter",this.onNameFilterChanged),this.collection=this.collection||{},this.collection.archives=new ArchivesCollection(null,{fetchData:this.archiveCollectionFetchData}),this.collection.apps=new AppsCollection,this.collection.virtualIndexes=new IndexesCollection,this.listenTo(this.collection.archives,"request",this.onArchivesCollectionRequest),this.listenTo(this.collection.archives,"sync",this.onArchivesCollectionSync),this.listenTo(this.collection.archives,"error",this.onArchivesCollectionSync);var appsDeferred=(this.fetchArchivesCollection(),this.collection.apps.fetch({data:{sort_key:"name",sort_dir:"desc",app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"visible=true AND disabled=0",count:-1}}));$.when(appsDeferred).then(_(function(){this.children.archivesView=new ArchivesView({model:this.model,collection:this.collection}),this.debouncedRender()}).bind(this))},onNameFilterChanged:function(model,value,options){model.set("offset",0)},onArchivesCollectionRequest:function(){this.model.controller.set("fetching",!0)},onArchivesCollectionSync:function(){this.model.controller.set("fetching",!1)},fetchArchivesCollection:function(){return this.collection.archives.fetch()},showAddEditDialog:function(isNew,archiveModel){var dialogOptions={};dialogOptions.isNew=isNew,dialogOptions.model={application:this.model.application},isNew||(dialogOptions.model.archiveModel=archiveModel),this.children.editArchiveDialog=new AddEditArchiveDialog(dialogOptions),this.listenTo(this.children.editArchiveDialog,"archiveSaved",this.onArchiveSaved),this.listenTo(this.children.editArchiveDialog,"hidden",this.onSaveDialogHidden),this.children.editArchiveDialog.render().appendTo($("body")),this.children.editArchiveDialog.show()},onEditArchive:function(archiveModel){this.showAddEditDialog(!1,archiveModel)},onDeleteArchive:function(archiveModel){var archiveName=archiveModel.entry.get("name");$.when(this.collection.virtualIndexes.fetch({data:{count:0,search:"vix.output.buckets.from.indexes vix.provider="+archiveName,sort_key:"vix.output.buckets.from.indexes"}})).done(_(function(){0==this.collection.virtualIndexes.length?this.children.DeleteArchiveDialog=new DeleteArchiveDialog({
model:archiveModel}):this.children.DeleteArchiveDialog=new DeleteArchiveErrorDialog({model:archiveModel,collection:this.collection.virtualIndexes}),this.listenTo(this.children.DeleteArchiveDialog,"deleteArchiveConfirmed",this.onDeleteArchiveConfirmed),this.listenTo(this.children.DeleteArchiveDialog,"hidden",this.onDeleteDialogHidden),this.children.DeleteArchiveDialog.render().appendTo($("body")),this.children.DeleteArchiveDialog.show()}).bind(this))},onDeleteArchiveConfirmed:function(archiveModel){this.fetchArchivesCollection()},onDeleteDialogHidden:function(){this.stopListening(this.children.DeleteArchiveDialog,"deleteArchiveConfirmed",this.onDeleteArchiveConfirmed),this.stopListening(this.children.DeleteArchiveDialog,"hidden",this.onDeleteDialogHidden)},onCreateArchive:function(){this.showAddEditDialog(!0,null)},onArchiveSaved:function(archiveName){this.fetchArchivesCollection()},onSaveDialogHidden:function(){this.stopListening(this.children.editArchiveDialog,"archiveSaved",this.onArchiveSaved),this.stopListening(this.children.editArchiveDialog,"hidden",this.onSaveDialogHidden)},remove:function(){BaseController.prototype.remove.apply(this,arguments),this.children.archivesView.remove()},render:function(){return this.children.archivesView&&this.children.archivesView.detach(),this.children.archivesView&&this.children.archivesView.render().appendTo(this.$el),this}});return ArchivesController}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/AddEditArchiveDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/archives/shared/EnableButton"),__webpack_require__("models/indexes/cloud/Archive"),__webpack_require__("models/indexes/cloud/AddEditArchive"),__webpack_require__("models/indexes/cloud/S3BucketPolicy"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("uri/route"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,EnableButton,ArchiveModel,AddEditArchiveModel,S3BucketPolicyModel,FlashMessages,Modal,ControlGroup,route,TextControl,TextareaControl,splunkUtil){var BUCKET_PLACEHOLDER="__BUCKET_PLACEHOLDER__",SCHEME_SEPARATOR="://";return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" "+Modal.CLASS_MODAL_WIDE+" archives-modal",events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){if(this.addEditArchiveModel.set({},{validate:!0})){this.options.isNew&&this.model.archiveModel.entry.content.set("name",this.addEditArchiveModel.get("name")),this.model.archiveModel.entry.content.set(this.addEditArchiveModel.getArchiveAttributes());var archiveDeferred=this.model.archiveModel.save();$.when(archiveDeferred).done(_(function(){this.trigger("archiveSaved",this.addEditArchiveModel.get("name")),this.hide()}).bind(this))}},"click .role-json-placeholder .control.shared-controls-textareacontrol":function(event){event.target&&event.target.select&&event.target.select()},"dragstart .role-json-placeholder .control.shared-controls-textareacontrol":function(event){event.preventDefault()},"focus .role-json-placeholder .control.shared-controls-textareacontrol":function(event){event.target&&$(event.target).attr("readonly",!0)}}),initialize:function(options){Modal.prototype.initialize.call(this,arguments),options=options||{},_(options).defaults({isNew:!0});var policyControls=[];if(this.s3BucketPolicyModel=new S3BucketPolicyModel,this.stateModel=new Backbone.Model({editable:!0}),options.isNew)this.addEditArchiveModel=new AddEditArchiveModel({isNew:!0}),this.model.archiveModel=new ArchiveModel;else{this.model.archiveModel.entry.get("name");this.addEditArchiveModel=new AddEditArchiveModel({isNew:!1,"vix.fs.default.name":this.model.archiveModel.entry.content.get("vix.fs.default.name"),"vix.description":this.model.archiveModel.entry.content.get("vix.description")})}var policyDeferred=this.s3BucketPolicyModel.fetch({data:{bucketName:BUCKET_PLACEHOLDER}});this.options.isNew?(this.listenTo(this.addEditArchiveModel,"change:vix.fs.default.name",this.onPathChanged),this.listenTo(this.stateModel,"change:editable",this.onEditableChanged)):$.when(policyDeferred).done(_(this.updateJSONPolicyWithBucketName).bind(this)),this.children.flashMessagesView=new FlashMessages({model:[this.s3BucketPolicyModel,this.addEditArchiveModel,this.model.archiveModel]}),this.children.inputName=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"name",model:this.addEditArchiveModel},controlClass:"controls-block",label:_("Archive Name").t(),help:_("").t()}),this.options.isNew?(this.children.inputPathText=new TextControl({modelAttribute:"vix.fs.default.name",model:this.addEditArchiveModel,updateOnKeyUp:!0}),this.children.inputPathEditButton=new EnableButton({model:this.stateModel,label:_("Edit").t(),attributes:{"data-name":"edit-path-button"}}),this.listenTo(this.children.inputPathEditButton,"click",this.onPathEditButtonClicked),this.children.inputPath=new ControlGroup({controls:[this.children.inputPathText,this.children.inputPathEditButton],controlClass:"controls-block",label:_("AWS S3 Bucket Path").t(),help:_("An AWS S3 Bucket in the same AWS region as your Splunk Cloud environment. eg. s3a://mybackup").t()})):this.children.inputPath=new ControlGroup({controlType:"Label",controlOptions:{modelAttribute:"vix.fs.default.name",model:this.addEditArchiveModel},controlClass:"controls-block",label:_("AWS S3 Bucket Path").t(),help:_("An AWS S3 Bucket in the same AWS region as your Splunk Cloud environment. eg. s3a://mybackup").t()}),this.children.textareaDescription=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"vix.description",model:this.addEditArchiveModel,placeholder:"optional"},label:_("Description").t()}),this.options.isNew&&(this.children.generatePolicyButton=new EnableButton({model:this.stateModel,label:_("Generate").t(),attributes:{"data-name":"generate-policy-button"}}),this.listenTo(this.children.generatePolicyButton,"click",this.onGeneratePolicyButtonClicked),policyControls.push(this.children.generatePolicyButton)),this.children.textAreaPolicy=new TextareaControl({model:this.stateModel,modelAttribute:"policyJSON"}),policyControls.push(this.children.textAreaPolicy);var bucketPolicyLabel=_("AWS S3 Bucket Policy").t(),bucketPolicyLearnMorePath=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.cloud.AWSrole"),bucketPolicyLearnMoreLink='<a href="'+bucketPolicyLearnMorePath+'" target="_blank" class="help-link">'+_("Learn More").t()+' <i class="icon-external"></i></a>',bucketPolicyHelp=_("Copy and paste into your AWS permissions console.").t()+" "+bucketPolicyLearnMoreLink,bucketPolicyTooltip=_("The AWS S3 Bucket permissions that will allow Splunk Cloud to copy data to the AWS S3 Bucket.").t();this.children.roleJSON=new ControlGroup({controls:policyControls,label:bucketPolicyLabel,help:bucketPolicyHelp,tooltip:bucketPolicyTooltip})},onEditableChanged:function(){var editable=this.stateModel.get("editable");editable?(this.children.inputPathText.enable(),this.children.inputPathEditButton.disable(),this.children.generatePolicyButton.enable()):(this.children.inputPathText.disable(),this.children.inputPathEditButton.enable(),this.children.generatePolicyButton.disable())},onPathEditButtonClicked:function(){this.stateModel.set("editable",!0),this.stateModel.set("policyJSON","")},onPathChanged:function(){var bucketName=this.addEditArchiveModel.get("vix.fs.default.name");_(bucketName).isEmpty()?this.children.generatePolicyButton.disable():this.children.generatePolicyButton.enable()},onGeneratePolicyButtonClicked:function(){this.addEditArchiveModel.set({},{validate:!0})&&(this.updateJSONPolicyWithBucketName(),this.stateModel.set("editable",!1))},updateJSONPolicyWithBucketName:function(){var bucketName,createdJSON,bucketPath=this.addEditArchiveModel.get("vix.fs.default.name"),policyJSON=this.s3BucketPolicyModel.get("policyJSON"),regex=new RegExp(BUCKET_PLACEHOLDER,"g"),schemeIndex=bucketPath.indexOf(SCHEME_SEPARATOR);schemeIndex!=-1&&(bucketName=bucketPath.substr(schemeIndex+SCHEME_SEPARATOR.length),createdJSON=policyJSON.replace(regex,bucketName),this.stateModel.set("policyJSON",JSON.stringify(JSON.parse(createdJSON),null,4)))},deactivate:function(options){Modal.prototype.initialize.call(this,arguments),this.stopListening(this.addEditArchiveModel,"change:vix.fs.default.name",this.onPathChanged)},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(this.options.isNew?_("New Archive").t():splunkUtil.sprintf(_("Edit Archive: %s").t(),this.model.archiveModel.entry.get("name"))),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL);var docUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.cloud.newarchive");return this.$(Modal.BODY_FORM_SELECTOR).html(_(this.dialogFormBodyTemplate).template({docUrl:docUrl})),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-view-placeholder")),this.options.isNew?this.children.inputName.render().appendTo(this.$(".name-placeholder")):this.$(".create-new-message").hide(),this.children.textareaDescription.render().appendTo(this.$(".description-placeholder")),this.children.inputPath.render().appendTo(this.$(".path-placeholder")),this.children.roleJSON.render().appendTo(this.$(".role-json-placeholder")),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this.options.isNew&&(this.onEditableChanged(),this.onPathChanged()),this},dialogFormBodyTemplate:'\t                <div class="flash-messages-view-placeholder"></div>\t                <div class="create-new-message">\t                    <p><%- _("Copy data from indexes you specify into an AWS S3 Bucket. The S3 Bucket must be dedicated to Splunk Cloud archive data only, and must be in the same AWS Region as your Splunk Cloud environment.").t() %></p>\t                    <a href="<%- docUrl %>" target="_blank" class="help-link"><%- _("Learn More").t() %> <i class="icon-external"></i></a>\t                </div>\t                <div class="name-placeholder"></div>\t                <div class="description-placeholder"></div>\t                <div class="path-placeholder"></div>\t                <span class="role-json-placeholder"></span>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/ArchivesController.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(554);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(14)(content,{});content.locals&&(module.exports=content.locals)},"views/archives/shared/EnableButton":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView){return BaseView.extend({moduleId:module.id,tagName:"button",className:"enable-button btn",initialize:function(options){BaseView.prototype.initialize.call(this,options),this.listenTo(this.model,"change:enabled",this.updateButton)},events:{click:function(e){this.trigger("click")}},enable:function(){this.$el.prop("disabled",!1)},disable:function(){this.$el.prop("disabled",!0)},updateButton:function(){this.model.get("enabled");this.$el.text(this.options.label)},render:function(){return this.updateButton(),this},template:"\t            "})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/ArchivesDisabledView":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("uri/route"),__webpack_require__(555)],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,splunkUtil,route,template){return BaseView.extend({moduleId:module.id,template:template,className:"archives-view archives-disabled-view",initialize:function(options){BaseView.prototype.initialize.call(this,options)},render:function(){var docUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.cloud.archives"),html=this.compiledTemplate({_:_,docUrl:docUrl,splunkUtil:splunkUtil});return this.$el.html(html),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/archives/shared/ArchivesView":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/dataenrichment/preview/components/SelectPageCount"),__webpack_require__("views/shared/CollectionCount"),__webpack_require__("views/archives/shared/ArchivesGrid"),__webpack_require__("shim/splunk.util"),__webpack_require__("uri/route"),__webpack_require__(553)],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,CollectionPaginator,FlashMessages,TextControl,SelectPageCount,Count,ArchivesGrid,splunkUtil,route,template){return BaseView.extend({moduleId:module.id,template:template,className:"archives-view",events:{"click .new-archive-button":function(e){e.preventDefault(),this.model.controller.trigger("createArchive")}},initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.archivesGrid=new ArchivesGrid({model:{application:this.model.application,controller:this.model.controller},collection:this.collection}),this.children.flashMessages=new FlashMessages({model:{application:this.model.application,user:this.model.user},collection:{archives:this.collection.archives,apps:this.collection.apps}}),this.children.textNameFilter=new TextControl({model:this.collection.archives.fetchData,modelAttribute:"nameFilter",inputClassName:"search-query",canClear:!0,placeholder:_("filter").t()}),this.children.collectionPaginator=new CollectionPaginator({collection:this.collection.archives,model:this.collection.archives.fetchData}),this.children.selectPageCount=new SelectPageCount({model:this.collection.archives.fetchData}),this.children.collectionCount=new Count({collection:this.collection.archives,model:this.model.controller,countLabel:_("archives").t(),tagName:"h3"})},render:function(){this.children.flashMessages&&this.children.flashMessages.detach(),this.children.archivesGrid&&this.children.archivesGrid.detach(),this.children.textNameFilter&&this.children.textNameFilter.detach(),this.children.collectionPaginator&&this.children.collectionPaginator.detach(),this.children.selectPageCount&&this.children.selectPageCount.detach(),this.children.collectionCount&&this.children.collectionCount.detach();var docUrl=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.cloud.archives"),html=this.compiledTemplate({docUrl:docUrl,splunkUtil:splunkUtil});return this.$el.html(html),this.children.flashMessages.render().appendTo(this.$(".flash-messages")),this.children.archivesGrid.render().appendTo(this.$(".archives-grid")),this.children.textNameFilter.render().appendTo(this.$(".text-name-filter")),this.children.collectionPaginator.render().appendTo(this.$(".paginator-container")),this.children.selectPageCount.render().appendTo(this.$(".select-page-count")),this.children.collectionCount.render().appendTo(this.$(".collection-count")),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});