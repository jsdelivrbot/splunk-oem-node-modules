{"version":3,"sources":["webpack:///webpack/bootstrap e6bb1ea7630797156c25?3f0f*******************************************************************************************************************************************************************************************","webpack:///./src/util/focus.js","webpack:///external \"lodash\"?0c8b************************************","webpack:///external \"keycode\"?8f39"],"names":["getSortedTabableElements","handleTab","takeFocus","tabbableSelectors","container","elems","querySelectorAll","tabbableElems","el","tabIndex","event","metaKey","altKey","controlKey","tabbableElements","length","document","activeElement","preventDefault","currentElement","target","querySelector","currentIndex","indexOf","shiftKey","unshift","pop","push","shift","focus","defaultElement","targetEl","hasAttribute"],"mappings":"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","file":"util/focus.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e6bb1ea7630797156c25","import keycode from 'keycode';\nimport { defer, filter, sortBy } from 'lodash';\n\n/**\n * A helper method that will enforce circular tabbing inside the given container (i.e. tabbing from\n * the last element will wrap around to the first element and reverse tabbing from the first element\n * will wrap around to the last).\n *\n * Will only set focus on the next element if the event's target is inside the container, and if it\n * does, will prevent the default action of the event.\n *\n * @param $container (element) the container that should enforce the circular tabbing.\n * @param event (DOM event object) the keydown event that initiated the tabbing action.\n * @returns (element) the element that was focused, or null if no element was focused.\n */\n\nconst tabbableSelectors = `a[href], input:not([disabled]), select:not([disabled]),\n     textarea:not([disabled]), button:not([disabled]), [tabindex], [contenteditable]`;\n\nexport function getSortedTabableElements(container) {\n    const elems = container.querySelectorAll(tabbableSelectors);\n    const tabbableElems = filter(elems, el => (el.tabIndex >= 0));\n    return sortBy(tabbableElems, el => {\n        if (el.tabIndex > 0) {\n            return -1 / el.tabIndex;\n        }\n        return el.tabIndex;\n    });\n}\n\nexport function handleTab(container, event) {\n    // Ensure this is a valid event\n    if (keycode(event) !== 'tab' || event.metaKey || event.altKey || event.controlKey) {\n        return null;\n    }\n    const tabbableElements = getSortedTabableElements(container);\n    if (tabbableElements.length === 0) {\n        // if the container is focused, don't allow the focus to leave.\n        if (document.activeElement === container) {\n            event.preventDefault();\n            return container;\n        }\n\n        return null;\n    }\n\n    // Find the current index or set default.\n    const currentElement = (event && event.target) || container.querySelector(':focus');\n    let currentIndex = tabbableElements.indexOf(currentElement);\n    if (currentIndex === -1) {\n        currentIndex = event.shiftKey ? 0 : tabbableElements.length - 1;\n    }\n\n    // Shift the array instead of the current index.\n    if (event.shiftKey) {\n        tabbableElements.unshift(tabbableElements.pop()); // move last to first\n    } else {\n        tabbableElements.push(tabbableElements.shift()); // move first to last\n    }\n\n    // Focus\n    event.preventDefault();\n    tabbableElements[currentIndex].focus();\n    return tabbableElements[currentIndex];\n}\n\n/**\n * A helper method that will focus on the first focusable element in a container.\n * If a contained element already has focus, focus will not shift.\n *\n * @param container (element) the container that should take focus.\n * @param defaultElement ('container' or 'first') defaults to 'first'.\n * @returns (element) the element that was focused, or null if no element was focused.\n */\n\nexport function takeFocus(container, defaultElement = 'first') {\n    const currentElement = container.querySelector(':focus');\n    if (currentElement) {\n        return currentElement;\n    }\n    if (defaultElement === 'first') {\n        const targetEl = getSortedTabableElements(container)[0];\n        if (targetEl) {\n            defer(() => targetEl.focus());\n            return targetEl;\n        }\n    }\n    if (container.hasAttribute('tabIndex')) {\n        defer(() => container.focus());\n        return container;\n    }\n    return null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/focus.js","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 9\n// module chunks = 0 2 3 4 9 10 11 12 13 15 18 19 20 21 23 24 25 27 28 29 30 31 33 34 35 38 39 41 42 43 44 45 47 48 49 56 187 188 191","module.exports = require(\"keycode\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"keycode\"\n// module id = 35\n// module chunks = 187 188"],"sourceRoot":""}