import React, { Component } from 'react';
import Progress from 'splunk-ui/components/Progress';

class Example extends Component {
    constructor(...args) {
        super(...args);
        this.state = {
            percentage: 0,
        };
    }

    componentDidMount() {
        this.incrementTimer();
    }

    componentWillUnmount() {
        clearTimeout(this.timer);
    }

    incrementTimer = () => {
        this.setState({
            percentage: this.state.percentage < 100 ? (this.state.percentage + 5) : 0,
        });
        window.setTimeout(this.incrementTimer, 1000);
    }

    render() {
        return (
            <Progress
                percentage={this.state.percentage}
                tooltip={`${this.state.percentage}% uploaded`}
            />
        );
    }
}

export default Example;
