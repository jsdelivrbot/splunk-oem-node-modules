# Working with Backbone

One of the reasons we choose React over other framework libraries is that it plays well with other framework libraries on the page. React is simply a view layer and can be used in conjunction with other view layers, and any data layer. This document will discuss using Backbone with React, but many of the same principles would apply to any other framework library you might want to use with React.

When working with React and Backbone, it is essential to minimize the touch points between the two libraries. Use a single module as the "glue" layer between code that uses Backbone and code that uses React. Only this one module should be aware of both libraries.

Although there are a variety of libraries on npm and the web in general that provide support for using React and Backbone together, most should be avoided. They often deeply intertwine the two libraries and result in code that is deeply dependent on both. Changes become difficult and larger refactors nearly impossible.

Below are two examples of this in action, in three common scenarios where Backbone and React code meet.


## Using Backbone Models to Manage Data for React Components

When using Backbone Models to manage data for React Components use the [Controller-View Architecture](https://facebook.github.io/flux/docs/overview.html#views-and-controller-views). Although this example is using Flux for the data layer, the same principles apply. The Controller-View is the only React Component that is aware of the data layer and is solely responsible for managing that data and passing it to a top-level Component that actually handles the rendering logic. The Controller-View passes the Component vanilla JavaScript. Nothing below the Controller-View has any knowledge of the library used to manage the data.

Sometimes a Controller-View is called a "Smart Component" and the rest of the views "Dumb Components". But, the principles are the same. The "Smart Component" is responsible for data management and the "Dumb Components" are responsible for rendering logic.

Large and complex applications may have multiple Controller-Views on a single page. In general, a Controller-View should own an entire domain and be able to stand on its own, plugged in where needed with minimal impact on the rest of the applications code.

## Rendering Backbone Views in React Components

Rendering Backbone Views into a React tree is relatively straight forward. Again, it is important to isolate the two libraries. Ireate a React Component that wraps the Backbone View, translating the Backbone API to a React API.

Generally, the wrapper component's render function will simply return div or container element with a ref on it. Then, the Backbone View is rendered into the container el in the component's `componentDidMount` and/or `componentDidUpdate` lifecycle methods.

When wrapping a view, expose a React style API. The internal Backbone view should be controlled by props. Never expose imperative Backbone View methods through the React wrapper.
