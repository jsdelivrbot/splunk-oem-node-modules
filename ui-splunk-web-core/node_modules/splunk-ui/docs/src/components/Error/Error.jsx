import React, { PropTypes } from 'react';
import { createTestHook } from 'splunk-ui/util/testSupport';
import Heading from 'splunk-ui/components/Heading';
import P from 'splunk-ui/components/Paragraph';

const propTypes = {
    error: PropTypes.object.isRequired,
};

export default function Error({ error }) {
    if (__DEV__) {
        const { name, message, stack } = error;
        return (
            <div role="main" {...createTestHook(__filename)}>
                <Heading level={1}>{name}</Heading>
                <P>{message}</P>
                <pre>{stack}</pre>
            </div>
        );
    }
    return (
        <div role="main" {...createTestHook(__filename)}>
            <Heading level={1}>Error</Heading>
            <P>A critical error has occured on this page.</P>
        </div>
    );
}

Error.propTypes = propTypes;
